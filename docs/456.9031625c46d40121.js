"use strict";(self.webpackChunknct_cloned=self.webpackChunknct_cloned||[]).push([[456],{8456:(L,c,o)=>{o.r(c),o.d(c,{VideoModule:()=>N});var s=o(6895),r=o(2607),m=o(5861),u=o(498),f=o(3905),v=o(8505),g=o(262),h=o(9646),t=o(4650),d=o(529),x=o(2340),y=o(4004);let Z=(()=>{class e{constructor(n){this.http=n,this.apiUrl=x.N.apiUrl}getVideoDetail(n){let a=(new d.LE).append("key",n);return this.http.get(`${this.apiUrl}video`,{params:a}).pipe((0,y.U)(l=>l.video))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(d.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var C=o(1177);function U(e,i){1&e&&(t.ynx(0),t.TgZ(1,"div",2),t._UZ(2,"div",3)(3,"h1",4),t.TgZ(4,"div",5),t._UZ(5,"div",6)(6,"div",6)(7,"p",7),t.qZA()(),t.BQk())}function V(e,i){if(1&e&&(t.ynx(0),t._UZ(1,"video",15),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("src",null==n.data||null==n.data.streamUrls[0]?null:n.data.streamUrls[0].streamUrl,t.LSH)}}function M(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"a",16)(2,"div",17),t._UZ(3,"img",18),t.qZA()(),t.BQk()),2&e){const n=i.$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("routerLink",n.link),t.xp6(2),t.Q6J("src",(null==n?null:n.imageUrl)||a.imgNotFound,t.LSH)}}function S(e,i){if(1&e&&(t.TgZ(0,"div",2)(1,"div",8),t.YNc(2,V,2,1,"ng-container",9),t.qZA(),t.TgZ(3,"h1",10),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t.TgZ(6,"div",11),t.YNc(7,M,4,2,"ng-container",12),t.TgZ(8,"p",13)(9,"span",14),t._uU(10,"Ngh\u1ec7 S\u0129: "),t.qZA(),t._uU(11),t.qZA()()()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",null==n.data?null:n.data.streamUrls),t.xp6(2),t.Oqu(t.lcZ(5,4,null==n.data?null:n.data.title)),t.xp6(3),t.Q6J("ngForOf",null==n.data?null:n.data.artists),t.xp6(4),t.hij(" ",n.artistName," ")}}let T=(()=>{class e{constructor(n,a,l,A){this.videoService=n,this.notiflixService=a,this.route=l,this.router=A,this.data=null,this.key="",this.artistName="",this.imgNotFound=u.qp}ngOnInit(){this.key=this.route.snapshot.paramMap.get("key"),this.getVideoDetail()}getVideoDetail(){var n=this;return(0,m.Z)(function*(){yield(0,f.z)(n.videoService.getVideoDetail(n.key).pipe((0,v.b)(a=>{n.data=a,n.data?.artists?.map(l=>{l.link=l.shortLink?`/artist/${l.shortLink}`:"#"}),n.artistName=n.data?.artists?.map(l=>l.name).join(", ")}),(0,g.K)(()=>(n.notiflixService.error("Oops! Something error happened!"),n.router.navigate(["/error"]),(0,h.of)(null)))))})()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(Z),t.Y36(C.c),t.Y36(r.gz),t.Y36(r.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detail"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"px-4"],[1,"w-full","skeleton","aspect-video"],[1,"text-xl","font-semibold","mt-5","h-5","skeleton","w-[200px]"],[1,"flex","items-center","mt-5"],[1,"w-10","h-10","rounded-full","skeleton"],[1,"h-4","skeleton","w-[100px]","ml-3"],[1,"w-full","aspect-video"],[4,"ngIf"],[1,"text-xl","font-semibold","mt-5"],[1,"mt-5","flex","items-center"],[4,"ngFor","ngForOf"],[1,"ml-3"],[1,"font-semibold"],["controls","",1,"w-full","h-full",3,"src"],[3,"routerLink"],[1,"rounded-full","w-10","h-10","overflow-hidden","border"],[1,"rounded-full",3,"src"]],template:function(n,a){if(1&n&&(t.YNc(0,U,8,0,"ng-container",0),t.YNc(1,S,12,6,"ng-template",null,1,t.W1O)),2&n){const l=t.MAs(2);t.Q6J("ngIf",!a.data)("ngIfElse",l)}},dependencies:[s.sg,s.O5,r.yS,s.rS]}),e})();var p=o(3182);const k=[{path:"",component:(()=>{class e{constructor(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-main"]],decls:1,vars:0,consts:[["ratio","16/9","type","mv","name","MV"]],template:function(n,a){1&n&&t._UZ(0,"app-explore",0)},dependencies:[p.k]}),e})()},{path:":key",component:T}];let F=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.Bz.forChild(k),r.Bz]}),e})();var D=o(725);let N=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.ez,F,D.k,p.k]}),e})()}}]);