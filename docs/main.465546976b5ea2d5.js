(self.webpackChunknct_cloned=self.webpackChunknct_cloned||[]).push([[179],{2011:(Ie,ae,C)=>{"use strict";C.d(ae,{Dh:()=>oe,GT:()=>ee,cc:()=>Ue,hO:()=>Ke,on:()=>X,pX:()=>G,xv:()=>ce});var f=C(4650),m=C(127),M=C(6351);Ie=C.hmd(Ie);const Y=["ngOnDestroy"],G=(Me,bt,mt,lt={})=>new Proxy(Me,{get:(it,We)=>mt.runOutsideAngular(()=>{var ut;if(Me[We])return!(null===(ut=lt?.spy)||void 0===ut)&&ut.get&&lt.spy.get(We,Me[We]),Me[We];if(Y.indexOf(We)>-1)return()=>{};const Ce=bt.toPromise().then($e=>{const Qe=$e&&$e[We];return"function"==typeof Qe?Qe.bind($e):Qe&&Qe.then?Qe.then(xe=>mt.run(()=>xe)):mt.run(()=>Qe)});return new Proxy(()=>{},{get:($e,Qe)=>Ce[Qe],apply:($e,Qe,xe)=>Ce.then(Ae=>{var Re;const Ve=Ae&&Ae(...xe);return!(null===(Re=lt?.spy)||void 0===Re)&&Re.apply&&lt.spy.apply(We,xe,Ve),Ve})})})}),ee=(Me,bt)=>{bt.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(lt=>{Object.defineProperty(Me.prototype,lt,Object.getOwnPropertyDescriptor(mt.prototype||mt,lt))})})};class Q{constructor(bt){return bt}}const oe=new f.OlP("angularfire2.app.options"),ce=new f.OlP("angularfire2.app.name");function X(Me,bt,mt){const it="object"==typeof mt&&mt||{};it.name=it.name||"string"==typeof mt&&mt||"[DEFAULT]";const ut=m.Z.apps.filter(Ce=>Ce&&Ce.name===it.name)[0]||bt.runOutsideAngular(()=>m.Z.initializeApp(Me,it));try{JSON.stringify(Me)!==JSON.stringify(ut.options)&&ne("error",`${ut.name} Firebase App already initialized with different options${Ie.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Q(ut)}const ne=(Me,...bt)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Me](...bt)},de={provide:Q,useFactory:X,deps:[oe,f.R0b,[new f.FiY,ce]]};let Ke=(()=>{class Me{constructor(mt){m.Z.registerVersion("angularfire",M.q4.full,"core"),m.Z.registerVersion("angularfire",M.q4.full,"app-compat"),m.Z.registerVersion("angular",f.q4F.full,mt.toString())}static initializeApp(mt,lt){return{ngModule:Me,providers:[{provide:oe,useValue:mt},{provide:ce,useValue:lt}]}}}return Me.\u0275fac=function(mt){return new(mt||Me)(f.LFG(f.Lbi))},Me.\u0275mod=f.oAB({type:Me}),Me.\u0275inj=f.cJS({providers:[de]}),Me})();function Ue(Me,bt,mt,lt,it){const[,We,ut]=globalThis.\u0275AngularfireInstanceCache.find(Ce=>Ce[0]===Me)||[];if(We)return function Ge(Me,bt){try{return Me.toString()===bt.toString()}catch{return Me===bt}}(it,ut)||(Je("error",`${bt} was already initialized on the ${mt} Firebase App with different settings.${vt?" You may need to reload as Firebase is not HMR aware.":""}`),Je("warn",{is:it,was:ut})),We;{const Ce=lt();return globalThis.\u0275AngularfireInstanceCache.push([Me,Ce,it]),Ce}}const vt=!!Ie.hot,Je=(Me,...bt)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Me](...bt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Ie,ae,C)=>{"use strict";C.d(ae,{q4:()=>ma,iC:()=>Fs,HU:()=>$t,vb:()=>$,JM:()=>P});var f=C(4650),m=C(5867),M=C(5861),Y=C(9681),G=C(2090),ee=C(4859),Q=C(1877),oe=C(8766);const ce="@firebase/installations",X="0.5.16",de=`w:${X}`,Ke="FIS_v2",bt=new G.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function mt(k){return k instanceof G.ZR&&k.code.includes("request-failed")}function lt({projectId:k}){return`https://firebaseinstallations.googleapis.com/v1/projects/${k}/installations`}function it(k){return{token:k.token,requestStatus:2,expiresIn:Ae(k.expiresIn),creationTime:Date.now()}}function We(k,L){return ut.apply(this,arguments)}function ut(){return(ut=(0,M.Z)(function*(k,L){const fe=(yield L.json()).error;return bt.create("request-failed",{requestName:k,serverCode:fe.code,serverMessage:fe.message,serverStatus:fe.status})})).apply(this,arguments)}function Ce({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function $e(k,{refreshToken:L}){const z=Ce(k);return z.append("Authorization",function Re(k){return`${Ke} ${k}`}(L)),z}function Qe(k){return xe.apply(this,arguments)}function xe(){return(xe=(0,M.Z)(function*(k){const L=yield k();return L.status>=500&&L.status<600?k():L})).apply(this,arguments)}function Ae(k){return Number(k.replace("s","000"))}function Ve(k,L){return wt.apply(this,arguments)}function wt(){return(wt=(0,M.Z)(function*({appConfig:k,heartbeatServiceProvider:L},{fid:z}){const fe=lt(k),Fe=Ce(k),st=L.getImmediate({optional:!0});if(st){const Vn=yield st.getHeartbeatsHeader();Vn&&Fe.append("x-firebase-client",Vn)}const Wt={method:"POST",headers:Fe,body:JSON.stringify({fid:z,authVersion:Ke,appId:k.appId,sdkVersion:de})},Cn=yield Qe(()=>fetch(fe,Wt));if(Cn.ok){const Vn=yield Cn.json();return{fid:Vn.fid||z,registrationStatus:2,refreshToken:Vn.refreshToken,authToken:it(Vn.authToken)}}throw yield We("Create Installation",Cn)})).apply(this,arguments)}function Dt(k){return new Promise(L=>{setTimeout(L,k)})}const hn=/^[cdef][\w-]{21}$/;function kt(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const z=function pn(k){return function qt(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return hn.test(z)?z:""}catch{return""}}function An(k){return`${k.appName}!${k.appId}`}const kn=new Map;function Dn(k,L){const z=An(k);er(z,L),function qn(k,L){const z=function Rn(){return!dn&&"BroadcastChannel"in self&&(dn=new BroadcastChannel("[Firebase] FID Change"),dn.onmessage=k=>{er(k.data.key,k.data.fid)}),dn}();z&&z.postMessage({key:k,fid:L}),function dr(){0===kn.size&&dn&&(dn.close(),dn=null)}()}(z,L)}function er(k,L){const z=kn.get(k);if(z)for(const fe of z)fe(L)}let dn=null;const ve="firebase-installations-store";let Oe=null;function qe(){return Oe||(Oe=(0,oe.X3)("firebase-installations-database",1,{upgrade:(k,L)=>{0===L&&k.createObjectStore(ve)}})),Oe}function ot(k,L){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,M.Z)(function*(k,L){const z=An(k),Fe=(yield qe()).transaction(ve,"readwrite"),st=Fe.objectStore(ve),Ct=yield st.get(z);return yield st.put(L,z),yield Fe.done,(!Ct||Ct.fid!==L.fid)&&Dn(k,L.fid),L})).apply(this,arguments)}function Ut(k){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,M.Z)(function*(k){const L=An(k),fe=(yield qe()).transaction(ve,"readwrite");yield fe.objectStore(ve).delete(L),yield fe.done})).apply(this,arguments)}function Tt(k,L){return bn.apply(this,arguments)}function bn(){return(bn=(0,M.Z)(function*(k,L){const z=An(k),Fe=(yield qe()).transaction(ve,"readwrite"),st=Fe.objectStore(ve),Ct=yield st.get(z),Wt=L(Ct);return void 0===Wt?yield st.delete(z):yield st.put(Wt,z),yield Fe.done,Wt&&(!Ct||Ct.fid!==Wt.fid)&&Dn(k,Wt.fid),Wt})).apply(this,arguments)}function Gt(k){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,M.Z)(function*(k){let L;const z=yield Tt(k.appConfig,fe=>{const Fe=me(fe),st=se(k,Fe);return L=st.registrationPromise,st.installationEntry});return""===z.fid?{installationEntry:yield L}:{installationEntry:z,registrationPromise:L}})).apply(this,arguments)}function me(k){return xt(k||{fid:kt(),registrationStatus:0})}function se(k,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(bt.create("app-offline"))};const z={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},fe=function ze(k,L){return Pe.apply(this,arguments)}(k,z);return{installationEntry:z,registrationPromise:fe}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:Vt(k)}:{installationEntry:L}}function Pe(){return(Pe=(0,M.Z)(function*(k,L){try{const z=yield Ve(k,L);return ot(k.appConfig,z)}catch(z){throw mt(z)&&409===z.customData.serverCode?yield Ut(k.appConfig):yield ot(k.appConfig,{fid:L.fid,registrationStatus:0}),z}})).apply(this,arguments)}function Vt(k){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,M.Z)(function*(k){let L=yield gn(k.appConfig);for(;1===L.registrationStatus;)yield Dt(100),L=yield gn(k.appConfig);if(0===L.registrationStatus){const{installationEntry:z,registrationPromise:fe}=yield Gt(k);return fe||z}return L})).apply(this,arguments)}function gn(k){return Tt(k,L=>{if(!L)throw bt.create("installation-not-found");return xt(L)})}function xt(k){return function yn(k){return 1===k.registrationStatus&&k.registrationTime+1e4<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function Jt(k,L){return xn.apply(this,arguments)}function xn(){return(xn=(0,M.Z)(function*({appConfig:k,heartbeatServiceProvider:L},z){const fe=ln(k,z),Fe=$e(k,z),st=L.getImmediate({optional:!0});if(st){const Vn=yield st.getHeartbeatsHeader();Vn&&Fe.append("x-firebase-client",Vn)}const Wt={method:"POST",headers:Fe,body:JSON.stringify({installation:{sdkVersion:de,appId:k.appId}})},Cn=yield Qe(()=>fetch(fe,Wt));if(Cn.ok)return it(yield Cn.json());throw yield We("Generate Auth Token",Cn)})).apply(this,arguments)}function ln(k,{fid:L}){return`${lt(k)}/${L}/authTokens:generate`}function Ft(k){return At.apply(this,arguments)}function At(){return(At=(0,M.Z)(function*(k,L=!1){let z;const fe=yield Tt(k.appConfig,st=>{if(!wn(st))throw bt.create("not-registered");const Ct=st.authToken;if(!L&&be(Ct))return st;if(1===Ct.requestStatus)return z=Nt(k,L),st;{if(!navigator.onLine)throw bt.create("app-offline");const Wt=De(st);return z=on(k,Wt),Wt}});return z?yield z:fe.authToken})).apply(this,arguments)}function Nt(k,L){return gt.apply(this,arguments)}function gt(){return(gt=(0,M.Z)(function*(k,L){let z=yield St(k.appConfig);for(;1===z.authToken.requestStatus;)yield Dt(100),z=yield St(k.appConfig);const fe=z.authToken;return 0===fe.requestStatus?Ft(k,L):fe})).apply(this,arguments)}function St(k){return Tt(k,L=>{if(!wn(L))throw bt.create("not-registered");return function pe(k){return 1===k.requestStatus&&k.requestTime+1e4<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function on(k,L){return un.apply(this,arguments)}function un(){return(un=(0,M.Z)(function*(k,L){try{const z=yield Jt(k,L),fe=Object.assign(Object.assign({},L),{authToken:z});return yield ot(k.appConfig,fe),z}catch(z){if(!mt(z)||401!==z.customData.serverCode&&404!==z.customData.serverCode){const fe=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield ot(k.appConfig,fe)}else yield Ut(k.appConfig);throw z}})).apply(this,arguments)}function wn(k){return void 0!==k&&2===k.registrationStatus}function be(k){return 2===k.requestStatus&&!function ye(k){const L=Date.now();return L<k.creationTime||k.creationTime+k.expiresIn<L+36e5}(k)}function De(k){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:L})}function re(){return(re=(0,M.Z)(function*(k){const L=k,{installationEntry:z,registrationPromise:fe}=yield Gt(L);return fe?fe.catch(console.error):Ft(L).catch(console.error),z.fid})).apply(this,arguments)}function _t(){return(_t=(0,M.Z)(function*(k,L=!1){const z=k;return yield Pt(z),(yield Ft(z,L)).token})).apply(this,arguments)}function Pt(k){return jt.apply(this,arguments)}function jt(){return(jt=(0,M.Z)(function*(k){const{registrationPromise:L}=yield Gt(k);L&&(yield L)})).apply(this,arguments)}function ur(k){return bt.create("missing-app-config-values",{valueName:k})}const jr="installations",mi=k=>{const L=k.getProvider("app").getImmediate(),z=function Tn(k){if(!k||!k.options)throw ur("App Configuration");if(!k.name)throw ur("App Name");const L=["projectId","apiKey","appId"];for(const z of L)if(!k.options[z])throw ur(z);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(L);return{app:L,appConfig:z,heartbeatServiceProvider:(0,Y._getProvider)(L,"heartbeat"),_delete:()=>Promise.resolve()}},xr=k=>{const L=k.getProvider("app").getImmediate(),z=(0,Y._getProvider)(L,jr).getImmediate();return{getId:()=>function H(k){return re.apply(this,arguments)}(z),getToken:Fe=>function Be(k){return _t.apply(this,arguments)}(z,Fe)}};(function es(){(0,Y._registerComponent)(new ee.wA(jr,mi,"PUBLIC")),(0,Y._registerComponent)(new ee.wA("installations-internal",xr,"PRIVATE"))})(),(0,Y.registerVersion)(ce,X),(0,Y.registerVersion)(ce,X,"esm2017");const Oi="@firebase/remote-config",mr=new G.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class He{constructor(L,z,fe,Fe){this.client=L,this.storage=z,this.storageCache=fe,this.logger=Fe}isCachedDataFresh(L,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-z,Fe=fe<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Fe}.`),Fe}fetch(L){var z=this;return(0,M.Z)(function*(){const[fe,Fe]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(Fe&&z.isCachedDataFresh(L.cacheMaxAgeMillis,fe))return Fe;L.eTag=Fe&&Fe.eTag;const st=yield z.client.fetch(L),Ct=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===st.status&&Ct.push(z.storage.setLastSuccessfulFetchResponse(st)),yield Promise.all(Ct),st})()}}function ct(k=navigator){return k.languages&&k.languages[0]||k.language}class Ht{constructor(L,z,fe,Fe,st,Ct){this.firebaseInstallations=L,this.sdkVersion=z,this.namespace=fe,this.projectId=Fe,this.apiKey=st,this.appId=Ct}fetch(L){var z=this;return(0,M.Z)(function*(){var fe,Fe,st;const[Ct,Wt]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),Vn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,Hn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},vn={sdk_version:z.sdkVersion,app_instance_id:Ct,app_instance_id_token:Wt,app_id:z.appId,language_code:ct()},Or={method:"POST",headers:Hn,body:JSON.stringify(vn)},Ji=fetch(Vn,Or),Er=new Promise((Jo,Fa)=>{L.signal.addEventListener(()=>{const po=new Error("The operation was aborted.");po.name="AbortError",Fa(po)})});let Pa;try{yield Promise.race([Ji,Er]),Pa=yield Ji}catch(Jo){let Fa="fetch-client-network";throw"AbortError"===(null===(fe=Jo)||void 0===fe?void 0:fe.name)&&(Fa="fetch-timeout"),mr.create(Fa,{originalErrorMessage:null===(Fe=Jo)||void 0===Fe?void 0:Fe.message})}let Qo=Pa.status;const Au=Pa.headers.get("ETag")||void 0;let La,ya;if(200===Pa.status){let Jo;try{Jo=yield Pa.json()}catch(Fa){throw mr.create("fetch-client-parse",{originalErrorMessage:null===(st=Fa)||void 0===st?void 0:st.message})}La=Jo.entries,ya=Jo.state}if("INSTANCE_STATE_UNSPECIFIED"===ya?Qo=500:"NO_CHANGE"===ya?Qo=304:("NO_TEMPLATE"===ya||"EMPTY_CONFIG"===ya)&&(La={}),304!==Qo&&200!==Qo)throw mr.create("fetch-status",{httpStatus:Qo});return{status:Qo,eTag:Au,config:La}})()}}class ir{constructor(L,z){this.client=L,this.storage=z}fetch(L){var z=this;return(0,M.Z)(function*(){const fe=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(L,fe)})()}attemptFetch(L,{throttleEndTimeMillis:z,backoffCount:fe}){var Fe=this;return(0,M.Z)(function*(){yield function Ot(k,L){return new Promise((z,fe)=>{const Fe=Math.max(L-Date.now(),0),st=setTimeout(z,Fe);k.addEventListener(()=>{clearTimeout(st),fe(mr.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,z);try{const st=yield Fe.client.fetch(L);return yield Fe.storage.deleteThrottleMetadata(),st}catch(st){if(!function Qn(k){if(!(k instanceof G.ZR&&k.customData))return!1;const L=Number(k.customData.httpStatus);return 429===L||500===L||503===L||504===L}(st))throw st;const Ct={throttleEndTimeMillis:Date.now()+(0,G.$s)(fe),backoffCount:fe+1};return yield Fe.storage.setThrottleMetadata(Ct),Fe.attemptFetch(L,Ct)}})()}}class sr{constructor(L,z,fe,Fe,st){this.app=L,this._client=z,this._storageCache=fe,this._storage=Fe,this._logger=st,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Lr(k,L){var z;const fe=k.target.error||void 0;return mr.create(L,{originalErrorMessage:fe&&(null===(z=fe)||void 0===z?void 0:z.message)})}const Ui="app_namespace_store";class jo{constructor(L,z,fe,Fe=function Da(){return new Promise((k,L)=>{var z;try{const fe=indexedDB.open("firebase_remote_config",1);fe.onerror=Fe=>{L(Lr(Fe,"storage-open"))},fe.onsuccess=Fe=>{k(Fe.target.result)},fe.onupgradeneeded=Fe=>{0===Fe.oldVersion&&Fe.target.result.createObjectStore(Ui,{keyPath:"compositeKey"})}}catch(fe){L(mr.create("storage-open",{originalErrorMessage:null===(z=fe)||void 0===z?void 0:z.message}))}})}()){this.appId=L,this.appName=z,this.namespace=fe,this.openDbPromise=Fe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var z=this;return(0,M.Z)(function*(){const fe=yield z.openDbPromise;return new Promise((Fe,st)=>{var Ct;const Cn=fe.transaction([Ui],"readonly").objectStore(Ui),Vn=z.createCompositeKey(L);try{const Hn=Cn.get(Vn);Hn.onerror=vn=>{st(Lr(vn,"storage-get"))},Hn.onsuccess=vn=>{const Or=vn.target.result;Fe(Or?Or.value:void 0)}}catch(Hn){st(mr.create("storage-get",{originalErrorMessage:null===(Ct=Hn)||void 0===Ct?void 0:Ct.message}))}})})()}set(L,z){var fe=this;return(0,M.Z)(function*(){const Fe=yield fe.openDbPromise;return new Promise((st,Ct)=>{var Wt;const Vn=Fe.transaction([Ui],"readwrite").objectStore(Ui),Hn=fe.createCompositeKey(L);try{const vn=Vn.put({compositeKey:Hn,value:z});vn.onerror=Or=>{Ct(Lr(Or,"storage-set"))},vn.onsuccess=()=>{st()}}catch(vn){Ct(mr.create("storage-set",{originalErrorMessage:null===(Wt=vn)||void 0===Wt?void 0:Wt.message}))}})})()}delete(L){var z=this;return(0,M.Z)(function*(){const fe=yield z.openDbPromise;return new Promise((Fe,st)=>{var Ct;const Cn=fe.transaction([Ui],"readwrite").objectStore(Ui),Vn=z.createCompositeKey(L);try{const Hn=Cn.delete(Vn);Hn.onerror=vn=>{st(Lr(vn,"storage-delete"))},Hn.onsuccess=()=>{Fe()}}catch(Hn){st(mr.create("storage-delete",{originalErrorMessage:null===(Ct=Hn)||void 0===Ct?void 0:Ct.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class As{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,M.Z)(function*(){const z=L.storage.getLastFetchStatus(),fe=L.storage.getLastSuccessfulFetchTimestampMillis(),Fe=L.storage.getActiveConfig(),st=yield z;st&&(L.lastFetchStatus=st);const Ct=yield fe;Ct&&(L.lastSuccessfulFetchTimestampMillis=Ct);const Wt=yield Fe;Wt&&(L.activeConfig=Wt)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function Ho(){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,M.Z)(function*(){if(!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch{return!1}})).apply(this,arguments)}!function Co(){(0,Y._registerComponent)(new ee.wA("remote-config",function k(L,{instanceIdentifier:z}){const fe=L.getProvider("app").getImmediate(),Fe=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw mr.create("registration-window");if(!(0,G.hl)())throw mr.create("indexed-db-unavailable");const{projectId:st,apiKey:Ct,appId:Wt}=fe.options;if(!st)throw mr.create("registration-project-id");if(!Ct)throw mr.create("registration-api-key");if(!Wt)throw mr.create("registration-app-id");const Cn=new jo(Wt,fe.name,z=z||"firebase"),Vn=new As(Cn),Hn=new Q.Yd(Oi);Hn.logLevel=Q.in.ERROR;const vn=new Ht(Fe,Y.SDK_VERSION,z,st,Ct,Wt),Or=new ir(vn,Cn),Ji=new He(Or,Cn,Vn,Hn),Er=new sr(fe,Ji,Vn,Cn,Hn);return function yr(k){const L=(0,G.m9)(k);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Er),Er},"PUBLIC").setMultipleInstances(!0)),(0,Y.registerVersion)(Oi,"0.3.15"),(0,Y.registerVersion)(Oi,"0.3.15","esm2017")}();const Jr="/firebase-messaging-sw.js",Ms="/firebase-cloud-messaging-push-scope",ui="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$o="google.c.a.c_id",vs="google.c.a.c_l",To="google.c.a.ts",rs="google.c.a.e";var ii=(()=>{return(k=ii||(ii={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",ii;var k})();function yi(k){const L=new Uint8Array(k);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function li(k){const z=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(z),Fe=new Uint8Array(fe.length);for(let st=0;st<fe.length;++st)Fe[st]=fe.charCodeAt(st);return Fe}const ci="fcm_token_details_db",is="fcm_token_object_Store";function Wo(k){return So.apply(this,arguments)}function So(){return So=(0,M.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(st=>st.name).includes(ci))return null;let L=null;return(yield(0,oe.X3)(ci,5,{upgrade:(fe=(0,M.Z)(function*(Fe,st,Ct,Wt){var Cn;if(st<2||!Fe.objectStoreNames.contains(is))return;const Vn=Wt.objectStore(is),Hn=yield Vn.index("fcmSenderId").get(k);if(yield Vn.clear(),Hn)if(2===st){const vn=Hn;if(!vn.auth||!vn.p256dh||!vn.endpoint)return;L={token:vn.fcmToken,createTime:null!==(Cn=vn.createTime)&&void 0!==Cn?Cn:Date.now(),subscriptionOptions:{auth:vn.auth,p256dh:vn.p256dh,endpoint:vn.endpoint,swScope:vn.swScope,vapidKey:"string"==typeof vn.vapidKey?vn.vapidKey:yi(vn.vapidKey)}}}else if(3===st){const vn=Hn;L={token:vn.fcmToken,createTime:vn.createTime,subscriptionOptions:{auth:yi(vn.auth),p256dh:yi(vn.p256dh),endpoint:vn.endpoint,swScope:vn.swScope,vapidKey:yi(vn.vapidKey)}}}else if(4===st){const vn=Hn;L={token:vn.fcmToken,createTime:vn.createTime,subscriptionOptions:{auth:yi(vn.auth),p256dh:yi(vn.p256dh),endpoint:vn.endpoint,swScope:vn.swScope,vapidKey:yi(vn.vapidKey)}}}}),function(st,Ct,Wt,Cn){return fe.apply(this,arguments)})})).close(),yield(0,oe.Lj)(ci),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),Fn(L)?L:null;var fe}),So.apply(this,arguments)}function Fn(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:L}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}const di="firebase-messaging-store";let Tr=null;function _i(){return Tr||(Tr=(0,oe.X3)("firebase-messaging-database",1,{upgrade:(k,L)=>{0===L&&k.createObjectStore(di)}})),Tr}function Yi(k){return wi.apply(this,arguments)}function wi(){return(wi=(0,M.Z)(function*(k){const L=Sr(k),fe=yield(yield _i()).transaction(di).objectStore(di).get(L);if(fe)return fe;{const Fe=yield Wo(k.appConfig.senderId);if(Fe)return yield Jn(k,Fe),Fe}})).apply(this,arguments)}function Jn(k,L){return to.apply(this,arguments)}function to(){return(to=(0,M.Z)(function*(k,L){const z=Sr(k),Fe=(yield _i()).transaction(di,"readwrite");return yield Fe.objectStore(di).put(L,z),yield Fe.done,L})).apply(this,arguments)}function ss(k){return oa.apply(this,arguments)}function oa(){return(oa=(0,M.Z)(function*(k){const L=Sr(k),fe=(yield _i()).transaction(di,"readwrite");yield fe.objectStore(di).delete(L),yield fe.done})).apply(this,arguments)}function Sr({appConfig:k}){return k.appId}const Cr=new G.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Lt(k,L){return _s.apply(this,arguments)}function _s(){return(_s=(0,M.Z)(function*(k,L){var z;const fe=yield ws(k),Fe=yt(L),st={method:"POST",headers:fe,body:JSON.stringify(Fe)};let Ct;try{Ct=yield(yield fetch(as(k.appConfig),st)).json()}catch(Wt){throw Cr.create("token-subscribe-failed",{errorInfo:null===(z=Wt)||void 0===z?void 0:z.toString()})}if(Ct.error)throw Cr.create("token-subscribe-failed",{errorInfo:Ct.error.message});if(!Ct.token)throw Cr.create("token-subscribe-no-token");return Ct.token})).apply(this,arguments)}function Ao(k,L){return os.apply(this,arguments)}function os(){return(os=(0,M.Z)(function*(k,L){var z;const fe=yield ws(k),Fe=yt(L.subscriptionOptions),st={method:"PATCH",headers:fe,body:JSON.stringify(Fe)};let Ct;try{Ct=yield(yield fetch(`${as(k.appConfig)}/${L.token}`,st)).json()}catch(Wt){throw Cr.create("token-update-failed",{errorInfo:null===(z=Wt)||void 0===z?void 0:z.toString()})}if(Ct.error)throw Cr.create("token-update-failed",{errorInfo:Ct.error.message});if(!Ct.token)throw Cr.create("token-update-no-token");return Ct.token})).apply(this,arguments)}function no(k,L){return $r.apply(this,arguments)}function $r(){return($r=(0,M.Z)(function*(k,L){var z;const Fe={method:"DELETE",headers:yield ws(k)};try{const Ct=yield(yield fetch(`${as(k.appConfig)}/${L}`,Fe)).json();if(Ct.error)throw Cr.create("token-unsubscribe-failed",{errorInfo:Ct.error.message})}catch(st){throw Cr.create("token-unsubscribe-failed",{errorInfo:null===(z=st)||void 0===z?void 0:z.toString()})}})).apply(this,arguments)}function as({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function ws(k){return ro.apply(this,arguments)}function ro(){return(ro=(0,M.Z)(function*({appConfig:k,installations:L}){const z=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${z}`})})).apply(this,arguments)}function yt({p256dh:k,auth:L,endpoint:z,vapidKey:fe}){const Fe={web:{endpoint:z,auth:L,p256dh:k}};return fe!==ui&&(Fe.web.applicationPubKey=fe),Fe}const Pn=6048e5;function Rr(k){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,M.Z)(function*(k){const L=yield ks(k.swRegistration,k.vapidKey),z={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:L.endpoint,auth:yi(L.getKey("auth")),p256dh:yi(L.getKey("p256dh"))},fe=yield Yi(k.firebaseDependencies);if(fe){if(F(fe.subscriptionOptions,z))return Date.now()>=fe.createTime+Pn?us(k,{token:fe.token,createTime:Date.now(),subscriptionOptions:z}):fe.token;try{yield no(k.firebaseDependencies,fe.token)}catch(Fe){console.warn(Fe)}return zr(k.firebaseDependencies,z)}return zr(k.firebaseDependencies,z)})).apply(this,arguments)}function Fr(k){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,M.Z)(function*(k){const L=yield Yi(k.firebaseDependencies);L&&(yield no(k.firebaseDependencies,L.token),yield ss(k.firebaseDependencies));const z=yield k.swRegistration.pushManager.getSubscription();return!z||z.unsubscribe()})).apply(this,arguments)}function us(k,L){return hi.apply(this,arguments)}function hi(){return(hi=(0,M.Z)(function*(k,L){try{const z=yield Ao(k.firebaseDependencies,L),fe=Object.assign(Object.assign({},L),{token:z,createTime:Date.now()});return yield Jn(k.firebaseDependencies,fe),z}catch(z){throw yield Fr(k),z}})).apply(this,arguments)}function zr(k,L){return ls.apply(this,arguments)}function ls(){return(ls=(0,M.Z)(function*(k,L){const fe={token:yield Lt(k,L),createTime:Date.now(),subscriptionOptions:L};return yield Jn(k,fe),fe.token})).apply(this,arguments)}function ks(k,L){return io.apply(this,arguments)}function io(){return(io=(0,M.Z)(function*(k,L){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:li(L)})})).apply(this,arguments)}function F(k,L){return L.vapidKey===k.vapidKey&&L.endpoint===k.endpoint&&L.auth===k.auth&&L.p256dh===k.p256dh}function O(k){const L={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function A(k,L){if(!L.notification)return;k.notification={};const z=L.notification.title;z&&(k.notification.title=z);const fe=L.notification.body;fe&&(k.notification.body=fe);const Fe=L.notification.image;Fe&&(k.notification.image=Fe);const st=L.notification.icon;st&&(k.notification.icon=st)}(L,k),function q(k,L){!L.data||(k.data=L.data)}(L,k),function dt(k,L){var z,fe,Fe,st,Ct;if(!(L.fcmOptions||null!==(z=L.notification)&&void 0!==z&&z.click_action))return;k.fcmOptions={};const Wt=null!==(Fe=null===(fe=L.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==Fe?Fe:null===(st=L.notification)||void 0===st?void 0:st.click_action;Wt&&(k.fcmOptions.link=Wt);const Cn=null===(Ct=L.fcmOptions)||void 0===Ct?void 0:Ct.analytics_label;Cn&&(k.fcmOptions.analyticsLabel=Cn)}(L,k),L}function cn(k){return"object"==typeof k&&!!k&&$o in k}function $n(k,L){const z=[];for(let fe=0;fe<k.length;fe++)z.push(k.charAt(fe)),fe<L.length&&z.push(L.charAt(fe));return z.join("")}function fi(k){return Cr.create("missing-app-config-values",{valueName:k})}$n("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$n("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ei{constructor(L,z,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Fe=function si(k){if(!k||!k.options)throw fi("App Configuration Object");if(!k.name)throw fi("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:z}=k;for(const fe of L)if(!z[fe])throw fi(fe);return{appName:k.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Fe,installations:z,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function Mo(k){return cs.apply(this,arguments)}function cs(){return(cs=(0,M.Z)(function*(k){var L;try{k.swRegistration=yield navigator.serviceWorker.register(Jr,{scope:Ms}),k.swRegistration.update().catch(()=>{})}catch(z){throw Cr.create("failed-service-worker-registration",{browserErrorMessage:null===(L=z)||void 0===L?void 0:L.message})}})).apply(this,arguments)}function Gs(k,L){return so.apply(this,arguments)}function so(){return(so=(0,M.Z)(function*(k,L){if(!L&&!k.swRegistration&&(yield Mo(k)),L||!k.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw Cr.create("invalid-sw-registration");k.swRegistration=L}})).apply(this,arguments)}function Go(k,L){return oo.apply(this,arguments)}function oo(){return(oo=(0,M.Z)(function*(k,L){L?k.vapidKey=L:k.vapidKey||(k.vapidKey=ui)})).apply(this,arguments)}function ko(){return(ko=(0,M.Z)(function*(k,L){if(!navigator)throw Cr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Cr.create("permission-blocked");return yield Go(k,L?.vapidKey),yield Gs(k,L?.serviceWorkerRegistration),Rr(k)})).apply(this,arguments)}function Ca(k,L,z){return ao.apply(this,arguments)}function ao(){return(ao=(0,M.Z)(function*(k,L,z){const fe=bu(L);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:z[$o],message_name:z[vs],message_time:z[To],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function bu(k){switch(k){case ii.NOTIFICATION_CLICKED:return"notification_open";case ii.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function j(){return(j=(0,M.Z)(function*(k,L){const z=L.data;if(!z.isFirebaseMessaging)return;k.onMessageHandler&&z.messageType===ii.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(O(z)):k.onMessageHandler.next(O(z)));const fe=z.data;cn(fe)&&"1"===fe[rs]&&(yield Ca(k,z.messageType,fe))})).apply(this,arguments)}const R="@firebase/messaging",W="0.11.0",_e=k=>{const L=new Ei(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",z=>function x(k,L){return j.apply(this,arguments)}(L,z)),L},rt=k=>{const L=k.getProvider("messaging").getImmediate();return{getToken:fe=>function qa(k,L){return ko.apply(this,arguments)}(L,fe)}};function sn(){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,M.Z)(function*(){try{yield(0,G.eu)()}catch{return!1}return typeof window<"u"&&(0,G.hl)()&&(0,G.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function pt(){(0,Y._registerComponent)(new ee.wA("messaging",_e,"PUBLIC")),(0,Y._registerComponent)(new ee.wA("messaging-internal",rt,"PRIVATE")),(0,Y.registerVersion)(R,W),(0,Y.registerVersion)(R,W,"esm2017")}();const bs="analytics",Ks="firebase_id",Zs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",el="https://www.googletagmanager.com/gtag/js",Vr=new Q.Yd("@firebase/analytics");function aa(k){return Promise.all(k.map(L=>L.catch(z=>z)))}function Iu(k,L){const z=document.createElement("script");z.src=`${el}?l=${k}&id=${L}`,z.async=!0,document.head.appendChild(z)}function pi(k,L,z,fe,Fe,st){return xa.apply(this,arguments)}function xa(){return(xa=(0,M.Z)(function*(k,L,z,fe,Fe,st){const Ct=fe[Fe];try{if(Ct)yield L[Ct];else{const Cn=(yield aa(z)).find(Vn=>Vn.measurementId===Fe);Cn&&(yield L[Cn.appId])}}catch(Wt){Vr.error(Wt)}k("config",Fe,st)})).apply(this,arguments)}function qs(k,L,z,fe,Fe){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,M.Z)(function*(k,L,z,fe,Fe){try{let st=[];if(Fe&&Fe.send_to){let Ct=Fe.send_to;Array.isArray(Ct)||(Ct=[Ct]);const Wt=yield aa(z);for(const Cn of Ct){const Vn=Wt.find(vn=>vn.measurementId===Cn),Hn=Vn&&L[Vn.appId];if(!Hn){st=[];break}st.push(Hn)}}0===st.length&&(st=Object.values(L)),yield Promise.all(st),k("event",fe,Fe||{})}catch(st){Vr.error(st)}})).apply(this,arguments)}function Cu(k){const L=window.document.getElementsByTagName("script");for(const z of Object.values(L))if(z.src&&z.src.includes(el)&&z.src.includes(k))return z;return null}const qr=new G.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),la=new class Sa{constructor(L={},z=1e3){this.throttleMetadata=L,this.intervalMillis=z}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,z){this.throttleMetadata[L]=z}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function Ya(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function Aa(k){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,M.Z)(function*(k){var L;const{appId:z,apiKey:fe}=k,Fe={method:"GET",headers:Ya(fe)},st=Zs.replace("{app-id}",z),Ct=yield fetch(st,Fe);if(200!==Ct.status&&304!==Ct.status){let Wt="";try{const Cn=yield Ct.json();null!==(L=Cn.error)&&void 0!==L&&L.message&&(Wt=Cn.error.message)}catch{}throw qr.create("config-fetch-failed",{httpStatus:Ct.status,responseMessage:Wt})}return Ct.json()})).apply(this,arguments)}function Ma(k){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,M.Z)(function*(k,L=la,z){const{appId:fe,apiKey:Fe,measurementId:st}=k.options;if(!fe)throw qr.create("no-app-id");if(!Fe){if(st)return{measurementId:st,appId:fe};throw qr.create("no-api-key")}const Ct=L.getThrottleMetadata(fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Wt=new ca;return setTimeout((0,M.Z)(function*(){Wt.abort()}),void 0!==z?z:6e4),xu({appId:fe,apiKey:Fe,measurementId:st},Ct,Wt,L)})).apply(this,arguments)}function xu(k,L,z){return Is.apply(this,arguments)}function Is(){return(Is=(0,M.Z)(function*(k,{throttleEndTimeMillis:L,backoffCount:z},fe,Fe=la){var st,Ct;const{appId:Wt,measurementId:Cn}=k;try{yield Qa(fe,L)}catch(Vn){if(Cn)return Vr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Cn} provided in the "measurementId" field in the local Firebase config. [${null===(st=Vn)||void 0===st?void 0:st.message}]`),{appId:Wt,measurementId:Cn};throw Vn}try{const Vn=yield Aa(k);return Fe.deleteThrottleMetadata(Wt),Vn}catch(Vn){const Hn=Vn;if(!Ja(Hn)){if(Fe.deleteThrottleMetadata(Wt),Cn)return Vr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Cn} provided in the "measurementId" field in the local Firebase config. [${Hn?.message}]`),{appId:Wt,measurementId:Cn};throw Vn}const vn=503===Number(null===(Ct=Hn?.customData)||void 0===Ct?void 0:Ct.httpStatus)?(0,G.$s)(z,Fe.intervalMillis,30):(0,G.$s)(z,Fe.intervalMillis),Or={throttleEndTimeMillis:Date.now()+vn,backoffCount:z+1};return Fe.setThrottleMetadata(Wt,Or),Vr.debug(`Calling attemptFetch again in ${vn} millis`),xu(k,Or,fe,Fe)}})).apply(this,arguments)}function Qa(k,L){return new Promise((z,fe)=>{const Fe=Math.max(L-Date.now(),0),st=setTimeout(z,Fe);k.addEventListener(()=>{clearTimeout(st),fe(qr.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}function Ja(k){if(!(k instanceof G.ZR&&k.customData))return!1;const L=Number(k.customData.httpStatus);return 429===L||500===L||503===L||504===L}class ca{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let uo,ha;function da(){return(da=(0,M.Z)(function*(k,L,z,fe,Fe){if(Fe&&Fe.global)k("event",z,fe);else{const st=yield L;k("event",z,Object.assign(Object.assign({},fe),{send_to:st}))}})).apply(this,arguments)}function Yr(k){ha=k}function Xa(k){uo=k}function Wr(){return ho.apply(this,arguments)}function ho(){return(ho=(0,M.Z)(function*(){var k;if(!(0,G.hl)())return Vr.warn(qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,G.eu)()}catch(L){return Vr.warn(qr.create("indexeddb-unavailable",{errorInfo:null===(k=L)||void 0===k?void 0:k.toString()}).message),!1}return!0})).apply(this,arguments)}function Oo(){return(Oo=(0,M.Z)(function*(k,L,z,fe,Fe,st,Ct){var Wt;const Cn=Ma(k);Cn.then(Ji=>{z[Ji.measurementId]=Ji.appId,k.options.measurementId&&Ji.measurementId!==k.options.measurementId&&Vr.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${Ji.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ji=>Vr.error(Ji)),L.push(Cn);const Vn=Wr().then(Ji=>{if(Ji)return fe.getId()}),[Hn,vn]=yield Promise.all([Cn,Vn]);Cu(st)||Iu(st,Hn.measurementId),ha&&(Fe("consent","default",ha),Yr(void 0)),Fe("js",new Date);const Or=null!==(Wt=Ct?.config)&&void 0!==Wt?Wt:{};return Or.origin="firebase",Or.update=!0,null!=vn&&(Or[Ks]=vn),Fe("config",Hn.measurementId,Or),uo&&(Fe("set",uo),Xa(void 0)),Hn.measurementId})).apply(this,arguments)}class Zo{constructor(L){this.app=L}_delete(){return delete Ii[this.app.options.appId],Promise.resolve()}}let Ii={},Os=[];const Ns={};let Qs,Di,qo="dataLayer",Ra=!1;function fa(k,L,z){!function Nl(){const k=[];if((0,G.ru)()&&k.push("This is a browser extension environment."),(0,G.zI)()||k.push("Cookies are not available."),k.length>0){const L=k.map((fe,Fe)=>`(${Fe+1}) ${fe}`).join(" "),z=qr.create("invalid-analytics-context",{errorInfo:L});Vr.warn(z.message)}}();const fe=k.options.appId;if(!fe)throw qr.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw qr.create("no-api-key");Vr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ii[fe])throw qr.create("already-exists",{id:fe});if(!Ra){!function Xr(k){let L=[];Array.isArray(window[k])?L=window[k]:window[k]=L}(qo);const{wrappedGtag:st,gtagCore:Ct}=function ua(k,L,z,fe,Fe){let st=function(...Ct){window[fe].push(arguments)};return window[Fe]&&"function"==typeof window[Fe]&&(st=window[Fe]),window[Fe]=function Du(k,L,z,fe){function st(){return(st=(0,M.Z)(function*(Ct,Wt,Cn){try{"event"===Ct?yield qs(k,L,z,Wt,Cn):"config"===Ct?yield pi(k,L,z,fe,Wt,Cn):"consent"===Ct?k("consent","update",Cn):k("set",Wt)}catch(Vn){Vr.error(Vn)}})).apply(this,arguments)}return function Fe(Ct,Wt,Cn){return st.apply(this,arguments)}}(st,k,L,z),{gtagCore:st,wrappedGtag:window[Fe]}}(Ii,Os,Ns,qo,"gtag");Di=st,Qs=Ct,Ra=!0}return Ii[fe]=function Tu(k,L,z,fe,Fe,st,Ct){return Oo.apply(this,arguments)}(k,Os,Ns,L,Qs,qo,z),new Zo(k)}function Dc(){return eu.apply(this,arguments)}function eu(){return(eu=(0,M.Z)(function*(){if((0,G.ru)()||!(0,G.zI)()||!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch{return!1}})).apply(this,arguments)}const ol="@firebase/analytics";!function ji(){(0,Y._registerComponent)(new ee.wA(bs,(L,{options:z})=>fa(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),z),"PUBLIC")),(0,Y._registerComponent)(new ee.wA("analytics-internal",function k(L){try{const z=L.getProvider(bs).getImmediate();return{logEvent:(fe,Fe,st)=>function Cs(k,L,z,fe){k=(0,G.m9)(k),function Ko(k,L,z,fe,Fe){return da.apply(this,arguments)}(Di,Ii[k.app.options.appId],L,z,fe).catch(Fe=>Vr.error(Fe))}(z,fe,Fe,st)}}catch(z){throw qr.create("interop-component-reg-failed",{reason:z})}},"PRIVATE")),(0,Y.registerVersion)(ol,"0.8.4"),(0,Y.registerVersion)(ol,"0.8.4","esm2017")}();var Ls=C(233),tu=C(4986),fs=C(8505),Hi=C(9468),Na=C(5363);const ma=new f.GfV("7.4.1"),nu="__angularfire_symbol__analyticsIsSupportedValue",hr="__angularfire_symbol__analyticsIsSupported",Yo="__angularfire_symbol__remoteConfigIsSupportedValue",fo="__angularfire_symbol__remoteConfigIsSupported",oi="__angularfire_symbol__messagingIsSupportedValue",ru="__angularfire_symbol__messagingIsSupported";function P(k,L,z){if(L){if(1===L.length)return L[0];const st=L.filter(Ct=>Ct.app===z);if(1===st.length)return st[0]}return z.container.getProvider(k).getImmediate({optional:!0})}globalThis[hr]||(globalThis[hr]=Dc().then(k=>globalThis[nu]=k).catch(()=>globalThis[nu]=!1)),globalThis[ru]||(globalThis[ru]=sn().then(k=>globalThis[oi]=k).catch(()=>globalThis[oi]=!1)),globalThis[fo]||(globalThis[fo]=Ho().then(k=>globalThis[Yo]=k).catch(()=>globalThis[Yo]=!1));const $=(k,L)=>{const z=L?[L]:(0,m.C6)(),fe=[];return z.forEach(Fe=>{Fe.container.getProvider(k).instances.forEach(Ct=>{fe.includes(Ct)||fe.push(Ct)})}),fe};function le(){}class we{constructor(L,z=Ls.N){this.zone=L,this.delegate=z}now(){return this.delegate.now()}schedule(L,z,fe){const Fe=this.zone;return this.delegate.schedule(function(Ct){Fe.runGuarded(()=>{L.apply(this,[Ct])})},z,fe)}}class ht{constructor(L){this.zone=L,this.task=null}call(L,z){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",le,{},le,le)),z.pipe((0,fs.b)({next:fe,complete:fe,error:fe})).subscribe(L).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $t=(()=>{class k{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new we(Zone.current)),this.insideAngular=z.run(()=>new we(Zone.current,tu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(z){return new(z||k)(f.LFG(f.R0b))},k.\u0275prov=f.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function mn(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function Fs(k){return mn(),function Qi(k){return function(z){return(z=z.lift(new ht(k.ngZone))).pipe((0,Hi.R)(k.outsideAngular),(0,Na.Q)(k.insideAngular))}}(mn())(k)}},8247:(Ie,ae,C)=>{"use strict";C.d(ae,{$:()=>as,A:()=>ne,B:()=>Ue,G:()=>xr,H:()=>Qr,J:()=>ir,L:()=>be,M:()=>Ws,N:()=>xo,P:()=>nu,Q:()=>$o,R:()=>sl,T:()=>vs,U:()=>ui,V:()=>ii,W:()=>yi,X:()=>Wo,Y:()=>an,Z:()=>Lt,_:()=>Ao,a:()=>Ro,a0:()=>Rr,a1:()=>Fr,a2:()=>us,a3:()=>zr,a4:()=>ks,a5:()=>F,a6:()=>A,a7:()=>q,a8:()=>cn,a9:()=>$n,aA:()=>ye,aB:()=>Ji,aC:()=>No,aD:()=>iu,aE:()=>nn,aI:()=>Ya,aL:()=>rs,aa:()=>Mo,ab:()=>Gs,ac:()=>Go,af:()=>Ca,ag:()=>bu,ah:()=>x,ak:()=>di,al:()=>Yn,an:()=>el,ao:()=>xa,ap:()=>Qe,aq:()=>te,ar:()=>Pt,as:()=>mt,at:()=>jl,au:()=>po,av:()=>ie,aw:()=>lt,ax:()=>Ce,ay:()=>La,az:()=>Ae,b:()=>qr,c:()=>S,d:()=>we,e:()=>$,f:()=>z,g:()=>Cn,h:()=>st,i:()=>ho,j:()=>vn,k:()=>qh,l:()=>Oa,m:()=>uu,o:()=>oe,r:()=>Ls,s:()=>ga,u:()=>Na});var f=C(5861),m=C(2090),M=C(9681),Y=C(1877),G=C(655),ee=C(4859);const oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ue=function de(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ge=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},vt=new m.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Me=new Y.Yd("@firebase/auth");function bt(_,...h){Me.logLevel<=Y.in.ERROR&&Me.error(`Auth (${M.SDK_VERSION}): ${_}`,...h)}function mt(_,...h){throw ut(_,...h)}function lt(_,...h){return ut(_,...h)}function it(_,h,g){const D=Object.assign(Object.assign({},Ge()),{[h]:g});return new m.LL("auth","Firebase",D).create(h,{appName:_.name})}function We(_,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&mt(_,"argument-error"),it(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ut(_,...h){if("string"!=typeof _){const g=h[0],D=[...h.slice(1)];return D[0]&&(D[0].appName=_.name),_._errorFactory.create(g,...D)}return vt.create(_,...h)}function Ce(_,h,...g){if(!_)throw ut(h,...g)}function $e(_){const h="INTERNAL ASSERTION FAILED: "+_;throw bt(h),new Error(h)}function Qe(_,h){_||$e(h)}const xe=new Map;function Ae(_){Qe(_ instanceof Function,"Expected a class definition");let h=xe.get(_);return h?(Qe(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,xe.set(_,h),h)}function wt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Dt(){return"http:"===qt()||"https:"===qt()}function qt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class kt{constructor(h,g){this.shortDelay=h,this.longDelay=g,Qe(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,m.uI)()||(0,m.b$)()}get(){return function hn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Dt()||(0,m.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pn(_,h){Qe(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class An{static initialize(h,g,D){this.fetchImpl=h,g&&(this.headersImpl=g),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Dn=new kt(3e4,6e4);function Sn(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function ke(_,h,g,D){return er.apply(this,arguments)}function er(){return(er=(0,f.Z)(function*(_,h,g,D,B={}){return qn(_,B,(0,f.Z)(function*(){let Z={},Ye={};D&&("GET"===h?Ye=D:Z={body:JSON.stringify(D)});const Le=(0,m.xO)(Object.assign({key:_.config.apiKey},Ye)).slice(1),Te=yield _._getAdditionalHeaders();return Te["Content-Type"]="application/json",_.languageCode&&(Te["X-Firebase-Locale"]=_.languageCode),An.fetch()(rr(_,_.config.apiHost,g,Le),Object.assign({method:h,headers:Te,referrerPolicy:"no-referrer"},Z))}))})).apply(this,arguments)}function qn(_,h,g){return dn.apply(this,arguments)}function dn(){return(dn=(0,f.Z)(function*(_,h,g){_._canInitEmulator=!1;const D=Object.assign(Object.assign({},kn),h);try{const B=new Kt(_),Z=yield Promise.race([g(),B.promise]);B.clearNetworkTimeout();const Ye=yield Z.json();if("needConfirmation"in Ye)throw ve(_,"account-exists-with-different-credential",Ye);if(Z.ok&&!("errorMessage"in Ye))return Ye;{const Le=Z.ok?Ye.errorMessage:Ye.error.message,[Te,tt]=Le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Te)throw ve(_,"credential-already-in-use",Ye);if("EMAIL_EXISTS"===Te)throw ve(_,"email-already-in-use",Ye);if("USER_DISABLED"===Te)throw ve(_,"user-disabled",Ye);const In=D[Te]||Te.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw it(_,In,tt);mt(_,In)}}catch(B){if(B instanceof m.ZR)throw B;mt(_,"network-request-failed")}})).apply(this,arguments)}function Rn(_,h,g,D){return dr.apply(this,arguments)}function dr(){return(dr=(0,f.Z)(function*(_,h,g,D,B={}){const Z=yield ke(_,h,g,D,B);return"mfaPendingCredential"in Z&&mt(_,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function rr(_,h,g,D){const B=`${h}${g}?${D}`;return _.config.emulator?pn(_.config,B):`${_.config.apiScheme}://${B}`}class Kt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,D)=>{this.timer=setTimeout(()=>D(lt(this.auth,"network-request-failed")),Dn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ve(_,h,g){const D={appName:_.name};g.email&&(D.email=g.email),g.phoneNumber&&(D.phoneNumber=g.phoneNumber);const B=lt(_,h,D);return B.customData._tokenResponse=g,B}function qe(){return(qe=(0,f.Z)(function*(_,h){return ke(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function ot(_,h){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,f.Z)(function*(_,h){return ke(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ut(_,h){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,f.Z)(function*(_,h){return ke(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Tt(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Ne(){return(Ne=(0,f.Z)(function*(_,h=!1){const g=(0,m.m9)(_),D=yield g.getIdToken(h),B=se(D);Ce(B&&B.exp&&B.auth_time&&B.iat,g.auth,"internal-error");const Z="object"==typeof B.firebase?B.firebase:void 0,Ye=Z?.sign_in_provider;return{claims:B,token:D,authTime:Tt(me(B.auth_time)),issuedAtTime:Tt(me(B.iat)),expirationTime:Tt(me(B.exp)),signInProvider:Ye||null,signInSecondFactor:Z?.sign_in_second_factor||null}})).apply(this,arguments)}function me(_){return 1e3*Number(_)}function se(_){var h;const[g,D,B]=_.split(".");if(void 0===g||void 0===D||void 0===B)return bt("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,m.tV)(D);return Z?JSON.parse(Z):(bt("Failed to decode base64 JWT payload"),null)}catch(Z){return bt("Caught error parsing JWT payload as JSON",null===(h=Z)||void 0===h?void 0:h.toString()),null}}function Pe(_,h){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,f.Z)(function*(_,h,g=!1){if(g)return h;try{return yield h}catch(D){throw D instanceof m.ZR&&Rt(D)&&_.auth.currentUser===_&&(yield _.auth.signOut()),D}})).apply(this,arguments)}function Rt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class gn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const B=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,B)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const D=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield g.iteration()}),D)}iteration(){var h=this;return(0,f.Z)(function*(){var g;try{yield h.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===(null===(g=D)||void 0===g?void 0:g.code)&&h.schedule(!0))}h.schedule()})()}}class xt{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tt(this.lastLoginAt),this.creationTime=Tt(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yn(_){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,f.Z)(function*(_){var h;const g=_.auth,D=yield _.getIdToken(),B=yield Pe(_,Ut(g,{idToken:D}));Ce(B?.users.length,g,"internal-error");const Z=B.users[0];_._notifyReloadListener(Z);const Ye=null!==(h=Z.providerUserInfo)&&void 0!==h&&h.length?At(Z.providerUserInfo):[],Le=Ft(_.providerData,Ye),In=!!_.isAnonymous&&!(_.email&&Z.passwordHash||Le?.length),Ur={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:Le,metadata:new xt(Z.createdAt,Z.lastLoginAt),isAnonymous:In};Object.assign(_,Ur)})).apply(this,arguments)}function ln(){return(ln=(0,f.Z)(function*(_){const h=(0,m.m9)(_);yield yn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Ft(_,h){return[..._.filter(D=>!h.some(B=>B.providerId===D.providerId)),...h]}function At(_){return _.map(h=>{var{providerId:g}=h,D=(0,G._T)(h,["providerId"]);return{providerId:g,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function gt(){return(gt=(0,f.Z)(function*(_,h){const g=yield qn(_,{},(0,f.Z)(function*(){const D=(0,m.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:B,apiKey:Z}=_.config,Ye=rr(_,B,"/v1/token",`key=${Z}`),Le=yield _._getAdditionalHeaders();return Le["Content-Type"]="application/x-www-form-urlencoded",An.fetch()(Ye,{method:"POST",headers:Le,body:D})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class St{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ce(h.idToken,"internal-error"),Ce(typeof h.idToken<"u","internal-error"),Ce(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function ze(_){const h=se(_);return Ce(h,"internal-error"),Ce(typeof h.exp<"u","internal-error"),Ce(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var D=this;return(0,f.Z)(function*(){return Ce(!D.accessToken||D.refreshToken,h,"user-token-expired"),g||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(h,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var D=this;return(0,f.Z)(function*(){const{accessToken:B,refreshToken:Z,expiresIn:Ye}=yield function Nt(_,h){return gt.apply(this,arguments)}(h,g);D.updateTokensAndExpiration(B,Z,Number(Ye))})()}updateTokensAndExpiration(h,g,D){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(h,g){const{refreshToken:D,accessToken:B,expirationTime:Z}=g,Ye=new St;return D&&(Ce("string"==typeof D,"internal-error",{appName:h}),Ye.refreshToken=D),B&&(Ce("string"==typeof B,"internal-error",{appName:h}),Ye.accessToken=B),Z&&(Ce("number"==typeof Z,"internal-error",{appName:h}),Ye.expirationTime=Z),Ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new St,this.toJSON())}_performRefresh(){return $e("not implemented")}}function on(_,h){Ce("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class un{constructor(h){var{uid:g,auth:D,stsTokenManager:B}=h,Z=(0,G._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=D,this.stsTokenManager=B,this.accessToken=B.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new xt(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,f.Z)(function*(){const D=yield Pe(g,g.stsTokenManager.getToken(g.auth,h));return Ce(D,g.auth,"internal-error"),g.accessToken!==D&&(g.accessToken=D,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),D})()}getIdTokenResult(h){return function Gt(_){return Ne.apply(this,arguments)}(this,h)}reload(){return function xn(_){return ln.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ce(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new un(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var D=this;return(0,f.Z)(function*(){let B=!1;h.idToken&&h.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(h),B=!0),g&&(yield yn(D)),yield D.auth._persistUserIfCurrent(D),B&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var h=this;return(0,f.Z)(function*(){const g=yield h.getIdToken();return yield Pe(h,function Oe(_,h){return qe.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var D,B,Z,Ye,Le,Te,tt,In;const Ur=null!==(D=g.displayName)&&void 0!==D?D:void 0,Po=null!==(B=g.email)&&void 0!==B?B:void 0,Nu=null!==(Z=g.phoneNumber)&&void 0!==Z?Z:void 0,Gd=null!==(Ye=g.photoURL)&&void 0!==Ye?Ye:void 0,Kd=null!==(Le=g.tenantId)&&void 0!==Le?Le:void 0,Zd=null!==(Te=g._redirectEventId)&&void 0!==Te?Te:void 0,qd=null!==(tt=g.createdAt)&&void 0!==tt?tt:void 0,Qh=null!==(In=g.lastLoginAt)&&void 0!==In?In:void 0,{uid:Jh,emailVerified:Yd,isAnonymous:al,providerData:Ln,stsTokenManager:Ua}=g;Ce(Jh&&Ua,h,"internal-error");const Xh=St.fromJSON(this.name,Ua);Ce("string"==typeof Jh,h,"internal-error"),on(Ur,h.name),on(Po,h.name),Ce("boolean"==typeof Yd,h,"internal-error"),Ce("boolean"==typeof al,h,"internal-error"),on(Nu,h.name),on(Gd,h.name),on(Kd,h.name),on(Zd,h.name),on(qd,h.name),on(Qh,h.name);const jn=new un({uid:Jh,auth:h,email:Po,emailVerified:Yd,displayName:Ur,isAnonymous:al,photoURL:Gd,phoneNumber:Nu,tenantId:Kd,stsTokenManager:Xh,createdAt:qd,lastLoginAt:Qh});return Ln&&Array.isArray(Ln)&&(jn.providerData=Ln.map(Mn=>Object.assign({},Mn))),Zd&&(jn._redirectEventId=Zd),jn}static _fromIdTokenResponse(h,g,D=!1){return(0,f.Z)(function*(){const B=new St;B.updateFromServerResponse(g);const Z=new un({uid:g.localId,auth:h,stsTokenManager:B,isAnonymous:D});return yield yn(Z),Z})()}}const be=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(g,D){var B=this;return(0,f.Z)(function*(){B.storage[g]=D})()}_get(g){var D=this;return(0,f.Z)(function*(){const B=D.storage[g];return void 0===B?null:B})()}_remove(g){var D=this;return(0,f.Z)(function*(){delete D.storage[g]})()}_addListener(g,D){}_removeListener(g,D){}}return _.type="NONE",_})();function ye(_,h,g){return`firebase:${_}:${h}:${g}`}class De{constructor(h,g,D){this.persistence=h,this.auth=g,this.userKey=D;const{config:B,name:Z}=this.auth;this.fullUserKey=ye(this.userKey,B.apiKey,Z),this.fullPersistenceKey=ye("persistence",B.apiKey,Z),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?un._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,f.Z)(function*(){if(g.persistence===h)return;const D=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,D?g.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,D="authUser"){return(0,f.Z)(function*(){if(!g.length)return new De(Ae(be),h,D);const B=(yield Promise.all(g.map(function(){var tt=(0,f.Z)(function*(In){if(yield In._isAvailable())return In});return function(In){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let Z=B[0]||Ae(be);const Ye=ye(D,h.config.apiKey,h.name);let Le=null;for(const tt of g)try{const In=yield tt._get(Ye);if(In){const Ur=un._fromJSON(h,In);tt!==Z&&(Le=Ur),Z=tt;break}}catch{}const Te=B.filter(tt=>tt._shouldAllowMigration);return Z._shouldAllowMigration&&Te.length?(Z=Te[0],Le&&(yield Z._set(Ye,Le.toJSON())),yield Promise.all(g.map(function(){var tt=(0,f.Z)(function*(In){if(In!==Z)try{yield In._remove(Ye)}catch{}});return function(In){return tt.apply(this,arguments)}}())),new De(Z,h,D)):new De(Z,h,D)})()}}function pe(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(_t(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(H(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(jt(h))return"Blackberry";if(he(h))return"Webos";if(re(h))return"Safari";if((h.includes("chrome/")||Be(h))&&!h.includes("edge/"))return"Chrome";if(Pt(h))return"Android";{const D=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function H(_=(0,m.z$)()){return/firefox\//i.test(_)}function re(_=(0,m.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Be(_=(0,m.z$)()){return/crios\//i.test(_)}function _t(_=(0,m.z$)()){return/iemobile/i.test(_)}function Pt(_=(0,m.z$)()){return/android/i.test(_)}function jt(_=(0,m.z$)()){return/blackberry/i.test(_)}function he(_=(0,m.z$)()){return/webos/i.test(_)}function te(_=(0,m.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function ie(_=(0,m.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function Yt(_=(0,m.z$)()){return te(_)||Pt(_)||he(_)||jt(_)||/windows phone/i.test(_)||_t(_)}function Tn(_,h=[]){let g;switch(_){case"Browser":g=pe((0,m.z$)());break;case"Worker":g=`${pe((0,m.z$)())}-${_}`;break;default:g=_}const D=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${M.SDK_VERSION}/${D}`}class ur{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const D=Z=>new Promise((Ye,Le)=>{try{Ye(h(Z))}catch(Te){Le(Te)}});D.onAbort=g,this.queue.push(D);const B=this.queue.length-1;return()=>{this.queue[B]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,f.Z)(function*(){var D;if(g.auth.currentUser===h)return;const B=[];try{for(const Z of g.queue)yield Z(h),Z.onAbort&&B.push(Z.onAbort)}catch(Z){B.reverse();for(const Ye of B)try{Ye()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(D=Z)||void 0===D?void 0:D.message})}})()}}class jr{constructor(h,g,D){this.app=h,this.heartbeatServiceProvider=g,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mi(this),this.idTokenSubscription=new mi(this),this.beforeStateQueue=new ur(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(h,g){var D=this;return g&&(this._popupRedirectResolver=Ae(g)),this._initializationPromise=this.queue((0,f.Z)(function*(){var B,Z;if(!D._deleted&&(D.persistenceManager=yield De.create(D,h),!D._deleted)){if(null!==(B=D._popupRedirectResolver)&&void 0!==B&&B._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(g),D.lastNotifiedUid=(null===(Z=D.currentUser)||void 0===Z?void 0:Z.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,f.Z)(function*(){var D;const B=yield g.assertedPersistence.getCurrentUser();let Z=B,Ye=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Le=null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId,Te=Z?._redirectEventId,tt=yield g.tryRedirectSignIn(h);(!Le||Le===Te)&&tt?.user&&(Z=tt.user,Ye=!0)}if(!Z)return g.directlySetCurrentUser(null);if(!Z._redirectEventId){if(Ye)try{yield g.beforeStateQueue.runMiddleware(Z)}catch(Le){Z=B,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Le))}return Z?g.reloadAndSetCurrentUserOrClear(Z):g.directlySetCurrentUser(null)}return Ce(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===Z._redirectEventId?g.directlySetCurrentUser(Z):g.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(h){var g=this;return(0,f.Z)(function*(){let D=null;try{D=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,f.Z)(function*(){var D;try{yield yn(h)}catch(B){if("auth/network-request-failed"!==(null===(D=B)||void 0===D?void 0:D.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function fn(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,f.Z)(function*(){const D=h?(0,m.m9)(h):null;return D&&Ce(D.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(D&&D._clone(g))})()}_updateCurrentUser(h,g=!1){var D=this;return(0,f.Z)(function*(){if(!D._deleted)return h&&Ce(D.tenantId===h.tenantId,D,"tenant-id-mismatch"),g||(yield D.beforeStateQueue.runMiddleware(h)),D.queue((0,f.Z)(function*(){yield D.directlySetCurrentUser(h),D.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,f.Z)(function*(){yield g.assertedPersistence.setPersistence(Ae(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new m.LL("auth","Firebase",h())}onAuthStateChanged(h,g,D){return this.registerStateListener(this.authStateSubscription,h,g,D)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,D){return this.registerStateListener(this.idTokenSubscription,h,g,D)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var D=this;return(0,f.Z)(function*(){const B=yield D.getOrInitRedirectPersistenceManager(g);return null===h?B.removeCurrentUser():B.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,f.Z)(function*(){if(!g.redirectPersistenceManager){const D=h&&Ae(h)||g._popupRedirectResolver;Ce(D,g,"argument-error"),g.redirectPersistenceManager=yield De.create(g,[Ae(D._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,f.Z)(function*(){var D,B;return g._isInitialized&&(yield g.queue((0,f.Z)(function*(){}))),(null===(D=g._currentUser)||void 0===D?void 0:D._redirectEventId)===h?g._currentUser:(null===(B=g.redirectUser)||void 0===B?void 0:B._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,f.Z)(function*(){if(h===g.currentUser)return g.queue((0,f.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,D,B){if(this._deleted)return()=>{};const Z="function"==typeof g?g:g.next.bind(g),Ye=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(Ye,this,"internal-error"),Ye.then(()=>Z(this.currentUser)),"function"==typeof g?h.addObserver(g,D,B):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,f.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Tn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,f.Z)(function*(){var g;const D={"X-Client-Version":h.clientVersion};h.app.options.appId&&(D["X-Firebase-gmpid"]=h.app.options.appId);const B=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return B&&(D["X-Firebase-Client"]=B),D})()}}function nn(_){return(0,m.m9)(_)}class mi{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,m.ne)(g=>this.observer=g)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xr(_,h,g){const D=nn(_);Ce(D._canInitEmulator,D,"emulator-config-failed"),Ce(/^https?:\/\//.test(h),D,"invalid-emulator-scheme");const B=!!g?.disableWarnings,Z=es(h),{host:Ye,port:Le}=function Oi(_){const h=es(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!g)return{host:"",port:null};const D=g[2].split("@").pop()||"",B=/^(\[[^\]]+\])(:|$)/.exec(D);if(B){const Z=B[1];return{host:Z,port:lr(D.substr(Z.length+1))}}{const[Z,Ye]=D.split(":");return{host:Z,port:lr(Ye)}}}(h);D.config.emulator={url:`${Z}//${Ye}${null===Le?"":`:${Le}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Ye,port:Le,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:B})}),B||function Gi(){function _(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function es(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function lr(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class Qr{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return $e("not implemented")}_getIdTokenResponse(h){return $e("not implemented")}_linkToIdToken(h,g){return $e("not implemented")}_getReauthenticationResolver(h){return $e("not implemented")}}function kr(_,h){return mr.apply(this,arguments)}function mr(){return(mr=(0,f.Z)(function*(_,h){return ke(_,"POST","/v1/accounts:resetPassword",Sn(_,h))})).apply(this,arguments)}function Ki(_,h){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,f.Z)(function*(_,h){return ke(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Bo(_,h){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,f.Z)(function*(_,h){return ke(_,"POST","/v1/accounts:update",Sn(_,h))})).apply(this,arguments)}function Pi(){return(Pi=(0,f.Z)(function*(_,h){return Rn(_,"POST","/v1/accounts:signInWithPassword",Sn(_,h))})).apply(this,arguments)}function ri(_,h){return Li.apply(this,arguments)}function Li(){return(Li=(0,f.Z)(function*(_,h){return ke(_,"POST","/v1/accounts:sendOobCode",Sn(_,h))})).apply(this,arguments)}function qi(_,h){return yr.apply(this,arguments)}function yr(){return(yr=(0,f.Z)(function*(_,h){return ri(_,h)})).apply(this,arguments)}function Fi(_,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,f.Z)(function*(_,h){return ri(_,h)})).apply(this,arguments)}function Hr(_,h){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,f.Z)(function*(_,h){return ri(_,h)})).apply(this,arguments)}function ts(_,h){return ns.apply(this,arguments)}function ns(){return(ns=(0,f.Z)(function*(_,h){return ri(_,h)})).apply(this,arguments)}function ge(){return(ge=(0,f.Z)(function*(_,h){return Rn(_,"POST","/v1/accounts:signInWithEmailLink",Sn(_,h))})).apply(this,arguments)}function He(){return(He=(0,f.Z)(function*(_,h){return Rn(_,"POST","/v1/accounts:signInWithEmailLink",Sn(_,h))})).apply(this,arguments)}class ct extends Qr{constructor(h,g,D,B=null){super("password",D),this._email=h,this._password=g,this._tenantId=B}static _fromEmailAndPassword(h,g){return new ct(h,g,"password")}static _fromEmailAndCode(h,g,D=null){return new ct(h,g,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,f.Z)(function*(){switch(g.signInMethod){case"password":return function Ni(_,h){return Pi.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Ir(_,h){return ge.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:mt(h,"internal-error")}})()}_linkToIdToken(h,g){var D=this;return(0,f.Z)(function*(){switch(D.signInMethod){case"password":return Ki(h,{idToken:g,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function nt(_,h){return He.apply(this,arguments)}(h,{idToken:g,email:D._email,oobCode:D._password});default:mt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Ht(_,h){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,f.Z)(function*(_,h){return Rn(_,"POST","/v1/accounts:signInWithIdp",Sn(_,h))})).apply(this,arguments)}class ir extends Qr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new ir(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):mt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:D,signInMethod:B}=g,Z=(0,G._T)(g,["providerId","signInMethod"]);if(!D||!B)return null;const Ye=new ir(D,B);return Ye.idToken=Z.idToken||void 0,Ye.accessToken=Z.accessToken||void 0,Ye.secret=Z.secret,Ye.nonce=Z.nonce,Ye.pendingToken=Z.pendingToken||null,Ye}_getIdTokenResponse(h){return Ht(h,this.buildRequest())}_linkToIdToken(h,g){const D=this.buildRequest();return D.idToken=g,Ht(h,D)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Ht(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,m.xO)(g)}return h}}function Dr(_,h){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,f.Z)(function*(_,h){return ke(_,"POST","/v1/accounts:sendVerificationCode",Sn(_,h))})).apply(this,arguments)}function Lr(){return(Lr=(0,f.Z)(function*(_,h){return Rn(_,"POST","/v1/accounts:signInWithPhoneNumber",Sn(_,h))})).apply(this,arguments)}function Io(){return(Io=(0,f.Z)(function*(_,h){const g=yield Rn(_,"POST","/v1/accounts:signInWithPhoneNumber",Sn(_,h));if(g.temporaryProof)throw ve(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Do={USER_NOT_FOUND:"user-not-found"};function jo(){return(jo=(0,f.Z)(function*(_,h){return Rn(_,"POST","/v1/accounts:signInWithPhoneNumber",Sn(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Do)})).apply(this,arguments)}class As extends Qr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new As({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new As({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function sr(_,h){return Lr.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function Ui(_,h){return Io.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Da(_,h){return jo.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:D,verificationCode:B}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:D,code:B}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:D,phoneNumber:B,temporaryProof:Z}=h;return D||g||B||Z?new As({verificationId:g,verificationCode:D,phoneNumber:B,temporaryProof:Z}):null}}class ai{constructor(h){var g,D,B,Z,Ye,Le;const Te=(0,m.zd)((0,m.pd)(h)),tt=null!==(g=Te.apiKey)&&void 0!==g?g:null,In=null!==(D=Te.oobCode)&&void 0!==D?D:null,Ur=function Co(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(B=Te.mode)&&void 0!==B?B:null);Ce(tt&&In&&Ur,"argument-error"),this.apiKey=tt,this.operation=Ur,this.code=In,this.continueUrl=null!==(Z=Te.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==(Ye=Te.languageCode)&&void 0!==Ye?Ye:null,this.tenantId=null!==(Le=Te.tenantId)&&void 0!==Le?Le:null}static parseLink(h){const g=function zs(_){const h=(0,m.zd)((0,m.pd)(_)).link,g=h?(0,m.zd)((0,m.pd)(h)).deep_link_id:null,D=(0,m.zd)((0,m.pd)(_)).deep_link_id;return(D?(0,m.zd)((0,m.pd)(D)).link:null)||D||g||h||_}(h);try{return new ai(g)}catch{return null}}}let Ws=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,D){return ct._fromEmailAndPassword(g,D)}static credentialWithLink(g,D){const B=ai.parseLink(D);return Ce(B,"argument-error"),ct._fromEmailAndCode(g,B.code,B.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Jr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ms extends Jr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class ui extends Ms{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return Ce("providerId"in g&&"signInMethod"in g,"argument-error"),ir._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ce(h.idToken||h.accessToken,"argument-error"),ir._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return ui.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return ui.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:D,oauthTokenSecret:B,pendingToken:Z,nonce:Ye,providerId:Le}=h;if(!D&&!B&&!g&&!Z||!Le)return null;try{return new ui(Le)._credential({idToken:g,accessToken:D,nonce:Ye,pendingToken:Z})}catch{return null}}}let xo=(()=>{class _ extends Ms{constructor(){super("facebook.com")}static credential(g){return ir._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),$o=(()=>{class _ extends Ms{constructor(){super("google.com"),this.addScope("profile")}static credential(g,D){return ir._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:D})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:D,oauthAccessToken:B}=g;if(!D&&!B)return null;try{return _.credential(D,B)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),vs=(()=>{class _ extends Ms{constructor(){super("github.com")}static credential(g){return ir._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class rs extends Qr{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return Ht(h,this.buildRequest())}_linkToIdToken(h,g){const D=this.buildRequest();return D.idToken=g,Ht(h,D)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Ht(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:D,signInMethod:B,pendingToken:Z}=g;return D&&B&&Z&&D===B?new rs(D,Z):null}static _create(h,g){return new rs(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ii extends Jr{constructor(h){Ce(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return ii.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return ii.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=rs.fromJSON(h);return Ce(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:D}=h;if(!g||!D)return null;try{return rs._create(D,g)}catch{return null}}}let yi=(()=>{class _ extends Ms{constructor(){super("twitter.com")}static credential(g,D){return ir._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:D})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:D,oauthTokenSecret:B}=g;if(!D||!B)return null;try{return _.credential(D,B)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function li(_,h){return ci.apply(this,arguments)}function ci(){return(ci=(0,f.Z)(function*(_,h){return Rn(_,"POST","/v1/accounts:signUp",Sn(_,h))})).apply(this,arguments)}class vi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,D,B=!1){return(0,f.Z)(function*(){const Z=yield un._fromIdTokenResponse(h,D,B),Ye=is(D);return new vi({user:Z,providerId:Ye,_tokenResponse:D,operationType:g})})()}static _forOperation(h,g,D){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(D,!0);const B=is(D);return new vi({user:h,providerId:B,_tokenResponse:D,operationType:g})})()}}function is(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Wo(_){return So.apply(this,arguments)}function So(){return(So=(0,f.Z)(function*(_){var h;const g=nn(_);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new vi({user:g.currentUser,providerId:null,operationType:"signIn"});const D=yield li(g,{returnSecureToken:!0}),B=yield vi._fromIdTokenResponse(g,"signIn",D,!0);return yield g._updateCurrentUser(B.user),B})).apply(this,arguments)}class Fn extends m.ZR{constructor(h,g,D,B){var Z;super(g.code,g.message),this.operationType=D,this.user=B,Object.setPrototypeOf(this,Fn.prototype),this.customData={appName:h.name,tenantId:null!==(Z=h.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:g.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(h,g,D,B){return new Fn(h,g,D,B)}}function eo(_,h,g,D){return("reauthenticate"===h?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?Fn._fromErrorAndOperation(_,Z,h,D):Z})}function sa(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function di(_,h){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,f.Z)(function*(_,h){const g=(0,m.m9)(_);yield wi(!0,g,h);const{providerUserInfo:D}=yield ot(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),B=sa(D||[]);return g.providerData=g.providerData.filter(Z=>B.has(Z.providerId)),B.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function _i(_,h){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,f.Z)(function*(_,h,g=!1){const D=yield Pe(_,h._linkToIdToken(_.auth,yield _.getIdToken()),g);return vi._forOperation(_,"link",D)})).apply(this,arguments)}function wi(_,h,g){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,f.Z)(function*(_,h,g){yield yn(h);const B=!1===_?"provider-already-linked":"no-such-provider";Ce(sa(h.providerData).has(g)===_,h.auth,B)})).apply(this,arguments)}function to(_,h){return ss.apply(this,arguments)}function ss(){return(ss=(0,f.Z)(function*(_,h,g=!1){var D;const{auth:B}=_,Z="reauthenticate";try{const Ye=yield Pe(_,eo(B,Z,h,_),g);Ce(Ye.idToken,B,"internal-error");const Le=se(Ye.idToken);Ce(Le,B,"internal-error");const{sub:Te}=Le;return Ce(_.uid===Te,B,"user-mismatch"),vi._forOperation(_,Z,Ye)}catch(Ye){throw"auth/user-not-found"===(null===(D=Ye)||void 0===D?void 0:D.code)&&mt(B,"user-mismatch"),Ye}})).apply(this,arguments)}function oa(_,h){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,f.Z)(function*(_,h,g=!1){const D="signIn",B=yield eo(_,D,h),Z=yield vi._fromIdTokenResponse(_,D,B);return g||(yield _._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function an(_,h){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,f.Z)(function*(_,h){return oa(nn(_),h)})).apply(this,arguments)}function Lt(_,h){return _s.apply(this,arguments)}function _s(){return(_s=(0,f.Z)(function*(_,h){const g=(0,m.m9)(_);return yield wi(!1,g,h.providerId),_i(g,h)})).apply(this,arguments)}function Ao(_,h){return os.apply(this,arguments)}function os(){return(os=(0,f.Z)(function*(_,h){return to((0,m.m9)(_),h)})).apply(this,arguments)}function no(_,h){return $r.apply(this,arguments)}function $r(){return($r=(0,f.Z)(function*(_,h){return Rn(_,"POST","/v1/accounts:signInWithCustomToken",Sn(_,h))})).apply(this,arguments)}function as(_,h){return ws.apply(this,arguments)}function ws(){return(ws=(0,f.Z)(function*(_,h){const g=nn(_),D=yield no(g,{token:h,returnSecureToken:!0}),B=yield vi._fromIdTokenResponse(g,"signIn",D);return yield g._updateCurrentUser(B.user),B})).apply(this,arguments)}class ro{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?yt._fromServerResponse(h,g):mt(h,"internal-error")}}class yt extends ro{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new yt(g)}}function Pn(_,h,g){var D;Ce((null===(D=g.url)||void 0===D?void 0:D.length)>0,_,"invalid-continue-uri"),Ce(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Ce(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(Ce(g.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function Rr(_,h,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,f.Z)(function*(_,h,g){const D=(0,m.m9)(_),B={requestType:"PASSWORD_RESET",email:h};g&&Pn(D,B,g),yield Fi(D,B)})).apply(this,arguments)}function Fr(_,h,g){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,f.Z)(function*(_,h,g){yield kr((0,m.m9)(_),{oobCode:h,newPassword:g})})).apply(this,arguments)}function us(_,h){return hi.apply(this,arguments)}function hi(){return(hi=(0,f.Z)(function*(_,h){yield Bo((0,m.m9)(_),{oobCode:h})})).apply(this,arguments)}function zr(_,h){return ls.apply(this,arguments)}function ls(){return(ls=(0,f.Z)(function*(_,h){const g=(0,m.m9)(_),D=yield kr(g,{oobCode:h}),B=D.requestType;switch(Ce(B,g,"internal-error"),B){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(D.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(D.mfaInfo,g,"internal-error");default:Ce(D.email,g,"internal-error")}let Z=null;return D.mfaInfo&&(Z=ro._fromServerResponse(nn(g),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:Z},operation:B}})).apply(this,arguments)}function ks(_,h){return io.apply(this,arguments)}function io(){return(io=(0,f.Z)(function*(_,h){const{data:g}=yield zr((0,m.m9)(_),h);return g.email})).apply(this,arguments)}function F(_,h,g){return O.apply(this,arguments)}function O(){return(O=(0,f.Z)(function*(_,h,g){const D=nn(_),B=yield li(D,{returnSecureToken:!0,email:h,password:g}),Z=yield vi._fromIdTokenResponse(D,"signIn",B);return yield D._updateCurrentUser(Z.user),Z})).apply(this,arguments)}function A(_,h,g){return an((0,m.m9)(_),Ws.credential(h,g))}function q(_,h,g){return dt.apply(this,arguments)}function dt(){return(dt=(0,f.Z)(function*(_,h,g){const D=(0,m.m9)(_),B={requestType:"EMAIL_SIGNIN",email:h};Ce(g.handleCodeInApp,D,"argument-error"),g&&Pn(D,B,g),yield Hr(D,B)})).apply(this,arguments)}function cn(_,h){return"EMAIL_SIGNIN"===ai.parseLink(h)?.operation}function $n(_,h,g){return si.apply(this,arguments)}function si(){return(si=(0,f.Z)(function*(_,h,g){const D=(0,m.m9)(_),B=Ws.credentialWithLink(h,g||wt());return Ce(B._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),an(D,B)})).apply(this,arguments)}function fi(_,h){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,f.Z)(function*(_,h){return ke(_,"POST","/v1/accounts:createAuthUri",Sn(_,h))})).apply(this,arguments)}function Mo(_,h){return cs.apply(this,arguments)}function cs(){return(cs=(0,f.Z)(function*(_,h){const D={identifier:h,continueUri:Dt()?wt():"http://localhost"},{signinMethods:B}=yield fi((0,m.m9)(_),D);return B||[]})).apply(this,arguments)}function Gs(_,h){return so.apply(this,arguments)}function so(){return(so=(0,f.Z)(function*(_,h){const g=(0,m.m9)(_),B={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&Pn(g.auth,B,h);const{email:Z}=yield qi(g.auth,B);Z!==_.email&&(yield _.reload())})).apply(this,arguments)}function Go(_,h,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,f.Z)(function*(_,h,g){const D=(0,m.m9)(_),Z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};g&&Pn(D.auth,Z,g);const{email:Ye}=yield ts(D.auth,Z);Ye!==_.email&&(yield _.reload())})).apply(this,arguments)}function qa(_,h){return ko.apply(this,arguments)}function ko(){return(ko=(0,f.Z)(function*(_,h){return ke(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ca(_,h){return ao.apply(this,arguments)}function ao(){return(ao=(0,f.Z)(function*(_,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const D=(0,m.m9)(_),Z={idToken:yield D.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Ye=yield Pe(D,qa(D.auth,Z));D.displayName=Ye.displayName||null,D.photoURL=Ye.photoUrl||null;const Le=D.providerData.find(({providerId:Te})=>"password"===Te);Le&&(Le.displayName=D.displayName,Le.photoURL=D.photoURL),yield D._updateTokensIfNecessary(Ye)})).apply(this,arguments)}function bu(_,h){return j((0,m.m9)(_),h,null)}function x(_,h){return j((0,m.m9)(_),null,h)}function j(_,h,g){return R.apply(this,arguments)}function R(){return(R=(0,f.Z)(function*(_,h,g){const{auth:D}=_,Z={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(Z.email=h),g&&(Z.password=g);const Ye=yield Pe(_,Ki(D,Z));yield _._updateTokensIfNecessary(Ye,!0)})).apply(this,arguments)}class _e{constructor(h,g,D={}){this.isNewUser=h,this.providerId=g,this.profile=D}}class rt extends _e{constructor(h,g,D,B){super(h,g,D),this.username=B}}class pt extends _e{constructor(h,g){super(h,"facebook.com",g)}}class sn extends rt{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Kn extends _e{constructor(h,g){super(h,"google.com",g)}}class tr extends rt{constructor(h,g,D){super(h,"twitter.com",g,D)}}function Yn(_){const{user:h,_tokenResponse:g}=_;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function W(_){var h,g;if(!_)return null;const{providerId:D}=_,B=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},Z=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!D&&_?.idToken){const Ye=null===(g=null===(h=se(_.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ye)return new _e(Z,"anonymous"!==Ye&&"custom"!==Ye?Ye:null)}if(!D)return null;switch(D){case"facebook.com":return new pt(Z,B);case"github.com":return new sn(Z,B);case"google.com":return new Kn(Z,B);case"twitter.com":return new tr(Z,B,_.screenName||null);case"custom":case"anonymous":return new _e(Z,null);default:return new _e(Z,D,B)}}(g)}class bi{constructor(h,g,D){this.type=h,this.credential=g,this.auth=D}static _fromIdtoken(h,g){return new bi("enroll",h,g)}static _fromMfaPendingCredential(h){return new bi("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,D;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return bi._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(D=h.multiFactorSession)&&void 0!==D&&D.idToken)return bi._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Zs{constructor(h,g,D){this.session=h,this.hints=g,this.signInResolver=D}static _fromError(h,g){const D=nn(h),B=g.customData._serverResponse,Z=(B.mfaInfo||[]).map(Le=>ro._fromServerResponse(D,Le));Ce(B.mfaPendingCredential,D,"internal-error");const Ye=bi._fromMfaPendingCredential(B.mfaPendingCredential);return new Zs(Ye,Z,function(){var Le=(0,f.Z)(function*(Te){const tt=yield Te._process(D,Ye);delete B.mfaInfo,delete B.mfaPendingCredential;const In=Object.assign(Object.assign({},B),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(g.operationType){case"signIn":const Ur=yield vi._fromIdTokenResponse(D,g.operationType,In);return yield D._updateCurrentUser(Ur.user),Ur;case"reauthenticate":return Ce(g.user,D,"internal-error"),vi._forOperation(g.user,g.operationType,In);default:mt(D,"internal-error")}});return function(Te){return Le.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,f.Z)(function*(){return g.signInResolver(h)})()}}function el(_,h){var g;const D=(0,m.m9)(_),B=h;return Ce(h.customData.operationType,D,"argument-error"),Ce(null===(g=B.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,D,"argument-error"),Zs._fromError(D,B)}function Vr(_,h){return ke(_,"POST","/v2/accounts/mfaEnrollment:start",Sn(_,h))}class Xr{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(D=>ro._fromServerResponse(h.auth,D)))})}static _fromUser(h){return new Xr(h)}getSession(){var h=this;return(0,f.Z)(function*(){return bi._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var D=this;return(0,f.Z)(function*(){const B=h,Z=yield D.getSession(),Ye=yield Pe(D.user,B._process(D.user.auth,Z,g));return yield D.user._updateTokensIfNecessary(Ye),D.user.reload()})()}unenroll(h){var g=this;return(0,f.Z)(function*(){var D;const B="string"==typeof h?h:h.uid,Z=yield g.user.getIdToken(),Ye=yield Pe(g.user,function Iu(_,h){return ke(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Sn(_,h))}(g.user.auth,{idToken:Z,mfaEnrollmentId:B}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Le})=>Le!==B),yield g.user._updateTokensIfNecessary(Ye);try{yield g.user.reload()}catch(Le){if("auth/user-token-expired"!==(null===(D=Le)||void 0===D?void 0:D.code))throw Le}})()}}const pi=new WeakMap;function xa(_){const h=(0,m.m9)(_);return pi.has(h)||pi.set(h,Xr._fromUser(h)),pi.get(h)}const qs="__sak";class Ta{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(qs,"1"),this.storage.removeItem(qs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const qr=(()=>{class _ extends Ta{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,D)=>this.onStorageEvent(g,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Du(){const _=(0,m.z$)();return re(_)||te(_)}()&&function En(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const D of Object.keys(this.listeners)){const B=this.storage.getItem(D),Z=this.localCache[D];B!==Z&&g(D,Z,B)}}onStorageEvent(g,D=!1){if(!g.key)return void this.forAllChangedKeys((Le,Te,tt)=>{this.notifyListeners(Le,tt)});const B=g.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Le=this.storage.getItem(B);if(g.newValue!==Le)null!==g.newValue?this.storage.setItem(B,g.newValue):this.storage.removeItem(B);else if(this.localCache[B]===g.newValue&&!D)return}const Z=()=>{const Le=this.storage.getItem(B);!D&&this.localCache[B]===Le||this.notifyListeners(B,Le)},Ye=this.storage.getItem(B);!function et(){return(0,m.w1)()&&10===document.documentMode}()||Ye===g.newValue||g.newValue===g.oldValue?Z():setTimeout(Z,10)}notifyListeners(g,D){this.localCache[g]=D;const B=this.listeners[g];if(B)for(const Z of Array.from(B))Z(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,D,B)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:D,newValue:B}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(D)}_removeListener(g,D){this.listeners[g]&&(this.listeners[g].delete(D),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,D){var B=()=>super._set,Z=this;return(0,f.Z)(function*(){yield B().call(Z,g,D),Z.localCache[g]=JSON.stringify(D)})()}_get(g){var D=()=>super._get,B=this;return(0,f.Z)(function*(){const Z=yield D().call(B,g);return B.localCache[g]=JSON.stringify(Z),Z})()}_remove(g){var D=()=>super._remove,B=this;return(0,f.Z)(function*(){yield D().call(B,g),delete B.localCache[g]})()}}return _.type="LOCAL",_})(),Ro=(()=>{class _ extends Ta{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,D){}_removeListener(g,D){}}return _.type="SESSION",_})();let la=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const D=this.receivers.find(Z=>Z.isListeningto(g));if(D)return D;const B=new _(g);return this.receivers.push(B),B}isListeningto(g){return this.eventTarget===g}handleEvent(g){var D=this;return(0,f.Z)(function*(){const B=g,{eventId:Z,eventType:Ye,data:Le}=B.data,Te=D.handlersMap[Ye];if(!Te?.size)return;B.ports[0].postMessage({status:"ack",eventId:Z,eventType:Ye});const tt=Array.from(Te).map(function(){var Ur=(0,f.Z)(function*(Po){return Po(B.origin,Le)});return function(Po){return Ur.apply(this,arguments)}}()),In=yield function Sa(_){return Promise.all(_.map(function(){var h=(0,f.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(D){return{fulfilled:!1,reason:D}}});return function(g){return h.apply(this,arguments)}}()))}(tt);B.ports[0].postMessage({status:"done",eventId:Z,eventType:Ye,response:In})})()}_subscribe(g,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(D)}_unsubscribe(g,D){this.handlersMap[g]&&D&&this.handlersMap[g].delete(D),(!D||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Ya(_="",h=10){let g="";for(let D=0;D<h;D++)g+=Math.floor(10*Math.random());return _+g}class Aa{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,D=50){var B=this;return(0,f.Z)(function*(){const Z=typeof MessageChannel<"u"?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let Ye,Le;return new Promise((Te,tt)=>{const In=Ya("",20);Z.port1.start();const Ur=setTimeout(()=>{tt(new Error("unsupported_event"))},D);Le={messageChannel:Z,onMessage(Po){const Nu=Po;if(Nu.data.eventId===In)switch(Nu.data.status){case"ack":clearTimeout(Ur),Ye=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ye),Te(Nu.data.response);break;default:clearTimeout(Ur),clearTimeout(Ye),tt(new Error("invalid_response"))}}},B.handlers.add(Le),Z.port1.addEventListener("message",Le.onMessage),B.target.postMessage({eventType:h,eventId:In,data:g},[Z.port2])}).finally(()=>{Le&&B.removeMessageHandler(Le)})})()}}function Mr(){return window}function Ai(){return typeof Mr().WorkerGlobalScope<"u"&&"function"==typeof Mr().importScripts}function Is(){return(Is=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ca="firebaseLocalStorageDb",Ko="firebaseLocalStorage",da="fbase_key";class hs{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function lo(_,h){return _.transaction([Ko],h?"readwrite":"readonly").objectStore(Ko)}function Rs(){const _=indexedDB.open(ca,1);return new Promise((h,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const D=_.result;try{D.createObjectStore(Ko,{keyPath:da})}catch(B){g(B)}}),_.addEventListener("success",(0,f.Z)(function*(){const D=_.result;D.objectStoreNames.contains(Ko)?h(D):(D.close(),yield function rl(){const _=indexedDB.deleteDatabase(ca);return new hs(_).toPromise()}(),h(yield Rs()))}))})}function co(_,h,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,f.Z)(function*(_,h,g){const D=lo(_,!0).put({[da]:h,value:g});return new hs(D).toPromise()})).apply(this,arguments)}function Ys(){return(Ys=(0,f.Z)(function*(_,h){const g=lo(_,!1).get(h),D=yield new hs(g).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function ha(_,h){const g=lo(_,!0).delete(h);return new hs(g).toPromise()}const ho=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,f.Z)(function*(){return g.db||(g.db=yield Rs()),g.db})()}_withRetries(g){var D=this;return(0,f.Z)(function*(){let B=0;for(;;)try{const Z=yield D._openDb();return yield g(Z)}catch(Z){if(B++>3)throw Z;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,f.Z)(function*(){return Ai()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,f.Z)(function*(){g.receiver=la._getInstance(function Ja(){return Ai()?self:null}()),g.receiver._subscribe("keyChanged",function(){var D=(0,f.Z)(function*(B,Z){return{keyProcessed:(yield g._poll()).includes(Z.key)}});return function(B,Z){return D.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var D=(0,f.Z)(function*(B,Z){return["keyChanged"]});return function(B,Z){return D.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,f.Z)(function*(){var D,B;if(g.activeServiceWorker=yield function xu(){return Is.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Aa(g.activeServiceWorker);const Z=yield g.sender._send("ping",{},800);!Z||(null===(D=Z[0])||void 0===D?void 0:D.fulfilled)&&(null===(B=Z[0])||void 0===B?void 0:B.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var D=this;return(0,f.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Qa(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:g},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Rs();return yield co(g,qs,"1"),yield ha(g,qs),!0}catch{}return!1})()}_withPendingWrite(g){var D=this;return(0,f.Z)(function*(){D.pendingWrites++;try{yield g()}finally{D.pendingWrites--}})()}_set(g,D){var B=this;return(0,f.Z)(function*(){return B._withPendingWrite((0,f.Z)(function*(){return yield B._withRetries(Z=>co(Z,g,D)),B.localCache[g]=D,B.notifyServiceWorker(g)}))})()}_get(g){var D=this;return(0,f.Z)(function*(){const B=yield D._withRetries(Z=>function il(_,h){return Ys.apply(this,arguments)}(Z,g));return D.localCache[g]=B,B})()}_remove(g){var D=this;return(0,f.Z)(function*(){return D._withPendingWrite((0,f.Z)(function*(){return yield D._withRetries(B=>ha(B,g)),delete D.localCache[g],D.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,f.Z)(function*(){const D=yield g._withRetries(Ye=>{const Le=lo(Ye,!1).getAll();return new hs(Le).toPromise()});if(!D)return[];if(0!==g.pendingWrites)return[];const B=[],Z=new Set;for(const{fbase_key:Ye,value:Le}of D)Z.add(Ye),JSON.stringify(g.localCache[Ye])!==JSON.stringify(Le)&&(g.notifyListeners(Ye,Le),B.push(Ye));for(const Ye of Object.keys(g.localCache))g.localCache[Ye]&&!Z.has(Ye)&&(g.notifyListeners(Ye,null),B.push(Ye));return B})()}notifyListeners(g,D){this.localCache[g]=D;const B=this.listeners[g];if(B)for(const Z of Array.from(B))Z(D)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(D)}_removeListener(g,D){this.listeners[g]&&(this.listeners[g].delete(D),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Tu(_,h){return ke(_,"POST","/v2/accounts/mfaSignIn:start",Sn(_,h))}function Ii(){return(Ii=(0,f.Z)(function*(_){return(yield ke(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ns(_){return new Promise((h,g)=>{const D=document.createElement("script");D.setAttribute("src",_),D.onload=h,D.onerror=B=>{const Z=lt("internal-error");Z.customData=B,g(Z)},D.type="text/javascript",D.charset="UTF-8",function Os(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(D)})}function qo(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Di=1e12;class Ra{constructor(h){this.auth=h,this.counter=Di,this._widgets=new Map}render(h,g){const D=this.counter;return this._widgets.set(D,new wr(h,this.auth.name,g||{})),this.counter++,D}reset(h){var g;const D=h||Di;null===(g=this._widgets.get(D))||void 0===g||g.delete(),this._widgets.delete(D)}getResponse(h){var g;return(null===(g=this._widgets.get(h||Di))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,f.Z)(function*(){var D;return null===(D=g._widgets.get(h||Di))||void 0===D||D.execute(),""})()}}class wr{constructor(h,g,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const B="string"==typeof h?document.getElementById(h):h;Ce(B,"argument-error",{appName:g}),this.container=B,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Nl(_){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<_;D++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fa=qo("rcb"),pa=new kt(3e4,6e4);class Dc{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Mr().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return Ce(function eu(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Mr().grecaptcha):new Promise((D,B)=>{const Z=Mr().setTimeout(()=>{B(lt(h,"network-request-failed"))},pa.get());Mr()[fa]=()=>{Mr().clearTimeout(Z),delete Mr()[fa];const Le=Mr().grecaptcha;if(!Le)return void B(lt(h,"internal-error"));const Te=Le.render;Le.render=(tt,In)=>{const Ur=Te(tt,In);return this.counter++,Ur},this.hostLanguage=g,D(Le)},Ns(`https://www.google.com/recaptcha/api.js??${(0,m.xO)({onload:fa,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(Z),B(lt(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=Mr().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cc{load(h){return(0,f.Z)(function*(){return new Ra(h)})()}clearedOneInstance(){}}const Ps="recaptcha",xc={theme:"light",type:"image"};class sl{constructor(h,g=Object.assign({},xc),D){this.parameters=g,this.type=Ps,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nn(D),this.isInvisible="invisible"===this.parameters.size,Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const B="string"==typeof h?document.getElementById(h):h;Ce(B,this.auth,"argument-error"),this.container=B,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cc:new Dc,this.validateStartingState()}verify(){var h=this;return(0,f.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),D=h.getAssertedRecaptcha();return D.getResponse(g)||new Promise(Z=>{const Ye=Le=>{!Le||(h.tokenChangeListeners.delete(Ye),Z(Le))};h.tokenChangeListeners.add(Ye),h.isInvisible&&D.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(D=>D(g)),"function"==typeof h)h(g);else if("string"==typeof h){const D=Mr()[h];"function"==typeof D&&D(g)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,f.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const D=document.createElement("div");g.appendChild(D),g=D}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,f.Z)(function*(){Ce(Dt()&&!Ai(),h.auth,"internal-error"),yield function Gr(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Zo(_){return Ii.apply(this,arguments)}(h.auth);Ce(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Cs{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=As._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function ga(_,h,g){return ol.apply(this,arguments)}function ol(){return(ol=(0,f.Z)(function*(_,h,g){const D=nn(_),B=yield fs(D,h,(0,m.m9)(g));return new Cs(B,Z=>an(D,Z))})).apply(this,arguments)}function Oa(_,h,g){return ji.apply(this,arguments)}function ji(){return(ji=(0,f.Z)(function*(_,h,g){const D=(0,m.m9)(_);yield wi(!1,D,"phone");const B=yield fs(D.auth,h,(0,m.m9)(g));return new Cs(B,Z=>Lt(D,Z))})).apply(this,arguments)}function Ls(_,h,g){return tu.apply(this,arguments)}function tu(){return(tu=(0,f.Z)(function*(_,h,g){const D=(0,m.m9)(_),B=yield fs(D.auth,h,(0,m.m9)(g));return new Cs(B,Z=>Ao(D,Z))})).apply(this,arguments)}function fs(_,h,g){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,f.Z)(function*(_,h,g){var D;const B=yield g.verify();try{let Z;if(Ce("string"==typeof B,_,"argument-error"),Ce(g.type===Ps,_,"argument-error"),Z="string"==typeof h?{phoneNumber:h}:h,"session"in Z){const Ye=Z.session;if("phoneNumber"in Z)return Ce("enroll"===Ye.type,_,"internal-error"),(yield Vr(_,{idToken:Ye.credential,phoneEnrollmentInfo:{phoneNumber:Z.phoneNumber,recaptchaToken:B}})).phoneSessionInfo.sessionInfo;{Ce("signin"===Ye.type,_,"internal-error");const Le=(null===(D=Z.multiFactorHint)||void 0===D?void 0:D.uid)||Z.multiFactorUid;return Ce(Le,_,"missing-multi-factor-info"),(yield Tu(_,{mfaPendingCredential:Ye.credential,mfaEnrollmentId:Le,phoneSignInInfo:{recaptchaToken:B}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ye}=yield Dr(_,{phoneNumber:Z.phoneNumber,recaptchaToken:B});return Ye}}finally{g._reset()}})).apply(this,arguments)}function Na(_,h){return ma.apply(this,arguments)}function ma(){return(ma=(0,f.Z)(function*(_,h){yield _i((0,m.m9)(_),h)})).apply(this,arguments)}let nu=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=nn(g)}verifyPhoneNumber(g,D){return fs(this.auth,g,(0,m.m9)(D))}static credential(g,D){return As._fromVerification(g,D)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:D,temporaryProof:B}=g;return D&&B?As._fromTokenResponse(D,B):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function hr(_,h){return h?Ae(h):(Ce(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Yo extends Qr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ht(h,this._buildIdpRequest())}_linkToIdToken(h,g){return Ht(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return Ht(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function fo(_){return oa(_.auth,new Yo(_),_.bypassAuthState)}function oi(_){const{auth:h,user:g}=_;return Ce(g,h,"internal-error"),to(g,new Yo(_),_.bypassAuthState)}function ru(_){return w.apply(this,arguments)}function w(){return(w=(0,f.Z)(function*(_){const{auth:h,user:g}=_;return Ce(g,h,"internal-error"),_i(g,new Yo(_),_.bypassAuthState)})).apply(this,arguments)}class E{constructor(h,g,D,B,Z=!1){this.auth=h,this.resolver=D,this.user=B,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,f.Z)(function*(D,B){h.pendingPromise={resolve:D,reject:B};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(Z){h.reject(Z)}});return function(D,B){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,f.Z)(function*(){const{urlResponse:D,sessionId:B,postBody:Z,tenantId:Ye,error:Le,type:Te}=h;if(Le)return void g.reject(Le);const tt={auth:g.auth,requestUri:D,sessionId:B,tenantId:Ye||void 0,postBody:Z||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Te)(tt))}catch(In){g.reject(In)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return fo;case"linkViaPopup":case"linkViaRedirect":return ru;case"reauthViaPopup":case"reauthViaRedirect":return oi;default:mt(this.auth,"internal-error")}}resolve(h){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const v=new kt(2e3,1e4);function S(_,h,g){return P.apply(this,arguments)}function P(){return(P=(0,f.Z)(function*(_,h,g){const D=nn(_);We(_,h,Jr);const B=hr(D,g);return new $t(D,"signInViaPopup",h,B).executeNotNull()})).apply(this,arguments)}function $(_,h,g){return le.apply(this,arguments)}function le(){return(le=(0,f.Z)(function*(_,h,g){const D=(0,m.m9)(_);We(D.auth,h,Jr);const B=hr(D.auth,g);return new $t(D.auth,"reauthViaPopup",h,B,D).executeNotNull()})).apply(this,arguments)}function we(_,h,g){return ht.apply(this,arguments)}function ht(){return(ht=(0,f.Z)(function*(_,h,g){const D=(0,m.m9)(_);We(D.auth,h,Jr);const B=hr(D.auth,g);return new $t(D.auth,"linkViaPopup",h,B,D).executeNotNull()})).apply(this,arguments)}let $t=(()=>{class _ extends E{constructor(g,D,B,Z,Ye){super(g,D,Z,Ye),this.provider=B,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,f.Z)(function*(){const D=yield g.execute();return Ce(D,g.auth,"internal-error"),D})()}onExecution(){var g=this;return(0,f.Z)(function*(){Qe(1===g.filter.length,"Popup operations only handle one event");const D=Ya();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],D),g.authWindow.associatedEvent=D,g.resolver._originValidation(g.auth).catch(B=>{g.reject(B)}),g.resolver._isIframeWebStorageSupported(g.auth,B=>{B||g.reject(lt(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(lt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var D,B;this.pollId=null!==(B=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==B&&B.closed?window.setTimeout(()=>{this.pollId=null,this.reject(lt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,v.get())};g()}}return _.currentPopupAction=null,_})();const rn=new Map;class zn extends E{constructor(h,g,D=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,D),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,f.Z)(function*(){let D=rn.get(g.auth._key());if(!D){try{const Z=(yield function Mi(_,h){return ps.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;D=()=>Promise.resolve(Z)}catch(B){D=()=>Promise.reject(B)}rn.set(g.auth._key(),D)}return g.bypassAuthState||rn.set(g.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,D=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(D,h);if("unknown"!==h.type){if(h.eventId){const B=yield D.auth._redirectUserForId(h.eventId);if(B)return D.user=B,g().call(D,h);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function ps(){return(ps=(0,f.Z)(function*(_,h){const g=L(h),D=k(_);if(!(yield D._isAvailable()))return!1;const B="true"===(yield D._get(g));return yield D._remove(g),B})).apply(this,arguments)}function Fs(_,h){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,f.Z)(function*(_,h){return k(_)._set(L(h),"true")})).apply(this,arguments)}function iu(){rn.clear()}function No(_,h){rn.set(_._key(),h)}function k(_){return Ae(_._redirectPersistence)}function L(_){return ye("pendingRedirect",_.config.apiKey,_.name)}function z(_,h,g){return function fe(_,h,g){return Fe.apply(this,arguments)}(_,h,g)}function Fe(){return(Fe=(0,f.Z)(function*(_,h,g){const D=nn(_);We(_,h,Jr);const B=hr(D,g);return yield Fs(B,D),B._openRedirect(D,h,"signInViaRedirect")})).apply(this,arguments)}function st(_,h,g){return function Ct(_,h,g){return Wt.apply(this,arguments)}(_,h,g)}function Wt(){return(Wt=(0,f.Z)(function*(_,h,g){const D=(0,m.m9)(_);We(D.auth,h,Jr);const B=hr(D.auth,g);yield Fs(B,D.auth);const Z=yield Pa(D);return B._openRedirect(D.auth,h,"reauthViaRedirect",Z)})).apply(this,arguments)}function Cn(_,h,g){return function Vn(_,h,g){return Hn.apply(this,arguments)}(_,h,g)}function Hn(){return(Hn=(0,f.Z)(function*(_,h,g){const D=(0,m.m9)(_);We(D.auth,h,Jr);const B=hr(D.auth,g);yield wi(!1,D,h.providerId),yield Fs(B,D.auth);const Z=yield Pa(D);return B._openRedirect(D.auth,h,"linkViaRedirect",Z)})).apply(this,arguments)}function vn(_,h){return Or.apply(this,arguments)}function Or(){return(Or=(0,f.Z)(function*(_,h){return yield nn(_)._initializationPromise,Ji(_,h,!1)})).apply(this,arguments)}function Ji(_,h){return Er.apply(this,arguments)}function Er(){return(Er=(0,f.Z)(function*(_,h,g=!1){const D=nn(_),B=hr(D,h),Ye=yield new zn(D,B,g).execute();return Ye&&!g&&(delete Ye.user._redirectEventId,yield D._persistUserIfCurrent(Ye.user),yield D._setRedirectUser(null,h)),Ye})).apply(this,arguments)}function Pa(_){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,f.Z)(function*(_){const h=Ya(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class La{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(h,D)&&(g=!0,this.sendToConsumer(h,D),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Fa(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jo(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var D;if(h.error&&!Jo(h)){const B=(null===(D=h.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";g.onError(lt(this.auth,B))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const D=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&D}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ya(h))}saveEventToCache(h){this.cachedEventUids.add(ya(h)),this.lastProcessedEventTime=Date.now()}}function ya(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function Jo({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function po(_){return su.apply(this,arguments)}function su(){return(su=(0,f.Z)(function*(_,h={}){return ke(_,"GET","/v1/projects",h)})).apply(this,arguments)}const Va=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hp=/^https?/;function Pl(){return(Pl=(0,f.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield po(_);for(const g of h)try{if(Tc(g))return}catch{}mt(_,"unauthorized-domain")})).apply(this,arguments)}function Tc(_){const h=wt(),{protocol:g,hostname:D}=new URL(h);if(_.startsWith("chrome-extension://")){const Ye=new URL(_);return""===Ye.hostname&&""===D?"chrome-extension:"===g&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Ye.hostname===D}if(!Hp.test(g))return!1;if(Va.test(_))return D===_;const B=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+B+"|"+B+")$","i").test(D)}const Gh=new kt(3e4,6e4);function Sc(){const _=Mr().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let ou=null;function Ll(_){return ou=ou||function Ac(_){return new Promise((h,g)=>{var D,B,Z;function Ye(){Sc(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Sc(),g(lt(_,"network-request-failed"))},timeout:Gh.get()})}if(null!==(B=null===(D=Mr().gapi)||void 0===D?void 0:D.iframes)&&void 0!==B&&B.Iframe)h(gapi.iframes.getContext());else{if(null===(Z=Mr().gapi)||void 0===Z||!Z.load){const Le=qo("iframefcb");return Mr()[Le]=()=>{gapi.load?Ye():g(lt(_,"network-request-failed"))},Ns(`https://apis.google.com/js/api.js?onload=${Le}`).catch(Te=>g(Te))}Ye()}}).catch(h=>{throw ou=null,h})}(_),ou}const $p=new kt(5e3,15e3),Ud={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fl(_){const h=_.config;Ce(h.authDomain,_,"auth-domain-config-required");const g=h.emulator?pn(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,D={apiKey:h.apiKey,appName:_.name,v:M.SDK_VERSION},B=zp.get(_.config.apiHost);B&&(D.eid=B);const Z=_._getFrameworks();return Z.length&&(D.fw=Z.join(",")),`${g}?${(0,m.xO)(D).slice(1)}`}function Vl(){return Vl=(0,f.Z)(function*(_){const h=yield Ll(_),g=Mr().gapi;return Ce(g,_,"internal-error"),h.open({where:document.body,url:Fl(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ud,dontclear:!0},D=>new Promise(function(){var B=(0,f.Z)(function*(Z,Ye){yield D.restyle({setHideOnLeave:!1});const Le=lt(_,"network-request-failed"),Te=Mr().setTimeout(()=>{Ye(Le)},$p.get());function tt(){Mr().clearTimeout(Te),Z(D)}D.ping(tt).then(tt,()=>{Ye(Le)})});return function(Z,Ye){return B.apply(this,arguments)}}()))}),Vl.apply(this,arguments)}const Mu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zh{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jl(_,h,g,D,B,Z){Ce(_.config.authDomain,_,"auth-domain-config-required"),Ce(_.config.apiKey,_,"invalid-api-key");const Ye={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:D,v:M.SDK_VERSION,eventId:B};if(h instanceof Jr){h.setDefaultLanguage(_.languageCode),Ye.providerId=h.providerId||"",(0,m.xb)(h.getCustomParameters())||(Ye.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Te,tt]of Object.entries(Z||{}))Ye[Te]=tt}if(h instanceof Ms){const Te=h.getScopes().filter(tt=>""!==tt);Te.length>0&&(Ye.scopes=Te.join(","))}_.tenantId&&(Ye.tid=_.tenantId);const Le=Ye;for(const Te of Object.keys(Le))void 0===Le[Te]&&delete Le[Te];return`${function jd({config:_}){return _.emulator?pn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,m.xO)(Le).slice(1)}`}const au="webStorageSupport",qh=class Wp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ro,this._completeRedirectFn=Ji,this._overrideRedirectResult=No}_openPopup(h,g,D,B){var Z=this;return(0,f.Z)(function*(){var Ye;Qe(null===(Ye=Z.eventManagers[h._key()])||void 0===Ye?void 0:Ye.manager,"_initialize() not called before _openPopup()");const Le=jl(h,g,D,wt(),B);return function Ul(_,h,g,D=500,B=600){const Z=Math.max((window.screen.availHeight-B)/2,0).toString(),Ye=Math.max((window.screen.availWidth-D)/2,0).toString();let Le="";const Te=Object.assign(Object.assign({},Mu),{width:D.toString(),height:B.toString(),top:Z,left:Ye}),tt=(0,m.z$)().toLowerCase();g&&(Le=Be(tt)?"_blank":g),H(tt)&&(h=h||"http://localhost",Te.scrollbars="yes");const In=Object.entries(Te).reduce((Po,[Nu,Gd])=>`${Po}${Nu}=${Gd},`,"");if(function je(_=(0,m.z$)()){var h;return te(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(tt)&&"_self"!==Le)return function Rc(_,h){const g=document.createElement("a");g.href=_,g.target=h;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(D)}(h||"",Le),new Zh(null);const Ur=window.open(h||"",Le,In);Ce(Ur,_,"popup-blocked");try{Ur.focus()}catch{}return new Zh(Ur)}(h,Le,Ya())})()}_openRedirect(h,g,D,B){var Z=this;return(0,f.Z)(function*(){return yield Z._originValidation(h),function Ma(_){Mr().location.href=_}(jl(h,g,D,wt(),B)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:B,promise:Z}=this.eventManagers[g];return B?Promise.resolve(B):(Qe(Z,"If manager is not set, promise should be"),Z)}const D=this.initAndGetManager(h);return this.eventManagers[g]={promise:D},D.catch(()=>{delete this.eventManagers[g]}),D}initAndGetManager(h){var g=this;return(0,f.Z)(function*(){const D=yield function Bd(_){return Vl.apply(this,arguments)}(h),B=new La(h);return D.register("authEvent",Z=>(Ce(Z?.authEvent,h,"invalid-auth-event"),{status:B.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:B},g.iframes[h._key()]=D,B})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(au,{type:au},B=>{var Z;const Ye=null===(Z=B?.[0])||void 0===Z?void 0:Z[au];void 0!==Ye&&g(!!Ye),mt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Fd(_){return Pl.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return Yt()||re()||te()}};class $d extends class Hd{constructor(h){this.factorId=h}_process(h,g,D){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,D);case"signin":return this._finalizeSignIn(h,g.credential);default:return $e("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new $d(h)}_finalizeEnroll(h,g,D){return function aa(_,h){return ke(_,"POST","/v2/accounts/mfaEnrollment:finalize",Sn(_,h))}(h,{idToken:g,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function Oo(_,h){return ke(_,"POST","/v2/accounts/mfaSignIn:finalize",Sn(_,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let uu=(()=>{class _{constructor(){}static assertion(g){return $d._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Ou="@firebase/auth",Yh="0.20.11";class zd{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,f.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(D=>{var B;h((null===(B=D)||void 0===B?void 0:B.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,m.Pz)("authIdTokenMaxAge"),function Gp(_){(0,M._registerComponent)(new ee.wA("auth",(h,{options:g})=>{const D=h.getProvider("app").getImmediate(),B=h.getProvider("heartbeat"),{apiKey:Z,authDomain:Ye}=D.options;return((Le,Te)=>{Ce(Z&&!Z.includes(":"),"invalid-api-key",{appName:Le.name}),Ce(!Ye?.includes(":"),"argument-error",{appName:Le.name});const tt={apiKey:Z,authDomain:Ye,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tn(_)},In=new jr(Le,Te,tt);return function Ve(_,h){const g=h?.persistence||[],D=(Array.isArray(g)?g:[g]).map(Ae);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(D,h?.popupRedirectResolver)}(In,g),In})(D,B)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,D)=>{h.getProvider("auth-internal").initialize()})),(0,M._registerComponent)(new ee.wA("auth-internal",h=>{const g=nn(h.getProvider("auth").getImmediate());return new zd(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,M.registerVersion)(Ou,Yh,function gy(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,M.registerVersion)(Ou,Yh,"esm2017")}("Browser")},2090:(Ie,ae,C)=>{"use strict";C.d(ae,{$s:()=>St,BH:()=>fn,G6:()=>We,L:()=>oe,LL:()=>kn,Pz:()=>hn,Sg:()=>kt,UG:()=>Ge,US:()=>ee,ZB:()=>ne,ZR:()=>An,aH:()=>qt,b$:()=>Me,eu:()=>Ce,hl:()=>ut,jU:()=>vt,m9:()=>wn,ne:()=>Ne,pd:()=>bn,r3:()=>Kt,ru:()=>Je,tV:()=>ce,uI:()=>Ue,vZ:()=>ot,w1:()=>mt,xO:()=>Bt,xb:()=>Oe,z$:()=>Ke,zI:()=>$e,zd:()=>Tt});const Y=function(be){const ye=[];let De=0;for(let pe=0;pe<be.length;pe++){let H=be.charCodeAt(pe);H<128?ye[De++]=H:H<2048?(ye[De++]=H>>6|192,ye[De++]=63&H|128):55296==(64512&H)&&pe+1<be.length&&56320==(64512&be.charCodeAt(pe+1))?(H=65536+((1023&H)<<10)+(1023&be.charCodeAt(++pe)),ye[De++]=H>>18|240,ye[De++]=H>>12&63|128,ye[De++]=H>>6&63|128,ye[De++]=63&H|128):(ye[De++]=H>>12|224,ye[De++]=H>>6&63|128,ye[De++]=63&H|128)}return ye},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(be,ye){if(!Array.isArray(be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const De=ye?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let H=0;H<be.length;H+=3){const re=be[H],Be=H+1<be.length,_t=Be?be[H+1]:0,Pt=H+2<be.length,jt=Pt?be[H+2]:0;let ie=(15&_t)<<2|jt>>6,je=63&jt;Pt||(je=64,Be||(ie=64)),pe.push(De[re>>2],De[(3&re)<<4|_t>>4],De[ie],De[je])}return pe.join("")},encodeString(be,ye){return this.HAS_NATIVE_SUPPORT&&!ye?btoa(be):this.encodeByteArray(Y(be),ye)},decodeString(be,ye){return this.HAS_NATIVE_SUPPORT&&!ye?atob(be):function(be){const ye=[];let De=0,pe=0;for(;De<be.length;){const H=be[De++];if(H<128)ye[pe++]=String.fromCharCode(H);else if(H>191&&H<224){const re=be[De++];ye[pe++]=String.fromCharCode((31&H)<<6|63&re)}else if(H>239&&H<365){const Pt=((7&H)<<18|(63&be[De++])<<12|(63&be[De++])<<6|63&be[De++])-65536;ye[pe++]=String.fromCharCode(55296+(Pt>>10)),ye[pe++]=String.fromCharCode(56320+(1023&Pt))}else{const re=be[De++],Be=be[De++];ye[pe++]=String.fromCharCode((15&H)<<12|(63&re)<<6|63&Be)}}return ye.join("")}(this.decodeStringToByteArray(be,ye))},decodeStringToByteArray(be,ye){this.init_();const De=ye?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let H=0;H<be.length;){const re=De[be.charAt(H++)],_t=H<be.length?De[be.charAt(H)]:0;++H;const jt=H<be.length?De[be.charAt(H)]:64;++H;const te=H<be.length?De[be.charAt(H)]:64;if(++H,null==re||null==_t||null==jt||null==te)throw Error();pe.push(re<<2|_t>>4),64!==jt&&(pe.push(_t<<4&240|jt>>2),64!==te&&pe.push(jt<<6&192|te))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let be=0;be<this.ENCODED_VALS.length;be++)this.byteToCharMap_[be]=this.ENCODED_VALS.charAt(be),this.charToByteMap_[this.byteToCharMap_[be]]=be,this.byteToCharMapWebSafe_[be]=this.ENCODED_VALS_WEBSAFE.charAt(be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[be]]=be,be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(be)]=be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(be)]=be)}}},oe=function(be){return function(be){const ye=Y(be);return ee.encodeByteArray(ye,!0)}(be).replace(/\./g,"")},ce=function(be){try{return ee.decodeString(be,!0)}catch(ye){console.error("base64Decode failed: ",ye)}return null};function ne(be,ye){if(!(ye instanceof Object))return ye;switch(ye.constructor){case Date:return new Date(ye.getTime());case Object:void 0===be&&(be={});break;case Array:be=[];break;default:return ye}for(const De in ye)!ye.hasOwnProperty(De)||!de(De)||(be[De]=ne(be[De],ye[De]));return be}function de(be){return"__proto__"!==be}function Ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function Ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function vt(){return"object"==typeof self&&self.self===self}function Je(){const be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof be&&void 0!==be.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mt(){const be=Ke();return be.indexOf("MSIE ")>=0||be.indexOf("Trident/")>=0}function We(){return!Ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ut(){return"object"==typeof indexedDB}function Ce(){return new Promise((be,ye)=>{try{let De=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open(pe);H.onsuccess=()=>{H.result.close(),De||self.indexedDB.deleteDatabase(pe),be(!0)},H.onupgradeneeded=()=>{De=!1},H.onerror=()=>{var re;ye((null===(re=H.error)||void 0===re?void 0:re.message)||"")}}catch(De){ye(De)}})}function $e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Ve=()=>{try{return function Qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const be=process.env.__FIREBASE_DEFAULTS__;return be?JSON.parse(be):void 0})()||(()=>{if(typeof document>"u")return;let be;try{be=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ye=be&&ce(be[1]);return ye&&JSON.parse(ye)})()}catch(be){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${be}`)}},qt=()=>{var be;return null===(be=Ve())||void 0===be?void 0:be.config},hn=be=>{var ye;return null===(ye=Ve())||void 0===ye?void 0:ye[`_${be}`]};class fn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ye,De)=>{this.resolve=ye,this.reject=De})}wrapCallback(ye){return(De,pe)=>{De?this.reject(De):this.resolve(pe),"function"==typeof ye&&(this.promise.catch(()=>{}),1===ye.length?ye(De):ye(De,pe))}}}function kt(be,ye){if(be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=ye||"demo-project",H=be.iat||0,re=be.sub||be.user_id;if(!re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Be=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:H,exp:H+3600,auth_time:H,sub:re,user_id:re,firebase:{sign_in_provider:"custom",identities:{}}},be);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(Be)),""].join(".")}class An extends Error{constructor(ye,De,pe){super(De),this.code=ye,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,An.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kn.prototype.create)}}class kn{constructor(ye,De,pe){this.service=ye,this.serviceName=De,this.errors=pe}create(ye,...De){const pe=De[0]||{},H=`${this.service}/${ye}`,re=this.errors[ye],Be=re?function Dn(be,ye){return be.replace(Sn,(De,pe)=>{const H=ye[pe];return null!=H?String(H):`<${pe}?>`})}(re,pe):"Error";return new An(H,`${this.serviceName}: ${Be} (${H}).`,pe)}}const Sn=/\{\$([^}]+)}/g;function Kt(be,ye){return Object.prototype.hasOwnProperty.call(be,ye)}function Oe(be){for(const ye in be)if(Object.prototype.hasOwnProperty.call(be,ye))return!1;return!0}function ot(be,ye){if(be===ye)return!0;const De=Object.keys(be),pe=Object.keys(ye);for(const H of De){if(!pe.includes(H))return!1;const re=be[H],Be=ye[H];if(Zt(re)&&Zt(Be)){if(!ot(re,Be))return!1}else if(re!==Be)return!1}for(const H of pe)if(!De.includes(H))return!1;return!0}function Zt(be){return null!==be&&"object"==typeof be}function Bt(be){const ye=[];for(const[De,pe]of Object.entries(be))Array.isArray(pe)?pe.forEach(H=>{ye.push(encodeURIComponent(De)+"="+encodeURIComponent(H))}):ye.push(encodeURIComponent(De)+"="+encodeURIComponent(pe));return ye.length?"&"+ye.join("&"):""}function Tt(be){const ye={};return be.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[H,re]=pe.split("=");ye[decodeURIComponent(H)]=decodeURIComponent(re)}}),ye}function bn(be){const ye=be.indexOf("?");if(!ye)return"";const De=be.indexOf("#",ye);return be.substring(ye,De>0?De:void 0)}function Ne(be,ye){const De=new me(be,ye);return De.subscribe.bind(De)}class me{constructor(ye,De){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=De,this.task.then(()=>{ye(this)}).catch(pe=>{this.error(pe)})}next(ye){this.forEachObserver(De=>{De.next(ye)})}error(ye){this.forEachObserver(De=>{De.error(ye)}),this.close(ye)}complete(){this.forEachObserver(ye=>{ye.complete()}),this.close()}subscribe(ye,De,pe){let H;if(void 0===ye&&void 0===De&&void 0===pe)throw new Error("Missing Observer.");H=function ze(be,ye){if("object"!=typeof be||null===be)return!1;for(const De of ye)if(De in be&&"function"==typeof be[De])return!0;return!1}(ye,["next","error","complete"])?ye:{next:ye,error:De,complete:pe},void 0===H.next&&(H.next=Pe),void 0===H.error&&(H.error=Pe),void 0===H.complete&&(H.complete=Pe);const re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch{}}),this.observers.push(H),re}unsubscribeOne(ye){void 0===this.observers||void 0===this.observers[ye]||(delete this.observers[ye],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ye){if(!this.finalized)for(let De=0;De<this.observers.length;De++)this.sendOne(De,ye)}sendOne(ye,De){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ye])try{De(this.observers[ye])}catch(pe){typeof console<"u"&&console.error&&console.error(pe)}})}close(ye){this.finalized||(this.finalized=!0,void 0!==ye&&(this.finalError=ye),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pe(){}function St(be,ye=1e3,De=2){const pe=ye*Math.pow(De,be),H=Math.round(.5*pe*(Math.random()-.5)*2);return Math.min(144e5,pe+H)}function wn(be){return be&&be._delegate?be._delegate:be}},6105:(Ie,ae,C)=>{"use strict";C.d(ae,{I:()=>m,UA:()=>Y,af:()=>f,vM:()=>M});const f="NCT_Current_Index",m="NCT_List_Song",M="NCT_Volume",Y="NCT_History_Music"},498:(Ie,ae,C)=>{"use strict";C.d(ae,{cO:()=>M,jE:()=>G,qi:()=>ee,qp:()=>m});var f=C(6105);const m="https://stc-id.nixcdn.com/v12/static/media/default_song_no_cover.a876da66.png",M="https://raw.githubusercontent.com/an678-mhg/NextComics/main/public/not-found.png",G=Q=>{let oe=JSON.parse(localStorage.getItem(f.UA))||[];oe.some(X=>X.key===Q.key)&&(oe=oe.filter(X=>X.key!==Q.key)),oe.unshift(Q),localStorage.setItem(f.UA,JSON.stringify(oe))},ee=()=>JSON.parse(localStorage.getItem(f.UA))||[]},9099:(Ie,ae,C)=>{"use strict";C.d(ae,{n:()=>m});var f=C(4650);let m=(()=>{class M{constructor(){}ngOnDestroy(){document.removeEventListener("window:resize",this.getScreenSize,!1)}ngOnInit(){this.getScreenSize()}getScreenSize(){this.width=window.innerWidth,this.isPC=this.width>1024,this.isTablet=this.width>768,this.isMobile=this.width>640}}return M.\u0275fac=function(G){return new(G||M)},M.\u0275dir=f.lG2({type:M,selectors:[["","appInnerWidth",""]],hostBindings:function(G,ee){1&G&&f.NdJ("resize",function(oe){return ee.getScreenSize(oe)},!1,f.Jf7)},exportAs:["windowWidth"],standalone:!0}),M})()},1177:(Ie,ae,C)=>{"use strict";C.d(ae,{c:()=>Y});var f=C(7550),M=C(4650);let Y=(()=>{class G{constructor(){this.okButton="OK",this.cancelButton="Cancel",this.loadingType="standard",this.loadingColor="#fff",this.loadingSvgUrl=null,this.init=Q=>{this.okButton=Q?.okButton||"OK",this.cancelButton=Q?.cancelButton||"Cancel",this.loadingType=Q?.loadingType||"standard",this.loadingColor=Q?.loadingColor||"#fff",this.loadingSvgUrl=Q?.loadingSvgUrl||null,f.Notify.init({pauseOnHover:!0,clickToClose:!0,fontSize:"16px",position:"center-top",success:{notiflixIconColor:"#fff"},failure:{notiflixIconColor:"#fff"},warning:{notiflixIconColor:"#000",textColor:"#000"},info:{notiflixIconColor:"#000",textColor:"#000"}}),f.Confirm.init({titleColor:"#ff5549",titleFontSize:"20px",messageFontSize:"16px",okButtonBackground:"#ff5549"}),f.Loading.init({customSvgUrl:this.loadingSvgUrl,svgColor:this.loadingColor,svgSize:"128px"}),f.Report.init({success:{backOverlayColor:"rgba(0,0,0,0.5)"},failure:{backOverlayColor:"rgba(0,0,0,0.5)"},warning:{backOverlayColor:"rgba(0,0,0,0.5)",buttonColor:"#000"},info:{backOverlayColor:"rgba(0,0,0,0.5)",buttonColor:"#000"}}),f.Block.init({svgSize:"128px"})},this.success=Q=>{f.Notify.success(Q)},this.error=Q=>{f.Notify.failure(Q)},this.warning=Q=>{f.Notify.warning(Q)},this.info=Q=>{f.Notify.info(Q)},this.confirm=(Q,oe,ce,X)=>{f.Confirm.show(Q,oe,this.okButton,this.cancelButton,ce,X)},this.ask=(Q,oe,ce,X,ne)=>{f.Confirm.ask(Q,oe,ce,this.okButton,this.cancelButton,X,ne)},this.prompt=(Q,oe,ce,X,ne)=>{f.Confirm.prompt(Q,oe,ce,this.okButton,this.cancelButton,X,ne)},this.showLoading=()=>{switch(this.loadingType){case"hourglass":f.Loading.hourglass();break;case"circle":f.Loading.circle();break;case"arrows":f.Loading.arrows();break;case"dots":f.Loading.dots();break;case"pulse":f.Loading.pulse();break;case"custom":f.Loading.custom();break;default:f.Loading.standard()}},this.hideLoading=()=>{f.Loading.remove()},this.successReport=(Q,oe,ce)=>{f.Report.success(Q,oe,this.okButton,ce)},this.errorReport=(Q,oe,ce)=>{f.Report.failure(Q,oe,this.okButton,ce)},this.infoReport=(Q,oe,ce)=>{f.Report.info(Q,oe,this.okButton,ce)},this.warningReport=(Q,oe,ce)=>{f.Report.warning(Q,oe,this.okButton,ce)},this.showBlock=Q=>{switch(this.loadingType){case"hourglass":f.Block.hourglass(Q);break;case"circle":f.Block.circle(Q);break;case"arrows":f.Block.arrows(Q);break;case"dots":f.Block.dots(Q);break;case"pulse":f.Block.pulse(Q);break;default:f.Block.standard(Q)}},this.hideBlock=Q=>{f.Block.remove(Q)}}}return G.\u0275fac=function(Q){return new(Q||G)},G.\u0275prov=M.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})()},5766:(Ie,ae,C)=>{"use strict";C.d(ae,{o:()=>Y});var f=C(529),m=C(2340),M=C(4650);let Y=(()=>{class G{constructor(Q){this.http=Q,this.apiUrl=m.N.apiUrl}getSong(Q){let oe=(new f.LE).append("key",Q);return this.http.get(`${this.apiUrl}song`,{params:oe})}getLyric(Q){let oe=(new f.LE).append("key",Q);return this.http.get(`${this.apiUrl}lyric`,{params:oe})}}return G.\u0275fac=function(Q){return new(Q||G)(M.LFG(f.eN))},G.\u0275prov=M.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})()},1368:(Ie,ae,C)=>{"use strict";C.d(ae,{K0:()=>m,Sl:()=>M,xv:()=>Y});var f=C(9653);const m=(0,f.PH)("[Default Layout] SetMenu"),M=(0,f.PH)("[Default Layout] SetPlayer"),Y=(0,f.PH)("[Default Layout] Close")},653:(Ie,ae,C)=>{"use strict";C.d(ae,{At:()=>M,QN:()=>Y,aV:()=>m});var f=C(9653);const m=(0,f.PH)("[Player] SetSongId",(0,f.Ky)()),M=(0,f.PH)("[Player] SetCurrentIndex",(0,f.Ky)()),Y=(0,f.PH)("[Player] SetSongAndIndex",(0,f.Ky)())},2340:(Ie,ae,C)=>{"use strict";C.d(ae,{N:()=>G});const G={production:!0,apiUrl:`${window.location.protocol}//proxy-nct.vercel.app/`,firebaseConfig:{apiKey:"AIzaSyCd9Z-ZwSOEUBXDfwJpUHLV3TFWxc4ykAM",authDomain:"ntc-cloned.firebaseapp.com",projectId:"ntc-cloned",storageBucket:"ntc-cloned.appspot.com",messagingSenderId:"307187997369",appId:"1:307187997369:web:be4c86a038556391c11968"}}},4308:(Ie,ae,C)=>{"use strict";var f=C(1481),m=C(4650),M=C(9653),Y=C(433),G=C(529),ee=C(2011),Q=C(7579),oe=C(9646),ce=C(9751),X=C(8996),ne=C(6451),de=C(5363),Ke=C(3900),Ue=C(4004),Ge=C(4707),vt=C(3099);function Je(r,e,t){let s,a=!1;return r&&"object"==typeof r?({bufferSize:s=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:t}=r):s=r??1/0,(0,vt.B)({connector:()=>new Ge.t(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var Me=C(590),bt=C(576);function mt(r,e){return(0,bt.m)(e)?(0,Ke.w)(()=>r,e):(0,Ke.w)(()=>r)}var lt=C(9468),it=C(9300),We=C(6351),ut=C(6895);C(5867);var ke=C(5861),er=C(9681),qn=C(4859),dn=C(2090),Rn=C(1877);const dr=new Map,rr={activated:!1,tokenObservers:[]},Kt={initialized:!1,enabled:!1};function ve(r){return dr.get(r)||Object.assign({},rr)}function qe(){return Kt}class Gt{constructor(e,t,s,a,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ke.Z)(function*(){t.stop();try{t.pending=new dn.BH,yield function Ne(r){return new Promise(e=>{setTimeout(e,r)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new dn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const se=new dn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Pe(r){if(!ve(r).activated)throw se.create("use-before-activation",{appName:r.name})}function gn(r,e){return xt.apply(this,arguments)}function xt(){return(xt=(0,ke.Z)(function*({url:r,body:e},t){var s,a;const c={"Content-Type":"application/json"},p=t.getImmediate({optional:!0});if(p){const ft=yield p.getHeartbeatsHeader();ft&&(c["X-Firebase-Client"]=ft)}const b={method:"POST",body:JSON.stringify(e),headers:c};let N,U;try{N=yield fetch(r,b)}catch(ft){throw se.create("fetch-network-error",{originalErrorMessage:null===(s=ft)||void 0===s?void 0:s.message})}if(200!==N.status)throw se.create("fetch-status-error",{httpStatus:N.status});try{U=yield N.json()}catch(ft){throw se.create("fetch-parse-error",{originalErrorMessage:null===(a=ft)||void 0===a?void 0:a.message})}const J=U.ttl.match(/^([\d.]+)(s)$/);if(!J||!J[2]||isNaN(Number(J[1])))throw se.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${U.ttl}`});const Ee=1e3*Number(J[1]),Ze=Date.now();return{token:U.token,expireTimeMillis:Ze+Ee,issuedAtTimeMillis:Ze}})).apply(this,arguments)}function xn(r,e){const{projectId:t,appId:s,apiKey:a}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const At="firebase-app-check-store";let gt=null;function St(){return gt||(gt=new Promise((r,e)=>{var t;try{const s=indexedDB.open("firebase-app-check-database",1);s.onsuccess=a=>{r(a.target.result)},s.onerror=a=>{var c;e(se.create("storage-open",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))},s.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(At,{keyPath:"compositeKey"})}}catch(s){e(se.create("storage-open",{originalErrorMessage:null===(t=s)||void 0===t?void 0:t.message}))}}),gt)}function De(){return(De=(0,ke.Z)(function*(r,e){const s=(yield St()).transaction(At,"readwrite"),c=s.objectStore(At).put({compositeKey:r,value:e});return new Promise((p,b)=>{c.onsuccess=N=>{p()},s.onerror=N=>{var U;b(se.create("storage-set",{originalErrorMessage:null===(U=N.target.error)||void 0===U?void 0:U.message}))}})})).apply(this,arguments)}const Be=new Rn.Yd("@firebase/app-check");function jt(r,e){return(0,dn.hl)()?function un(r,e){return function ye(r,e){return De.apply(this,arguments)}(function re(r){return`${r.options.appId}-${r.name}`}(r),e)}(r,e).catch(t=>{Be.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ie(){return qe().enabled}function je(){return et.apply(this,arguments)}function et(){return(et=(0,ke.Z)(function*(){const r=qe();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const En={error:"UNKNOWN_ERROR"};function Tn(r){return dn.US.encodeString(JSON.stringify(r),!1)}function ur(r){return jr.apply(this,arguments)}function jr(){return(jr=(0,ke.Z)(function*(r,e=!1){const t=r.app;Pe(t);const s=ve(t);let c,a=s.token;if(a&&!lr(a)&&(s.token=void 0,a=void 0),!a){const N=yield s.cachedTokenPromise;N&&(lr(N)?a=N:yield jt(t,void 0))}if(!e&&a&&lr(a))return{token:a.token};let b,p=!1;if(ie()){s.exchangeTokenPromise||(s.exchangeTokenPromise=gn(xn(t,yield je()),r.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),p=!0);const N=yield s.exchangeTokenPromise;return yield jt(t,N),s.token=N,{token:N.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),p=!0),a=yield ve(t).exchangeTokenPromise}catch(N){"appCheck/throttled"===N.code?Be.warn(N.message):Be.error(N),c=N}return a?c?b=lr(a)?{token:a.token,internalError:c}:Gi(c):(b={token:a.token},s.token=a,yield jt(t,a)):b=Gi(c),p&&Oi(t,b),b})).apply(this,arguments)}function mi(r,e){const t=ve(r),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=s}function xr(r){const{app:e}=r,t=ve(e);let s=t.tokenRefresher;s||(s=function es(r){const{app:e}=r;return new Gt((0,ke.Z)(function*(){let s;if(s=ve(e).token?yield ur(r,!0):yield ur(r),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const t=ve(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(r),t.tokenRefresher=s),!s.isRunning()&&t.isTokenAutoRefreshEnabled&&s.start()}function Oi(r,e){const t=ve(r).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch{}}function lr(r){return r.expireTimeMillis-Date.now()>0}function Gi(r){return{token:Tn(En),error:r}}class Qr{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ve(this.app);for(const t of e)mi(this.app,t.next);return Promise.resolve()}}const Dr="app-check-internal";!function Zr(){(0,er._registerComponent)(new qn.wA("app-check",r=>function kr(r,e){return new Qr(r,e)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,e,t)=>{r.getProvider(Dr).initialize()})),(0,er._registerComponent)(new qn.wA(Dr,r=>function mr(r){return{getToken:e=>ur(r,e),addTokenListener:e=>function nn(r,e,t,s){const{app:a}=r,c=ve(a);if(c.tokenObservers=[...c.tokenObservers,{next:t,error:s,type:e}],c.token&&lr(c.token)){const b=c.token;Promise.resolve().then(()=>{t({token:b.token}),xr(r)}).catch(()=>{})}c.cachedTokenPromise.then(()=>xr(r))}(r,"INTERNAL",e),removeTokenListener:e=>mi(r.app,e)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,er.registerVersion)("@firebase/app-check","0.5.17")}();class Ui{constructor(){return(0,We.vb)("app-check")}}typeof window<"u"&&window;var vs=C(127);const rs=new m.OlP("angularfire2.auth.use-emulator"),zo=new m.OlP("angularfire2.auth.settings"),ii=new m.OlP("angularfire2.auth.tenant-id"),yi=new m.OlP("angularfire2.auth.langugage-code"),li=new m.OlP("angularfire2.auth.use-device-language"),ci=new m.OlP("angularfire.auth.persistence"),vi=(r,e,t,s,a,c,p,b)=>(0,ee.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const N=e.runOutsideAngular(()=>r.auth());if(t&&N.useEmulator(...t),s&&(N.tenantId=s),N.languageCode=a,c&&N.useDeviceLanguage(),p)for(const[U,J]of Object.entries(p))N.settings[U]=J;return b&&N.setPersistence(b),N},[t,s,a,c,p,b]);let is=(()=>{class r{constructor(t,s,a,c,p,b,N,U,J,Ee,Ze,ft){const It=new Q.x,Qt=(0,oe.of)(void 0).pipe((0,de.Q)(p.outsideAngular),(0,Ke.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(C.bind(C,5881)))),(0,Ue.U)(()=>(0,ee.on)(t,c,s)),(0,Ue.U)(en=>vi(en,c,b,U,J,Ee,N,Ze)),Je({bufferSize:1,refCount:!1}));if((0,ut.PM)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,oe.of)(null);else{Qt.pipe((0,Me.P)()).subscribe();const fr=Qt.pipe((0,Ke.w)(nr=>nr.getRedirectResult().then(Xn=>Xn,()=>null)),We.iC,Je({bufferSize:1,refCount:!1})),Pr=Qt.pipe((0,Ke.w)(nr=>new ce.y(Xn=>({unsubscribe:c.runOutsideAngular(()=>nr.onAuthStateChanged(ar=>Xn.next(ar),ar=>Xn.error(ar),()=>Xn.complete()))})))),pr=Qt.pipe((0,Ke.w)(nr=>new ce.y(Xn=>({unsubscribe:c.runOutsideAngular(()=>nr.onIdTokenChanged(ar=>Xn.next(ar),ar=>Xn.error(ar),()=>Xn.complete()))}))));this.authState=fr.pipe(mt(Pr),(0,lt.R)(p.outsideAngular),(0,de.Q)(p.insideAngular)),this.user=fr.pipe(mt(pr),(0,lt.R)(p.outsideAngular),(0,de.Q)(p.insideAngular)),this.idToken=this.user.pipe((0,Ke.w)(nr=>nr?(0,X.D)(nr.getIdToken()):(0,oe.of)(null))),this.idTokenResult=this.user.pipe((0,Ke.w)(nr=>nr?(0,X.D)(nr.getIdTokenResult()):(0,oe.of)(null))),this.credential=(0,ne.T)(fr,It,this.authState.pipe((0,it.h)(nr=>!nr))).pipe((0,Ue.U)(nr=>nr?.user?nr:null),(0,lt.R)(p.outsideAngular),(0,de.Q)(p.insideAngular))}return(0,ee.pX)(this,Qt,c,{spy:{apply:(en,fr,Pr)=>{(en.startsWith("signIn")||en.startsWith("createUser"))&&Pr.then(pr=>It.next(pr))}}})}}return r.\u0275fac=function(t){return new(t||r)(m.LFG(ee.Dh),m.LFG(ee.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(We.HU),m.LFG(rs,8),m.LFG(zo,8),m.LFG(ii,8),m.LFG(yi,8),m.LFG(li,8),m.LFG(ci,8),m.LFG(Ui,8))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Wo=(()=>{class r{constructor(){vs.Z.registerVersion("angularfire",We.q4.full,"auth-compat")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({providers:[is]}),r})();var So=C(825),Fn=C(2607),eo=C(8505),sa=C(4986),di=C(8675),Tr=C(4482),_i=C(5403);function Yi(){return(0,Tr.e)((r,e)=>{let t,s=!1;r.subscribe((0,_i.x)(e,a=>{const c=t;t=a,s&&e.next([c,a]),s=!0}))})}var an,wi=C(5026),Jn=C(1884),ss=(C(5881),C(3942)),oa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sr={},Cr=Cr||{},Lt=oa||self;function _s(){}function Ao(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function os(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var $r="closure_uid_"+(1e9*Math.random()>>>0),as=0;function ws(r,e,t){return r.call.apply(r.bind,arguments)}function ro(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function yt(r,e,t){return(yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ws:ro).apply(null,arguments)}function Pn(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Rr(r,e){function t(){}t.prototype=e.prototype,r.X=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Wb=function(s,a,c){for(var p=Array(arguments.length-2),b=2;b<arguments.length;b++)p[b-2]=arguments[b];return e.prototype[a].apply(s,p)}}function Ti(){this.s=this.s,this.o=this.o}Ti.prototype.s=!1,Ti.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function no(r){Object.prototype.hasOwnProperty.call(r,$r)&&r[$r]||(r[$r]=++as)}(this)},Ti.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Bi=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function us(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function hi(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Ao(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let p=0;p<c;p++)r[a+p]=s[p]}else r.push(s)}}function zr(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}zr.prototype.h=function(){this.defaultPrevented=!0};var ls=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Lt.addEventListener("test",_s,e),Lt.removeEventListener("test",_s,e)}catch{}return r}();function ks(r){return/^[\s\xa0]*$/.test(r)}var io=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function F(r,e){return r<e?-1:r>e?1:0}function O(){var r=Lt.navigator;return r&&(r=r.userAgent)?r:""}function A(r){return-1!=O().indexOf(r)}function q(r){return q[" "](r),r}q[" "]=_s;var Gs,r,cn=A("Opera"),$n=A("Trident")||A("MSIE"),si=A("Edge"),fi=si||$n,Ei=A("Gecko")&&!(-1!=O().toLowerCase().indexOf("webkit")&&!A("Edge"))&&!(A("Trident")||A("MSIE"))&&!A("Edge"),Mo=-1!=O().toLowerCase().indexOf("webkit")&&!A("Edge");function cs(){var r=Lt.document;return r?r.documentMode:void 0}e:{var so="",Go=(r=O(),Ei?/rv:([^\);]+)(\)|;)/.exec(r):si?/Edge\/([\d\.]+)/.exec(r):$n?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Mo?/WebKit\/(\S+)/.exec(r):cn?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Go&&(so=Go?Go[1]:""),$n){var oo=cs();if(null!=oo&&oo>parseFloat(so)){Gs=String(oo);break e}}Gs=so}var qa={};var bu=Lt.document&&$n&&(cs()||parseInt(Gs,10))||void 0;function x(r,e){if(zr.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Ei){e:{try{q(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:j[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&x.X.h.call(this)}}Rr(x,zr);var j={2:"touch",3:"pen",4:"mouse"};x.prototype.h=function(){x.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var R="closure_listenable_"+(1e6*Math.random()|0),W=0;function _e(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=a,this.key=++W,this.ba=this.ea=!1}function rt(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function pt(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function sn(r){const e={};for(const t in r)e[t]=r[t];return e}const Kn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tr(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<Kn.length;c++)t=Kn[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function Yn(r){this.src=r,this.g={},this.h=0}function Bn(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=Bi(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(rt(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Ar(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.ba&&c.listener==e&&c.capture==!!t&&c.ha==s)return a}return-1}Yn.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var p=Ar(r,e,s,a);return-1<p?(e=r[p],t||(e.ea=!1)):((e=new _e(e,this.src,c,!!s,a)).ea=t,r.push(e)),e};var or="closure_lm_"+(1e6*Math.random()|0),_r={};function Es(r,e,t,s,a){if(s&&s.once)return Ks(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Es(r,e[c],t,s,a);return null}return t=Iu(t),r&&r[R]?r.N(e,t,os(s)?!!s.capture:!!s,a):ds(r,e,t,!1,s,a)}function ds(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var p=os(a)?!!a.capture:!!a,b=Vr(r);if(b||(r[or]=b=new Yn(r)),(t=b.add(e,t,s,p,c)).proxy)return t;if(s=function bs(){const e=el;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)ls||(a=p),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(Zs(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Ks(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Ks(r,e[c],t,s,a);return null}return t=Iu(t),r&&r[R]?r.O(e,t,os(s)?!!s.capture:!!s,a):ds(r,e,t,!0,s,a)}function Si(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Si(r,e[c],t,s,a);else s=os(s)?!!s.capture:!!s,t=Iu(t),r&&r[R]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Ar(c=r.g[e],t,s,a))&&(rt(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=Vr(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Ar(e,t,s,a)),(t=-1<r?e[r]:null)&&bi(t))}function bi(r){if("number"!=typeof r&&r&&!r.ba){var e=r.src;if(e&&e[R])Bn(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(Zs(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Vr(e))?(Bn(t,r),0==t.h&&(t.src=null,e[or]=null)):rt(r)}}}function Zs(r){return r in _r?_r[r]:_r[r]="on"+r}function el(r,e){if(r.ba)r=!0;else{e=new x(e,this);var t=r.listener,s=r.ha||r.src;r.ea&&bi(r),r=t.call(s,e)}return r}function Vr(r){return(r=r[or])instanceof Yn?r:null}var aa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iu(r){return"function"==typeof r?r:(r[aa]||(r[aa]=function(e){return r.handleEvent(e)}),r[aa])}function Xr(){Ti.call(this),this.i=new Yn(this),this.P=this,this.I=null}function pi(r,e){var t,s=r.I;if(s)for(t=[];s;s=s.I)t.push(s);if(r=r.P,s=e.type||e,"string"==typeof e)e=new zr(e,r);else if(e instanceof zr)e.target=e.target||r;else{var a=e;tr(e=new zr(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var p=e.g=t[c];a=xa(p,s,!0,e)&&a}if(a=xa(p=e.g=r,s,!0,e)&&a,a=xa(p,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=xa(p=e.g=t[c],s,!1,e)&&a}function xa(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.ba&&p.capture==t){var b=p.listener,N=p.ha||p.src;p.ea&&Bn(r.i,p),a=!1!==b.call(N,s)&&a}}return a&&!s.defaultPrevented}Rr(Xr,Ti),Xr.prototype[R]=!0,Xr.prototype.removeEventListener=function(r,e,t,s){Si(this,r,e,t,s)},Xr.prototype.M=function(){if(Xr.X.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)rt(t[s]);delete r.g[e],r.h--}}this.I=null},Xr.prototype.N=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},Xr.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var qs=Lt.JSON.stringify;function Ta(){var r=la;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var nl,ua=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Cu,r=>r.reset());class Cu{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function tl(r){Lt.setTimeout(()=>{throw r},0)}function qr(r,e){nl||function Ro(){var r=Lt.Promise.resolve(void 0);nl=function(){r.then(Ya)}}(),Sa||(nl(),Sa=!0),la.add(r,e)}var Sa=!1,la=new class Du{constructor(){this.h=this.g=null}add(e,t){const s=ua.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Ya(){for(var r;r=Ta();){try{r.h.call(r.g)}catch(t){tl(t)}var e=ua;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Sa=!1}function Aa(r,e){Xr.call(this),this.h=r||1,this.g=e||Lt,this.j=yt(this.lb,this),this.l=Date.now()}function Mr(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function Ma(r,e,t){if("function"==typeof r)t&&(r=yt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=yt(r.handleEvent,r)}return 2147483647<Number(e)?-1:Lt.setTimeout(r,e||0)}function Ai(r){r.g=Ma(()=>{r.g=null,r.i&&(r.i=!1,Ai(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Rr(Aa,Xr),(an=Aa.prototype).ca=!1,an.R=null,an.lb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),pi(this,"tick"),this.ca&&(Mr(this),this.start()))}},an.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},an.M=function(){Aa.X.M.call(this),Mr(this),delete this.g};class xu extends Ti{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ai(this)}M(){super.M(),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(r){Ti.call(this),this.h=r,this.g={}}Rr(Is,Ti);var Qa=[];function Ja(r,e,t,s){Array.isArray(t)||(t&&(Qa[0]=t.toString()),t=Qa);for(var a=0;a<t.length;a++){var c=Es(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function ca(r){pt(r.g,function(e,t){this.g.hasOwnProperty(t)&&bi(e)},r),r.g={}}function uo(){this.g=!0}function hs(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function rl(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<a.length;p++)a[p]=""}}}return qs(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Is.prototype.M=function(){Is.X.M.call(this),ca(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uo.prototype.Aa=function(){this.g=!1},uo.prototype.info=function(){};var Rs={},co=null;function Ds(){return co=co||new Xr}function il(r){zr.call(this,Rs.Pa,r)}function Ys(r){const e=Ds();pi(e,new il(e))}function ha(r,e){zr.call(this,Rs.STAT_EVENT,r),this.stat=e}function Yr(r){const e=Ds();pi(e,new ha(e,r))}function Xa(r,e){zr.call(this,Rs.Qa,r),this.size=e}function Wr(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){r()},e)}Rs.Pa="serverreachability",Rr(il,zr),Rs.STAT_EVENT="statevent",Rr(ha,zr),Rs.Qa="timingevent",Rr(Xa,zr);var ho={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Tu={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Oo(){}function Ii(){}Oo.prototype.h=null;var ka,Os={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ns(){zr.call(this,"d")}function qo(){zr.call(this,"c")}function Qs(){}function Di(r,e,t,s){this.l=r,this.j=e,this.m=t,this.U=s||1,this.S=new Is(this),this.O=wr,this.T=new Aa(r=fi?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ra}function Ra(){this.i=null,this.g="",this.h=!1}Rr(Ns,zr),Rr(qo,zr),Rr(Qs,Oo),Qs.prototype.g=function(){return new XMLHttpRequest},Qs.prototype.i=function(){return{}},ka=new Qs;var wr=45e3,Nl={},fa={};function pa(r,e,t){r.K=1,r.v=Yo(Hi(e)),r.s=t,r.P=!0,Su(r,null)}function Su(r,e){r.F=Date.now(),Ps(r),r.A=Hi(r.v);var t=r.A,s=r.U;Array.isArray(s)||(s=[String(s)]),$t(t.i,"t",s),r.C=0,t=r.l.H,r.h=new Ra,r.g=Ul(r.l,t?e:null,!r.s),0<r.N&&(r.L=new xu(yt(r.La,r,r.g),r.N)),Ja(r.S,r.g,"readystatechange",r.ib),e=r.H?sn(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,e)):(r.u="GET",r.g.da(r.A,r.u,null,e)),Ys(),function Ko(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var p="",b=c.split("&"),N=0;N<b.length;N++){var U=b[N].split("=");if(1<U.length){var J=U[0];U=U[1];var Ee=J.split("_");p=2<=Ee.length&&"type"==Ee[1]?p+(J+"=")+U+"&":p+(J+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(r.j,r.u,r.A,r.m,r.U,r.s)}function Dc(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function eu(r,e,t){let a,s=!0;for(;!r.I&&r.C<t.length;){if(a=Cc(r,t),a==fa){4==e&&(r.o=4,Yr(14),s=!1),hs(r.j,r.m,null,"[Incomplete Response]");break}if(a==Nl){r.o=4,Yr(15),hs(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}hs(r.j,r.m,a,null),ga(r,a)}Dc(r)&&a!=fa&&a!=Nl&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Yr(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.$&&(r.$=!0,(e=r.l).g==r&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Bd(e),e.K=!0,Yr(11))):(hs(r.j,r.m,t,"[Invalid Chunked Response]"),Cs(r),Gr(r))}function Cc(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?fa:(t=Number(e.substring(t,s)),isNaN(t)?Nl:(s+=1)+t>e.length?fa:(e=e.substr(s,t),r.C=s+t,e))}function Ps(r){r.V=Date.now()+r.O,xc(r,r.O)}function xc(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Wr(yt(r.gb,r),e)}function sl(r){r.B&&(Lt.clearTimeout(r.B),r.B=null)}function Gr(r){0==r.l.G||r.I||kc(r.l,r)}function Cs(r){sl(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,Mr(r.T),ca(r.S),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function ga(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||iu(t.h,r)))if(!r.J&&iu(t.h,r)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<r.F))break e;Mu(t),Ac(t)}Fl(t),Yr(18)}}else t.Ba=a[1],0<t.Ba-t.T&&37500>a[2]&&t.L&&0==t.A&&!t.v&&(t.v=Wr(yt(t.cb,t),6e3));if(1>=Qi(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ru(t,11)}else if((r.J||t.g==r)&&Mu(t),!ks(e))for(a=t.Fa.g.parse(e),e=0;e<a.length;e++){let U=a[e];if(t.T=U[0],U=U[1],2==t.G)if("c"==U[0]){t.I=U[1],t.ka=U[2];const J=U[3];null!=J&&(t.ma=J,t.j.info("VER="+t.ma));const Ee=U[4];null!=Ee&&(t.Ca=Ee,t.j.info("SVER="+t.Ca));const Ze=U[5];null!=Ze&&"number"==typeof Ze&&0<Ze&&(t.J=s=1.5*Ze,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const ft=r.g;if(ft){const It=ft.g?ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(It){var c=s.h;c.g||-1==It.indexOf("spdy")&&-1==It.indexOf("quic")&&-1==It.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(No(c,c.h),c.h=null))}if(s.D){const Qt=ft.g?ft.g.getResponseHeader("X-HTTP-Session-Id"):null;Qt&&(s.za=Qt,hr(s.F,s.D,Qt))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var p=r;if((s=t).sa=Zh(s,s.H?s.ka:null,s.V),p.J){k(s.h,p);var b=p,N=s.J;N&&b.setTimeout(N),b.B&&(sl(b),Ps(b)),s.g=p}else zp(s);0<t.i.length&&Ll(t)}else"stop"!=U[0]&&"close"!=U[0]||Ru(t,7);else 3==t.G&&("stop"==U[0]||"close"==U[0]?"stop"==U[0]?Ru(t,7):Sc(t):"noop"!=U[0]&&t.l&&t.l.wa(U),t.A=0)}Ys()}catch{}}function ji(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Ao(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Oa(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Ao(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function ol(r){if(r.W&&"function"==typeof r.W)return r.W();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Ao(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(an=Di.prototype).setTimeout=function(r){this.O=r},an.ib=function(r){r=r.target;const e=this.L;e&&3==Va(r)?e.l():this.La(r)},an.La=function(r){try{if(r==this.g)e:{const J=Va(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>J)&&(3!=J||fi||this.g&&(this.h.h||this.g.fa()||Hp(this.g)))){this.I||4!=J||7==e||Ys(),sl(this);var t=this.g.aa();this.Y=t;t:if(Dc(this)){var s=Hp(this.g);r="";var a=s.length,c=4==Va(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Cs(this),Gr(this);var p="";break t}this.h.i=new Lt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,p=this.h.g}else p=this.g.fa();if(this.i=200==t,function da(r,e,t,s,a,c,p){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.U,J,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var b,N=this.g;if((b=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ks(b)){var U=b;break t}}U=null}if(!(t=U)){this.i=!1,this.o=3,Yr(12),Cs(this),Gr(this);break e}hs(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ga(this,t)}this.P?(eu(this,J,p),fi&&this.i&&3==J&&(Ja(this.S,this.T,"tick",this.hb),this.T.start())):(hs(this.j,this.m,p,null),ga(this,p)),4==J&&Cs(this),this.i&&!this.I&&(4==J?kc(this.l,this):(this.i=!1,Ps(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,Yr(12)):(this.o=0,Yr(13)),Cs(this),Gr(this)}}}catch{}},an.hb=function(){if(this.g){var r=Va(this.g),e=this.g.fa();this.C<e.length&&(sl(this),eu(this,r,e),this.i&&4!=r&&Ps(this))}},an.cancel=function(){this.I=!0,Cs(this)},an.gb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function lo(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ys(),Yr(17)),Cs(this),this.o=2,Gr(this)):xc(this,this.V-r)};var Ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fs(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof fs){this.h=void 0!==e?e:r.h,Na(this,r.j),this.s=r.s,this.g=r.g,ma(this,r.m),this.l=r.l,e=r.i;var t=new $;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),nu(this,t),this.o=r.o}else r&&(t=String(r).match(Ls))?(this.h=!!e,Na(this,t[1]||"",!0),this.s=fo(t[2]||""),this.g=fo(t[3]||"",!0),ma(this,t[4]),this.l=fo(t[5]||"",!0),nu(this,t[6]||"",!0),this.o=fo(t[7]||"")):(this.h=!!e,this.i=new $(null,this.h))}function Hi(r){return new fs(r)}function Na(r,e,t){r.j=t?fo(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function ma(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function nu(r,e,t){e instanceof $?(r.i=e,function rn(r,e){e&&!r.j&&(le(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(we(this,s),$t(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=oi(e,S)),r.i=new $(e,r.h))}function hr(r,e,t){r.i.set(e,t)}function Yo(r){return hr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function fo(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function oi(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,ru),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function ru(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}fs.prototype.toString=function(){var r=[],e=this.j;e&&r.push(oi(e,w,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(oi(e,w,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(oi(t,"/"==t.charAt(0)?v:E,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",oi(t,P)),r.join("")};var w=/[#\/\?@]/g,E=/[#\?:]/g,v=/[#\?]/g,S=/[#\?@]/g,P=/#/g;function $(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function le(r){r.g||(r.g=new Map,r.h=0,r.i&&function tu(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function we(r,e){le(r),e=mn(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function ht(r,e){return le(r),e=mn(r,e),r.g.has(e)}function $t(r,e,t){we(r,e),0<t.length&&(r.i=null,r.g.set(mn(r,e),us(t)),r.h+=t.length)}function mn(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Mi(r){this.l=r||ps,r=Lt.PerformanceNavigationTiming?0<(r=Lt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Lt.g&&Lt.g.Ga&&Lt.g.Ga()&&Lt.g.Ga().$b),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(an=$.prototype).add=function(r,e){le(this),this.i=null,r=mn(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},an.forEach=function(r,e){le(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},an.oa=function(){le(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},an.W=function(r){le(this);let e=[];if("string"==typeof r)ht(this,r)&&(e=e.concat(this.g.get(mn(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},an.set=function(r,e){return le(this),this.i=null,ht(this,r=mn(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},an.get=function(r,e){return r&&0<(r=this.W(r)).length?String(r[0]):e},an.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),p=this.W(s);for(s=0;s<p.length;s++){var a=c;""!==p[s]&&(a+="="+encodeURIComponent(String(p[s]))),r.push(a)}}return this.i=r.join("&")};var ps=10;function Fs(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Qi(r){return r.h?1:r.g?r.g.size:0}function iu(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function No(r,e){r.g?r.g.add(e):r.h=e}function k(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function L(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return us(r.i)}function z(){}function fe(){this.g=new z}function Fe(r,e,t){const s=t||"";try{ji(r,function(a,c){let p=a;os(a)&&(p=qs(a)),e.push(s+c+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Ct(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function Wt(r){this.l=r.ac||null,this.j=r.jb||!1}function Cn(r,e){Xr.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=Vn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mi.prototype.cancel=function(){if(this.i=L(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},z.prototype.stringify=function(r){return Lt.JSON.stringify(r,void 0)},z.prototype.parse=function(r){return Lt.JSON.parse(r,void 0)},Rr(Wt,Oo),Wt.prototype.g=function(){return new Cn(this.l,this.j)},Wt.prototype.i=function(r){return function(){return r}}({}),Rr(Cn,Xr);var Vn=0;function Hn(r){r.j.read().then(r.Ta.bind(r)).catch(r.ga.bind(r))}function vn(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Or(r)}function Or(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(an=Cn.prototype).open=function(r,e){if(this.readyState!=Vn)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Or(this)},an.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||Lt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},an.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vn(this)),this.readyState=Vn},an.Wa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Lt.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hn(this)}else r.text().then(this.Va.bind(this),this.ga.bind(this))},an.Ta=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?vn(this):Or(this),3==this.readyState&&Hn(this)}},an.Va=function(r){this.g&&(this.response=this.responseText=r,vn(this))},an.Ua=function(r){this.g&&(this.response=r,vn(this))},an.ga=function(){this.g&&vn(this)},an.setRequestHeader=function(r,e){this.v.append(r,e)},an.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},an.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Cn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Ji=Lt.JSON.parse;function Er(r){Xr.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Pa,this.K=this.L=!1}Rr(Er,Xr);var Pa="",Qo=/^https?$/i,Au=["POST","PUT"];function ya(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Jo(r),po(r)}function Jo(r){r.D||(r.D=!0,pi(r,"complete"),pi(r,"error"))}function Fa(r){if(r.h&&typeof Cr<"u"&&(!r.C[1]||4!=Va(r)||2!=r.aa()))if(r.v&&4==Va(r))Ma(r.Ha,0,r);else if(pi(r,"readystatechange"),4==Va(r)){r.h=!1;try{const b=r.aa();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===b){var a=String(r.H).match(Ls)[1]||null;if(!a&&Lt.self&&Lt.self.location){var c=Lt.self.location.protocol;a=c.substr(0,c.length-1)}s=!Qo.test(a?a.toLowerCase():"")}t=s}if(t)pi(r,"complete"),pi(r,"success");else{r.m=6;try{var p=2<Va(r)?r.g.statusText:""}catch{p=""}r.j=p+" ["+r.aa()+"]",Jo(r)}}finally{po(r)}}}function po(r,e){if(r.g){su(r);const t=r.g,s=r.C[0]?_s:null;r.g=null,r.C=null,e||pi(r,"ready");try{t.onreadystatechange=s}catch{}}}function su(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(Lt.clearTimeout(r.A),r.A=null)}function Va(r){return r.g?r.g.readyState:0}function Hp(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case Pa:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Fd(r){let e="";return pt(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Pl(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Fd(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):hr(r,e,t))}function Tc(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Gh(r){this.Ca=0,this.i=[],this.j=new uo,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Tc("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Tc("baseRetryDelayMs",5e3,r),this.bb=Tc("retryDelaySeedMs",1e4,r),this.$a=Tc("forwardChannelMaxRetries",2,r),this.ta=Tc("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Zb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new Mi(r&&r.concurrentRequestLimit),this.Fa=new fe,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=r&&r.Xb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Sc(r){if(ou(r),3==r.G){var e=r.U++,t=Hi(r.F);hr(t,"SID",r.I),hr(t,"RID",e),hr(t,"TYPE","terminate"),Mc(r,t),(e=new Di(r,r.j,e,void 0)).K=2,e.v=Yo(Hi(t)),t=!1,Lt.navigator&&Lt.navigator.sendBeacon&&(t=Lt.navigator.sendBeacon(e.v.toString(),"")),!t&&Lt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ul(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ps(e)}Kh(r)}function Ac(r){r.g&&(Bd(r),r.g.cancel(),r.g=null)}function ou(r){Ac(r),r.u&&(Lt.clearTimeout(r.u),r.u=null),Mu(r),r.h.cancel(),r.m&&("number"==typeof r.m&&Lt.clearTimeout(r.m),r.m=null)}function Ll(r){Fs(r.h)||r.m||(r.m=!0,qr(r.Ja,r),r.C=0)}function Vd(r,e){var t;t=e?e.m:r.U++;const s=Hi(r.F);hr(s,"SID",r.I),hr(s,"RID",t),hr(s,"AID",r.T),Mc(r,s),r.o&&r.s&&Pl(s,r.o,r.s),t=new Di(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.i=e.D.concat(r.i)),e=Ud(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),No(r.h,t),pa(t,s,e)}function Mc(r,e){r.ia&&pt(r.ia,function(t,s){hr(e,s,t)}),r.l&&ji({},function(t,s){hr(e,s,t)})}function Ud(r,e,t){t=Math.min(r.i.length,t);var s=r.l?yt(r.l.Ra,r.l,r):null;e:{var a=r.i;let c=-1;for(;;){const p=["count="+t];-1==c?0<t?(c=a[0].h,p.push("ofs="+c)):c=0:p.push("ofs="+c);let b=!0;for(let N=0;N<t;N++){let U=a[N].h;const J=a[N].g;if(U-=c,0>U)c=Math.max(0,a[N].h-100),b=!1;else try{Fe(J,p,"req"+U+"_")}catch{s&&s(J)}}if(b){s=p.join("&");break e}}}return r=r.i.splice(0,t),e.D=r,s}function zp(r){r.g||r.u||(r.Z=1,qr(r.Ia,r),r.A=0)}function Fl(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=Wr(yt(r.Ia,r),ku(r,r.A)),r.A++,0))}function Bd(r){null!=r.B&&(Lt.clearTimeout(r.B),r.B=null)}function Vl(r){r.g=new Di(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var e=Hi(r.sa);hr(e,"RID","rpc"),hr(e,"SID",r.I),hr(e,"CI",r.L?"0":"1"),hr(e,"AID",r.T),hr(e,"TYPE","xmlhttp"),Mc(r,e),r.o&&r.s&&Pl(e,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=Yo(Hi(e)),t.s=null,t.P=!0,Su(t,r)}function Mu(r){null!=r.v&&(Lt.clearTimeout(r.v),r.v=null)}function kc(r,e){var t=null;if(r.g==e){Mu(r),Bd(r),r.g=null;var s=2}else{if(!iu(r.h,e))return;t=e.D,k(r.h,e),s=1}if(0!=r.G)if(r.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=r.C;pi(s=Ds(),new Xa(s,t)),Ll(r)}else zp(r);else if(3==(a=e.o)||0==a&&0<r.pa||!(1==s&&function $p(r,e){return!(Qi(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=Wr(yt(r.Ja,r,e),ku(r,r.C)),r.C++,0)))}(r,e)||2==s&&Fl(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),a){case 1:Ru(r,5);break;case 4:Ru(r,10);break;case 3:Ru(r,6);break;default:Ru(r,2)}}function ku(r,e){let t=r.Xa+Math.floor(Math.random()*r.bb);return r.l||(t*=2),t*e}function Ru(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=yt(r.kb,r);t||(t=new fs("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||Na(t,"https"),Yo(t)),function st(r,e){const t=new uo;if(Lt.Image){const s=new Image;s.onload=Pn(Ct,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Pn(Ct,t,s,"TestLoadImage: error",!1,e),s.onabort=Pn(Ct,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Pn(Ct,t,s,"TestLoadImage: timeout",!1,e),Lt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else Yr(2);r.G=0,r.l&&r.l.va(e),Kh(r),ou(r)}function Kh(r){if(r.G=0,r.la=[],r.l){const e=L(r.h);(0!=e.length||0!=r.i.length)&&(hi(r.la,e),hi(r.la,r.i),r.h.i.length=0,us(r.i),r.i.length=0),r.l.ua()}}function Zh(r,e,t){var s=t instanceof fs?Hi(t):new fs(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),ma(s,s.m);else{var a=Lt.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new fs(null,void 0);s&&Na(c,s),e&&(c.g=e),a&&ma(c,a),t&&(c.l=t),s=c}return e=r.za,(t=r.D)&&e&&hr(s,t,e),hr(s,"VER",r.ma),Mc(r,s),s}function Ul(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Er(t&&r.Da&&!r.ra?new Wt({jb:!0}):r.ra)).Ka(r.H),e}function Rc(){}function Bl(){if($n&&!(10<=Number(bu)))throw Error("Environmental error: no available transport.")}function Js(r,e){Xr.call(this),this.g=new Gh(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.S=r,(r=e&&e.Yb)&&!ks(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ks(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new au(this)}function jl(r){Ns.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function jd(){qo.call(this),this.status=1}function au(r){this.g=r}(an=Er.prototype).Ka=function(r){this.L=r},an.da=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ka.g(),this.C=function Zo(r){return r.h||(r.h=r.i())}(this.u?this.u:ka),this.g.onreadystatechange=yt(this.Ha,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(c){return void ya(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=Lt.FormData&&r instanceof Lt.FormData,!(0<=Bi(Au,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,p]of t)this.g.setRequestHeader(c,p);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{su(this),0<this.B&&((this.K=function La(r){return $n&&function ko(){return function dt(r){var e=qa;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=io(String(Gs)).split("."),t=io("9").split("."),s=Math.max(e.length,t.length);for(let p=0;0==r&&p<s;p++){var a=e[p]||"",c=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;r=F(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||F(0==a[2].length,0==c[2].length)||F(a[2],c[2]),a=a[3],c=c[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yt(this.qa,this)):this.A=Ma(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){ya(this,c)}},an.qa=function(){typeof Cr<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pi(this,"timeout"),this.abort(8))},an.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,pi(this,"complete"),pi(this,"abort"),po(this))},an.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),po(this,!0)),Er.X.M.call(this)},an.Ha=function(){this.s||(this.F||this.v||this.l?Fa(this):this.fb())},an.fb=function(){Fa(this)},an.aa=function(){try{return 2<Va(this)?this.g.status:-1}catch{return-1}},an.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},an.Sa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Ji(e)}},an.Ea=function(){return this.m},an.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(an=Gh.prototype).ma=8,an.G=1,an.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const a=new Di(this,this.j,r,void 0);let c=this.s;if(this.S&&(c?(c=sn(c),tr(c,this.S)):c=this.S),null!==this.o||this.N||(a.H=c,c=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ud(this,a,e),hr(t=Hi(this.F),"RID",r),hr(t,"CVER",22),this.D&&hr(t,"X-HTTP-Session-Id",this.D),Mc(this,t),c&&(this.N?e="headers="+encodeURIComponent(String(Fd(c)))+"&"+e:this.o&&Pl(t,this.o,c)),No(this.h,a),this.Ya&&hr(t,"TYPE","init"),this.O?(hr(t,"$req",e),hr(t,"SID","null"),a.Z=!0,pa(a,t,null)):pa(a,t,e),this.G=2}}else 3==this.G&&(r?Vd(this,r):0==this.i.length||Fs(this.h)||Vd(this))},an.Ia=function(){if(this.u=null,Vl(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=Wr(yt(this.eb,this),r)}},an.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Yr(10),Ac(this),Vl(this))},an.cb=function(){null!=this.v&&(this.v=null,Ac(this),Fl(this),Yr(19))},an.kb=function(r){r?(this.j.info("Successfully pinged google.com"),Yr(2)):(this.j.info("Failed to ping google.com"),Yr(1))},(an=Rc.prototype).xa=function(){},an.wa=function(){},an.va=function(){},an.ua=function(){},an.Ra=function(){},Bl.prototype.g=function(r,e){return new Js(r,e)},Rr(Js,Xr),Js.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;Yr(0),r.V=e,r.ia=t||{},r.L=r.Y,r.F=Zh(r,null,r.V),Ll(r)},Js.prototype.close=function(){Sc(this.g)},Js.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=qs(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.ab++,r)),3==e.G&&Ll(e)},Js.prototype.M=function(){this.g.l=null,delete this.j,Sc(this.g),delete this.g,Js.X.M.call(this)},Rr(jl,Ns),Rr(jd,qo),Rr(au,Rc),au.prototype.xa=function(){pi(this.g,"a")},au.prototype.wa=function(r){pi(this.g,new jl(r))},au.prototype.va=function(r){pi(this.g,new jd)},au.prototype.ua=function(){pi(this.g,"b")},Bl.prototype.createWebChannel=Bl.prototype.g,Js.prototype.send=Js.prototype.u,Js.prototype.open=Js.prototype.m,Js.prototype.close=Js.prototype.close,ho.NO_ERROR=0,ho.TIMEOUT=8,ho.HTTP_ERROR=6,Tu.COMPLETE="complete",Ii.EventType=Os,Os.OPEN="a",Os.CLOSE="b",Os.ERROR="c",Os.MESSAGE="d",Xr.prototype.listen=Xr.prototype.N,Er.prototype.listenOnce=Er.prototype.O,Er.prototype.getLastError=Er.prototype.Oa,Er.prototype.getLastErrorCode=Er.prototype.Ea,Er.prototype.getStatus=Er.prototype.aa,Er.prototype.getResponseJson=Er.prototype.Sa,Er.prototype.getResponseText=Er.prototype.fa,Er.prototype.send=Er.prototype.da,Er.prototype.setWithCredentials=Er.prototype.Ka;var Wp=Sr.createWebChannelTransport=function(){return new Bl},qh=Sr.getStatEventTarget=function(){return Ds()},Hd=Sr.ErrorCode=ho,$d=Sr.EventType=Tu,uu=Sr.Event=Rs,Ou=Sr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Yh=Sr.FetchXmlHttpFactory=Wt,zd=Sr.WebChannel=Ii,gy=Sr.XhrIo=Er;const Gp="@firebase/firestore";class gs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gs.UNAUTHENTICATED=new gs(null),gs.GOOGLE_CREDENTIALS=new gs("google-credentials-uid"),gs.FIRST_PARTY=new gs("first-party-uid"),gs.MOCK_USER=new gs("mock-user");let Hl="9.14.0";const va=new Rn.Yd("@firebase/firestore");function Wd(){return va.logLevel}function _(r,...e){if(va.logLevel<=Rn.in.DEBUG){const t=e.map(D);va.debug(`Firestore (${Hl}): ${r}`,...t)}}function h(r,...e){if(va.logLevel<=Rn.in.ERROR){const t=e.map(D);va.error(`Firestore (${Hl}): ${r}`,...t)}}function g(r,...e){if(va.logLevel<=Rn.in.WARN){const t=e.map(D);va.warn(`Firestore (${Hl}): ${r}`,...t)}}function D(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function B(r="Unexpected state"){const e=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: `+r;throw h(e),new Error(e)}function Z(r,e){r||B()}function Le(r,e){return r}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends dn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class In{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ur{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Po{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gs.UNAUTHENTICATED))}shutdown(){}}class Nu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gd{constructor(e){this.t=e,this.currentUser=gs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=U=>this.i!==a?(a=this.i,t(U)):Promise.resolve();let p=new In;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new In,e.enqueueRetryable(()=>c(this.currentUser))};const b=()=>{const U=p;e.enqueueRetryable((0,ke.Z)(function*(){yield U.promise,yield c(s.currentUser)}))},N=U=>{_("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(U=>N(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?N(U):(_("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new In)}},0),b()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(_("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Z("string"==typeof s.accessToken),new Ur(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Z(null===e||"string"==typeof e),new gs(e)}}class Kd{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a,this.type="FirstParty",this.user=gs.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Z(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Zd{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a}getToken(){return Promise.resolve(new Kd(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(gs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qh{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=c=>{null!=c.error&&_("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.A;return this.A=c.token,_("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{_("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.T.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.T.getImmediate({optional:!0});c?a(c):_("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Z("string"==typeof t.token),this.A=t.token,new qd(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Yd(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class al{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Yd(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function Ln(r,e){return r<e?-1:r>e?1:0}function Ua(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}function Xh(r){return r+"\0"}class jn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tt(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tt(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new tt(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jn.fromMillis(Date.now())}static fromDate(e){return jn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new jn(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ln(this.nanoseconds,e.nanoseconds):Ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mn(e)}static min(){return new Mn(new jn(0,0))}static max(){return new Mn(new jn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qd{constructor(e,t,s){void 0===t?t=0:t>e.length&&B(),void 0===s?s=e.length-t:s>e.length-t&&B(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Qd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qd?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),p=t.get(a);if(c<p)return-1;if(c>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gr extends Qd{construct(e,t,s){return new gr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new tt(Te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new gr(t)}static emptyPath(){return new gr([])}}const yy=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ki extends Qd{construct(e,t,s){return new ki(e,t,s)}static isValidIdentifier(e){return yy.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ki.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ki(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new tt(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const b=e[a];if("\\"===b){if(a+1===e.length)throw new tt(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[a+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new tt(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=N,a+=2}else"`"===b?(p=!p,a++):"."!==b||p?(s+=b,a++):(c(),a++)}if(c(),p)throw new tt(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ki(t)}static emptyPath(){return new ki([])}}class Xt{constructor(e){this.path=e}static fromPath(e){return new Xt(gr.fromString(e))}static fromName(e){return new Xt(gr.fromString(e).popFirst(5))}static empty(){return new Xt(gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xt(new gr(e.slice()))}}class ef{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function Kp(r){return r.fields.find(e=>2===e.kind)}function $l(r){return r.fields.filter(e=>2!==e.kind)}ef.UNKNOWN_ID=-1;class Zp{constructor(e,t){this.fieldPath=e,this.kind=t}}class zl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new zl(0,Lo.min())}}function qp(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Mn.fromTimestamp(1e9===s?new jn(t+1,0):new jn(t,s));return new Lo(a,Xt.empty(),e)}function Yp(r){return new Lo(r.readTime,r.key,-1)}class Lo{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Lo(Mn.min(),Xt.empty(),-1)}static max(){return new Lo(Mn.max(),Xt.empty(),-1)}}function Qp(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xt.comparator(r.documentKey,e.documentKey),0!==t?t:Ln(r.largestBatchId,e.largestBatchId))}const Jp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function lu(r){return vy.apply(this,arguments)}function vy(){return vy=(0,ke.Z)(function*(r){if(r.code!==Te.FAILED_PRECONDITION||r.message!==Jp)throw r;_("LocalStore","Unexpectedly lost primary lease")}),vy.apply(this,arguments)}class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new at((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof at?t:at.resolve(t)}catch(t){return at.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):at.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):at.reject(t)}static resolve(e){return new at((t,s)=>{t(e)})}static reject(e){return new at((t,s)=>{s(e)})}static waitFor(e){return new at((t,s)=>{let a=0,c=0,p=!1;e.forEach(b=>{++a,b.next(()=>{++c,p&&c===a&&t()},N=>s(N))}),p=!0,c===a&&t()})}static or(e){let t=at.resolve(!1);for(const s of e)t=t.next(a=>a?at.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new at((s,a)=>{const c=e.length,p=new Array(c);let b=0;for(let N=0;N<c;N++){const U=N;t(e[U]).next(J=>{p[U]=J,++b,b===c&&s(p)},J=>a(J))}})}static doWhile(e,t){return new at((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}class Oc{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new In,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Ba(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const a=Xd(s.target.error);this.P.reject(new Ba(e,a))}}static open(e,t,s,a){try{return new Oc(t,e.transaction(a,s))}catch(c){throw new Ba(t,c)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(_("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new eg(t)}}class _a{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===_a.D((0,dn.z$)())&&h("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return _("SimpleDb","Removing database:",e),cu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,dn.hl)())return!1;if(_a.N())return!0;const e=(0,dn.z$)(),t=_a.D(e),s=0<t&&t<10,a=_a.k(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,ke.Z)(function*(){return t.db||(_("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=p=>{s(p.target.result)},c.onblocked=()=>{a(new Ba(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=p=>{const b=p.target.error;a("VersionError"===b.name?new tt(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new tt(Te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new Ba(e,b))},c.onupgradeneeded=p=>{_("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.S.$(p.target.result,c.transaction,p.oldVersion,t.version).next(()=>{_("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var c=this;return(0,ke.Z)(function*(){const p="readonly"===t;let b=0;for(;;){++b;try{c.db=yield c.F(e);const N=Oc.open(c.db,e,p?"readonly":"readwrite",s),U=a(N).next(J=>(N.V(),J)).catch(J=>(N.abort(J),at.reject(J))).toPromise();return U.catch(()=>{}),yield N.v,U}catch(N){const U=N,J="FirebaseError"!==U.name&&b<3;if(_("SimpleDb","Transaction failed with error:",U.message,"Retrying:",J),c.close(),!J)return Promise.reject(U)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _y{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return cu(this.U.delete())}}class Ba extends tt{constructor(e,t){super(Te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ul(r){return"IndexedDbTransactionError"===r.name}class eg{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(_("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(_("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),cu(s)}add(e){return _("SimpleDb","ADD",this.store.name,e,e),cu(this.store.add(e))}get(e){return cu(this.store.get(e)).next(t=>(void 0===t&&(t=null),_("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return _("SimpleDb","DELETE",this.store.name,e),cu(this.store.delete(e))}count(){return _("SimpleDb","COUNT",this.store.name),cu(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),c=[];return this.H(a,(p,b)=>{c.push(b)}).next(()=>c)}{const a=this.store.getAll(s.range);return new at((c,p)=>{a.onerror=b=>{p(b.target.error)},a.onsuccess=b=>{c(b.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new at((a,c)=>{s.onerror=p=>{c(p.target.error)},s.onsuccess=p=>{a(p.target.result)}})}Y(e,t){_("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const a=this.cursor(s);return this.H(a,(c,p,b)=>b.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.H(a,t)}tt(e){const t=this.cursor({});return new at((s,a)=>{t.onerror=c=>{const p=Xd(c.target.error);a(p)},t.onsuccess=c=>{const p=c.target.result;p?e(p.primaryKey,p.value).next(b=>{b?p.continue():s()}):s()}})}H(e,t){const s=[];return new at((a,c)=>{e.onerror=p=>{c(p.target.error)},e.onsuccess=p=>{const b=p.target.result;if(!b)return void a();const N=new _y(b),U=t(b.primaryKey,b.value,N);if(U instanceof at){const J=U.catch(Ee=>(N.done(),at.reject(Ee)));s.push(J)}N.isDone?a():null===N.G?b.continue():b.continue(N.G)}}).next(()=>at.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function cu(r){return new at((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const a=Xd(s.target.error);t(a)}})}let wy=!1;function Xd(r){const e=_a.D((0,dn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wy||(wy=!0,setTimeout(()=>{throw s},0)),s}}return r}class tf{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;_("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ke.Z)(function*(){t.task=null;try{_("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){ul(s)?_("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield lu(s)}yield t.nt(6e4)}))}}class Wl{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ke.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let a=t,c=!0;return at.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!s.has(p))return _("IndexBackiller",`Processing collection: ${p}`),this.rt(e,p,a).next(b=>{a-=b,s.add(p)});c=!1})).next(()=>t-a)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(c=>{const p=c.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.ot(a,c)).next(b=>(_("IndexBackiller",`Updating offset: ${b}`),this.localStore.indexManager.updateCollectionGroup(e,t,b))).next(()=>p.size)}))}ot(e,t){let s=e;return t.changes.forEach((a,c)=>{const p=Yp(c);Qp(p,s)>0&&(s=p)}),new Lo(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}class go{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>t.writeSequenceNumber(s))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function nf(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Gl(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ey(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}go.at=-1;class Ci{constructor(e,t){this.comparator=e,this.root=t||Vs.EMPTY}insert(e,t){return new Ci(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vs.BLACK,null,null))}remove(e){return new Ci(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pu(this.root,e,this.comparator,!0)}}class Pu{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vs{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Vs.RED,this.left=a??Vs.EMPTY,this.right=c??Vs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Vs(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Vs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Vs.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();const e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}}Vs.EMPTY=null,Vs.RED=!0,Vs.BLACK=!1,Vs.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Vs(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kr{constructor(e){this.comparator=e,this.data=new Ci(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new by(this.data.getIterator())}getIteratorFrom(e){return new by(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Kr)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kr(this.comparator);return t.data=e,t}}class by{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Nc(r){return r.hasNext()?r.getNext():void 0}class mo{constructor(e){this.fields=e,e.sort(ki.comparator)}static empty(){return new mo([])}unionWith(e){let t=new Kr(ki.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new mo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Xi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Xi(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new Xi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xi.EMPTY_BYTE_STRING=new Xi("");const _0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lu(r){if(Z(!!r),"string"==typeof r){let e=0;const t=_0.exec(r);if(Z(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:$i(r.seconds),nanos:$i(r.nanos)}}function $i(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Kl(r){return"string"==typeof r?Xi.fromBase64String(r):Xi.fromUint8Array(r)}function Zl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Iy(r){const e=r.mapValue.fields.__previous_value__;return Zl(e)?Iy(e):e}function du(r){const e=Lu(r.mapValue.fields.__local_write_time__.timestampValue);return new jn(e.seconds,e.nanos)}class eh{constructor(e,t,s,a,c,p,b,N){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.useFetchStreams=N}}class ll{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ll("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ll&&e.projectId===this.projectId&&e.database===this.database}}function rf(r){return null==r}function Pc(r){return 0===r&&1/r==-1/0}function Dy(r){return"number"==typeof r&&Number.isInteger(r)&&!Pc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sf={nullValue:"NULL_VALUE"};function dl(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Zl(r)?4:Ty(r)?9007199254740991:10:B()}function ja(r,e){if(r===e)return!0;const t=dl(r);if(t!==dl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return du(r).isEqual(du(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Lu(s.timestampValue),p=Lu(a.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Kl(r.bytesValue).isEqual(Kl(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return $i(s.geoPointValue.latitude)===$i(a.geoPointValue.latitude)&&$i(s.geoPointValue.longitude)===$i(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return $i(s.integerValue)===$i(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=$i(s.doubleValue),p=$i(a.doubleValue);return c===p?Pc(c)===Pc(p):isNaN(c)&&isNaN(p)}return!1}(r,e);case 9:return Ua(r.arrayValue.values||[],e.arrayValue.values||[],ja);case 10:return function(s,a){const c=s.mapValue.fields||{},p=a.mapValue.fields||{};if(nf(c)!==nf(p))return!1;for(const b in c)if(c.hasOwnProperty(b)&&(void 0===p[b]||!ja(c[b],p[b])))return!1;return!0}(r,e);default:return B()}var a}function ql(r,e){return void 0!==(r.values||[]).find(t=>ja(t,e))}function hl(r,e){if(r===e)return 0;const t=dl(r),s=dl(e);if(t!==s)return Ln(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ln(r.booleanValue,e.booleanValue);case 2:return function(a,c){const p=$i(a.integerValue||a.doubleValue),b=$i(c.integerValue||c.doubleValue);return p<b?-1:p>b?1:p===b?0:isNaN(p)?isNaN(b)?0:-1:1}(r,e);case 3:return Cy(r.timestampValue,e.timestampValue);case 4:return Cy(du(r),du(e));case 5:return Ln(r.stringValue,e.stringValue);case 6:return function(a,c){const p=Kl(a),b=Kl(c);return p.compareTo(b)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const p=a.split("/"),b=c.split("/");for(let N=0;N<p.length&&N<b.length;N++){const U=Ln(p[N],b[N]);if(0!==U)return U}return Ln(p.length,b.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const p=Ln($i(a.latitude),$i(c.latitude));return 0!==p?p:Ln($i(a.longitude),$i(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const p=a.values||[],b=c.values||[];for(let N=0;N<p.length&&N<b.length;++N){const U=hl(p[N],b[N]);if(U)return U}return Ln(p.length,b.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===cl.mapValue&&c===cl.mapValue)return 0;if(a===cl.mapValue)return 1;if(c===cl.mapValue)return-1;const p=a.fields||{},b=Object.keys(p),N=c.fields||{},U=Object.keys(N);b.sort(),U.sort();for(let J=0;J<b.length&&J<U.length;++J){const Ee=Ln(b[J],U[J]);if(0!==Ee)return Ee;const Ze=hl(p[b[J]],N[U[J]]);if(0!==Ze)return Ze}return Ln(b.length,U.length)}(r.mapValue,e.mapValue);default:throw B()}}function Cy(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Ln(r,e);const t=Lu(r),s=Lu(e),a=Ln(t.seconds,s.seconds);return 0!==a?a:Ln(t.nanos,s.nanos)}function fl(r){return xy(r)}function xy(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=Lu(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Kl(r.bytesValue).toBase64():"referenceValue"in r?Xt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const p of s.values||[])c?c=!1:a+=",",a+=xy(p);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",p=!0;for(const b of a)p?p=!1:c+=",",c+=`${b}:${xy(s.fields[b])}`;return c+"}"}(r.mapValue):B();var e}function Lc(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function th(r){return!!r&&"integerValue"in r}function af(r){return!!r&&"arrayValue"in r}function w0(r){return!!r&&"nullValue"in r}function E0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function tg(r){return!!r&&"mapValue"in r}function uf(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Gl(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=uf(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uf(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Ty(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function Sy(r){return"nullValue"in r?sf:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Lc(ll.empty(),Xt.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:B()}function ng(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Lc(ll.empty(),Xt.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?cl:B()}function rg(r,e){const t=hl(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function ig(r,e){const t=hl(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class xs{constructor(e){this.value=e}static empty(){return new xs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!tg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uf(t)}setAll(e){let t=ki.emptyPath(),s={},a=[];e.forEach((p,b)=>{if(!t.isImmediateParentOf(b)){const N=this.getFieldsMap(t);this.applyChanges(N,s,a),s={},a=[],t=b.popLast()}p?s[b.lastSegment()]=uf(p):a.push(b.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());tg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ja(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];tg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Gl(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new xs(uf(this.value))}}function lf(r){const e=[];return Gl(r.fields,(t,s)=>{const a=new ki([t]);if(tg(s)){const c=lf(s.mapValue).fields;if(0===c.length)e.push(a);else for(const p of c)e.push(a.child(p))}else e.push(a)}),new mo(e)}class ei{constructor(e,t,s,a,c,p){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.data=c,this.documentState=p}static newInvalidDocument(e){return new ei(e,0,Mn.min(),Mn.min(),xs.empty(),0)}static newFoundDocument(e,t,s){return new ei(e,1,t,Mn.min(),s,0)}static newNoDocument(e,t){return new ei(e,2,t,Mn.min(),xs.empty(),0)}static newUnknownDocument(e,t){return new ei(e,3,t,Mn.min(),xs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ei(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sg{constructor(e,t=null,s=[],a=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=p,this.endAt=b,this.ht=null}}function Fc(r,e=null,t=[],s=[],a=null,c=null,p=null){return new sg(r,e,t,s,a,c,p)}function Yl(r){const e=Le(r);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(a=s).field.canonicalString()+a.op.toString()+fl(a.value);var a}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),rf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>fl(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>fl(s)).join(",")),e.ht=t}return e.ht}function nh(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<r.orderBy.length;a++)if(!ag(r.orderBy[a],e.orderBy[a]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let a=0;a<r.filters.length;a++)if((t=r.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!ja(t.value,s.value))return!1;var t,s;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Vc(r.startAt,e.startAt)&&Vc(r.endAt,e.endAt)}function rh(r){return Xt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function cf(r,e){return r.filters.filter(t=>t instanceof Us&&t.field.isEqual(e))}function Ay(r,e,t){let s=sf,a=!0;for(const c of cf(r,e)){let p=sf,b=!0;switch(c.op){case"<":case"<=":p=Sy(c.value);break;case"==":case"in":case">=":p=c.value;break;case">":p=c.value,b=!1;break;case"!=":case"not-in":p=sf}rg({value:s,inclusive:a},{value:p,inclusive:b})<0&&(s=p,a=b)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const p=t.position[c];rg({value:s,inclusive:a},{value:p,inclusive:t.inclusive})<0&&(s=p,a=t.inclusive);break}return{value:s,inclusive:a}}function My(r,e,t){let s=cl,a=!0;for(const c of cf(r,e)){let p=cl,b=!0;switch(c.op){case">=":case">":p=ng(c.value),b=!1;break;case"==":case"in":case"<=":p=c.value;break;case"<":p=c.value,b=!1;break;case"!=":case"not-in":p=cl}ig({value:s,inclusive:a},{value:p,inclusive:b})>0&&(s=p,a=b)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const p=t.position[c];ig({value:s,inclusive:a},{value:p,inclusive:t.inclusive})>0&&(s=p,a=t.inclusive);break}return{value:s,inclusive:a}}class Us extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,s):new og(e,t,s):"array-contains"===t?new Ry(e,s):"in"===t?new C0(e,s):"not-in"===t?new x0(e,s):"array-contains-any"===t?new yo(e,s):new Us(e,t,s)}static lt(e,t,s){return"in"===t?new I0(e,s):new D0(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(hl(t,this.value)):null!==t&&dl(this.value)===dl(t)&&this.ft(hl(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return B()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class og extends Us{constructor(e,t,s){super(e,t,s),this.key=Xt.fromName(s.referenceValue)}matches(e){const t=Xt.comparator(e.key,this.key);return this.ft(t)}}class I0 extends Us{constructor(e,t){super(e,"in",t),this.keys=ky(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class D0 extends Us{constructor(e,t){super(e,"not-in",t),this.keys=ky(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ky(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Xt.fromName(s.referenceValue))}class Ry extends Us{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return af(t)&&ql(t.arrayValue,this.value)}}class C0 extends Us{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ql(this.value.arrayValue,t)}}class x0 extends Us{constructor(e,t){super(e,"not-in",t)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ql(this.value.arrayValue,t)}}class yo extends Us{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!af(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ql(this.value.arrayValue,s))}}class hu{constructor(e,t){this.position=e,this.inclusive=t}}class Ql{constructor(e,t="asc"){this.field=e,this.dir=t}}function ag(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function Bs(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],p=r.position[a];if(s=c.field.isKeyField()?Xt.comparator(Xt.fromName(p.referenceValue),t.key):hl(p,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function Vc(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ja(r.position[t],e.position[t]))return!1;return!0}class fu{constructor(e,t=null,s=[],a=[],c=null,p="F",b=null,N=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=N,this._t=null,this.wt=null}}function Oy(r,e,t,s,a,c,p,b){return new fu(r,e,t,s,a,c,p,b)}function Uc(r){return new fu(r)}function ug(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function lg(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function df(r){for(const e of r.filters)if(e.dt())return e.field;return null}function cg(r){return null!==r.collectionGroup}function Jl(r){const e=Le(r);if(null===e._t){e._t=[];const t=df(e),s=lg(e);if(null!==t&&null===s)t.isKeyField()||e._t.push(new Ql(t)),e._t.push(new Ql(ki.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e._t.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Ql(ki.keyField(),c))}}}return e._t}function vo(r){const e=Le(r);if(!e.wt)if("F"===e.limitType)e.wt=Fc(e.path,e.collectionGroup,Jl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Jl(e))t.push(new Ql(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new hu(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new hu(e.startAt.position,e.startAt.inclusive):null;e.wt=Fc(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.wt}function hf(r,e,t){return new fu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Bc(r,e){return nh(vo(r),vo(e))&&r.limitType===e.limitType}function Ny(r){return`${Yl(vo(r))}|lt:${r.limitType}`}function dg(r){return`Query(target=${function b0(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${fl(s.value)}`;var s}).join(", ")}]`),rf(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(t=>fl(t)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(t=>fl(t)).join(",")),`Target(${e})`}(vo(r))}; limitType=${r.limitType})`}function pl(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Xt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,p){const b=Bs(a,c,p);return a.inclusive?b<=0:b<0}(t.startAt,Jl(t),s)||t.endAt&&!function(a,c,p){const b=Bs(a,c,p);return a.inclusive?b>=0:b>0}(t.endAt,Jl(t),s)));var t,s}function pu(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Py(r){return(e,t)=>{let s=!1;for(const a of Jl(r)){const c=T0(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function T0(r,e,t){const s=r.field.isKeyField()?Xt.comparator(e.key,t.key):function(a,c,p){const b=c.data.field(a),N=p.data.field(a);return null!==b&&null!==N?hl(b,N):B()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return B()}}function S0(r,e){if(r.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(e)?"-0":e}}function A0(r){return{integerValue:""+r}}function hg(r,e){return Dy(e)?A0(e):S0(r,e)}class fg{constructor(){this._=void 0}}function gu(r,e,t){return r instanceof jc?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof gl?Ly(r,e):r instanceof Ha?Fy(r,e):function(s,a){const c=ff(s,a),p=pf(c)+pf(s.yt);return th(c)&&th(s.yt)?A0(p):S0(s.It,p)}(r,e)}function pg(r,e,t){return r instanceof gl?Ly(r,e):r instanceof Ha?Fy(r,e):t}function ff(r,e){return r instanceof Hc?th(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class jc extends fg{}class gl extends fg{constructor(e){super(),this.elements=e}}function Ly(r,e){const t=gf(e);for(const s of r.elements)t.some(a=>ja(a,s))||t.push(s);return{arrayValue:{values:t}}}class Ha extends fg{constructor(e){super(),this.elements=e}}function Fy(r,e){let t=gf(e);for(const s of r.elements)t=t.filter(a=>!ja(a,s));return{arrayValue:{values:t}}}class Hc extends fg{constructor(e,t){super(),this.It=e,this.yt=t}}function pf(r){return $i(r.integerValue||r.doubleValue)}function gf(r){return af(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class $c{constructor(e,t){this.field=e,this.transform=t}}class zc{constructor(e,t){this.version=e,this.transformResults=t}}class ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class mf{}function yf(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new ml(r.key,ti.none()):new Wc(r.key,r.data,ti.none());{const t=r.data,s=xs.empty();let a=new Kr(ki.comparator);for(let c of e.fields)if(!a.has(c)){let p=t.field(c);null===p&&c.length>1&&(c=c.popLast(),p=t.field(c)),null===p?s.delete(c):s.set(c,p),a=a.add(c)}return new Fu(r.key,s,new mo(a.toArray()),ti.none())}}function M0(r,e,t){r instanceof Wc?function(s,a,c){const p=s.value.clone(),b=vf(s.fieldTransforms,a,c.transformResults);p.setAll(b),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(r,e,t):r instanceof Fu?function(s,a,c){if(!ih(s.precondition,a))return void a.convertToUnknownDocument(c.version);const p=vf(s.fieldTransforms,a,c.transformResults),b=a.data;b.setAll(gg(s)),b.setAll(p),a.convertToFoundDocument(c.version,b).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function sh(r,e,t,s){return r instanceof Wc?function(a,c,p,b){if(!ih(a.precondition,c))return p;const N=a.value.clone(),U=mg(a.fieldTransforms,b,c);return N.setAll(U),c.convertToFoundDocument(c.version,N).setHasLocalMutations(),null}(r,e,t,s):r instanceof Fu?function(a,c,p,b){if(!ih(a.precondition,c))return p;const N=mg(a.fieldTransforms,b,c),U=c.data;return U.setAll(gg(a)),U.setAll(N),c.convertToFoundDocument(c.version,U).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(J=>J.field))}(r,e,t,s):(p=t,ih(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p);var c,p}function k0(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=ff(s.transform,a||null);null!=c&&(null===t&&(t=xs.empty()),t.set(s.field,c))}return t||null}function Vy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&Ua(t,s,(a,c)=>function ab(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof gl&&s instanceof gl||t instanceof Ha&&s instanceof Ha?Ua(t.elements,s.elements,ja):t instanceof Hc&&s instanceof Hc?ja(t.yt,s.yt):t instanceof jc&&s instanceof jc);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Wc extends mf{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Fu extends mf{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function gg(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function vf(r,e,t){const s=new Map;Z(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],p=c.transform,b=e.data.field(c.field);s.set(c.field,pg(p,b,t[a]))}return s}function mg(r,e,t){const s=new Map;for(const a of r){const c=a.transform,p=t.data.field(a.field);s.set(a.field,gu(c,p,e))}return s}class ml extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yg extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class R0{constructor(e){this.count=e}}var zi,br;function yl(r){switch(r){default:return B();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function vg(r){if(void 0===r)return h("GRPC error has no .code"),Te.UNKNOWN;switch(r){case zi.OK:return Te.OK;case zi.CANCELLED:return Te.CANCELLED;case zi.UNKNOWN:return Te.UNKNOWN;case zi.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case zi.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case zi.INTERNAL:return Te.INTERNAL;case zi.UNAVAILABLE:return Te.UNAVAILABLE;case zi.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case zi.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case zi.NOT_FOUND:return Te.NOT_FOUND;case zi.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case zi.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case zi.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case zi.ABORTED:return Te.ABORTED;case zi.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case zi.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case zi.DATA_LOSS:return Te.DATA_LOSS;default:return B()}}(br=zi||(zi={}))[br.OK=0]="OK",br[br.CANCELLED=1]="CANCELLED",br[br.UNKNOWN=2]="UNKNOWN",br[br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",br[br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",br[br.NOT_FOUND=5]="NOT_FOUND",br[br.ALREADY_EXISTS=6]="ALREADY_EXISTS",br[br.PERMISSION_DENIED=7]="PERMISSION_DENIED",br[br.UNAUTHENTICATED=16]="UNAUTHENTICATED",br[br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",br[br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",br[br.ABORTED=10]="ABORTED",br[br.OUT_OF_RANGE=11]="OUT_OF_RANGE",br[br.UNIMPLEMENTED=12]="UNIMPLEMENTED",br[br.INTERNAL=13]="INTERNAL",br[br.UNAVAILABLE=14]="UNAVAILABLE",br[br.DATA_LOSS=15]="DATA_LOSS";class Vu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Gl(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Ey(this.inner)}size(){return this.innerSize}}const O0=new Ci(Xt.comparator);function Xo(){return O0}const oh=new Ci(Xt.comparator);function ah(...r){let e=oh;for(const t of r)e=e.insert(t.key,t);return e}function _g(r){let e=oh;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function $a(){return Xl()}function wg(){return Xl()}function Xl(){return new Vu(r=>r.toString(),(r,e)=>r.isEqual(e))}const Uy=new Ci(Xt.comparator),_f=new Kr(Xt.comparator);function Wn(...r){let e=_f;for(const t of r)e=e.add(t);return e}const By=new Kr(Ln);function Gc(){return By}class Kc{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Kc(Mn.min(),a,Gc(),Xo(),Wn())}}class ec{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ec(s,t,Wn(),Wn(),Wn())}}class vl{constructor(e,t,s,a){this.Tt=e,this.removedTargetIds=t,this.key=s,this.Et=a}}class jy{constructor(e,t){this.targetId=e,this.At=t}}class Eg{constructor(e,t,s=Xi.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Hy{constructor(){this.Rt=0,this.bt=wf(),this.Pt=Xi.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Wn(),t=Wn(),s=Wn();return this.bt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:B()}}),new ec(this.Pt,this.vt,e,t,s)}Nt(){this.Vt=!1,this.bt=wf()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class N0{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Xo(),this.qt=bg(),this.Kt=new Kr(Ln)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const s=this.zt(t);switch(e.state){case 0:this.Ht(t)&&s.Ct(e.resumeToken);break;case 1:s.Ft(),s.St||s.Nt(),s.Ct(e.resumeToken);break;case 2:s.Ft(),s.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(s.$t(),s.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),s.Ct(e.resumeToken));break;default:B()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((s,a)=>{this.Ht(a)&&t(a)})}Yt(e){const t=e.targetId,s=e.At.count,a=this.Xt(t);if(a){const c=a.target;if(rh(c))if(0===s){const p=new Xt(c.path);this.jt(t,p,ei.newNoDocument(p,Mn.min()))}else Z(1===s);else this.Zt(t)!==s&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((c,p)=>{const b=this.Xt(p);if(b){if(c.current&&rh(b.target)){const N=new Xt(b.target.path);null!==this.Ut.get(N)||this.ee(p,N)||this.jt(p,N,ei.newNoDocument(N,e))}c.Dt&&(t.set(p,c.xt()),c.Nt())}});let s=Wn();this.qt.forEach((c,p)=>{let b=!0;p.forEachWhile(N=>{const U=this.Xt(N);return!U||2===U.purpose||(b=!1,!1)}),b&&(s=s.add(c))}),this.Ut.forEach((c,p)=>p.setReadTime(e));const a=new Kc(e,t,this.Kt,this.Ut,s);return this.Ut=Xo(),this.qt=bg(),this.Kt=new Kr(Ln),a}Qt(e,t){if(!this.Ht(e))return;const s=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,s),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,s){if(!this.Ht(e))return;const a=this.zt(e);this.ee(e,t)?a.kt(t,1):a.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),s&&(this.Ut=this.Ut.insert(t,s))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new Hy,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Kr(Ln),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||_("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Hy),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function bg(){return new Ci(Xt.comparator)}function wf(){return new Ci(Xt.comparator)}const $y={asc:"ASCENDING",desc:"DESCENDING"},ub={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class zy{constructor(e,t){this.databaseId=e,this.gt=t}}function uh(r,e){return r.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ig(r,e){return r.gt?e.toBase64():e.toUint8Array()}function P0(r,e){return uh(r,e.toTimestamp())}function Ts(r){return Z(!!r),Mn.fromTimestamp(function(e){const t=Lu(e);return new jn(t.seconds,t.nanos)}(r))}function ea(r,e){return(t=r,new gr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Wy(r){const e=gr.fromString(r);return Z(bf(e)),e}function Zc(r,e){return ea(r.databaseId,e.path)}function mu(r,e){const t=Wy(e);if(t.get(1)!==r.databaseId.projectId)throw new tt(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new tt(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Xt(Cg(t))}function Dg(r,e){return ea(r.databaseId,e)}function Gy(r){const e=Wy(r);return 4===e.length?gr.emptyPath():Cg(e)}function lh(r){return new gr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Cg(r){return Z(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Ky(r,e,t){return{name:Zc(r,e),fields:t.value.mapValue.fields}}function Zy(r,e,t){const s=mu(r,e.name),a=Ts(e.updateTime),c=new xs({mapValue:{fields:e.fields}}),p=ei.newFoundDocument(s,a,c);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function qc(r,e){let t;if(e instanceof Wc)t={update:Ky(r,e.key,e.value)};else if(e instanceof ml)t={delete:Zc(r,e.key)};else if(e instanceof Fu)t={update:Ky(r,e.key,e.data),updateMask:B0(e.fieldMask)};else{if(!(e instanceof yg))return B();t={verify:Zc(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const p=c.transform;if(p instanceof jc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof gl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ha)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Hc)return{fieldPath:c.field.canonicalString(),increment:p.yt};throw B()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:P0(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:B()),t;var a}function Ef(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?ti.updateTime(Ts(a.updateTime)):void 0!==a.exists?ti.exists(a.exists):ti.none():ti.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(c,p){let b=null;"setToServerValue"in p?(Z("REQUEST_TIME"===p.setToServerValue),b=new jc):"appendMissingElements"in p?b=new gl(p.appendMissingElements.values||[]):"removeAllFromArray"in p?b=new Ha(p.removeAllFromArray.values||[]):"increment"in p?b=new Hc(c,p.increment):B();const N=ki.fromServerFormat(p.fieldPath);return new $c(N,b)}(r,a)):[];var a;if(e.update){const a=mu(r,e.update.name),c=new xs({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new mo((e.updateMask.fieldPaths||[]).map(U=>ki.fromServerFormat(U)));return new Fu(a,c,p,t,s)}return new Wc(a,c,t,s)}if(e.delete){const a=mu(r,e.delete);return new ml(a,t)}if(e.verify){const a=mu(r,e.verify);return new yg(a,t)}return B()}function Yy(r,e){return{documents:[Dg(r,e.path)]}}function xg(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Dg(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Dg(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(N){if(0===N.length)return;const U=N.map(J=>function(Ee){if("=="===Ee.op){if(E0(Ee.value))return{unaryFilter:{field:ch(Ee.field),op:"IS_NAN"}};if(w0(Ee.value))return{unaryFilter:{field:ch(Ee.field),op:"IS_NULL"}}}else if("!="===Ee.op){if(E0(Ee.value))return{unaryFilter:{field:ch(Ee.field),op:"IS_NOT_NAN"}};if(w0(Ee.value))return{unaryFilter:{field:ch(Ee.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ch(Ee.field),op:U0(Ee.op),value:Ee.value}}}(J));return 1===U.length?U[0]:{compositeFilter:{op:"AND",filters:U}}}(e.filters);a&&(t.structuredQuery.where=a);const c=function(N){if(0!==N.length)return N.map(U=>{return{field:ch((J=U).field),direction:V0(J.dir)};var J})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=(U=e.limit,r.gt||rf(U)?U:{value:U});var U,b,N;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt={before:!(N=e.endAt).inclusive,values:N.position}),t}function Tg(r){let e=Gy(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Z(1===s);const J=t.from[0];J.allDescendants?a=J.collectionId:e=e.child(J.collectionId)}let c=[];t.where&&(c=Sg(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(J=>{return new Ql(tc((Ee=J).field),function(Ze){switch(Ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ee.direction));var Ee}));let b=null;t.limit&&(b=function(J){let Ee;return Ee="object"==typeof J?J.value:J,rf(Ee)?null:Ee}(t.limit));let N=null;var J;t.startAt&&(N=new hu((J=t.startAt).values||[],!!J.before));let U=null;return t.endAt&&(U=function(J){return new hu(J.values||[],!J.before)}(t.endAt)),Oy(e,a,p,c,b,"F",N,U)}function Sg(r){return r?void 0!==r.unaryFilter?[nc(r)]:void 0!==r.fieldFilter?[Qy(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>Sg(e)).reduce((e,t)=>e.concat(t)):B():[]}function V0(r){return $y[r]}function U0(r){return ub[r]}function ch(r){return{fieldPath:r.canonicalString()}}function tc(r){return ki.fromServerFormat(r.fieldPath)}function Qy(r){return Us.create(tc(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(r.fieldFilter.op),r.fieldFilter.value)}function nc(r){switch(r.unaryFilter.op){case"IS_NAN":const e=tc(r.unaryFilter.field);return Us.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=tc(r.unaryFilter.field);return Us.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=tc(r.unaryFilter.field);return Us.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=tc(r.unaryFilter.field);return Us.create(a,"!=",{nullValue:"NULL_VALUE"});default:return B()}}function B0(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bf(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function js(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=H0(e)),e=j0(r.get(t),e);return H0(e)}function j0(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const c=r.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function H0(r){return r+"\x01\x01"}function Uu(r){const e=r.length;if(Z(e>=2),2===e)return Z("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),gr.emptyPath();const t=e-2,s=[];let a="";for(let c=0;c<e;){const p=r.indexOf("\x01",c);switch((p<0||p>t)&&B(),r.charAt(p+1)){case"\x01":const b=r.substring(c,p);let N;0===a.length?N=b:(a+=b,N=a,a=""),s.push(N);break;case"\x10":a+=r.substring(c,p),a+="\0";break;case"\x11":a+=r.substring(c,p+1);break;default:B()}c=p+2}return new gr(s)}const $0=["userId","batchId"];function If(r,e){return[r,js(e)]}function Ag(r,e,t){return[r,js(e),t]}const lb={},z0=["prefixPath","collectionGroup","readTime","documentId"],Yc=["prefixPath","collectionGroup","documentId"],W0=["collectionGroup","readTime","prefixPath","documentId"],Jy=["canonicalId","targetId"],Df=["targetId","path"],G0=["path","targetId"],Xy=["collectionId","parent"],K0=["indexId","uid"],Z0=["uid","sequenceNumber"],q0=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Y0=["indexId","uid","orderedDocumentKey"],Q0=["userId","collectionPath","documentId"],ev=["userId","collectionPath","largestBatchId"],J0=["userId","collectionGroup","largestBatchId"],Mg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tv=[...Mg,"documentOverlays"],Cf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],X0=Cf,kg=[...X0,"indexConfiguration","indexState","indexEntries"];class Rg extends Xp{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Hs(r,e){const t=Le(r);return _a.M(t.ie,e)}class _l{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&M0(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=sh(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=sh(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=wg();return this.mutations.forEach(a=>{const c=e.get(a.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=t.has(a.key)?null:b;const N=yf(p,b);null!==N&&s.set(a.key,N),p.isValidDocument()||p.convertToNoDocument(Mn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Wn())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,(t,s)=>Vy(t,s))&&Ua(this.baseMutations,e.baseMutations,(t,s)=>Vy(t,s))}}class xf{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Z(e.mutations.length===s.length);let a=Uy;const c=e.mutations;for(let p=0;p<c.length;p++)a=a.insert(c[p].key,s[p].version);return new xf(e,t,s,a)}}class Tf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class za{constructor(e,t,s,a,c=Mn.min(),p=Mn.min(),b=Xi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b}withSequenceNumber(e){return new za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class wa{constructor(e){this.re=e}}function rv(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Qc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Zc(a=r.re,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:uh(a,c.version.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:_o(e.version)};else{if(!e.isUnknownDocument())return B();s.unknownDocument={path:t.path.toArray(),version:_o(e.version)}}var a,c;return s}function Qc(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function _o(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bu(r){const e=new jn(r.seconds,r.nanoseconds);return Mn.fromTimestamp(e)}function wl(r,e){const t=(e.baseMutations||[]).map(c=>Ef(r.re,c));for(let c=0;c<e.mutations.length-1;++c){const p=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(p.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const s=e.mutations.map(c=>Ef(r.re,c)),a=jn.fromMillis(e.localWriteTimeMs);return new _l(e.batchId,a,t,s)}function rc(r){const e=Bu(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Bu(r.lastLimboFreeSnapshotVersion):Mn.min();let s;var a;return void 0!==r.query.documents?(Z(1===(a=r.query).documents.length),s=vo(Uc(Gy(a.documents[0])))):s=vo(Tg(r.query)),new za(s,r.targetId,0,r.lastListenSequenceNumber,e,t,Xi.fromBase64String(r.resumeToken))}function ew(r,e){const t=_o(e.snapshotVersion),s=_o(e.lastLimboFreeSnapshotVersion);let a;a=rh(e.target)?Yy(r.re,e.target):xg(r.re,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Yl(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function Sf(r){const e=Tg({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?hf(e,e.limit,"L"):e}function iv(r,e){return new Tf(e.largestBatchId,Ef(r.re,e.overlayMutation))}function dh(r,e){const t=e.path.lastSegment();return[r,js(e.path.popLast()),t]}function hh(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:_o(s.readTime),documentKey:js(s.documentKey.path),largestBatchId:s.largestBatchId}}class Og{getBundleMetadata(e,t){return Af(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Bu(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Af(e).put({bundleId:(s=t).id,createTime:_o(Ts(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Mf(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Sf(a.bundledQuery),readTime:Bu(a.readTime)};var a})}saveNamedQuery(e,t){return Mf(e).put({name:(s=t).name,readTime:_o(Ts(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Af(r){return Hs(r,"bundles")}function Mf(r){return Hs(r,"namedQueries")}class Ng{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Ng(e,t.uid||"")}getOverlay(e,t){return fh(e).get(dh(this.userId,t)).next(s=>s?iv(this.It,s):null)}getOverlays(e,t){const s=$a();return at.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((c,p)=>{const b=new Tf(t,p);a.push(this.ue(e,b))}),at.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(p=>a.add(js(p.getCollectionPath())));const c=[];return a.forEach(p=>{const b=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);c.push(fh(e).Y("collectionPathOverlayIndex",b))}),at.waitFor(c)}getOverlaysForCollection(e,t,s){const a=$a(),c=js(t),p=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return fh(e).W("collectionPathOverlayIndex",p).next(b=>{for(const N of b){const U=iv(this.It,N);a.set(U.getKey(),U)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const c=$a();let p;const b=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return fh(e).Z({index:"collectionGroupOverlayIndex",range:b},(N,U,J)=>{const Ee=iv(this.It,U);c.size()<a||Ee.largestBatchId===p?(c.set(Ee.getKey(),Ee),p=Ee.largestBatchId):J.done()}).next(()=>c)}ue(e,t){return fh(e).put(function(s,a,c){const[p,b,N]=dh(a,c.mutation.key);return{userId:a,collectionPath:b,documentId:N,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:qc(s.re,c.mutation)}}(this.It,this.userId,t))}}function fh(r){return Hs(r,"documentOverlays")}class ic{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe($i(e.integerValue));else if("doubleValue"in e){const s=$i(e.doubleValue);isNaN(s)?this.le(t,13):(this.le(t,15),Pc(s)?t.fe(0):t.fe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.le(t,20),"string"==typeof s?t.de(s):(t.de(`${s.seconds||""}`),t.fe(s.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Kl(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.le(t,45),t.fe(s.latitude||0),t.fe(s.longitude||0)}else"mapValue"in e?Ty(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):B()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const s=e.fields||{};this.le(t,55);for(const a of Object.keys(s))this._e(a,t),this.ae(s[a],t)}pe(e,t){const s=e.values||[];this.le(t,50);for(const a of s)this.ae(a,t)}ge(e,t){this.le(t,37),Xt.fromName(e).path.forEach(s=>{this.le(t,60),this.Ie(s,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function tw(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function sv(r){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const c=tw(255&t[a]);if(s+=c,8!==c)break}return s}(r);return Math.ceil(e/8)}ic.Te=new ic;class ov{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ae(s.value),s=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Pe(s.value),s=t.next();this.ve()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ae(s);else if(s<2048)this.Ae(960|s>>>6),this.Ae(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s);else{const a=t.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}this.Re()}Se(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Pe(s);else if(s<2048)this.Pe(960|s>>>6),this.Pe(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|s>>>12),this.Pe(128|63&s>>>6),this.Pe(128|63&s);else{const a=t.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}this.ve()}De(e){const t=this.Ce(e),s=sv(t);this.xe(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Ne(e){const t=this.Ce(e),s=sv(t);this.xe(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class cb{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class nw{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class kf{constructor(){this.Be=new ov,this.Le=new cb(this.Be),this.Ue=new nw(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class El{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new El(this.indexId,this.documentKey,this.arrayValue,s)}}function bl(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=av(r.arrayValue,e.arrayValue),0!==t?t:(t=av(r.directionalValue,e.directionalValue),0!==t?t:Xt.comparator(r.documentKey,e.documentKey)))}function av(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class Pg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const s=t;s.dt()?this.je=s:this.Qe.push(s)}}We(e){const t=Kp(e);if(void 0!==t&&!this.ze(t))return!1;const s=$l(e);let a=0,c=0;for(;a<s.length&&this.ze(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.je){const p=s[a];if(!this.He(this.je,p)||!this.Je(this.Ge[c++],p))return!1;++a}for(;a<s.length;++a){const p=s[a];if(c>=this.Ge.length||!this.Je(this.Ge[c++],p))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class db{constructor(){this.Ye=new uv}addToCollectionParentIndex(e,t){return this.Ye.add(t),at.resolve()}getCollectionParents(e,t){return at.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return at.resolve()}deleteFieldIndex(e,t){return at.resolve()}getDocumentsMatchingTarget(e,t){return at.resolve(null)}getIndexType(e,t){return at.resolve(0)}getFieldIndexes(e,t){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,t){return at.resolve(Lo.min())}getMinOffsetFromCollectionGroup(e,t){return at.resolve(Lo.min())}updateCollectionGroup(e,t,s){return at.resolve()}updateIndexEntries(e,t){return at.resolve()}}class uv{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Kr(gr.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Kr(gr.comparator)).toArray()}}const Lg=new Uint8Array(0);class hb{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new uv,this.Ze=new Vu(s=>Yl(s),(s,a)=>nh(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const c={collectionId:s,parent:js(a)};return rw(e).put(c)}return at.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Xh(t),""],!1,!0);return rw(e).W(a).next(c=>{for(const p of c){if(p.collectionId!==t)break;s.push(Uu(p.parent))}return s})}addFieldIndex(e,t){const s=Fg(e),a={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(b=>[b.fieldPath.canonicalString(),b.kind])};var p;delete a.indexId;const c=s.add(a);if(t.indexState){const p=Of(e);return c.next(b=>{p.put(hh(b,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const s=Fg(e),a=Of(e),c=Rf(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Rf(e);let a=!0;const c=new Map;return at.forEach(this.tn(t),p=>this.en(e,p).next(b=>{a&&(a=!!b),c.set(p,b)})).next(()=>{if(a){let p=Wn();const b=[];return at.forEach(c,(N,U)=>{var J;_("IndexedDbIndexManager",`Using index ${J=N,`id=${J.indexId}|cg=${J.collectionGroup}|f=${J.fields.map(pr=>`${pr.fieldPath}:${pr.kind}`).join(",")}`} to execute ${Yl(t)}`);const Ee=function(pr,nr){const Xn=Kp(nr);if(void 0===Xn)return null;for(const ar of cf(pr,Xn.fieldPath))switch(ar.op){case"array-contains-any":return ar.value.arrayValue.values||[];case"array-contains":return[ar.value]}return null}(U,N),Ze=function(pr,nr){const Xn=new Map;for(const ar of $l(nr))for(const Ss of cf(pr,ar.fieldPath))switch(Ss.op){case"==":case"in":Xn.set(ar.fieldPath.canonicalString(),Ss.value);break;case"not-in":case"!=":return Xn.set(ar.fieldPath.canonicalString(),Ss.value),Array.from(Xn.values())}return null}(U,N),ft=function(pr,nr){const Xn=[];let ar=!0;for(const Ss of $l(nr)){const jp=0===Ss.kind?Ay(pr,Ss.fieldPath,pr.startAt):My(pr,Ss.fieldPath,pr.startAt);Xn.push(jp.value),ar&&(ar=jp.inclusive)}return new hu(Xn,ar)}(U,N),It=function(pr,nr){const Xn=[];let ar=!0;for(const Ss of $l(nr)){const jp=0===Ss.kind?My(pr,Ss.fieldPath,pr.endAt):Ay(pr,Ss.fieldPath,pr.endAt);Xn.push(jp.value),ar&&(ar=jp.inclusive)}return new hu(Xn,ar)}(U,N),Qt=this.nn(N,U,ft),en=this.nn(N,U,It),fr=this.sn(N,U,Ze),Pr=this.rn(N.indexId,Ee,Qt,ft.inclusive,en,It.inclusive,fr);return at.forEach(Pr,pr=>s.J(pr,t.limit).next(nr=>{nr.forEach(Xn=>{const ar=Xt.fromSegments(Xn.documentKey);p.has(ar)||(p=p.add(ar),b.push(ar))})}))}).next(()=>b)}return at.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,s,a,c,p,b){const N=(null!=t?t.length:1)*Math.max(s.length,c.length),U=N/(null!=t?t.length:1),J=[];for(let Ee=0;Ee<N;++Ee){const Ze=t?this.on(t[Ee/U]):Lg,ft=this.un(e,Ze,s[Ee%U],a),It=this.cn(e,Ze,c[Ee%U],p),Qt=b.map(en=>this.un(e,Ze,en,!0));J.push(...this.createRange(ft,It,Qt))}return J}un(e,t,s,a){const c=new El(e,Xt.empty(),t,s);return a?c:c.Ke()}cn(e,t,s,a){const c=new El(e,Xt.empty(),t,s);return a?c.Ke():c}en(e,t){const s=new Pg(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let p=null;for(const b of c)s.We(b)&&(!p||b.fields.length>p.fields.length)&&(p=b);return p})}getIndexType(e,t){let s=2;return at.forEach(this.tn(t),a=>this.en(e,a).next(c=>{c?0!==s&&c.fields.length<function(p){let b=new Kr(ki.comparator),N=!1;for(const U of p.filters){const J=U;J.field.isKeyField()||("array-contains"===J.op||"array-contains-any"===J.op?N=!0:b=b.add(J.field))}for(const U of p.orderBy)U.field.isKeyField()||(b=b.add(U.field));return b.size+(N?1:0)}(a)&&(s=1):s=0})).next(()=>s)}an(e,t){const s=new kf;for(const a of $l(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const p=s.qe(a.kind);ic.Te.ce(c,p)}return s.$e()}on(e){const t=new kf;return ic.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const s=new kf;return ic.Te.ce(Lc(this.databaseId,t),s.qe(function(a){const c=$l(a);return 0===c.length?0:c[c.length-1].kind}(e))),s.$e()}sn(e,t,s){if(null===s)return[];let a=[];a.push(new kf);let c=0;for(const p of $l(e)){const b=s[c++];for(const N of a)if(this.ln(t,p.fieldPath)&&af(b))a=this.fn(a,p,b);else{const U=N.qe(p.kind);ic.Te.ce(b,U)}}return this.dn(a)}nn(e,t,s){return this.sn(e,t,s.position)}dn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].$e();return t}fn(e,t,s){const a=[...e],c=[];for(const p of s.arrayValue.values||[])for(const b of a){const N=new kf;N.seed(b.$e()),ic.Te.ce(p,N.qe(t.kind)),c.push(N)}return c}ln(e,t){return!!e.filters.find(s=>s instanceof Us&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Fg(e),a=Of(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(c=>{const p=[];return at.forEach(c,b=>a.get([b.indexId,this.uid]).next(N=>{p.push(function(U,J){const Ee=J?new zl(J.sequenceNumber,new Lo(Bu(J.readTime),new Xt(Uu(J.documentKey)),J.largestBatchId)):zl.empty(),Ze=U.fields.map(([ft,It])=>new Zp(ki.fromServerFormat(ft),It));return new ef(U.indexId,U.collectionGroup,Ze,Ee)}(b,N))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const c=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:Ln(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=Fg(e),c=Of(e);return this._n(e).next(p=>a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(b=>at.forEach(b,N=>c.put(hh(N.indexId,this.user,p,s)))))}updateIndexEntries(e,t){const s=new Map;return at.forEach(t,(a,c)=>{const p=s.get(a.collectionGroup);return(p?at.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(b=>(s.set(a.collectionGroup,b),at.forEach(b,N=>this.wn(e,a,N).next(U=>{const J=this.mn(c,N);return U.isEqual(J)?at.resolve():this.gn(e,c,N,U,J)}))))})}yn(e,t,s,a){return Rf(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.hn(s,t.key),documentKey:t.key.path.toArray()})}pn(e,t,s,a){return Rf(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.hn(s,t.key),t.key.path.toArray()])}wn(e,t,s){const a=Rf(e);let c=new Kr(bl);return a.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.hn(s,t)])},(p,b)=>{c=c.add(new El(s.indexId,t,b.arrayValue,b.directionalValue))}).next(()=>c)}mn(e,t){let s=new Kr(bl);const a=this.an(t,e);if(null==a)return s;const c=Kp(t);if(null!=c){const p=e.data.field(c.fieldPath);if(af(p))for(const b of p.arrayValue.values||[])s=s.add(new El(t.indexId,e.key,this.on(b),a))}else s=s.add(new El(t.indexId,e.key,Lg,a));return s}gn(e,t,s,a,c){_("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(b,N,U,J,Ee){const Ze=b.getIterator(),ft=N.getIterator();let It=Nc(Ze),Qt=Nc(ft);for(;It||Qt;){let en=!1,fr=!1;if(It&&Qt){const Pr=U(It,Qt);Pr<0?fr=!0:Pr>0&&(en=!0)}else null!=It?fr=!0:en=!0;en?(J(Qt),Qt=Nc(ft)):fr?(Ee(It),It=Nc(Ze)):(It=Nc(Ze),Qt=Nc(ft))}}(a,c,bl,b=>{p.push(this.yn(e,t,s,b))},b=>{p.push(this.pn(e,t,s,b))}),at.waitFor(p)}_n(e){let t=1;return Of(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((p,b)=>bl(p,b)).filter((p,b,N)=>!b||0!==bl(p,N[b-1]));const a=[];a.push(e);for(const p of s){const b=bl(p,e),N=bl(p,t);if(0===b)a[0]=e.Ke();else if(b>0&&N<0)a.push(p),a.push(p.Ke());else if(N>0)break}a.push(t);const c=[];for(let p=0;p<a.length;p+=2)c.push(IDBKeyRange.bound([a[p].indexId,this.uid,a[p].arrayValue,a[p].directionalValue,Lg,[]],[a[p+1].indexId,this.uid,a[p+1].arrayValue,a[p+1].directionalValue,Lg,[]]));return c}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(iw)}getMinOffset(e,t){return at.mapArray(this.tn(t),s=>this.en(e,s).next(a=>a||B())).next(iw)}}function rw(r){return Hs(r,"collectionParents")}function Rf(r){return Hs(r,"indexEntries")}function Fg(r){return Hs(r,"indexConfiguration")}function Of(r){return Hs(r,"indexState")}function iw(r){Z(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const a=r[s].indexState.offset;Qp(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Lo(e.readTime,e.documentKey,t)}const sw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wi{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Wi(e,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Nf(r,e,t){const s=r.store("mutations"),a=r.store("documentMutations"),c=[],p=IDBKeyRange.only(t.batchId);let b=0;const N=s.Z({range:p},(J,Ee,Ze)=>(b++,Ze.delete()));c.push(N.next(()=>{Z(1===b)}));const U=[];for(const J of t.mutations){const Ee=Ag(e,J.key.path,t.batchId);c.push(a.delete(Ee)),U.push(J.key)}return at.waitFor(c).next(()=>U)}function Pf(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw B();e=r.noDocument}return JSON.stringify(e).length}Wi.DEFAULT_COLLECTION_PERCENTILE=10,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wi.DEFAULT=new Wi(41943040,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wi.DISABLED=new Wi(-1,0,0);class ph{constructor(e,t,s,a){this.userId=e,this.It=t,this.indexManager=s,this.referenceDelegate=a,this.In={}}static oe(e,t,s,a){Z(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new ph(c,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ju(e).Z({index:"userMutationsIndex",range:s},(a,c,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const c=Il(e),p=ju(e);return p.add({}).next(b=>{Z("number"==typeof b);const N=new _l(b,t,s,a),U=function(Ze,ft,It){const Qt=It.baseMutations.map(fr=>qc(Ze.re,fr)),en=It.mutations.map(fr=>qc(Ze.re,fr));return{userId:ft,batchId:It.batchId,localWriteTimeMs:It.localWriteTime.toMillis(),baseMutations:Qt,mutations:en}}(this.It,this.userId,N),J=[];let Ee=new Kr((Ze,ft)=>Ln(Ze.canonicalString(),ft.canonicalString()));for(const Ze of a){const ft=Ag(this.userId,Ze.key.path,b);Ee=Ee.add(Ze.key.path.popLast()),J.push(p.put(U)),J.push(c.put(ft,lb))}return Ee.forEach(Ze=>{J.push(this.indexManager.addToCollectionParentIndex(e,Ze))}),e.addOnCommittedListener(()=>{this.In[b]=N.keys()}),at.waitFor(J).next(()=>N)})}lookupMutationBatch(e,t){return ju(e).get(t).next(s=>s?(Z(s.userId===this.userId),wl(this.It,s)):null)}Tn(e,t){return this.In[t]?at.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.In[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return ju(e).Z({index:"userMutationsIndex",range:a},(p,b,N)=>{b.userId===this.userId&&(Z(b.batchId>=s),c=wl(this.It,b)),N.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ju(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(a,c,p)=>{s=c.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ju(e).W("userMutationsIndex",t).next(s=>s.map(a=>wl(this.It,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=If(this.userId,t.path),a=IDBKeyRange.lowerBound(s),c=[];return Il(e).Z({range:a},(p,b,N)=>{const[U,J,Ee]=p,Ze=Uu(J);if(U===this.userId&&t.path.isEqual(Ze))return ju(e).get(Ee).next(ft=>{if(!ft)throw B();Z(ft.userId===this.userId),c.push(wl(this.It,ft))});N.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Kr(Ln);const a=[];return t.forEach(c=>{const p=If(this.userId,c.path),b=IDBKeyRange.lowerBound(p),N=Il(e).Z({range:b},(U,J,Ee)=>{const[Ze,ft,It]=U,Qt=Uu(ft);Ze===this.userId&&c.path.isEqual(Qt)?s=s.add(It):Ee.done()});a.push(N)}),at.waitFor(a).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,c=If(this.userId,s),p=IDBKeyRange.lowerBound(c);let b=new Kr(Ln);return Il(e).Z({range:p},(N,U,J)=>{const[Ee,Ze,ft]=N,It=Uu(Ze);Ee===this.userId&&s.isPrefixOf(It)?It.length===a&&(b=b.add(ft)):J.done()}).next(()=>this.En(e,b))}En(e,t){const s=[],a=[];return t.forEach(c=>{a.push(ju(e).get(c).next(p=>{if(null===p)throw B();Z(p.userId===this.userId),s.push(wl(this.It,p))}))}),at.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return Nf(e.ie,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),at.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return at.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return Il(e).Z({range:s},(c,p,b)=>{if(c[0]===this.userId){const N=Uu(c[1]);a.push(N)}else b.done()}).next(()=>{Z(0===a.length)})})}containsKey(e,t){return Lf(e,this.userId,t)}Rn(e){return lv(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Lf(r,e,t){const s=If(e,t.path),a=s[1],c=IDBKeyRange.lowerBound(s);let p=!1;return Il(r).Z({range:c,X:!0},(b,N,U)=>{const[J,Ee,Ze]=b;J===e&&Ee===a&&(p=!0),U.done()}).next(()=>p)}function ju(r){return Hs(r,"mutations")}function Il(r){return Hs(r,"documentMutations")}function lv(r){return Hs(r,"mutationQueues")}class Fo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Fo(0)}static vn(){return new Fo(-1)}}class cv{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new Fo(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Mn.fromTimestamp(new jn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Sn(e,a)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Jc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(Z(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let a=0;const c=[];return Jc(e).Z((p,b)=>{const N=rc(b);N.sequenceNumber<=t&&null===s.get(N.targetId)&&(a++,c.push(this.removeTargetData(e,N)))}).next(()=>at.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Jc(e).Z((s,a)=>{const c=rc(a);t(c)})}Vn(e){return dv(e).get("targetGlobalKey").next(t=>(Z(null!==t),t))}Sn(e,t){return dv(e).put("targetGlobalKey",t)}Dn(e,t){return Jc(e).put(ew(this.It,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Yl(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Jc(e).Z({range:a,index:"queryTargetsIndex"},(p,b,N)=>{const U=rc(b);nh(t,U.target)&&(c=U,N.done())}).next(()=>c)}addMatchingKeys(e,t,s){const a=[],c=Hu(e);return t.forEach(p=>{const b=js(p.path);a.push(c.put({targetId:s,path:b})),a.push(this.referenceDelegate.addReference(e,s,p))}),at.waitFor(a)}removeMatchingKeys(e,t,s){const a=Hu(e);return at.forEach(t,c=>{const p=js(c.path);return at.waitFor([a.delete([s,p]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,t){const s=Hu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Hu(e);let c=Wn();return a.Z({range:s,X:!0},(p,b,N)=>{const U=Uu(p[1]),J=new Xt(U);c=c.add(J)}).next(()=>c)}containsKey(e,t){const s=js(t.path),a=IDBKeyRange.bound([s],[Xh(s)],!1,!0);let c=0;return Hu(e).Z({index:"documentTargetsIndex",X:!0,range:a},([p,b],N,U)=>{0!==p&&(c++,U.done())}).next(()=>c>0)}se(e,t){return Jc(e).get(t).next(s=>s?rc(s):null)}}function Jc(r){return Hs(r,"targets")}function dv(r){return Hs(r,"targetGlobal")}function Hu(r){return Hs(r,"targetDocuments")}function hv([r,e],[t,s]){const a=Ln(r,t);return 0===a?Ln(e,s):a}class ow{constructor(e){this.xn=e,this.buffer=new Kr(hv),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();hv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ff{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;_("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ke.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){ul(s)?_("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield lu(s)}yield t.Fn(3e5)}))}}class Xc{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return at.resolve(go.at);const s=new ow(t);return this.$n.forEachTarget(e,a=>s.On(a.sequenceNumber)).next(()=>this.$n.Ln(e,a=>s.On(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(_("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(sw)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(_("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sw):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let s,a,c,p,b,N,U;const J=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ee=>(Ee>this.params.maximumSequenceNumbersToCollect?(_("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ee}`),a=this.params.maximumSequenceNumbersToCollect):a=Ee,p=Date.now(),this.nthSequenceNumber(e,a))).next(Ee=>(s=Ee,b=Date.now(),this.removeTargets(e,s,t))).next(Ee=>(c=Ee,N=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ee=>(U=Date.now(),Wd()<=Rn.in.DEBUG&&_("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-J}ms\n\tDetermined least recently used ${a} in `+(b-p)+`ms\n\tRemoved ${c} targets in `+(N-b)+`ms\n\tRemoved ${Ee} documents in `+(U-N)+`ms\nTotal Duration: ${U-J}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:Ee})))}}class Vg{constructor(e,t){this.db=e,this.garbageCollector=new Xc(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}qn(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,a)=>t(a))}addReference(e,t,s){return $u(e,s)}removeReference(e,t,s){return $u(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return $u(e,t)}Gn(e,t){return function(s,a){let c=!1;return lv(s).tt(p=>Lf(s,p,a).next(b=>(b&&(c=!0),at.resolve(!b)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Kn(e,(p,b)=>{if(b<=t){const N=this.Gn(e,p).next(U=>{if(!U)return c++,s.getEntry(e,p).next(()=>(s.removeEntry(p,Mn.min()),Hu(e).delete([0,js(p.path)])))});a.push(N)}}).next(()=>at.waitFor(a)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return $u(e,t)}Kn(e,t){const s=Hu(e);let a,c=go.at;return s.Z({index:"documentTargetsIndex"},([p,b],{path:N,sequenceNumber:U})=>{0===p?(c!==go.at&&t(new Xt(Uu(a)),c),c=U,a=N):c=go.at}).next(()=>{c!==go.at&&t(new Xt(Uu(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $u(r,e){return Hu(r).put((s=r.currentSequenceNumber,{targetId:0,path:js(e.path),sequenceNumber:s}));var s}class Vf{constructor(){this.changes=new Vu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?at.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Uf{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return zu(e).put(s)}removeEntry(e,t,s){return zu(e).delete(function(a,c){const p=a.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],Qc(c),p[p.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=ei.newInvalidDocument(t);return zu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ed(t))},(a,c)=>{s=this.jn(t,c)}).next(()=>s)}Wn(e,t){let s={size:0,document:ei.newInvalidDocument(t)};return zu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ed(t))},(a,c)=>{s={document:this.jn(t,c),size:Pf(c)}}).next(()=>s)}getEntries(e,t){let s=Xo();return this.zn(e,t,(a,c)=>{const p=this.jn(a,c);s=s.insert(a,p)}).next(()=>s)}Hn(e,t){let s=Xo(),a=new Ci(Xt.comparator);return this.zn(e,t,(c,p)=>{const b=this.jn(c,p);s=s.insert(c,b),a=a.insert(c,Pf(p))}).next(()=>({documents:s,Jn:a}))}zn(e,t,s){if(t.isEmpty())return at.resolve();let a=new Kr(pv);t.forEach(N=>a=a.add(N));const c=IDBKeyRange.bound(ed(a.first()),ed(a.last())),p=a.getIterator();let b=p.getNext();return zu(e).Z({index:"documentKeyIndex",range:c},(N,U,J)=>{const Ee=Xt.fromSegments([...U.prefixPath,U.collectionGroup,U.documentId]);for(;b&&pv(b,Ee)<0;)s(b,null),b=p.getNext();b&&b.isEqual(Ee)&&(s(b,U),b=p.hasNext()?p.getNext():null),b?J.j(ed(b)):J.done()}).next(()=>{for(;b;)s(b,null),b=p.hasNext()?p.getNext():null})}getAllFromCollection(e,t,s){const a=[t.popLast().toArray(),t.lastSegment(),Qc(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],c=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zu(e).W(IDBKeyRange.bound(a,c,!0)).next(p=>{let b=Xo();for(const N of p){const U=this.jn(Xt.fromSegments(N.prefixPath.concat(N.collectionGroup,N.documentId)),N);b=b.insert(U.key,U)}return b})}getAllFromCollectionGroup(e,t,s,a){let c=Xo();const p=jf(t,s),b=jf(t,Lo.max());return zu(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,b,!0)},(N,U,J)=>{const Ee=this.jn(Xt.fromSegments(U.prefixPath.concat(U.collectionGroup,U.documentId)),U);c=c.insert(Ee.key,Ee),c.size===a&&J.done()}).next(()=>c)}newChangeBuffer(e){return new fv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Bf(e).get("remoteDocumentGlobalKey").next(t=>(Z(!!t),t))}Qn(e,t){return Bf(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function nv(r,e){let t;if(e.document)t=Zy(r.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Xt.fromSegments(e.noDocument.path),a=Bu(e.noDocument.readTime);t=ei.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return B();{const s=Xt.fromSegments(e.unknownDocument.path),a=Bu(e.unknownDocument.version);t=ei.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new jn(s[0],s[1]);return Mn.fromTimestamp(a)}(e.readTime)),t}(this.It,t);if(!s.isNoDocument()||!s.version.isEqual(Mn.min()))return s}return ei.newInvalidDocument(e)}}function Ug(r){return new Uf(r)}class fv extends Vf{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Vu(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Kr((c,p)=>Ln(c.canonicalString(),p.canonicalString()));return this.changes.forEach((c,p)=>{const b=this.Xn.get(c);if(t.push(this.Yn.removeEntry(e,c,b.readTime)),p.isValidDocument()){const N=rv(this.Yn.It,p);a=a.add(c.path.popLast()),s+=Pf(N)-b.size,t.push(this.Yn.addEntry(e,c,N))}else if(s-=b.size,this.trackRemovals){const N=rv(this.Yn.It,p.convertToNoDocument(Mn.min()));t.push(this.Yn.addEntry(e,c,N))}}),a.forEach(c=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.Yn.updateMetadata(e,s)),at.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:a})=>(a.forEach((c,p)=>{this.Xn.set(c,{size:p,readTime:s.get(c).readTime})}),s))}}function Bf(r){return Hs(r,"remoteDocumentGlobal")}function zu(r){return Hs(r,"remoteDocumentsV14")}function ed(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jf(r,e){const t=e.documentKey.path.toArray();return[r,Qc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function pv(r,e){const t=r.path.toArray(),s=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<s.length-2;++c)if(a=Ln(t[c],s[c]),a)return a;return a=Ln(t.length,s.length),a||(a=Ln(t[t.length-2],s[s.length-2]),a||Ln(t[t.length-1],s[s.length-1]))}class fb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gv{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.getBaseDocument(e,t,s))).next(a=>(null!==s&&sh(s.mutation,a,mo.empty(),jn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Wn()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Wn()){const a=$a();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let p=ah();return c.forEach((b,N)=>{p=p.insert(b,N.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const s=$a();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Wn()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((p,b)=>{t.set(p,b)})})}computeViews(e,t,s,a){let c=Xo();const p=Xl(),b=Xl();return t.forEach((N,U)=>{const J=s.get(U.key);a.has(U.key)&&(void 0===J||J.mutation instanceof Fu)?c=c.insert(U.key,U):void 0!==J&&(p.set(U.key,J.mutation.getFieldMask()),sh(J.mutation,U,J.mutation.getFieldMask(),jn.now()))}),this.recalculateAndSaveOverlays(e,c).next(N=>(N.forEach((U,J)=>p.set(U,J)),t.forEach((U,J)=>{var Ee;return b.set(U,new fb(J,null!==(Ee=p.get(U))&&void 0!==Ee?Ee:null))}),b))}recalculateAndSaveOverlays(e,t){const s=Xl();let a=new Ci((p,b)=>p-b),c=Wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const b of p)b.keys().forEach(N=>{const U=t.get(N);if(null===U)return;let J=s.get(N)||mo.empty();J=b.applyToLocalView(U,J),s.set(N,J);const Ee=(a.get(b.batchId)||Wn()).add(N);a=a.insert(b.batchId,Ee)})}).next(()=>{const p=[],b=a.getReverseIterator();for(;b.hasNext();){const N=b.getNext(),U=N.key,J=N.value,Ee=wg();J.forEach(Ze=>{if(!c.has(Ze)){const ft=yf(t.get(Ze),s.get(Ze));null!==ft&&Ee.set(Ze,ft),c=c.add(Ze)}}),p.push(this.documentOverlayCache.saveOverlays(e,U,Ee))}return at.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Xt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):cg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):at.resolve($a());let b=-1,N=c;return p.next(U=>at.forEach(U,(J,Ee)=>(b<Ee.largestBatchId&&(b=Ee.largestBatchId),c.get(J)?at.resolve():this.getBaseDocument(e,J,Ee).next(Ze=>{N=N.insert(J,Ze)}))).next(()=>this.populateOverlays(e,U,c)).next(()=>this.computeViews(e,N,U,Wn())).next(J=>({batchId:b,changes:_g(J)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xt(t)).next(s=>{let a=ah();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=ah();return this.indexManager.getCollectionParents(e,a).next(p=>at.forEach(p,b=>{const N=(U=t,J=b.child(a),new fu(J,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt));var U,J;return this.getDocumentsMatchingCollectionQuery(e,N,s).next(U=>{U.forEach((J,Ee)=>{c=c.insert(J,Ee)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(c=>(a=c,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(c=>{c.forEach((b,N)=>{const U=N.getKey();null===a.get(U)&&(a=a.insert(U,ei.newInvalidDocument(U)))});let p=ah();return a.forEach((b,N)=>{const U=c.get(b);void 0!==U&&sh(U.mutation,N,mo.empty(),jn.now()),pl(t,N)&&(p=p.insert(b,N))}),p})}getBaseDocument(e,t,s){return null===s||1===s.mutation.type?this.remoteDocumentCache.getEntry(e,t):at.resolve(ei.newInvalidDocument(t))}}class mv{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return at.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:Ts(s.createTime)}),at.resolve()}getNamedQuery(e,t){return at.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:Sf(s.bundledQuery),readTime:Ts(s.readTime)}),at.resolve();var s}}class aw{constructor(){this.overlays=new Ci(Xt.comparator),this.es=new Map}getOverlay(e,t){return at.resolve(this.overlays.get(t))}getOverlays(e,t){const s=$a();return at.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.ue(e,t,c)}),at.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.es.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.es.delete(s)),at.resolve()}getOverlaysForCollection(e,t,s){const a=$a(),c=t.length+1,p=new Xt(t.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const N=b.getNext().value,U=N.getKey();if(!t.isPrefixOf(U.path))break;U.path.length===c&&N.largestBatchId>s&&a.set(N.getKey(),N)}return at.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new Ci((U,J)=>U-J);const p=this.overlays.getIterator();for(;p.hasNext();){const U=p.getNext().value;if(U.getKey().getCollectionGroup()===t&&U.largestBatchId>s){let J=c.get(U.largestBatchId);null===J&&(J=$a(),c=c.insert(U.largestBatchId,J)),J.set(U.getKey(),U)}}const b=$a(),N=c.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((U,J)=>b.set(U,J)),!(b.size()>=a)););return at.resolve(b)}ue(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const p=this.es.get(a.largestBatchId).delete(s.key);this.es.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new Tf(t,s));let c=this.es.get(t);void 0===c&&(c=Wn(),this.es.set(t,c)),this.es.set(t,c.add(s.key))}}class Hf{constructor(){this.ns=new Kr(ms.ss),this.rs=new Kr(ms.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new ms(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new ms(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new Xt(new gr([])),s=new ms(t,e),a=new ms(t,e+1),c=[];return this.rs.forEachInRange([s,a],p=>{this.cs(p),c.push(p.key)}),c}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Xt(new gr([])),s=new ms(t,e),a=new ms(t,e+1);let c=Wn();return this.rs.forEachInRange([s,a],p=>{c=c.add(p.key)}),c}containsKey(e){const t=new ms(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class ms{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Xt.comparator(e.key,t.key)||Ln(e._s,t._s)}static os(e,t){return Ln(e._s,t._s)||Xt.comparator(e.key,t.key)}}class uw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Kr(ms.ss)}checkEmpty(e){return at.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.ws;this.ws++;const p=new _l(c,t,s,a);this.mutationQueue.push(p);for(const b of a)this.gs=this.gs.add(new ms(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return at.resolve(p)}lookupMutationBatch(e,t){return at.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.ps(t+1),c=a<0?0:a;return at.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new ms(t,0),a=new ms(t,Number.POSITIVE_INFINITY),c=[];return this.gs.forEachInRange([s,a],p=>{const b=this.ys(p._s);c.push(b)}),at.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Kr(Ln);return t.forEach(a=>{const c=new ms(a,0),p=new ms(a,Number.POSITIVE_INFINITY);this.gs.forEachInRange([c,p],b=>{s=s.add(b._s)})}),at.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;Xt.isDocumentKey(c)||(c=c.child(""));const p=new ms(new Xt(c),0);let b=new Kr(Ln);return this.gs.forEachWhile(N=>{const U=N.key.path;return!!s.isPrefixOf(U)&&(U.length===a&&(b=b.add(N._s)),!0)},p),at.resolve(this.Is(b))}Is(e){const t=[];return e.forEach(s=>{const a=this.ys(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Z(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return at.forEach(t.mutations,a=>{const c=new ms(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new ms(t,0),a=this.gs.firstAfterOrEqual(s);return at.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return at.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ta{constructor(e){this.Es=e,this.docs=new Ci(Xt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,p=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return at.resolve(s?s.document.mutableCopy():ei.newInvalidDocument(t))}getEntries(e,t){let s=Xo();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():ei.newInvalidDocument(a))}),at.resolve(s)}getAllFromCollection(e,t,s){let a=Xo();const c=new Xt(t.child("")),p=this.docs.getIteratorFrom(c);for(;p.hasNext();){const{key:b,value:{document:N}}=p.getNext();if(!t.isPrefixOf(b.path))break;b.path.length>t.length+1||Qp(Yp(N),s)<=0||(a=a.insert(N.key,N.mutableCopy()))}return at.resolve(a)}getAllFromCollectionGroup(e,t,s,a){B()}As(e,t){return at.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new yv(this)}getSize(e){return at.resolve(this.size)}}class yv extends Vf{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Yn.addEntry(e,a)):this.Yn.removeEntry(s)}),at.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class lw{constructor(e){this.persistence=e,this.Rs=new Vu(t=>Yl(t),nh),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Hf,this.targetCount=0,this.vs=Fo.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,a)=>t(a)),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),at.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Fo(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,at.resolve()}updateTargetData(e,t){return this.Dn(t),at.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.Rs.forEach((p,b)=>{b.sequenceNumber<=t&&null===s.get(b.targetId)&&(this.Rs.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),a++)}),at.waitFor(c).next(()=>a)}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return at.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),at.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(p=>{c.push(a.markPotentiallyOrphaned(e,p))}),at.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),at.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return at.resolve(s)}containsKey(e,t){return at.resolve(this.Ps.containsKey(t))}}class cw{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new go(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new lw(this),this.indexManager=new db,this.remoteDocumentCache=new ta(s=>this.referenceDelegate.xs(s)),this.It=new wa(t),this.Ns=new mv(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new uw(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){_("MemoryPersistence","Starting transaction:",e);const a=new dw(this.Ss.next());return this.referenceDelegate.ks(),s(a).next(c=>this.referenceDelegate.Os(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ms(e,t){return at.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class dw extends Xp{constructor(e){super(),this.currentSequenceNumber=e}}class td{constructor(e){this.persistence=e,this.Fs=new Hf,this.$s=null}static Bs(e){return new td(e)}get Ls(){if(this.$s)return this.$s;throw B()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),at.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),at.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),at.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(a=>this.Ls.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ls.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.Ls,s=>{const a=Xt.fromPath(s);return this.Us(e,a).next(c=>{c||t.removeEntry(a,Mn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return at.or([()=>at.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class vv{constructor(e){this.It=e}$(e,t,s,a){const c=new Oc("createOrUpgrade",t);var b;s<1&&a>=1&&(e.createObjectStore("owner"),(b=e).createObjectStore("mutationQueues",{keyPath:"userId"}),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$0,{unique:!0}),b.createObjectStore("documentMutations"),_v(e),function(b){b.createObjectStore("remoteDocuments")}(e));let p=at.resolve();return s<3&&a>=3&&(0!==s&&(function(b){b.deleteObjectStore("targetDocuments"),b.deleteObjectStore("targets"),b.deleteObjectStore("targetGlobal")}(e),_v(e)),p=p.next(()=>function(b){const N=b.store("targetGlobal"),U={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mn.min().toTimestamp(),targetCount:0};return N.put("targetGlobalKey",U)}(c))),s<4&&a>=4&&(0!==s&&(p=p.next(()=>function(b,N){return N.store("mutations").W().next(U=>{b.deleteObjectStore("mutations"),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$0,{unique:!0});const J=N.store("mutations"),Ee=U.map(Ze=>J.put(Ze));return at.waitFor(Ee)})}(e,c))),p=p.next(()=>{!function(b){b.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(p=p.next(()=>this.qs(c))),s<6&&a>=6&&(p=p.next(()=>(function(b){b.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(c)))),s<7&&a>=7&&(p=p.next(()=>this.Gs(c))),s<8&&a>=8&&(p=p.next(()=>this.Qs(e,c))),s<9&&a>=9&&(p=p.next(()=>{!function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(p=p.next(()=>this.js(c))),s<11&&a>=11&&(p=p.next(()=>{(function(b){b.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(b){b.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(p=p.next(()=>{!function(b){const N=b.createObjectStore("documentOverlays",{keyPath:Q0});N.createIndex("collectionPathOverlayIndex",ev,{unique:!1}),N.createIndex("collectionGroupOverlayIndex",J0,{unique:!1})}(e)})),s<13&&a>=13&&(p=p.next(()=>function(b){const N=b.createObjectStore("remoteDocumentsV14",{keyPath:z0});N.createIndex("documentKeyIndex",Yc),N.createIndex("collectionGroupIndex",W0)}(e)).next(()=>this.Ws(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(p=p.next(()=>this.zs(e,c))),s<15&&a>=15&&(p=p.next(()=>function(b){b.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),b.createObjectStore("indexState",{keyPath:K0}).createIndex("sequenceNumberIndex",Z0,{unique:!1}),b.createObjectStore("indexEntries",{keyPath:q0}).createIndex("documentKeyIndex",Y0,{unique:!1})}(e))),p}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,a)=>{t+=Pf(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}qs(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(a=>at.forEach(a,c=>{const p=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",p).next(b=>at.forEach(b,N=>{Z(N.userId===c.userId);const U=wl(this.It,N);return Nf(e,c.userId,U).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return s.Z((p,b)=>{const N=new gr(p),U=[0,js(N)];c.push(t.get(U).next(J=>J?at.resolve():t.put({targetId:0,path:js(N),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>at.waitFor(c))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Xy});const s=t.store("collectionParents"),a=new uv,c=p=>{if(a.add(p)){const b=p.lastSegment(),N=p.popLast();return s.put({collectionId:b,parent:js(N)})}};return t.store("remoteDocuments").Z({X:!0},(p,b)=>{const N=new gr(p);return c(N.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([p,b,N],U)=>{const J=Uu(b);return c(J.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,a)=>{const c=rc(a),p=ew(this.It,c);return t.put(p)})}Ws(e,t){const s=t.store("remoteDocuments"),a=[];return s.Z((c,p)=>{const b=t.store("remoteDocumentsV14"),N=(U=p,U.document?new Xt(gr.fromString(U.document.name).popFirst(5)):U.noDocument?Xt.fromSegments(U.noDocument.path):U.unknownDocument?Xt.fromSegments(U.unknownDocument.path):B()).path.toArray();var U;const J={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};a.push(b.put(J))}).next(()=>at.waitFor(a))}zs(e,t){const s=t.store("mutations"),a=Ug(this.It),c=new cw(td.Bs,this.It.re);return s.W().next(p=>{const b=new Map;return p.forEach(N=>{var U;let J=null!==(U=b.get(N.userId))&&void 0!==U?U:Wn();wl(this.It,N).keys().forEach(Ee=>J=J.add(Ee)),b.set(N.userId,J)}),at.forEach(b,(N,U)=>{const J=new gs(U),Ee=Ng.oe(this.It,J),Ze=c.getIndexManager(J),ft=ph.oe(J,this.It,Ze,c.referenceDelegate);return new gv(a,ft,Ee,Ze).recalculateAndSaveOverlaysForDocumentKeys(new Rg(t,go.at),N).next()})})}}function _v(r){r.createObjectStore("targetDocuments",{keyPath:Df}).createIndex("documentTargetsIndex",G0,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Jy,{unique:!0}),r.createObjectStore("targetGlobal")}const Bg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jg{constructor(e,t,s,a,c,p,b,N,U,J,Ee=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=c,this.window=p,this.document=b,this.Js=U,this.Ys=J,this.Xs=Ee,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Ze=>Promise.resolve(),!jg.C())throw new tt(Te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vg(this,a),this.ii=t+"main",this.It=new wa(N),this.ri=new _a(this.ii,this.Xs,new vv(this.It)),this.Cs=new cv(this.referenceDelegate,this.It),this.remoteDocumentCache=Ug(this.It),this.Ns=new Og,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===J&&h("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tt(Te.FAILED_PRECONDITION,Bg);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new go(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,ke.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ke.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ke.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$f(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ul(e))return _("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return _("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return nd(e).get("owner").next(t=>at.resolve(this.mi(t)))}gi(e){return $f(e).delete(this.clientId)}yi(){var e=this;return(0,ke.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Hs(s,"clientMetadata");return a.W().next(c=>{const p=e.Ii(c,18e5),b=c.filter(N=>-1===p.indexOf(N));return at.forEach(b,N=>a.delete(N.clientId)).next(()=>b)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?at.resolve(!0):nd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new tt(Te.FAILED_PRECONDITION,Bg);return!1}}return!(!this.networkEnabled||!this.inForeground)||$f(e).W().next(s=>void 0===this.Ii(s,5e3).find(a=>{if(this.clientId!==a.clientId){const p=!this.inForeground&&a.inForeground,b=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||p&&b)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&_("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ke.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Rg(t,go.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>$f(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return ph.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hb(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Ng.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){_("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(p=this.Xs)?kg:14===p?X0:13===p?Cf:12===p?tv:11===p?Mg:void B();var p;let b;return this.ri.runTransaction(e,a,c,N=>(b=new Rg(N,this.Ss?this.Ss.next():go.at),"readwrite-primary"===t?this.fi(b).next(U=>!!U||this.di(b)).next(U=>{if(!U)throw h(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new tt(Te.FAILED_PRECONDITION,Jp);return s(b)}).next(U=>this.wi(b).next(()=>U)):this.Vi(b).next(()=>s(b)))).then(N=>(b.raiseOnCommittedEvent(),N))}Vi(e){return nd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new tt(Te.FAILED_PRECONDITION,Bg)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nd(e).put("owner",t)}static C(){return _a.C()}_i(e){const t=nd(e);return t.get("owner").next(s=>this.mi(s)?(_("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):at.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(h(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,dn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return _("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return h("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){h("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nd(r){return Hs(r,"owner")}function $f(r){return Hs(r,"clientMetadata")}function zf(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Hg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=a}static Ci(e,t){let s=Wn(),a=Wn();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Hg(e,t.fromCache,s,a)}}class wv{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.ki(e,t).next(c=>c||this.Oi(e,t,a,s)).next(c=>c||this.Mi(e,t))}ki(e,t){if(ug(t))return at.resolve(null);let s=vo(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=hf(t,null,"F"),s=vo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const p=Wn(...c);return this.Ni.getDocuments(e,p).next(b=>this.indexManager.getMinOffset(e,s).next(N=>{const U=this.Fi(t,b);return this.$i(t,U,p,N.readTime)?this.ki(e,hf(t,null,"F")):this.Bi(e,U,t,N)}))})))}Oi(e,t,s,a){return ug(t)||a.isEqual(Mn.min())?this.Mi(e,t):this.Ni.getDocuments(e,s).next(c=>{const p=this.Fi(t,c);return this.$i(t,p,s,a)?this.Mi(e,t):(Wd()<=Rn.in.DEBUG&&_("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),dg(t)),this.Bi(e,p,t,qp(a,-1)))})}Fi(e,t){let s=new Kr(Py(e));return t.forEach((a,c)=>{pl(e,c)&&(s=s.add(c))}),s}$i(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Mi(e,t){return Wd()<=Rn.in.DEBUG&&_("QueryEngine","Using full collection scan to execute query:",dg(t)),this.Ni.getDocumentsMatchingQuery(e,t,Lo.min())}Bi(e,t,s,a){return this.Ni.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(p=>{c=c.insert(p.key,p)}),c))}}class Ev{constructor(e,t,s,a){this.persistence=e,this.Li=t,this.It=a,this.Ui=new Ci(Ln),this.qi=new Vu(c=>Yl(c),nh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gv(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function $g(r,e,t,s){return new Ev(r,e,t,s)}function bv(r,e){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,ke.Z)(function*(r,e){const t=Le(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const p=[],b=[];let N=Wn();for(const U of a){p.push(U.batchId);for(const J of U.mutations)N=N.add(J.key)}for(const U of c){b.push(U.batchId);for(const J of U.mutations)N=N.add(J.key)}return t.localDocuments.getDocuments(s,N).next(U=>({ji:U,removedBatchIds:p,addedBatchIds:b}))})})}),Ea.apply(this,arguments)}function zg(r,e){const t=Le(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Gi.newChangeBuffer({trackRemovals:!0});return function(p,b,N,U){const J=N.batch,Ee=J.keys();let Ze=at.resolve();return Ee.forEach(ft=>{Ze=Ze.next(()=>U.getEntry(b,ft)).next(It=>{const Qt=N.docVersions.get(ft);Z(null!==Qt),It.version.compareTo(Qt)<0&&(J.applyToRemoteDocument(It,N),It.isValidDocument()&&(It.setReadTime(N.commitVersion),U.addEntry(It)))})}),Ze.next(()=>p.mutationQueue.removeMutationBatch(b,J))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let b=Wn();for(let N=0;N<p.mutationResults.length;++N)p.mutationResults[N].transformResults.length>0&&(b=b.add(p.batch.mutations[N].key));return b}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function Iv(r){const e=Le(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function hw(r,e){const t=Le(r),s=e.snapshotVersion;let a=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=t.Gi.newChangeBuffer({trackRemovals:!0});a=t.Ui;const b=[];e.targetChanges.forEach((J,Ee)=>{const Ze=a.get(Ee);if(!Ze)return;b.push(t.Cs.removeMatchingKeys(c,J.removedDocuments,Ee).next(()=>t.Cs.addMatchingKeys(c,J.addedDocuments,Ee)));let ft=Ze.withSequenceNumber(c.currentSequenceNumber);var It,Qt,en;e.targetMismatches.has(Ee)?ft=ft.withResumeToken(Xi.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):J.resumeToken.approximateByteSize()>0&&(ft=ft.withResumeToken(J.resumeToken,s)),a=a.insert(Ee,ft),Qt=ft,en=J,(0===(It=Ze).resumeToken.approximateByteSize()||Qt.snapshotVersion.toMicroseconds()-It.snapshotVersion.toMicroseconds()>=3e8||en.addedDocuments.size+en.modifiedDocuments.size+en.removedDocuments.size>0)&&b.push(t.Cs.updateTargetData(c,ft))});let N=Xo(),U=Wn();if(e.documentUpdates.forEach(J=>{e.resolvedLimboDocuments.has(J)&&b.push(t.persistence.referenceDelegate.updateLimboDocument(c,J))}),b.push(fw(c,p,e.documentUpdates).next(J=>{N=J.Wi,U=J.zi})),!s.isEqual(Mn.min())){const J=t.Cs.getLastRemoteSnapshotVersion(c).next(Ee=>t.Cs.setTargetsMetadata(c,c.currentSequenceNumber,s));b.push(J)}return at.waitFor(b).next(()=>p.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,N,U)).next(()=>N)}).then(c=>(t.Ui=a,c))}function fw(r,e,t){let s=Wn(),a=Wn();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let p=Xo();return t.forEach((b,N)=>{const U=c.get(b);N.isFoundDocument()!==U.isFoundDocument()&&(a=a.add(b)),N.isNoDocument()&&N.version.isEqual(Mn.min())?(e.removeEntry(b,N.readTime),p=p.insert(b,N)):!U.isValidDocument()||N.version.compareTo(U.version)>0||0===N.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(N),p=p.insert(b,N)):_("LocalStore","Ignoring outdated watch update for ",b,". Current version:",U.version," Watch version:",N.version)}),{Wi:p,zi:a}})}function Dv(r,e){const t=Le(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function rd(r,e){const t=Le(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Cs.getTargetData(s,e).next(c=>c?(a=c,at.resolve(a)):t.Cs.allocateTargetId(s).next(p=>(a=new za(e,p,0,s.currentSequenceNumber),t.Cs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ui.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(s.targetId,s),t.qi.set(e,s.targetId)),s})}function id(r,e,t){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,ke.Z)(function*(r,e,t){const s=Le(r),a=s.Ui.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!ul(p))throw p;_("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ui=s.Ui.remove(e),s.qi.delete(a.target)}),Wg.apply(this,arguments)}function sd(r,e,t){const s=Le(r);let a=Mn.min(),c=Wn();return s.persistence.runTransaction("Execute query","readonly",p=>function(b,N,U){const J=Le(b),Ee=J.qi.get(U);return void 0!==Ee?at.resolve(J.Ui.get(Ee)):J.Cs.getTargetData(N,U)}(s,p,vo(e)).next(b=>{if(b)return a=b.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(p,b.targetId).next(N=>{c=N})}).next(()=>s.Li.getDocumentsMatchingQuery(p,e,t?a:Mn.min(),t?c:Wn())).next(b=>(gh(s,pu(e),b),{documents:b,Hi:c})))}function Cv(r,e){const t=Le(r),s=Le(t.Cs),a=t.Ui.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>s.se(c,e).next(p=>p?p.target:null))}function xv(r,e){const t=Le(r),s=t.Ki.get(e)||Mn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Gi.getAllFromCollectionGroup(a,e,qp(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(gh(t,e,a),a))}function gh(r,e,t){let s=r.Ki.get(e)||Mn.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Ki.set(e,s)}function od(){return od=(0,ke.Z)(function*(r,e,t,s){const a=Le(r);let c=Wn(),p=Xo();for(const U of t){const J=e.Ji(U.metadata.name);U.document&&(c=c.add(J));const Ee=e.Yi(U);Ee.setReadTime(e.Xi(U.metadata.readTime)),p=p.insert(J,Ee)}const b=a.Gi.newChangeBuffer({trackRemovals:!0}),N=yield rd(a,(U=s,vo(Uc(gr.fromString(`__bundle__/docs/${U}`)))));var U;return a.persistence.runTransaction("Apply bundle documents","readwrite",U=>fw(U,b,p).next(J=>(b.apply(U),J)).next(J=>a.Cs.removeMatchingKeysForTargetId(U,N.targetId).next(()=>a.Cs.addMatchingKeys(U,c,N.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(U,J.Wi,J.zi)).next(()=>J.Wi)))}),od.apply(this,arguments)}function pb(r,e){return mh.apply(this,arguments)}function mh(){return mh=(0,ke.Z)(function*(r,e,t=Wn()){const s=yield rd(r,vo(Sf(e.bundledQuery))),a=Le(r);return a.persistence.runTransaction("Save named query","readwrite",c=>{const p=Ts(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return a.Ns.saveNamedQuery(c,e);const b=s.withResumeToken(Xi.EMPTY_BYTE_STRING,p);return a.Ui=a.Ui.insert(b.targetId,b),a.Cs.updateTargetData(c,b).next(()=>a.Cs.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>a.Cs.addMatchingKeys(c,t,s.targetId)).next(()=>a.Ns.saveNamedQuery(c,e))})}),mh.apply(this,arguments)}function pw(r,e){return`firestore_clients_${r}_${e}`}function Kg(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Wf(r,e){return`firestore_targets_${r}_${e}`}class yh{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static Zi(e,t,s){const a=JSON.parse(s);let c,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(c=new tt(a.error.code,a.error.message))),p?new yh(e,t,a.state,c):(h("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ad{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let a,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(a=new tt(s.error.code,s.error.message))),c?new ad(e,s.state,a):(h("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ud{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,c=Gc();for(let p=0;a&&p<s.activeTargetIds.length;++p)a=Dy(s.activeTargetIds[p]),c=c.add(s.activeTargetIds[p]);return a?new ud(e,c):(h("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Wa{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Wa(t.clientId,t.onlineState):(h("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ld{constructor(){this.activeTargetIds=Gc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cd{constructor(e,t,s,a,c){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ci(Ln),this.started=!1,this.cr=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ar=pw(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new ld),this.lr=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(b){return`firestore_bundle_loaded_v2_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ke.Z)(function*(){const t=yield e.syncEngine.vi();for(const a of t){if(a===e.sr)continue;const c=e.getItem(pw(e.persistenceKey,a));if(c){const p=ud.Zi(a,c);p&&(e.ur=e.ur.insert(p.clientId,p))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const a=e.yr(s);a&&e.pr(a)}for(const a of e.cr)e.rr(a);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Wf(this.persistenceKey,e));if(s){const a=ad.Zi(e,s);a&&(t=a.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Wf(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Er(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return _("SharedClientState","READ",e,t),t}setItem(e,t){_("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){_("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(_("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void h("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ke.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const a=t.vr(s.key);return t.Vr(a,null)}{const a=t.Sr(s.key,s.newValue);if(a)return t.Vr(a.clientId,a)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const a=t.Dr(s.key,s.newValue);if(a)return t.Cr(a)}}else if(t._r.test(s.key)){if(null!==s.newValue){const a=t.Nr(s.key,s.newValue);if(a)return t.kr(a)}}else if(s.key===t.wr){if(null!==s.newValue){const a=t.yr(s.newValue);if(a)return t.pr(a)}}else if(s.key===t.hr){const a=function(c){let p=go.at;if(null!=c)try{const b=JSON.parse(c);Z("number"==typeof b),p=b}catch(b){h("SharedClientState","Failed to read sequence number from WebStorage",b)}return p}(s.newValue);a!==go.at&&t.sequenceNumberHandler(a)}else if(s.key===t.mr){const a=t.Or(s.newValue);yield Promise.all(a.map(c=>t.syncEngine.Mr(c)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const a=new yh(this.currentUser,e,t,s),c=Kg(this.persistenceKey,this.currentUser,e);this.setItem(c,a.tr())}Er(e){const t=Kg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const a=Wf(this.persistenceKey,e),c=new ad(e,t,s);this.setItem(a,c.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return ud.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),a=Number(s[1]);return yh.Zi(new gs(void 0!==s[2]?s[2]:null),a,t)}Nr(e,t){const s=this._r.exec(e),a=Number(s[1]);return ad.Zi(a,t)}yr(e){return Wa.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ke.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);_("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),a=this.Ir(this.ur),c=this.Ir(s),p=[],b=[];return c.forEach(N=>{a.has(N)||p.push(N)}),a.forEach(N=>{c.has(N)||b.push(N)}),this.syncEngine.Br(p,b).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Gc();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class dd{constructor(){this.Lr=new ld,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,s){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new ld,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gw{qr(e){}shutdown(){}}class Gf{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){_("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){_("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Tv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mw{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class yw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,s,a,c){const p=this.ho(e,t);_("RestConnection","Sending: ",p,s);const b={};return this.lo(b,a,c),this.fo(e,p,b,s).then(N=>(_("RestConnection","Received: ",N),N),N=>{throw g("RestConnection",`${e} failed with error: `,N,"url: ",p,"request:",s),N})}_o(e,t,s,a,c,p){return this.ao(e,t,s,a,c)}lo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}ho(e,t){return`${this.oo}/v1/${t}:${Tv[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,s,a){return new Promise((c,p)=>{const b=new gy;b.setWithCredentials(!0),b.listenOnce($d.COMPLETE,()=>{var U;try{switch(b.getLastErrorCode()){case Hd.NO_ERROR:const J=b.getResponseJson();_("Connection","XHR received:",JSON.stringify(J)),c(J);break;case Hd.TIMEOUT:_("Connection",'RPC "'+e+'" timed out'),p(new tt(Te.DEADLINE_EXCEEDED,"Request time out"));break;case Hd.HTTP_ERROR:const Ee=b.getStatus();if(_("Connection",'RPC "'+e+'" failed with status:',Ee,"response text:",b.getResponseText()),Ee>0){let Ze=b.getResponseJson();Array.isArray(Ze)&&(Ze=Ze[0]);const ft=null===(U=Ze)||void 0===U?void 0:U.error;if(ft&&ft.status&&ft.message){const It=function(Qt){const en=Qt.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(en)>=0?en:Te.UNKNOWN}(ft.status);p(new tt(It,ft.message))}else p(new tt(Te.UNKNOWN,"Server responded with status "+b.getStatus()))}else p(new tt(Te.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{_("Connection",'RPC "'+e+'" completed.')}});const N=JSON.stringify(a);b.send(t,"POST",N,s,15)})}wo(e,t,s){const a=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Wp(),p=qh(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(b.xmlHttpFactory=new Yh({})),this.lo(b.initMessageHeaders,t,s),b.encodeInitMessageHeaders=!0;const N=a.join("");_("Connection","Creating WebChannel: "+N,b);const U=c.createWebChannel(N,b);let J=!1,Ee=!1;const Ze=new mw({Hr:It=>{Ee?_("Connection","Not sending because WebChannel is closed:",It):(J||(_("Connection","Opening WebChannel transport."),U.open(),J=!0),_("Connection","WebChannel sending:",It),U.send(It))},Jr:()=>U.close()}),ft=(It,Qt,en)=>{It.listen(Qt,fr=>{try{en(fr)}catch(Pr){setTimeout(()=>{throw Pr},0)}})};return ft(U,zd.EventType.OPEN,()=>{Ee||_("Connection","WebChannel transport opened.")}),ft(U,zd.EventType.CLOSE,()=>{Ee||(Ee=!0,_("Connection","WebChannel transport closed"),Ze.io())}),ft(U,zd.EventType.ERROR,It=>{Ee||(Ee=!0,g("Connection","WebChannel transport errored:",It),Ze.io(new tt(Te.UNAVAILABLE,"The operation could not be completed")))}),ft(U,zd.EventType.MESSAGE,It=>{var Qt;if(!Ee){const en=It.data[0];Z(!!en);const fr=en,Pr=fr.error||(null===(Qt=fr[0])||void 0===Qt?void 0:Qt.error);if(Pr){_("Connection","WebChannel received error:",Pr);const pr=Pr.status;let nr=function(ar){const Ss=zi[ar];if(void 0!==Ss)return vg(Ss)}(pr),Xn=Pr.message;void 0===nr&&(nr=Te.INTERNAL,Xn="Unknown error status: "+pr+" with message "+Pr.message),Ee=!0,Ze.io(new tt(nr,Xn)),U.close()}else _("Connection","WebChannel received:",en),Ze.ro(en)}}),ft(p,uu.STAT_EVENT,It=>{It.stat===Ou.PROXY?_("Connection","Detected buffering proxy"):It.stat===Ou.NOPROXY&&_("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ze.so()},0),Ze}}function hd(){return typeof window<"u"?window:null}function Kf(){return typeof document<"u"?document:null}function Zf(r){return new zy(r,!0)}class Zg{constructor(e,t,s=1e3,a=1.5,c=6e4){this.Hs=e,this.timerId=t,this.mo=s,this.yo=a,this.po=c,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),a=Math.max(0,t-s);a>0&&_("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,a,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class vw{constructor(e,t,s,a,c,p,b,N){this.Hs=e,this.vo=s,this.Vo=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=N,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Zg(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ke.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ke.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,ke.Z)(function*(){s.Lo(),s.Uo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===Te.RESOURCE_EXHAUSTED?(h(t.toString()),h("Using maximum backoff delay to prevent overloading the backend."),s.xo.Ao()):t&&t.code===Te.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.qo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.So===t&&this.Go(s,a)},s=>{e(()=>{const a=new tt(Te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(a)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(a=>{s(()=>this.Qo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ke.Z)(function*(){e.state=0,e.start()}))}Qo(e){return _("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(_("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _w extends vw{constructor(e,t,s,a,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,p),this.It=c}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Zn(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(N=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===N?1:"REMOVE"===N?2:"CURRENT"===N?3:"RESET"===N?4:B(),a=e.targetChange.targetIds||[],c=function(N,U){return N.gt?(Z(void 0===U||"string"==typeof U),Xi.fromBase64String(U||"")):(Z(void 0===U||U instanceof Uint8Array),Xi.fromUint8Array(U||new Uint8Array))}(r,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&function(N){const U=void 0===N.code?Te.UNKNOWN:vg(N.code);return new tt(U,N.message||"")}(p);t=new Eg(s,a,c,b||null)}else if("documentChange"in e){const s=e.documentChange,a=mu(r,s.document.name),c=Ts(s.document.updateTime),p=new xs({mapValue:{fields:s.document.fields}}),b=ei.newFoundDocument(a,c,p);t=new vl(s.targetIds||[],s.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const s=e.documentDelete,a=mu(r,s.document),c=s.readTime?Ts(s.readTime):Mn.min(),p=ei.newNoDocument(a,c);t=new vl([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=mu(r,s.document);t=new vl([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return B();{const s=e.filter,c=new R0(s.count||0);t=new jy(s.targetId,c)}}var N;return t}(this.It,e),s=function(a){if(!("targetChange"in a))return Mn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Mn.min():c.readTime?Ts(c.readTime):Mn.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=lh(this.It),t.addTarget=function(a,c){let p;const b=c.target;return p=rh(b)?{documents:Yy(a,b)}:{query:xg(a,b)},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?p.resumeToken=Ig(a,c.resumeToken):c.snapshotVersion.compareTo(Mn.min())>0&&(p.readTime=uh(a,c.snapshotVersion.toTimestamp())),p}(this.It,e);const s=function F0(r,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return B()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=lh(this.It),t.removeTarget=e,this.Bo(t)}}class ww extends vw{constructor(e,t,s,a,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,p),this.It=c,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function qy(r,e){return r&&r.length>0?(Z(void 0!==e),r.map(t=>function(s,a){let c=Ts(s.updateTime?s.updateTime:a);return c.isEqual(Mn.min())&&(c=Ts(a)),new zc(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Ts(e.commitTime);return this.listener.Zo(s,t)}return Z(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=lh(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>qc(this.It,s))};this.Bo(t)}}class Ew extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.It=a,this.nu=!1}su(){if(this.nu)throw new tt(Te.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.ao(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new tt(Te.UNKNOWN,a.toString())})}_o(e,t,s,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection._o(e,t,s,c,p,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new tt(Te.UNKNOWN,c.toString())})}terminate(){this.nu=!0}}class bw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(h(t),this.ou=!1):_("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class qg{constructor(e,t,s,a,c){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=c,this.mu.qr(b=>{s.enqueueAndForget((0,ke.Z)(function*(){var N;Wu(p)&&(_("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,ke.Z)(function*(U){const J=Le(U);J._u.add(4),yield fd(J),J.gu.set("Unknown"),J._u.delete(4),yield _h(J)}),function(U){return N.apply(this,arguments)})(p))}))}),this.gu=new bw(s,a)}}function _h(r){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,ke.Z)(function*(r){if(Wu(r))for(const e of r.wu)yield e(!0)}),Yg.apply(this,arguments)}function fd(r){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,ke.Z)(function*(r){for(const e of r.wu)yield e(!1)}),Qg.apply(this,arguments)}function qf(r,e){const t=Le(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),sc(t)?Av(t):_d(t).ko()&&pd(t,e))}function wh(r,e){const t=Le(r),s=_d(t);t.du.delete(e),s.ko()&&Dl(t,e),0===t.du.size&&(s.ko()?s.Fo():Wu(t)&&t.gu.set("Unknown"))}function pd(r,e){r.yu.Mt(e.targetId),_d(r).zo(e)}function Dl(r,e){r.yu.Mt(e),_d(r).Ho(e)}function Av(r){r.yu=new N0({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),se:e=>r.du.get(e)||null}),_d(r).start(),r.gu.uu()}function sc(r){return Wu(r)&&!_d(r).No()&&r.du.size>0}function Wu(r){return 0===Le(r)._u.size}function Mv(r){r.yu=void 0}function Jg(r){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,ke.Z)(function*(r){r.du.forEach((e,t)=>{pd(r,e)})}),Xg.apply(this,arguments)}function yu(r,e){return oc.apply(this,arguments)}function oc(){return oc=(0,ke.Z)(function*(r,e){Mv(r),sc(r)?(r.gu.hu(e),Av(r)):r.gu.set("Unknown")}),oc.apply(this,arguments)}function Xs(r,e,t){return Gu.apply(this,arguments)}function Gu(){return Gu=(0,ke.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof Eg&&2===e.state&&e.cause)try{yield(s=(0,ke.Z)(function*(a,c){const p=c.cause;for(const b of c.targetIds)a.du.has(b)&&(yield a.remoteSyncer.rejectListen(b,p),a.du.delete(b),a.yu.removeTarget(b))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){_("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield ac(r,s)}else if(e instanceof vl?r.yu.Gt(e):e instanceof jy?r.yu.Yt(e):r.yu.Wt(e),!t.isEqual(Mn.min()))try{const s=yield Iv(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const p=a.yu.te(c);return p.targetChanges.forEach((b,N)=>{if(b.resumeToken.approximateByteSize()>0){const U=a.du.get(N);U&&a.du.set(N,U.withResumeToken(b.resumeToken,c))}}),p.targetMismatches.forEach(b=>{const N=a.du.get(b);if(!N)return;a.du.set(b,N.withResumeToken(Xi.EMPTY_BYTE_STRING,N.snapshotVersion)),Dl(a,b);const U=new za(N.target,b,1,N.sequenceNumber);pd(a,U)}),a.remoteSyncer.applyRemoteEvent(p)}(r,t))}catch(s){_("RemoteStore","Failed to raise snapshot:",s),yield ac(r,s)}var s}),Gu.apply(this,arguments)}function ac(r,e,t){return Vo.apply(this,arguments)}function Vo(){return Vo=(0,ke.Z)(function*(r,e,t){if(!ul(e))throw e;r._u.add(1),yield fd(r),r.gu.set("Offline"),t||(t=()=>Iv(r.localStore)),r.asyncQueue.enqueueRetryable((0,ke.Z)(function*(){_("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield _h(r)}))}),Vo.apply(this,arguments)}function Yf(r,e){return e().catch(t=>ac(r,t,e))}function Ga(r){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,ke.Z)(function*(r){const e=Le(r),t=Tl(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;gd(e);)try{const a=yield Dv(e.localStore,s);if(null===a){0===e.fu.length&&t.Fo();break}s=a.batchId,md(e,a)}catch(a){yield ac(e,a)}uc(e)&&lc(e)}),Cl.apply(this,arguments)}function gd(r){return Wu(r)&&r.fu.length<10}function md(r,e){r.fu.push(e);const t=Tl(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function uc(r){return Wu(r)&&!Tl(r).No()&&r.fu.length>0}function lc(r){Tl(r).start()}function yd(r){return xl.apply(this,arguments)}function xl(){return xl=(0,ke.Z)(function*(r){Tl(r).eu()}),xl.apply(this,arguments)}function vd(r){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,ke.Z)(function*(r){const e=Tl(r);for(const t of r.fu)e.Xo(t.mutations)}),Qf.apply(this,arguments)}function kv(r,e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,ke.Z)(function*(r,e,t){const s=r.fu.shift(),a=xf.from(s,e,t);yield Yf(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Ga(r)}),Jf.apply(this,arguments)}function Rv(r,e){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,ke.Z)(function*(r,e){var t;e&&Tl(r).Yo&&(yield(t=(0,ke.Z)(function*(s,a){if(yl(c=a.code)&&c!==Te.ABORTED){const p=s.fu.shift();Tl(s).Mo(),yield Yf(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield Ga(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),uc(r)&&lc(r)}),Xf.apply(this,arguments)}function em(r,e){return ep.apply(this,arguments)}function ep(){return ep=(0,ke.Z)(function*(r,e){const t=Le(r);t.asyncQueue.verifyOperationInProgress(),_("RemoteStore","RemoteStore received new credentials");const s=Wu(t);t._u.add(3),yield fd(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield _h(t)}),ep.apply(this,arguments)}function tp(r,e){return np.apply(this,arguments)}function np(){return np=(0,ke.Z)(function*(r,e){const t=Le(r);e?(t._u.delete(2),yield _h(t)):e||(t._u.add(2),yield fd(t),t.gu.set("Unknown"))}),np.apply(this,arguments)}function _d(r){return r.pu||(r.pu=function(e,t,s){const a=Le(e);return a.su(),new _w(t,a.connection,a.authCredentials,a.appCheckCredentials,a.It,s)}(r.datastore,r.asyncQueue,{Yr:Jg.bind(null,r),Zr:yu.bind(null,r),Wo:Xs.bind(null,r)}),r.wu.push(function(){var e=(0,ke.Z)(function*(t){t?(r.pu.Mo(),sc(r)?Av(r):r.gu.set("Unknown")):(yield r.pu.stop(),Mv(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function Tl(r){return r.Iu||(r.Iu=function(e,t,s){const a=Le(e);return a.su(),new ww(t,a.connection,a.authCredentials,a.appCheckCredentials,a.It,s)}(r.datastore,r.asyncQueue,{Yr:yd.bind(null,r),Zr:Rv.bind(null,r),tu:vd.bind(null,r),Zo:kv.bind(null,r)}),r.wu.push(function(){var e=(0,ke.Z)(function*(t){t?(r.Iu.Mo(),yield Ga(r)):(yield r.Iu.stop(),r.fu.length>0&&(_("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class rp{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new In,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,c){const p=Date.now()+s,b=new rp(e,t,p,a,c);return b.start(s),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wd(r,e){if(h("AsyncQueue",`${e}: ${r}`),ul(r))return new tt(Te.UNAVAILABLE,`${e}: ${r}`);throw r}class cc{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Xt.comparator(t.key,s.key):(t,s)=>Xt.comparator(t.key,s.key),this.keyedMap=ah(),this.sortedSet=new Ci(this.comparator)}static emptySet(e){return new cc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new cc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class ip{constructor(){this.Tu=new Ci(Xt.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):B():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Sl{constructor(e,t,s,a,c,p,b,N,U){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=N,this.hasCachedResults=U}static fromInitialDocuments(e,t,s,a,c){const p=[];return t.forEach(b=>{p.push({type:0,doc:b})}),new Sl(e,t,cc.emptySet(t),p,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class Iw{constructor(){this.Au=void 0,this.listeners=[]}}class sp{constructor(){this.queries=new Vu(e=>Ny(e),Bc),this.onlineState="Unknown",this.Ru=new Set}}function Ed(r,e){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,ke.Z)(function*(r,e){const t=Le(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new Iw),a)try{c.Au=yield t.onListen(s)}catch(p){const b=wd(p,`Initialization of query '${dg(e.query)}' failed`);return void e.onError(b)}t.queries.set(s,c),c.listeners.push(e),e.bu(t.onlineState),c.Au&&e.Pu(c.Au)&&ap(t)}),Eh.apply(this,arguments)}function tm(r,e){return bd.apply(this,arguments)}function bd(){return bd=(0,ke.Z)(function*(r,e){const t=Le(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const p=c.listeners.indexOf(e);p>=0&&(c.listeners.splice(p,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),bd.apply(this,arguments)}function op(r,e){const t=Le(r);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const b of p.listeners)b.Pu(a)&&(s=!0);p.Au=a}}s&&ap(t)}function Ov(r,e,t){const s=Le(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function ap(r){r.Ru.forEach(e=>{e.next()})}class bh{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Sl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Nv{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class nm{constructor(e){this.It=e}Ji(e){return mu(this.It,e)}Yi(e){return e.metadata.exists?Zy(this.It,e.document,!1):ei.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ts(e)}}class rm{constructor(e,t,s){this.Mu=e,this.localStore=t,this.It=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=im(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const s=gr.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,s=new nm(this.It);for(const a of e)if(a.metadata.queries){const c=s.Ji(a.metadata.name);for(const p of a.metadata.queries){const b=(t.get(p)||Wn()).add(c);t.set(p,b)}}return t}complete(){var e=this;return(0,ke.Z)(function*(){const t=yield function Gg(r,e,t,s){return od.apply(this,arguments)}(e.localStore,new nm(e.It),e.documents,e.Mu.id),s=e.$u(e.documents);for(const a of e.queries)yield pb(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function im(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Pv{constructor(e){this.key=e}}class sm{constructor(e){this.key=e}}class om{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Wn(),this.mutatedKeys=Wn(),this.Gu=Py(e),this.Qu=new cc(this.Gu)}get ju(){return this.Uu}Wu(e,t){const s=t?t.zu:new ip,a=t?t.Qu:this.Qu;let c=t?t.mutatedKeys:this.mutatedKeys,p=a,b=!1;const N="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,U="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((J,Ee)=>{const Ze=a.get(J),ft=pl(this.query,Ee)?Ee:null,It=!!Ze&&this.mutatedKeys.has(Ze.key),Qt=!!ft&&(ft.hasLocalMutations||this.mutatedKeys.has(ft.key)&&ft.hasCommittedMutations);let en=!1;Ze&&ft?Ze.data.isEqual(ft.data)?It!==Qt&&(s.track({type:3,doc:ft}),en=!0):this.Hu(Ze,ft)||(s.track({type:2,doc:ft}),en=!0,(N&&this.Gu(ft,N)>0||U&&this.Gu(ft,U)<0)&&(b=!0)):!Ze&&ft?(s.track({type:0,doc:ft}),en=!0):Ze&&!ft&&(s.track({type:1,doc:Ze}),en=!0,(N||U)&&(b=!0)),en&&(ft?(p=p.add(ft),c=Qt?c.add(J):c.delete(J)):(p=p.delete(J),c=c.delete(J)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const J="F"===this.query.limitType?p.last():p.first();p=p.delete(J.key),c=c.delete(J.key),s.track({type:1,doc:J})}return{Qu:p,zu:s,$i:b,mutatedKeys:c}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const c=e.zu.Eu();c.sort((U,J)=>function(Ee,Ze){const ft=It=>{switch(It){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return ft(Ee)-ft(Ze)}(U.type,J.type)||this.Gu(U.doc,J.doc)),this.Ju(s);const p=t?this.Yu():[],b=0===this.Ku.size&&this.current?1:0,N=b!==this.qu;return this.qu=b,0!==c.length||N?{snapshot:new Sl(this.query,e.Qu,a,c,e.mutatedKeys,0===b,N,!1,!!s&&s.resumeToken.approximateByteSize()>0),Xu:p}:{Xu:p}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new ip,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Wn(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const t=[];return e.forEach(s=>{this.Ku.has(s)||t.push(new sm(s))}),this.Ku.forEach(s=>{e.has(s)||t.push(new Pv(s))}),t}tc(e){this.Uu=e.Hi,this.Ku=Wn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Sl.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Lv{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Fv{constructor(e){this.key=e,this.nc=!1}}class Dw{constructor(e,t,s,a,c,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.sc={},this.ic=new Vu(b=>Ny(b),Bc),this.rc=new Map,this.oc=new Set,this.uc=new Ci(Xt.comparator),this.cc=new Map,this.ac=new Hf,this.hc={},this.lc=new Map,this.fc=Fo.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Vv(r,e){return up.apply(this,arguments)}function up(){return up=(0,ke.Z)(function*(r,e){const t=hc(r);let s,a;const c=t.ic.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.ec();else{const p=yield rd(t.localStore,vo(e));t.isPrimaryClient&&qf(t.remoteStore,p);const b=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield Ih(t,e,s,"current"===b,p.resumeToken)}return a}),up.apply(this,arguments)}function Ih(r,e,t,s,a){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,ke.Z)(function*(r,e,t,s,a){r._c=(Ee,Ze,ft)=>{return(It=(0,ke.Z)(function*(Qt,en,fr,Pr){let pr=en.view.Wu(fr);pr.$i&&(pr=yield sd(Qt.localStore,en.query,!1).then(({documents:ar})=>en.view.Wu(ar,pr)));const nr=Pr&&Pr.targetChanges.get(en.targetId),Xn=en.view.applyChanges(pr,Qt.isPrimaryClient,nr);return fp(Qt,en.targetId,Xn.Xu),Xn.snapshot}),function(Qt,en,fr,Pr){return It.apply(this,arguments)})(r,Ee,Ze,ft);var It};const c=yield sd(r.localStore,e,!0),p=new om(e,c.Hi),b=p.Wu(c.documents),N=ec.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),U=p.applyChanges(b,r.isPrimaryClient,N);fp(r,t,U.Xu);const J=new Lv(e,t,p);return r.ic.set(e,J),r.rc.has(t)?r.rc.get(t).push(e):r.rc.set(t,[e]),U.snapshot}),Dh.apply(this,arguments)}function Uv(r,e){return lp.apply(this,arguments)}function lp(){return lp=(0,ke.Z)(function*(r,e){const t=Le(r),s=t.ic.get(e),a=t.rc.get(s.targetId);if(a.length>1)return t.rc.set(s.targetId,a.filter(c=>!Bc(c,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield id(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),wh(t.remoteStore,s.targetId),dc(t,s.targetId)}).catch(lu))):(dc(t,s.targetId),yield id(t.localStore,s.targetId,!0))}),lp.apply(this,arguments)}function cp(){return cp=(0,ke.Z)(function*(r,e,t){const s=vm(r);try{const a=yield function(c,p){const b=Le(c),N=jn.now(),U=p.reduce((Ze,ft)=>Ze.add(ft.key),Wn());let J,Ee;return b.persistence.runTransaction("Locally write mutations","readwrite",Ze=>{let ft=Xo(),It=Wn();return b.Gi.getEntries(Ze,U).next(Qt=>{ft=Qt,ft.forEach((en,fr)=>{fr.isValidDocument()||(It=It.add(en))})}).next(()=>b.localDocuments.getOverlayedDocuments(Ze,ft)).next(Qt=>{J=Qt;const en=[];for(const fr of p){const Pr=k0(fr,J.get(fr.key).overlayedDocument);null!=Pr&&en.push(new Fu(fr.key,Pr,lf(Pr.value.mapValue),ti.exists(!0)))}return b.mutationQueue.addMutationBatch(Ze,N,en,p)}).next(Qt=>{Ee=Qt;const en=Qt.applyToLocalDocumentSet(J,It);return b.documentOverlayCache.saveOverlays(Ze,Qt.batchId,en)})}).then(()=>({batchId:Ee.batchId,changes:_g(J)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,p,b){let N=c.hc[c.currentUser.toKey()];N||(N=new Ci(Ln)),N=N.insert(p,b),c.hc[c.currentUser.toKey()]=N}(s,a.batchId,t),yield Ku(s,a.changes),yield Ga(s.remoteStore)}catch(a){const c=wd(a,"Failed to persist write");t.reject(c)}}),cp.apply(this,arguments)}function am(r,e){return dp.apply(this,arguments)}function dp(){return dp=(0,ke.Z)(function*(r,e){const t=Le(r);try{const s=yield hw(t.localStore,e);e.targetChanges.forEach((a,c)=>{const p=t.cc.get(c);p&&(Z(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.nc=!0:a.modifiedDocuments.size>0?Z(p.nc):a.removedDocuments.size>0&&(Z(p.nc),p.nc=!1))}),yield Ku(t,s,e)}catch(s){yield lu(s)}}),dp.apply(this,arguments)}function um(r,e,t){const s=Le(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.ic.forEach((c,p)=>{const b=p.view.bu(e);b.snapshot&&a.push(b.snapshot)}),function(c,p){const b=Le(c);b.onlineState=p;let N=!1;b.queries.forEach((U,J)=>{for(const Ee of J.listeners)Ee.bu(p)&&(N=!0)}),N&&ap(b)}(s.eventManager,e),a.length&&s.sc.Wo(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function jv(r,e,t){return Hv.apply(this,arguments)}function Hv(){return Hv=(0,ke.Z)(function*(r,e,t){const s=Le(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.cc.get(e),c=a&&a.key;if(c){let p=new Ci(Xt.comparator);p=p.insert(c,ei.newNoDocument(c,Mn.min()));const b=Wn().add(c),N=new Kc(Mn.min(),new Map,new Kr(Ln),p,b);yield am(s,N),s.uc=s.uc.remove(c),s.cc.delete(e),Al(s)}else yield id(s.localStore,e,!1).then(()=>dc(s,e,t)).catch(lu)}),Hv.apply(this,arguments)}function Cw(r,e){return lm.apply(this,arguments)}function lm(){return lm=(0,ke.Z)(function*(r,e){const t=Le(r),s=e.batch.batchId;try{const a=yield zg(t.localStore,e);hm(t,s,null),dm(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Ku(t,a)}catch(a){yield lu(a)}}),lm.apply(this,arguments)}function $v(r,e,t){return cm.apply(this,arguments)}function cm(){return cm=(0,ke.Z)(function*(r,e,t){const s=Le(r);try{const a=yield function(c,p){const b=Le(c);return b.persistence.runTransaction("Reject batch","readwrite-primary",N=>{let U;return b.mutationQueue.lookupMutationBatch(N,p).next(J=>(Z(null!==J),U=J.keys(),b.mutationQueue.removeMutationBatch(N,J))).next(()=>b.mutationQueue.performConsistencyCheck(N)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(N,U,p)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(N,U)).next(()=>b.localDocuments.getDocuments(N,U))})}(s.localStore,e);hm(s,e,t),dm(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Ku(s,a)}catch(a){yield lu(a)}}),cm.apply(this,arguments)}function hp(){return hp=(0,ke.Z)(function*(r,e){const t=Le(r);Wu(t.remoteStore)||_("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(c){const p=Le(c);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>p.mutationQueue.getHighestUnacknowledgedBatchId(b))}(t.localStore);if(-1===s)return void e.resolve();const a=t.lc.get(s)||[];a.push(e),t.lc.set(s,a)}catch(s){const a=wd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),hp.apply(this,arguments)}function dm(r,e){(r.lc.get(e)||[]).forEach(t=>{t.resolve()}),r.lc.delete(e)}function hm(r,e,t){const s=Le(r);let a=s.hc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.hc[s.currentUser.toKey()]=a}}function dc(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.rc.get(e))r.ic.delete(s),t&&r.sc.wc(s,t);r.rc.delete(e),r.isPrimaryClient&&r.ac.ls(e).forEach(s=>{r.ac.containsKey(s)||zv(r,s)})}function zv(r,e){r.oc.delete(e.path.canonicalString());const t=r.uc.get(e);null!==t&&(wh(r.remoteStore,t),r.uc=r.uc.remove(e),r.cc.delete(t),Al(r))}function fp(r,e,t){for(const s of t)s instanceof Pv?(r.ac.addReference(s.key,e),Wv(r,s)):s instanceof sm?(_("SyncEngine","Document no longer in limbo: "+s.key),r.ac.removeReference(s.key,e),r.ac.containsKey(s.key)||zv(r,s.key)):B()}function Wv(r,e){const t=e.key,s=t.path.canonicalString();r.uc.get(t)||r.oc.has(s)||(_("SyncEngine","New document in limbo: "+t),r.oc.add(s),Al(r))}function Al(r){for(;r.oc.size>0&&r.uc.size<r.maxConcurrentLimboResolutions;){const e=r.oc.values().next().value;r.oc.delete(e);const t=new Xt(gr.fromString(e)),s=r.fc.next();r.cc.set(s,new Fv(t)),r.uc=r.uc.insert(t,s),qf(r.remoteStore,new za(vo(Uc(t.path)),s,2,go.at))}}function Ku(r,e,t){return fm.apply(this,arguments)}function fm(){return fm=(0,ke.Z)(function*(r,e,t){const s=Le(r),a=[],c=[],p=[];var b;s.ic.isEmpty()||(s.ic.forEach((b,N)=>{p.push(s._c(N,e,t).then(U=>{if((U||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(N.targetId,U?.fromCache?"not-current":"current"),U){a.push(U);const J=Hg.Ci(N.targetId,U);c.push(J)}}))}),yield Promise.all(p),s.sc.Wo(a),yield(b=(0,ke.Z)(function*(N,U){const J=Le(N);try{yield J.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ee=>at.forEach(U,Ze=>at.forEach(Ze.Si,ft=>J.persistence.referenceDelegate.addReference(Ee,Ze.targetId,ft)).next(()=>at.forEach(Ze.Di,ft=>J.persistence.referenceDelegate.removeReference(Ee,Ze.targetId,ft)))))}catch(Ee){if(!ul(Ee))throw Ee;_("LocalStore","Failed to update sequence numbers: "+Ee)}for(const Ee of U){const Ze=Ee.targetId;if(!Ee.fromCache){const ft=J.Ui.get(Ze),Qt=ft.withLastLimboFreeSnapshotVersion(ft.snapshotVersion);J.Ui=J.Ui.insert(Ze,Qt)}}}),function(N,U){return b.apply(this,arguments)})(s.localStore,c))}),fm.apply(this,arguments)}function Gv(r,e){return pm.apply(this,arguments)}function pm(){return pm=(0,ke.Z)(function*(r,e){const t=Le(r);if(!t.currentUser.isEqual(e)){_("SyncEngine","User change. New user:",e.toKey());const s=yield bv(t.localStore,e);t.currentUser=e,(a=t).lc.forEach(p=>{p.forEach(b=>{b.reject(new tt(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.lc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ku(t,s.ji)}var a}),pm.apply(this,arguments)}function Kv(r,e){const t=Le(r),s=t.cc.get(e);if(s&&s.nc)return Wn().add(s.key);{let a=Wn();const c=t.rc.get(e);if(!c)return a;for(const p of c){const b=t.ic.get(p);a=a.unionWith(b.view.ju)}return a}}function gb(r,e){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,ke.Z)(function*(r,e){const t=Le(r),s=yield sd(t.localStore,e.query,!0),a=e.view.tc(s);return t.isPrimaryClient&&fp(t,e.targetId,a.Xu),a}),Ch.apply(this,arguments)}function gm(r,e){return na.apply(this,arguments)}function na(){return na=(0,ke.Z)(function*(r,e){const t=Le(r);return xv(t.localStore,e).then(s=>Ku(t,s))}),na.apply(this,arguments)}function xw(r,e,t,s){return pp.apply(this,arguments)}function pp(){return pp=(0,ke.Z)(function*(r,e,t,s){const a=Le(r),c=yield function(p,b){const N=Le(p),U=Le(N.mutationQueue);return N.persistence.runTransaction("Lookup mutation documents","readonly",J=>U.Tn(J,b).next(Ee=>Ee?N.localDocuments.getDocuments(J,Ee):at.resolve(null)))}(a.localStore,e);var b;null!==c?("pending"===t?yield Ga(a.remoteStore):"acknowledged"===t||"rejected"===t?(hm(a,e,s||null),dm(a,e),b=e,Le(Le(a.localStore).mutationQueue).An(b)):B(),yield Ku(a,c)):_("SyncEngine","Cannot apply mutation batch with id: "+e)}),pp.apply(this,arguments)}function ra(){return ra=(0,ke.Z)(function*(r,e){const t=Le(r);if(hc(t),vm(t),!0===e&&!0!==t.dc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield ba(t,s.toArray());t.dc=!0,yield tp(t.remoteStore,!0);for(const c of a)qf(t.remoteStore,c)}else if(!1===e&&!1!==t.dc){const s=[];let a=Promise.resolve();t.rc.forEach((c,p)=>{t.sharedClientState.isLocalQueryTarget(p)?s.push(p):a=a.then(()=>(dc(t,p),id(t.localStore,p,!0))),wh(t.remoteStore,p)}),yield a,yield ba(t,s),function(c){const p=Le(c);p.cc.forEach((b,N)=>{wh(p.remoteStore,N)}),p.ac.fs(),p.cc=new Map,p.uc=new Ci(Xt.comparator)}(t),t.dc=!1,yield tp(t.remoteStore,!1)}}),ra.apply(this,arguments)}function ba(r,e,t){return gp.apply(this,arguments)}function gp(){return gp=(0,ke.Z)(function*(r,e,t){const s=Le(r),a=[],c=[];for(const p of e){let b;const N=s.rc.get(p);if(N&&0!==N.length){b=yield rd(s.localStore,vo(N[0]));for(const U of N){const J=s.ic.get(U),Ee=yield gb(s,J);Ee.snapshot&&c.push(Ee.snapshot)}}else{const U=yield Cv(s.localStore,p);b=yield rd(s.localStore,U),yield Ih(s,mm(U),p,!1,b.resumeToken)}a.push(b)}return s.sc.Wo(c),a}),gp.apply(this,arguments)}function mm(r){return Oy(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Tw(r){const e=Le(r);return Le(Le(e.localStore).persistence).vi()}function Sw(r,e,t,s){return ym.apply(this,arguments)}function ym(){return ym=(0,ke.Z)(function*(r,e,t,s){const a=Le(r);if(a.dc)return void _("SyncEngine","Ignoring unexpected query state notification.");const c=a.rc.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const p=yield xv(a.localStore,pu(c[0])),b=Kc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Xi.EMPTY_BYTE_STRING);yield Ku(a,p,b);break}case"rejected":yield id(a.localStore,e,!0),dc(a,e,s);break;default:B()}}),ym.apply(this,arguments)}function Aw(r,e,t){return xh.apply(this,arguments)}function xh(){return xh=(0,ke.Z)(function*(r,e,t){const s=hc(r);if(s.dc){for(const a of e){if(s.rc.has(a)){_("SyncEngine","Adding an already active target "+a);continue}const c=yield Cv(s.localStore,a),p=yield rd(s.localStore,c);yield Ih(s,mm(c),p.targetId,!1,p.resumeToken),qf(s.remoteStore,p)}for(const a of t)s.rc.has(a)&&(yield id(s.localStore,a,!1).then(()=>{wh(s.remoteStore,a),dc(s,a)}).catch(lu))}}),xh.apply(this,arguments)}function hc(r){const e=Le(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=am.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jv.bind(null,e),e.sc.Wo=op.bind(null,e.eventManager),e.sc.wc=Ov.bind(null,e.eventManager),e}function vm(r){const e=Le(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$v.bind(null,e),e}class qv{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ke.Z)(function*(){t.It=Zf(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return $g(this.persistence,new wv,e.initialUser,this.It)}yc(e){return new cw(td.Bs,this.It)}gc(e){return new dd}terminate(){var e=this;return(0,ke.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _m extends qv{constructor(e,t,s){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,ke.Z)(function*(){yield t().call(s,e),yield s.Ac.initialize(s,e),yield vm(s.Ac.syncEngine),yield Ga(s.Ac.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return $g(this.persistence,new wv,e.initialUser,this.It)}Tc(e,t){return new Ff(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const s=new Wl(t,this.persistence);return new tf(e.asyncQueue,s)}yc(e){const t=zf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Wi.withCacheSize(this.cacheSizeBytes):Wi.DEFAULT;return new jg(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,hd(),Kf(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new dd}}class Yv extends _m{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,ke.Z)(function*(){yield t().call(s,e);const a=s.Ac.syncEngine;s.sharedClientState instanceof cd&&(s.sharedClientState.syncEngine={Fr:xw.bind(null,a),$r:Sw.bind(null,a),Br:Aw.bind(null,a),vi:Tw.bind(null,a),Mr:gm.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var c=(0,ke.Z)(function*(p){yield function vu(r,e){return ra.apply(this,arguments)}(s.Ac.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start():p||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(p&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():p||s.indexBackfillerScheduler.stop())});return function(p){return c.apply(this,arguments)}}())})()}gc(e){const t=hd();if(!cd.C(t))throw new tt(Te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=zf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cd(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Id{initialize(e,t){var s=this;return(0,ke.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>um(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Gv.bind(null,s.syncEngine),yield tp(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new sp}createDatastore(e){const t=Zf(e.databaseInfo.databaseId),s=new yw(e.databaseInfo);return new Ew(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=b=>um(this.syncEngine,b,0),p=Gf.C()?new Gf:new gw,new qg(t,s,a,c,p);var t,s,a,c,p}createSyncEngine(e,t){return function(s,a,c,p,b,N,U){const J=new Dw(s,a,c,p,b,N);return U&&(J.dc=!0),J}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ke.Z)(function*(t){const s=Le(t);_("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield fd(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function wm(r,e,t){if(!t)throw new tt(Te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Em(r,e,t,s){if(!0===e&&!0===s)throw new tt(Te.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function bm(r){if(!Xt.isDocumentKey(r))throw new tt(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function mp(r){if(Xt.isDocumentKey(r))throw new tt(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function fc(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":B()}function cr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new tt(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fc(r);throw new tt(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Im(r,e){if(e<=0)throw new tt(Te.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}const Dm=new Map;class Cm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new tt(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tt(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Em("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tt(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tt(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Po;switch(t.type){case"gapi":return new Zd(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new tt(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Dm.get(e);t&&(_("ComponentProvider","Removing Datastore"),Dm.delete(e),t.terminate())}(this),Promise.resolve()}}class ni{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ni(this.firestore,e,this._key)}}class $s{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $s(this.firestore,e,this._query)}}class Ka extends $s{constructor(e,t,s){super(e,t,Uc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ni(this.firestore,null,new Xt(e))}withConverter(e){return new Ka(this.firestore,e,this._path)}}function Qv(r,e,...t){if(r=(0,dn.m9)(r),wm("collection","path",e),r instanceof Dd){const s=gr.fromString(e,...t);return mp(s),new Ka(r,null,s)}{if(!(r instanceof ni||r instanceof Ka))throw new tt(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(gr.fromString(e,...t));return mp(s),new Ka(r.firestore,null,s)}}function yp(r,e,...t){if(r=(0,dn.m9)(r),1===arguments.length&&(e=al.R()),wm("doc","path",e),r instanceof Dd){const s=gr.fromString(e,...t);return bm(s),new ni(r,null,new Xt(s))}{if(!(r instanceof ni||r instanceof Ka))throw new tt(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(gr.fromString(e,...t));return bm(s),new ni(r.firestore,r instanceof Ka?r.converter:null,new Xt(s))}}function Jv(r,e){return r=(0,dn.m9)(r),e=(0,dn.m9)(e),(r instanceof ni||r instanceof Ka)&&(e instanceof ni||e instanceof Ka)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Tm(r,e){return r=(0,dn.m9)(r),e=(0,dn.m9)(e),r instanceof $s&&e instanceof $s&&r.firestore===e.firestore&&Bc(r._query,e._query)&&r.converter===e.converter}function Xv(r,e=10240){let t=0;return{read:()=>(0,ke.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,ke.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class vp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):h("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class kw{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new In,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(s=>{s&&s.Ou()?this.metadata.resolve(s.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ku)}`))},s=>this.metadata.reject(s))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ke.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ke.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ke.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const s=e.vc.decode(t),a=Number(s);isNaN(a)&&e.Dc(`length string (${s}) is not valid number`);const c=yield e.Cc(a);return new Nv(JSON.parse(c),t.length+a)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ke.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Cc(e){var t=this;return(0,ke.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const s=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ke.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Nw{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ke.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new tt(Te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,ke.Z)(function*(c,p){const b=Le(c),N=lh(b.It)+"/documents",U={documents:p.map(ft=>Zc(b.It,ft))},J=yield b._o("BatchGetDocuments",N,U,p.length),Ee=new Map;J.forEach(ft=>{const It=function L0(r,e){return"found"in e?function(t,s){Z(!!s.found);const a=mu(t,s.found.name),c=Ts(s.found.updateTime),p=new xs({mapValue:{fields:s.found.fields}});return ei.newFoundDocument(a,c,p)}(r,e):"missing"in e?function(t,s){Z(!!s.missing),Z(!!s.readTime);const a=mu(t,s.missing),c=Ts(s.readTime);return ei.newNoDocument(a,c)}(r,e):B()}(b.It,ft);Ee.set(It.key.toString(),It)});const Ze=[];return p.forEach(ft=>{const It=Ee.get(ft.toString());Z(!!It),Ze.push(It)}),Ze}),function(c,p){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new ml(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ke.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const c=Xt.fromPath(a);e.mutations.push(new yg(c,e.precondition(c)))}),yield(s=(0,ke.Z)(function*(a,c){const p=Le(a),b=lh(p.It)+"/documents",N={writes:c.map(U=>qc(p.It,U))};yield p.ao("Commit",b,N)}),function(a,c){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw B();t=Mn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new tt(Te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Mn.min())?ti.exists(!1):ti.updateTime(t):ti.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mn.min()))throw new tt(Te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ti.updateTime(t)}return ti.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Pw{constructor(e,t,s,a,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=c,this.kc=s.maxAttempts,this.xo=new Zg(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ke.Z)(function*(){const t=new Nw(e.datastore),s=e.Mc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.Fc(c)}))}).catch(a=>{e.Fc(a)})}))}Mc(e){try{const t=this.updateFunction(e);return!rf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!yl(t)}return!1}}class Lw{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=gs.UNAUTHENTICATED,this.clientId=al.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,ke.Z)(function*(b){_("FirestoreClient","Received user=",b.uid),yield c.authCredentialListener(b),c.user=b});return function(b){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(_("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,ke.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tt(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new In;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=wd(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function e_(r,e){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,ke.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),_("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,ke.Z)(function*(c){s.isEqual(c)||(yield bv(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),Sm.apply(this,arguments)}function t_(r,e){return _p.apply(this,arguments)}function _p(){return _p=(0,ke.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield wp(r);_("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>em(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>em(e.remoteStore,c)),r.onlineComponents=e}),_p.apply(this,arguments)}function wp(r){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,ke.Z)(function*(r){return r.offlineComponents||(_("FirestoreClient","Using default OfflineComponentProvider"),yield e_(r,new qv)),r.offlineComponents}),Ep.apply(this,arguments)}function Th(r){return bp.apply(this,arguments)}function bp(){return bp=(0,ke.Z)(function*(r){return r.onlineComponents||(_("FirestoreClient","Using default OnlineComponentProvider"),yield t_(r,new Id)),r.onlineComponents}),bp.apply(this,arguments)}function Am(r){return wp(r).then(e=>e.persistence)}function Sh(r){return wp(r).then(e=>e.localStore)}function Ip(r){return Th(r).then(e=>e.remoteStore)}function Dp(r){return Th(r).then(e=>e.syncEngine)}function pc(r){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,ke.Z)(function*(r){const e=yield Th(r),t=e.eventManager;return t.onListen=Vv.bind(null,e.syncEngine),t.onUnlisten=Uv.bind(null,e.syncEngine),t}),Zu.apply(this,arguments)}function Uw(r,e,t={}){const s=new In;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(a,c,p,b,N){const U=new vp({next:Ee=>{c.enqueueAndForget(()=>tm(a,J));const Ze=Ee.docs.has(p);!Ze&&Ee.fromCache?N.reject(new tt(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):Ze&&Ee.fromCache&&b&&"server"===b.source?N.reject(new tt(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):N.resolve(Ee)},error:Ee=>N.reject(Ee)}),J=new bh(Uc(p.path),U,{includeMetadataChanges:!0,Nu:!0});return Ed(a,J)}(yield pc(r),r.asyncQueue,e,t,s)})),s.promise}function Bw(r,e,t={}){const s=new In;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(a,c,p,b,N){const U=new vp({next:Ee=>{c.enqueueAndForget(()=>tm(a,J)),Ee.fromCache&&"server"===b.source?N.reject(new tt(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):N.resolve(Ee)},error:Ee=>N.reject(Ee)}),J=new bh(p,U,{includeMetadataChanges:!0,Nu:!0});return Ed(a,J)}(yield pc(r),r.asyncQueue,e,t,s)})),s.promise}class On{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Zg(this,"async_queue_retry"),this.Wc=()=>{const t=Kf();t&&_("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Kf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Kf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new In;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ke.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!ul(t))throw t;_("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(s=>{throw this.Kc=s,this.Gc=!1,h("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(s)),s}).then(s=>(this.Gc=!1,s))));return this.Bc=t,t}enqueueAfterDelay(e,t,s){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const a=rp.createAndSchedule(this,e,t,s,c=>this.Yc(c));return this.qc.push(a),a}zc(){this.Kc&&B()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ke.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Rm(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class jw{constructor(){this._progressObserver={},this._taskCompletionResolver=new In,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Nr extends Dd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new On,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xi(this),this._firestoreClient.terminate()}}function gi(r){return r._firestoreClient||xi(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function xi(r){var e;const t=r._freezeSettings(),s=(c=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new eh(r._databaseId,c,r._persistenceKey,(b=t).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var c,b;r._firestoreClient=new Lw(r._authCredentials,r._appCheckCredentials,r._queue,s)}function Nm(r,e,t){const s=new In;return r.asyncQueue.enqueue((0,ke.Z)(function*(){try{yield e_(r,t),yield t_(r,e),s.resolve()}catch(a){const c=a;if(!("FirebaseError"===(p=c).name?p.code===Te.FAILED_PRECONDITION||p.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw c;g("Error enabling offline persistence. Falling back to persistence disabled: "+c),s.reject(c)}var p})).then(()=>s.promise)}function u_(r){if(r._initialized||r._terminated)throw new tt(Te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(Xi.fromBase64String(e))}catch(t){throw new tt(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Uo(Xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new tt(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ki(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gc{constructor(e){this._methodName=e}}class mc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tt(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tt(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ln(this._lat,e._lat)||Ln(this._long,e._long)}}const l_=/^__.*__$/;class c_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Fu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wc(e,this.data,t,this.fieldTransforms)}}class Pm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Fu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function d_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}class Ml{constructor(e,t,s,a,c,p){this.settings=e,this.databaseId=t,this.It=s,this.ignoreUndefinedProperties=a,void 0===c&&this.na(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Ml(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ia({path:s,oa:!1});return a.ua(e),a}ca(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ia({path:s,oa:!1});return a.na(),a}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return kh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(d_(this.sa)&&l_.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Ah{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=s||Zf(e)}da(e,t,s,a=!1){return new Ml({sa:e,methodName:t,fa:s,path:ki.emptyPath(),oa:!1,la:a},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function yc(r){const e=r._freezeSettings(),t=Zf(r._databaseId);return new Ah(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Cp(r,e,t,s,a,c={}){const p=r.da(c.merge||c.mergeFields?2:0,e,t,a);Tp("Data must be an object, but it was:",p,s);const b=qw(s,p);let N,U;if(c.merge)N=new mo(p.fieldMask),U=p.fieldTransforms;else if(c.mergeFields){const J=[];for(const Ee of c.mergeFields){const Ze=Td(e,Ee,t);if(!p.contains(Ze))throw new tt(Te.INVALID_ARGUMENT,`Field '${Ze}' is specified in your field mask but missing from your input data.`);Sd(J,Ze)||J.push(Ze)}N=new mo(J),U=p.fieldTransforms.filter(Ee=>N.covers(Ee.field))}else N=null,U=p.fieldTransforms;return new c_(new xs(b),N,U)}class Mh extends gc{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function Lm(r,e,t){return new Ml({sa:3,fa:e.settings.fa,methodName:r._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class xp extends gc{_toFieldTransform(e){return new $c(e.path,new jc)}isEqual(e){return e instanceof xp}}class h_ extends gc{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Lm(this,e,!0),s=this._a.map(c=>xd(c,t)),a=new gl(s);return new $c(e.path,a)}isEqual(e){return this===e}}class Kw extends gc{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Lm(this,e,!0),s=this._a.map(c=>xd(c,t)),a=new Ha(s);return new $c(e.path,a)}isEqual(e){return this===e}}class f_ extends gc{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Hc(e.It,hg(e.It,this.wa));return new $c(e.path,t)}isEqual(e){return this===e}}function Fm(r,e,t,s){const a=r.da(1,e,t);Tp("Data must be an object, but it was:",a,s);const c=[],p=xs.empty();Gl(s,(N,U)=>{const J=Sp(e,N,t);U=(0,dn.m9)(U);const Ee=a.ca(J);if(U instanceof Mh)c.push(J);else{const Ze=xd(U,Ee);null!=Ze&&(c.push(J),p.set(J,Ze))}});const b=new mo(c);return new Pm(p,b,a.fieldTransforms)}function Vm(r,e,t,s,a,c){const p=r.da(1,e,t),b=[Td(e,s,t)],N=[a];if(c.length%2!=0)throw new tt(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ze=0;Ze<c.length;Ze+=2)b.push(Td(e,c[Ze])),N.push(c[Ze+1]);const U=[],J=xs.empty();for(let Ze=b.length-1;Ze>=0;--Ze)if(!Sd(U,b[Ze])){const ft=b[Ze];let It=N[Ze];It=(0,dn.m9)(It);const Qt=p.ca(ft);if(It instanceof Mh)U.push(ft);else{const en=xd(It,Qt);null!=en&&(U.push(ft),J.set(ft,en))}}const Ee=new mo(U);return new Pm(J,Ee,p.fieldTransforms)}function Zw(r,e,t,s=!1){return xd(t,r.da(s?4:3,e))}function xd(r,e){if(Yw(r=(0,dn.m9)(r)))return Tp("Unsupported field value:",e,r),qw(r,e);if(r instanceof gc)return function(t,s){if(!d_(s.sa))throw s.ha(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ha(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const p of t){let b=xd(p,s.aa(c));null==b&&(b={nullValue:"NULL_VALUE"}),a.push(b),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,dn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return hg(s.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=jn.fromDate(t);return{timestampValue:uh(s.It,a)}}if(t instanceof jn){const a=new jn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:uh(s.It,a)}}if(t instanceof mc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Uo)return{bytesValue:Ig(s.It,t._byteString)};if(t instanceof ni){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s.ha(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ea(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ha(`Unsupported field value: ${fc(t)}`)}(r,e)}function qw(r,e){const t={};return Ey(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gl(r,(s,a)=>{const c=xd(a,e.ra(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function Yw(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof jn||r instanceof mc||r instanceof Uo||r instanceof ni||r instanceof gc)}function Tp(r,e,t){if(!Yw(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=fc(t);throw e.ha("an object"===s?r+" a custom object":r+" "+s)}var s}function Td(r,e,t){if((e=(0,dn.m9)(e))instanceof qu)return e._internalPath;if("string"==typeof e)return Sp(r,e);throw kh("Field path arguments must be of type string or ",r,!1,void 0,t)}const Qw=new RegExp("[~\\*/\\[\\]]");function Sp(r,e,t){if(e.search(Qw)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new qu(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function kh(r,e,t,s,a){const c=s&&!s.isEmpty(),p=void 0!==a;let b=`Function ${e}() called with invalid data`;t&&(b+=" (via `toFirestore()`)"),b+=". ";let N="";return(c||p)&&(N+=" (found",c&&(N+=` in field ${s}`),p&&(N+=` in document ${a}`),N+=")"),new tt(Te.INVALID_ARGUMENT,b+r+N)}function Sd(r,e){return r.some(t=>t.isEqual(e))}class Rh{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ni(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Jw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ap("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Jw extends Rh{data(){return super.data()}}function Ap(r,e){return"string"==typeof e?Sp(r,e):e instanceof qu?e._internalPath:e._delegate._internalPath}function p_(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new tt(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Oh{}function Yu(r,...e){for(const t of e)r=t._apply(r);return r}class Xw extends Oh{constructor(e,t,s){super(),this.ma=e,this.ga=t,this.ya=s,this.type="where"}_apply(e){const t=yc(e.firestore),s=function(a,c,p,b,N,U,J){let Ee;if(N.isKeyField()){if("array-contains"===U||"array-contains-any"===U)throw new tt(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${U}' queries on documentId().`);if("in"===U||"not-in"===U){w_(J,U);const ft=[];for(const It of J)ft.push(__(b,a,It));Ee={arrayValue:{values:ft}}}else Ee=__(b,a,J)}else"in"!==U&&"not-in"!==U&&"array-contains-any"!==U||w_(J,U),Ee=Zw(p,"where",J,"in"===U||"not-in"===U);const Ze=Us.create(N,U,Ee);return function(ft,It){if(It.dt()){const en=df(ft);if(null!==en&&!en.isEqual(It.field))throw new tt(Te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${en.toString()}' and '${It.field.toString()}'`);const fr=lg(ft);null!==fr&&E_(0,It.field,fr)}const Qt=function(en,fr){for(const Pr of en.filters)if(fr.indexOf(Pr.op)>=0)return Pr.op;return null}(ft,function(en){switch(en){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(It.op));if(null!==Qt)throw new tt(Te.INVALID_ARGUMENT,Qt===It.op?`Invalid query. You cannot use more than one '${It.op.toString()}' filter.`:`Invalid query. You cannot use '${It.op.toString()}' filters with '${Qt.toString()}' filters.`)}(a,Ze),Ze}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new $s(e.firestore,e.converter,function(a,c){const p=a.filters.concat([c]);return new fu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),p,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class Nh extends Oh{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new tt(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new tt(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new Ql(a,c);return function(b,N){if(null===lg(b)){const U=df(b);null!==U&&E_(0,U,N.field)}}(s,p),p}(e._query,this.ma,this.pa);return new $s(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new fu(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Um extends Oh{constructor(e,t,s){super(),this.type=e,this.Ia=t,this.Ta=s}_apply(e){return new $s(e.firestore,e.converter,hf(e._query,this.Ia,this.Ta))}}class m_ extends Oh{constructor(e,t,s){super(),this.type=e,this.Ea=t,this.Aa=s}_apply(e){const t=Bm(e,this.type,this.Ea,this.Aa);return new $s(e.firestore,e.converter,(a=t,new fu((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class Mp extends Oh{constructor(e,t,s){super(),this.type=e,this.Ea=t,this.Aa=s}_apply(e){const t=Bm(e,this.type,this.Ea,this.Aa);return new $s(e.firestore,e.converter,(a=t,new fu((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function Bm(r,e,t,s){if(t[0]=(0,dn.m9)(t[0]),t[0]instanceof Rh)return function(a,c,p,b,N){if(!b)throw new tt(Te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const U=[];for(const J of Jl(a))if(J.field.isKeyField())U.push(Lc(c,b.key));else{const Ee=b.data.field(J.field);if(Zl(Ee))throw new tt(Te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+J.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ee){const Ze=J.field.canonicalString();throw new tt(Te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ze}' (used as the orderBy) does not exist.`)}U.push(Ee)}return new hu(U,N)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const a=yc(r.firestore);return function(c,p,b,N,U,J){const Ee=c.explicitOrderBy;if(U.length>Ee.length)throw new tt(Te.INVALID_ARGUMENT,`Too many arguments provided to ${N}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ze=[];for(let ft=0;ft<U.length;ft++){const It=U[ft];if(Ee[ft].field.isKeyField()){if("string"!=typeof It)throw new tt(Te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${N}(), but got a ${typeof It}`);if(!cg(c)&&-1!==It.indexOf("/"))throw new tt(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${N}() must be a plain document ID, but '${It}' contains a slash.`);const Qt=c.path.child(gr.fromString(It));if(!Xt.isDocumentKey(Qt))throw new tt(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${N}() must result in a valid document path, but '${Qt}' is not because it contains an odd number of segments.`);const en=new Xt(Qt);Ze.push(Lc(p,en))}else{const Qt=Zw(b,N,It);Ze.push(Qt)}}return new hu(Ze,J)}(r._query,r.firestore._databaseId,a,e,t,s)}}function __(r,e,t){if("string"==typeof(t=(0,dn.m9)(t))){if(""===t)throw new tt(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cg(e)&&-1!==t.indexOf("/"))throw new tt(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(gr.fromString(t));if(!Xt.isDocumentKey(s))throw new tt(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Lc(r,new Xt(s))}if(t instanceof ni)return Lc(r,t._key);throw new tt(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fc(t)}.`)}function w_(r,e){if(!Array.isArray(r)||0===r.length)throw new tt(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new tt(Te.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function E_(r,e,t){if(!t.isEqual(e))throw new tt(Te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ph{convertValue(e,t="none"){switch(dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $i(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw B()}}convertObject(e,t){const s={};return Gl(e.fields,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new mc($i(e.latitude),$i(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Iy(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const t=Lu(e);return new jn(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=gr.fromString(e);Z(bf(s));const a=new ll(s.get(1),s.get(3)),c=new Xt(s.popFirst(5));return a.isEqual(t)||h(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function kp(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class b_ extends Ph{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ni(this.firestore,null,t)}}class vc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qu extends Rh{constructor(e,t,s,a,c,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ap("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Lh extends Qu{data(e={}){return super.data(e)}}class kl{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new vc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Lh(this._firestore,this._userDataWriter,s.key,s,new vc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tt(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new Lh(s._firestore,s._userDataWriter,p.doc.key,p.doc,new vc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const b=new Lh(s._firestore,s._userDataWriter,p.doc.key,p.doc,new vc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let N=-1,U=-1;return 0!==p.type&&(N=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),1!==p.type&&(c=c.add(p.doc),U=c.indexOf(p.doc.key)),{type:sE(p.type),doc:b,oldIndex:N,newIndex:U}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sE(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B()}}function I_(r,e){return r instanceof Qu&&e instanceof Qu?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof kl&&e instanceof kl&&r._firestore===e._firestore&&Tm(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class Rl extends Ph{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ni(this.firestore,null,t)}}function T_(r,e,t){r=cr(r,ni);const s=cr(r.firestore,Nr),a=kp(r.converter,e,t);return Ol(s,[Cp(yc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,ti.none())])}function S_(r,e,t,...s){r=cr(r,ni);const a=cr(r.firestore,Nr),c=yc(a);let p;return p="string"==typeof(e=(0,dn.m9)(e))||e instanceof qu?Vm(c,"updateDoc",r._key,e,t,s):Fm(c,"updateDoc",r._key,e),Ol(a,[p.toMutation(r._key,ti.exists(!0))])}function Rp(r,...e){var t,s,a;r=(0,dn.m9)(r);let c={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||Rm(e[p])||(c=e[p],p++);const b={includeMetadataChanges:c.includeMetadataChanges};if(Rm(e[p])){const Ee=e[p];e[p]=null===(t=Ee.next)||void 0===t?void 0:t.bind(Ee),e[p+1]=null===(s=Ee.error)||void 0===s?void 0:s.bind(Ee),e[p+2]=null===(a=Ee.complete)||void 0===a?void 0:a.bind(Ee)}let N,U,J;if(r instanceof ni)U=cr(r.firestore,Nr),J=Uc(r._key.path),N={next:Ee=>{e[p]&&e[p](Hm(U,r,Ee))},error:e[p+1],complete:e[p+2]};else{const Ee=cr(r,$s);U=cr(Ee.firestore,Nr),J=Ee._query;const Ze=new Rl(U);N={next:ft=>{e[p]&&e[p](new kl(U,Ze,Ee,ft))},error:e[p+1],complete:e[p+2]},p_(r._query)}return function(Ee,Ze,ft,It){const Qt=new vp(It),en=new bh(Ze,Qt,ft);return Ee.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return Ed(yield pc(Ee),en)})),()=>{Qt.bc(),Ee.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return tm(yield pc(Ee),en)}))}}(gi(U),J,b,N)}function Ol(r,e){return function(t,s){const a=new In;return t.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function Bv(r,e,t){return cp.apply(this,arguments)}(yield Dp(t),s,a)})),a.promise}(gi(r),e)}function Hm(r,e,t){const s=t.docs.get(e._key),a=new Rl(r);return new Qu(r,a,e._key,s,new vc(t.hasPendingWrites,t.fromCache),e.converter)}const cE={maxAttempts:5};class $m{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=yc(e)}set(e,t,s){this._verifyNotCommitted();const a=ia(e,this._firestore),c=kp(a.converter,t,s),p=Cp(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,s);return this._mutations.push(p.toMutation(a._key,ti.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const c=ia(e,this._firestore);let p;return p="string"==typeof(t=(0,dn.m9)(t))||t instanceof qu?Vm(this._dataReader,"WriteBatch.update",c._key,t,s,a):Fm(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(p.toMutation(c._key,ti.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ia(e,this._firestore);return this._mutations=this._mutations.concat(new ml(t._key,ti.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tt(Te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ia(r,e){if((r=(0,dn.m9)(r)).firestore!==e)throw new tt(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class k_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=yc(e)}get(e){const t=ia(e,this._firestore),s=new b_(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return B();const c=a[0];if(c.isFoundDocument())return new Rh(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new Rh(this._firestore,s,t._key,null,t.converter);throw B()})}set(e,t,s){const a=ia(e,this._firestore),c=kp(a.converter,t,s),p=Cp(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,s);return this._transaction.set(a._key,p),this}update(e,t,s,...a){const c=ia(e,this._firestore);let p;return p="string"==typeof(t=(0,dn.m9)(t))||t instanceof qu?Vm(this._dataReader,"Transaction.update",c._key,t,s,a):Fm(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,p),this}delete(e){const t=ia(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ia(e,this._firestore),s=new Rl(this._firestore);return super.get(e).then(a=>new Qu(this._firestore,s,t._key,a._document,new vc(!1,!1),t.converter))}}function Np(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new tt("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Gm(){if(typeof Uint8Array>"u")throw new tt("unimplemented","Uint8Arrays are not available in this environment.")}function P_(){if(!function v0(){return typeof atob<"u"}())throw new tt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){Hl=er.SDK_VERSION,(0,er._registerComponent)(new qn.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),p=new Nr(new Gd(t.getProvider("auth-internal")),new Qh(t.getProvider("app-check-internal")),function(b,N){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new tt(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ll(b.options.projectId,N)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,er.registerVersion)(Gp,"3.7.3",r),(0,er.registerVersion)(Gp,"3.7.3","esm2017")}();class Fh{constructor(e){this._delegate=e}static fromBase64String(e){return P_(),new Fh(Uo.fromBase64String(e))}static fromUint8Array(e){return Gm(),new Fh(Uo.fromUint8Array(e))}toBase64(){return P_(),this._delegate.toBase64()}toUint8Array(){return Gm(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Km(r){return function pE(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class L_{enableIndexedDbPersistence(e,t){return function _b(r,e){u_(r=cr(r,Nr));const t=gi(r),s=r._freezeSettings(),a=new Id;return Nm(t,a,new _m(a,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function i_(r){u_(r=cr(r,Nr));const e=gi(r),t=r._freezeSettings(),s=new Id;return Nm(e,s,new Yv(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function $w(r){if(r._initialized&&!r._terminated)throw new tt(Te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new In;return r._queue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{yield(t=(0,ke.Z)(function*(s){if(!_a.C())return Promise.resolve();const a=s+"main";yield _a.delete(a)}),function(s){return t.apply(this,arguments)})(zf(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class gE{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof ll||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&g("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function xm(r,e,t,s={}){var a;const c=(r=cr(r,Dd))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&g("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let p,b;if("string"==typeof s.mockUserToken)p=s.mockUserToken,b=gs.MOCK_USER;else{p=(0,dn.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new tt(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new gs(N)}r._authCredentials=new Nu(new Ur(p,b))}}(this._delegate,e,t,s)}enableNetwork(){return function o_(r){return function Fw(r){return r.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield Am(r),t=yield Ip(r);return e.setNetworkEnabled(!0),function(s){const a=Le(s);return a._u.delete(0),_h(a)}(t)}))}(gi(r=cr(r,Nr)))}(this._delegate)}disableNetwork(){return function a_(r){return function Vw(r){return r.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield Am(r),t=yield Ip(r);return e.setNetworkEnabled(!1),(s=(0,ke.Z)(function*(a){const c=Le(a);c._u.add(0),yield fd(c),c.gu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(gi(r=cr(r,Nr)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Em("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function s_(r){return function(e){const t=new In;return e.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function ys(r,e){return hp.apply(this,arguments)}(yield Dp(e),t)})),t.promise}(gi(r=cr(r,Nr)))}(this._delegate)}onSnapshotsInSync(e){return function A_(r,e){return function n_(r,e){const t=new vp(e);return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return s=yield pc(r),a=t,Le(s).Ru.add(a),void a.next();var s,a})),()=>{t.bc(),r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return s=yield pc(r),a=t,void Le(s).Ru.delete(a);var s,a}))}}(gi(r=cr(r,Nr)),Rm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new tt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new kd(this,Qv(this._delegate,e))}catch(t){throw wo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ia(this,yp(this._delegate,e))}catch(t){throw wo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Eo(this,function Mw(r,e){if(r=cr(r,Dd),wm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tt(Te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $s(r,null,(t=e,new fu(gr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw wo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function dE(r,e,t){r=cr(r,Nr);const s=Object.assign(Object.assign({},cE),t);return function(a){if(a.maxAttempts<1)throw new tt(Te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,c,p){const b=new In;return a.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){const N=yield function Mm(r){return Th(r).then(e=>e.datastore)}(a);new Pw(a.asyncQueue,N,p,c,b).run()})),b.promise}(gi(r),a=>e(new k_(r,a)),s)}(this._delegate,t=>e(new F_(this,t)))}batch(){return gi(this._delegate),new yE(new $m(this._delegate,e=>Ol(this._delegate,e)))}loadBundle(e){return function Ww(r,e){const t=gi(r=cr(r,Nr)),s=new jw;return function r_(r,e,t,s){const a=function(c,p){let b;return b="string"==typeof c?(new TextEncoder).encode(c):c,N=function(N,U){if(N instanceof Uint8Array)return Xv(N,U);if(N instanceof ArrayBuffer)return Xv(new Uint8Array(N),U);if(N instanceof ReadableStream)return N.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new kw(N,p);var N}(t,Zf(e));r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){!function Zv(r,e,t){const s=Le(r);var a;(a=(0,ke.Z)(function*(c,p,b){try{const N=yield p.getMetadata();if(yield function(Ze,ft){const It=Le(Ze),Qt=Ts(ft.createTime);return It.persistence.runTransaction("hasNewerBundle","readonly",en=>It.Ns.getBundleMetadata(en,ft.id)).then(en=>!!en&&en.createTime.compareTo(Qt)>=0)}(c.localStore,N))return yield p.close(),b._completeWith({taskState:"Success",documentsLoaded:(Ze=N).totalDocuments,bytesLoaded:Ze.totalBytes,totalDocuments:Ze.totalDocuments,totalBytes:Ze.totalBytes}),Promise.resolve(new Set);b._updateProgress(im(N));const U=new rm(N,c.localStore,p.It);let J=yield p.mc();for(;J;){const Ze=yield U.Fu(J);Ze&&b._updateProgress(Ze),J=yield p.mc()}const Ee=yield U.complete();return yield Ku(c,Ee.Lu,void 0),yield function(Ze,ft){const It=Le(Ze);return It.persistence.runTransaction("Save bundle","readwrite",Qt=>It.Ns.saveBundleMetadata(Qt,ft))}(c.localStore,N),b._completeWith(Ee.progress),Promise.resolve(Ee.Bu)}catch(N){return g("SyncEngine",`Loading bundle failed with ${N}`),b._failWith(N),Promise.resolve(new Set)}var Ze}),function(c,p,b){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Dp(r),a,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Gw(r,e){return function yb(r,e){return r.asyncQueue.enqueue((0,ke.Z)(function*(){return function(t,s){const a=Le(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.Ns.getNamedQuery(c,s))}(yield Sh(r),e)}))}(gi(r=cr(r,Nr)),e).then(t=>t?new $s(r,null,t.query):null)}(this._delegate,e).then(t=>t?new Eo(this,t):null)}}class Vh extends Ph{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fh(new Uo(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ia.forKey(t,this.firestore,null)}}class F_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Vh(e)}get(e){const t=_c(e);return this._delegate.get(t).then(s=>new Md(this._firestore,new Qu(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=_c(e);return s?(Np("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const c=_c(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,s,...a),this}delete(e){const t=_c(e);return this._delegate.delete(t),this}}class yE{constructor(e){this._delegate=e}set(e,t,s){const a=_c(e);return s?(Np("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const c=_c(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,s,...a),this}delete(e){const t=_c(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ad{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Lh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Uh(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Ad.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let c=a.get(t);return c||(c=new Ad(e,new Vh(e),t),a.set(t,c)),c}}Ad.INSTANCES=new WeakMap;class Ia{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vh(e)}static forPath(e,t,s){if(e.length%2!=0)throw new tt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ia(t,new ni(t._delegate,s,new Xt(e)))}static forKey(e,t,s){return new Ia(t,new ni(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new kd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new kd(this.firestore,Qv(this._delegate,e))}catch(t){throw wo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,dn.m9)(e))instanceof ni&&Jv(this._delegate,e)}set(e,t){t=Np("DocumentReference.set",t);try{return t?T_(this._delegate,e,t):T_(this._delegate,e)}catch(s){throw wo(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?S_(this._delegate,e):S_(this._delegate,e,t,...s)}catch(a){throw wo(a,"updateDoc()","DocumentReference.update()")}}delete(){return function lE(r){return Ol(cr(r.firestore,Nr),[new ml(r._key,ti.none())])}(this._delegate)}onSnapshot(...e){const t=V_(e),s=Zm(e,a=>new Md(this.firestore,new Qu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Rp(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function D_(r){r=cr(r,ni);const e=cr(r.firestore,Nr),t=gi(e),s=new Rl(e);return function Cd(r,e){const t=new In;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(s=(0,ke.Z)(function*(a,c,p){try{const b=yield function(N,U){const J=Le(N);return J.persistence.runTransaction("read document","readonly",Ee=>J.localDocuments.getDocument(Ee,U))}(a,c);b.isFoundDocument()?p.resolve(b):b.isNoDocument()?p.resolve(null):p.reject(new tt(Te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const N=wd(b,`Failed to get document '${c} from cache`);p.reject(N)}}),function(a,c,p){return s.apply(this,arguments)})(yield Sh(r),e,t);var s})),t.promise}(t,r._key).then(a=>new Qu(e,s,r._key,a,new vc(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function C_(r){r=cr(r,ni);const e=cr(r.firestore,Nr);return Uw(gi(e),r._key,{source:"server"}).then(t=>Hm(e,r,t))}(this._delegate):function oE(r){r=cr(r,ni);const e=cr(r.firestore,Nr);return Uw(gi(e),r._key).then(t=>Hm(e,r,t))}(this._delegate),t.then(s=>new Md(this.firestore,new Qu(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Ia(this.firestore,this._delegate.withConverter(e?Ad.getInstance(this.firestore,e):null))}}function wo(r,e,t){return r.message=r.message.replace(e,t),r}function V_(r){for(const e of r)if("object"==typeof e&&!Km(e))return e;return{}}function Zm(r,e){var t,s;let a;return a=Km(r[0])?r[0]:Km(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class Md{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return I_(this._delegate,e._delegate)}}class Uh extends Md{data(e){const t=this._delegate.data(e);return function Ye(r,e){r||B()}(void 0!==t),t}}class Eo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vh(e)}where(e,t,s){try{return new Eo(this.firestore,Yu(this._delegate,function eE(r,e,t){const s=e,a=Ap("where",r);return new Xw(a,s,t)}(e,t,s)))}catch(a){throw wo(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Eo(this.firestore,Yu(this._delegate,function tE(r,e="asc"){const t=e,s=Ap("orderBy",r);return new Nh(s,t)}(e,t)))}catch(s){throw wo(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Eo(this.firestore,Yu(this._delegate,function nE(r){return Im("limit",r),new Um("limit",r,"F")}(e)))}catch(t){throw wo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Eo(this.firestore,Yu(this._delegate,function g_(r){return Im("limitToLast",r),new Um("limitToLast",r,"L")}(e)))}catch(t){throw wo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Eo(this.firestore,Yu(this._delegate,function y_(...r){return new m_("startAt",r,!0)}(...e)))}catch(t){throw wo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Eo(this.firestore,Yu(this._delegate,function rE(...r){return new m_("startAfter",r,!1)}(...e)))}catch(t){throw wo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Eo(this.firestore,Yu(this._delegate,function iE(...r){return new Mp("endBefore",r,!1)}(...e)))}catch(t){throw wo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Eo(this.firestore,Yu(this._delegate,function v_(...r){return new Mp("endAt",r,!0)}(...e)))}catch(t){throw wo(t,"endAt()","Query.endAt()")}}isEqual(e){return Tm(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function uE(r){r=cr(r,$s);const e=cr(r.firestore,Nr),t=gi(e),s=new Rl(e);return function km(r,e){const t=new In;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(s=(0,ke.Z)(function*(a,c,p){try{const b=yield sd(a,c,!0),N=new om(c,b.Hi),U=N.Wu(b.documents),J=N.applyChanges(U,!1);p.resolve(J.snapshot)}catch(b){const N=wd(b,`Failed to execute query '${c} against cache`);p.reject(N)}}),function(a,c,p){return s.apply(this,arguments)})(yield Sh(r),e,t);var s})),t.promise}(t,r._query).then(a=>new kl(e,s,r,a))}(this._delegate):"server"===e?.source?function x_(r){r=cr(r,$s);const e=cr(r.firestore,Nr),t=gi(e),s=new Rl(e);return Bw(t,r._query,{source:"server"}).then(a=>new kl(e,s,r,a))}(this._delegate):function aE(r){r=cr(r,$s);const e=cr(r.firestore,Nr),t=gi(e),s=new Rl(e);return p_(r._query),Bw(t,r._query).then(a=>new kl(e,s,r,a))}(this._delegate),t.then(s=>new qm(this.firestore,new kl(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=V_(e),s=Zm(e,a=>new qm(this.firestore,new kl(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Rp(this._delegate,t,s)}withConverter(e){return new Eo(this.firestore,this._delegate.withConverter(e?Ad.getInstance(this.firestore,e):null))}}class vE{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Uh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Eo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Uh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new vE(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Uh(this._firestore,s))})}isEqual(e){return I_(this._delegate,e._delegate)}}class kd extends Eo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ia(this.firestore,e):null}doc(e){try{return new Ia(this.firestore,void 0===e?yp(this._delegate):yp(this._delegate,e))}catch(t){throw wo(t,"doc()","CollectionReference.doc()")}}add(e){return function jm(r,e){const t=cr(r.firestore,Nr),s=yp(r),a=kp(r.converter,e);return Ol(t,[Cp(yc(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,ti.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Ia(this.firestore,t))}isEqual(e){return Jv(this._delegate,e._delegate)}withConverter(e){return new kd(this.firestore,this._delegate.withConverter(e?Ad.getInstance(this.firestore,e):null))}}function _c(r){return cr(r,ni)}class Ym{constructor(...e){this._delegate=new qu(...e)}static documentId(){return new Ym(ki.keyField().canonicalString())}isEqual(e){return(e=(0,dn.m9)(e))instanceof qu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Za{constructor(e){this._delegate=e}static serverTimestamp(){const e=function R_(){return new xp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Za(e)}static delete(){const e=function bb(){return new Mh("deleteField")}();return e._methodName="FieldValue.delete",new Za(e)}static arrayUnion(...e){const t=function zm(...r){return new h_("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Za(t)}static arrayRemove(...e){const t=function hE(...r){return new Kw("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Za(t)}static increment(e){const t=function Wm(r){return new f_("increment",r)}(e);return t._methodName="FieldValue.increment",new Za(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const U_={Firestore:gE,GeoPoint:mc,Timestamp:jn,Blob:Fh,Transaction:F_,WriteBatch:yE,DocumentReference:Ia,DocumentSnapshot:Md,Query:Eo,QueryDocumentSnapshot:Uh,QuerySnapshot:qm,CollectionReference:kd,FieldPath:Ym,FieldValue:Za,setLogLevel:function mE(r){!function my(r){va.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};function Qm(r,e){return function H_(r,e=sa.z){return new ce.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(r,e)}function Jm(r,e){return Qm(r,e).pipe((0,Ue.U)(t=>({payload:t,type:"query"})))}function Xm(r,e){return Jm(r,e).pipe((0,di.O)(void 0),Yi(),(0,Ue.U)(([t,s])=>{const a=s.payload.docChanges(),c=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((p,b)=>{const N=a.find(J=>J.doc.ref.isEqual(p.ref)),U=t?.payload.docs.find(J=>J.ref.isEqual(p.ref));N&&JSON.stringify(N.doc.metadata)===JSON.stringify(p.metadata)||!N&&U&&JSON.stringify(U.metadata)===JSON.stringify(p.metadata)||c.push({type:"modified",payload:{oldIndex:b,newIndex:b,type:"modified",doc:p}})}),c}))}function ey(r,e,t){return Xm(r,t).pipe((0,wi.R)((s,a)=>function z_(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function _E(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return ty(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ty(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ty(r,e.oldIndex,1)}return r}(r,s))}),r}(s,a.map(c=>c.payload),e),[]),(0,Jn.x)(),(0,Ue.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function ty(r,e,t,...s){const a=r.slice();return a.splice(e,t,...s),a}function W_(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}!function j_(r){(function B_(r,e){r.INTERNAL.registerComponent(new qn.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(s,a)},"PUBLIC").setServiceProps(Object.assign({},U_)))})(r,(e,t)=>new gE(e,t,new L_)),r.registerVersion("@firebase/firestore-compat","0.2.3")}(ss.Z);class Rd{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Xm(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ue.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,di.O)(void 0),Yi(),(0,it.h)(([s,a])=>a.length>0||!s),(0,Ue.U)(([s,a])=>a),We.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,wi.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=W_(e);return ey(this.query,t,this.afs.schedulers.outsideAngular).pipe(We.iC)}valueChanges(e={}){return Jm(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),We.iC)}get(e){return(0,X.D)(this.query.get(e)).pipe(We.iC)}add(e){return this.ref.add(e)}doc(e){return new G_(this.ref.doc(e),this.afs)}}class G_{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:c}=K_(s,t);return new Rd(a,c,this.afs)}snapshotChanges(){return function $_(r,e){return Qm(r,e).pipe((0,di.O)(void 0),Yi(),(0,Ue.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(We.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ue.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,X.D)(this.ref.get(e)).pipe(We.iC)}}class ny{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Xm(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,it.h)(t=>t.length>0),We.iC):Xm(this.query,this.afs.schedulers.outsideAngular).pipe(We.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,wi.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=W_(e);return ey(this.query,t,this.afs.schedulers.outsideAngular).pipe(We.iC)}valueChanges(e={}){return Jm(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),We.iC)}get(e){return(0,X.D)(this.query.get(e)).pipe(We.iC)}}const _u=new m.OlP("angularfire2.enableFirestorePersistence"),wE=new m.OlP("angularfire2.firestore.persistenceSettings"),ry=new m.OlP("angularfire2.firestore.settings"),Bh=new m.OlP("angularfire2.firestore.use-emulator");function K_(r,e=(t=>t)){return{query:e(r),ref:r}}let Z_=(()=>{class r{constructor(t,s,a,c,p,b,N,U,J,Ee,Ze,ft,It,Qt,en,fr,Pr){this.schedulers=N;const pr=(0,ee.on)(t,b,s),nr=J;Ee&&vi(pr,b,Ze,It,Qt,en,ft,fr),[this.firestore,this.persistenceEnabled$]=(0,ee.cc)(`${pr.name}.firestore`,"AngularFirestore",pr.name,()=>{const Xn=b.runOutsideAngular(()=>pr.firestore());if(c&&Xn.settings(c),nr&&Xn.useEmulator(...nr),a&&!(0,ut.PM)(p)){const ar=()=>{try{return(0,X.D)(Xn.enablePersistence(U||void 0).then(()=>!0,()=>!1))}catch(Ss){return typeof console<"u"&&console.warn(Ss),(0,oe.of)(!1)}};return[Xn,b.runOutsideAngular(ar)]}return[Xn,(0,oe.of)(!1)]},[c,nr,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:p}=K_(a,s),b=this.schedulers.ngZone.run(()=>c);return new Rd(b,p,this)}collectionGroup(t,s){const a=s||(p=>p),c=this.firestore.collectionGroup(t);return new ny(a(c),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new G_(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(m.LFG(ee.Dh),m.LFG(ee.xv,8),m.LFG(_u,8),m.LFG(ry,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(We.HU),m.LFG(wE,8),m.LFG(Bh,8),m.LFG(is,8),m.LFG(rs,8),m.LFG(zo,8),m.LFG(ii,8),m.LFG(yi,8),m.LFG(li,8),m.LFG(ci,8),m.LFG(Ui,8))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();var wc=C(1177);let jh=(()=>{class r{constructor(t,s,a,c,p,b){this.afs=t,this.afAuth=s,this.router=a,this.ngZone=c,this.notiflixService=p,this.store=b}signOut(){var t=this;return(0,ke.Z)(function*(){yield t.afAuth.signOut()})()}isLogin(){var t=this;return(0,ke.Z)(function*(){let s;return yield t.store.select("auth").pipe((0,eo.b)(a=>s=a.currentUser)),!!s})()}setUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL},{merge:!0})}AuthLogin(t){var s=this;return(0,ke.Z)(function*(){try{const a=yield s.afAuth.signInWithPopup(t);s.setUserData(a.user)}catch(a){s.notiflixService.error(a.message)}})()}}return r.\u0275fac=function(t){return new(t||r)(m.LFG(Z_),m.LFG(is),m.LFG(Fn.F0),m.LFG(m.R0b),m.LFG(wc.c),m.LFG(M.yh))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),EE=(()=>{class r{constructor(t,s){this.authService=t,this.router=s}canActivate(){var t=this;return(0,ke.Z)(function*(){return!!(yield t.authService.isLogin())||(t.router.navigate(["/error"]),!1)})()}}return r.\u0275fac=function(t){return new(t||r)(m.LFG(jh),m.LFG(Fn.F0))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Pp=(()=>{class r{constructor(t,s){this.fontSize=t,this.el=s}ngOnInit(){this.el.nativeElement.style.fontSize=this.fontSize+"px"}}return r.\u0275fac=function(t){return new(t||r)(m.$8M("fontSize"),m.Y36(m.SBq))},r.\u0275dir=m.lG2({type:r,selectors:[["","fontSize",""]],standalone:!0}),r})(),iy=(()=>{class r{constructor(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-footer"]],decls:12,vars:0,consts:[[1,"p-4","bg-gray-200","flex","items-center","justify-between"],[1,"font-semibold"],[1,"flex","items-center","gap-3"],[1,"hidden","md:block"],["href","#","target","_blank","rel","noopener noreferrer",1,"hover:text-black","transition","duration-300"],["fontSize","25",1,"fa-brands","fa-github","text-black"],["href","#","target","_blank","rel","noopener noreferrer",1,"hover:text-blue-500","transition","duration-300"],["fontSize","25",1,"fa-brands","fa-facebook","text-blue-500"],["fontSize","25",1,"fa-brands","fa-skype","text-blue-500"]],template:function(t,s){1&t&&(m.TgZ(0,"div",0)(1,"h1",1),m._uU(2,"Dang Ngoc Khoa \xa9"),m.qZA(),m.TgZ(3,"div",2)(4,"p",3),m._uU(5,"Contact me: "),m.qZA(),m.TgZ(6,"a",4),m._UZ(7,"i",5),m.qZA(),m.TgZ(8,"a",6),m._UZ(9,"i",7),m.qZA(),m.TgZ(10,"a",6),m._UZ(11,"i",8),m.qZA()()())},dependencies:[Pp]}),r})();var Lp=C(8247),wu=C(1368);const q_=[{name:"T\xecm Ki\u1ebfm",path:"/search",icon:"fa-solid fa-magnifying-glass",background:"#2ecc71",child:null},{name:"Trang Ch\u1ee7",path:"/",icon:"fa-solid fa-house",child:null,background:"#3498db"},{name:"Kh\xe1m Ph\xe1",path:null,icon:"fa-regular fa-compass",child:[{name:"B\xe0i H\xe1t",path:"/song"},{name:"Playlist",path:"/playlist"},{name:"Video",path:"/video"},{name:"Ngh\u1ec7 S\u0129",path:"/artist"}],background:"#f1c40f"},{name:"Ch\u1ee7 \u0111\u1ec1",path:"/topics",icon:"fa-solid fa-headphones-simple",background:"#9b59b6"},{name:"BXH",path:"/bxh",icon:"fa-solid fa-square-poll-vertical",child:null,background:"#e67e22"},{name:"L\u1ecbch s\u1eed",path:"/history",icon:"fa-solid fa-clock-rotate-left"}];let Od=(()=>{class r{constructor(){this.destroys$=new Q.x}ngOnDestroy(){this.destroys$.next(),this.destroys$.complete()}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Ec=C(2722);let Y_=(()=>{class r{constructor(){}ngOnDestroy(){document.removeEventListener("click",this.onClick,!1)}onClick(t){t.stopPropagation()}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=m.lG2({type:r,selectors:[["","appClickStopPropagation",""]],hostBindings:function(t,s){1&t&&m.NdJ("click",function(c){return s.onClick(c)})},standalone:!0}),r})();function sy(r,e){if(1&r){const t=m.EpF();m.ynx(0),m.TgZ(1,"div",9)(2,"a",10)(3,"div",11)(4,"div",12),m._UZ(5,"img",13),m.qZA(),m.TgZ(6,"p",14),m._uU(7),m.qZA()()(),m.TgZ(8,"i",15),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.signOut())}),m.qZA()(),m.BQk()}if(2&r){const t=m.oxw();m.xp6(5),m.Q6J("src",null==t.currentUser?null:t.currentUser.photoURL,m.LSH)("alt",null==t.currentUser?null:t.currentUser.displayName),m.xp6(2),m.Oqu(null==t.currentUser?null:t.currentUser.displayName)}}function oy(r,e){if(1&r){const t=m.EpF();m.TgZ(0,"button",16),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.handleLoginForm())}),m._uU(1,"\u0110\u0103ng Nh\u1eadp"),m.qZA()}}function Q_(r,e){1&r&&(m.TgZ(0,"span"),m._UZ(1,"i",22),m.qZA())}const Fp=function(r){return{"bg-gray-200 rounded-sm":r}};function ay(r,e){if(1&r&&(m.TgZ(0,"ul",24)(1,"li",25)(2,"a",26),m._uU(3),m.qZA()()()),2&r){const t=e.$implicit,s=m.oxw(3);m.xp6(1),m.Q6J("ngClass",m.VKq(3,Fp,t.path===s.pathname)),m.xp6(1),m.Q6J("routerLink",t.path),m.xp6(1),m.Oqu(t.name)}}function bE(r,e){if(1&r&&(m.ynx(0),m.YNc(1,ay,4,5,"ul",23),m.BQk()),2&r){const t=m.oxw().$implicit;m.xp6(1),m.Q6J("ngForOf",t.child)}}function IE(r,e){if(1&r){const t=m.EpF();m.ynx(0),m.TgZ(1,"li",17),m.NdJ("click",function(a){const p=m.CHM(t).$implicit,b=m.oxw();return m.KtG(b.handleShowChildMenu(a,p))}),m.TgZ(2,"a",18)(3,"div",19),m._UZ(4,"i",20),m.TgZ(5,"span",21),m._uU(6),m.qZA()(),m.YNc(7,Q_,2,0,"span",8),m.qZA(),m.YNc(8,bE,2,1,"ng-container",8),m.qZA(),m.BQk()}if(2&r){const t=e.$implicit,s=m.oxw();m.xp6(1),m.Q6J("ngClass",m.VKq(10,Fp,t.path===s.pathname)),m.xp6(1),m.Q6J("routerLink",t.path?t.path:"#"),m.xp6(1),m.Udp("color",t.background),m.xp6(1),m.Gre("",t.icon," w-5 h-5 mr-2"),m.xp6(2),m.Oqu(t.name),m.xp6(1),m.Q6J("ngIf",t.child),m.xp6(1),m.Q6J("ngIf",t.child)}}function DE(r,e){if(1&r){const t=m.EpF();m.ynx(0),m.TgZ(1,"div",27),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.handleClose())}),m.TgZ(2,"div",28)(3,"div",29)(4,"div",30)(5,"h1",31),m._uU(6,"\u0110\u0103ng nh\u1eadp"),m.qZA(),m.TgZ(7,"button",32),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.handleClose())}),m._UZ(8,"i",33),m.qZA()(),m.TgZ(9,"div")(10,"div")(11,"button",34),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.handleSignIn("google"))}),m._UZ(12,"i",35),m._uU(13," \u0110\u0103ng nh\u1eadp v\u1edbi Google "),m.qZA()(),m.TgZ(14,"div")(15,"button",36),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.handleSignIn("github"))}),m._UZ(16,"i",37),m._uU(17," \u0110\u0103ng nh\u1eadp v\u1edbi Github "),m.qZA()(),m.TgZ(18,"div")(19,"button",38),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.handleSignIn("facebook"))}),m._UZ(20,"i",39),m._uU(21," \u0110\u0103ng nh\u1eadp v\u1edbi Facebook "),m.qZA()()()()()(),m.BQk()}}let J_=(()=>{class r{constructor(t,s,a,c,p){this.store=t,this.notiflixService=s,this.router=a,this.authService=c,this.destroyService=p,this.isShowFormLogin=!1,this.sidebarList=q_,this.pathname="",t.select("menu").pipe((0,Ec.R)(this.destroyService.destroys$)).subscribe(b=>this.player=b.player),t.select("auth").pipe((0,Ec.R)(this.destroyService.destroys$)).subscribe(b=>this.currentUser=b.currentUser)}ngOnInit(){this.router.events.subscribe(t=>{t instanceof Fn.m2&&(this.pathname=t.url)})}setPlayer(){this.player&&this.store.dispatch((0,wu.Sl)())}handleLoginForm(){this.isShowFormLogin=!0}handleClose(){this.isShowFormLogin=!1}handleSignIn(t){var s=this;return(0,ke.Z)(function*(){let a;switch(t){case"google":a=new Lp.Q;break;case"github":a=new Lp.T;break;case"facebook":a=new Lp.N;break;default:throw new Error("Error: no login provider")}yield s.authService.AuthLogin(a),yield s.handleClose()})()}signOut(){var t=this;return(0,ke.Z)(function*(){t.notiflixService.confirm("Logout","Are you sure you want to Logout?",(0,ke.Z)(function*(){yield t.authService.signOut()}))})()}handleShowChildMenu(t,s){s.child&&(t.currentTarget.classList.contains("active")?t.currentTarget.classList.remove("active"):t.currentTarget.classList.add("active"))}}return r.\u0275fac=function(t){return new(t||r)(m.Y36(M.yh),m.Y36(wc.c),m.Y36(Fn.F0),m.Y36(jh),m.Y36(Od))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-sidebar"]],features:[m._Bn([Od])],decls:12,vars:4,consts:[["appClickStopPropagation","",1,"h-full",3,"click"],["routerLink","/home",1,"w-full","px-4","block"],[1,"p-1","rounded-md","bg-blue-500","flex","items-center","justify-center","logo"],[1,"font-semibold","text-white"],[4,"ngIf","ngIfElse"],["button",""],[1,"mt-4","text-[rgba(28,30,32,0.88)]","text-xs"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mt-5","py-2","text-sm","bg-gray-200","w-full","text-gray-600","rounded-sm","flex","px-4","items-center","justify-between"],["routerLink","/profile"],[1,"flex","items-center"],[1,"w-6","h-6","rounded-full","overflow-hidden"],["loading","eager",3,"src","alt"],[1,"text-sm","ml-2","line-clamp-1"],[1,"fa-solid","fa-right-from-bracket","w-4","h-4","cursor-pointer",3,"click"],[1,"mt-5","px-4","py-2","text-sm","bg-gray-200","w-full","text-gray-600",3,"click"],[1,"py-2","pl-4","sidebar-parent",3,"ngClass","click"],[1,"flex","items-center","justify-between",3,"routerLink"],[1,"flex","items-center","font-semibold"],["fontSize","18"],[1,"text-black","font-normal"],[1,"fa-solid","fa-chevron-down","w-5","h-5","mr-4","text-[rgba(28,30,32,0.88)]"],["class","mt-2 sidebar-child","appClickStopPropagation","",4,"ngFor","ngForOf"],["appClickStopPropagation","",1,"mt-2","sidebar-child"],["appClickStopPropagation","",1,"pl-7",3,"ngClass"],[1,"py-2","block",3,"routerLink"],[1,"fixed","inset-0","flex","items-center","justify-center","z-[9999]","bg-opacity-50","bg-black","modalOpacity",3,"click"],["appClickStopPropagation","",1,"w-[400px]","max-w-[calc(100%-32px)]"],[1,"w-[400px]","max-w-full","bg-[#F0F2F5]","p-4","rounded-md","modalFadeIn"],[1,"flex","items-center","justify-between","mb-4"],[1,"font-semibold","text-2xl","text-text-color"],["title","Quay l\u1ea1i trang ch\u1ee7",3,"click"],[1,"fa-solid","fa-arrow-left","w-6","h-6","text-blue-500"],[1,"flex","items-center","text-black","bg-white","p-2","rounded-md","w-full","mb-4",3,"click"],["fontSize","24",1,"fa-brands","fa-google","w-6","h-6","mr-5"],[1,"flex","items-center","text-white","bg-black","p-2","rounded-md","w-full","mb-4",3,"click"],["fontSize","24",1,"fa-brands","fa-github","w-6","h-6","mr-5"],[1,"flex","items-center","text-white","bg-blue-500","p-2","rounded-md","w-full",3,"click"],["fontSize","24",1,"fa-brands","fa-facebook","w-6","h-6","mr-5"]],template:function(t,s){if(1&t&&(m.TgZ(0,"div",0),m.NdJ("click",function(){return s.setPlayer()}),m.TgZ(1,"div")(2,"a",1)(3,"div",2)(4,"h1",3),m._uU(5,"NCA"),m.qZA()()(),m.YNc(6,sy,9,3,"ng-container",4),m.YNc(7,oy,2,0,"ng-template",null,5,m.W1O),m.qZA(),m.TgZ(9,"ul",6),m.YNc(10,IE,9,12,"ng-container",7),m.qZA(),m.YNc(11,DE,22,0,"ng-container",8),m.qZA()),2&t){const a=m.MAs(8);m.xp6(6),m.Q6J("ngIf",s.currentUser)("ngIfElse",a),m.xp6(4),m.Q6J("ngForOf",s.sidebarList),m.xp6(1),m.Q6J("ngIf",s.isShowFormLogin)}},dependencies:[ut.mk,ut.sg,ut.O5,Fn.yS,Y_,Pp],styles:[".logo[_ngcontent-%COMP%]{width:48px;height:25px}.fa-google[_ngcontent-%COMP%]{background:conic-gradient(from -45deg,#ea4335 110deg,#4285f4 90deg 180deg,#34a853 180deg 270deg,#fbbc05 270deg) 73% 55%/150% 150% no-repeat;-webkit-background-clip:text;background-clip:text;color:transparent;-webkit-text-fill-color:transparent}"]}),r})();var uy=C(498),Ju=C(653);const ly=(0,M.PH)("[Music] AddSong",(0,M.Ky)()),cy=(0,M.PH)("[Music] SetSongs",(0,M.Ky)()),dy=(0,M.PH)("[Music] DeleteSong",(0,M.Ky)());var bc=C(6105),CE=C(5766),hy=C(9099);let X_=(()=>{class r{transform(t,...s){try{const a=new Date(0);a.setSeconds(t);const c=a.toISOString().slice(11,19);return c.startsWith("00:0")?c.slice(4):c.startsWith("00")?c.slice(3):8===c.length&&c.startsWith("0")?c.slice(1):c}catch{return"0:00"}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=m.Yjl({name:"formatTime",type:r,pure:!0,standalone:!0}),r})();const xE=["audioRef"],e0=["progressRef"],t0=function(r){return{"song-is-play":r}};function bo(r,e){if(1&r){const t=m.EpF();m.ynx(0),m.TgZ(1,"div",36),m.NdJ("click",function(){const c=m.CHM(t).index,p=m.oxw(2);return m.KtG(p.setCurrentIndex(c))}),m.TgZ(2,"div",37),m._UZ(3,"img",38),m.qZA(),m.TgZ(4,"div",39)(5,"p",40),m._uU(6),m.qZA(),m.TgZ(7,"p",41),m._uU(8),m.qZA()()(),m.BQk()}if(2&r){const t=e.$implicit,s=e.index,a=m.oxw(2);m.xp6(1),m.Q6J("ngClass",m.VKq(5,t0,a.currentIndex===s)),m.xp6(2),m.s9C("src",t.thumbnail||a.imgNotFound,m.LSH),m.s9C("alt",t.title),m.xp6(3),m.Oqu(t.title),m.xp6(2),m.Oqu(t.artistName)}}function Nd(r,e){if(1&r&&(m.ynx(0),m.TgZ(1,"div",33)(2,"h1",34),m._uU(3,"Danh s\xe1ch ph\xe1t"),m.qZA(),m.YNc(4,bo,9,7,"ng-container",35),m.qZA(),m.BQk()),2&r){const t=m.oxw();m.xp6(4),m.Q6J("ngForOf",t.songIds)}}const TE=function(r){return[r]};function SE(r,e){if(1&r&&(m.ynx(0),m.TgZ(1,"a",48),m._uU(2," Xem l\u1eddi b\xe0i h\xe1t "),m.qZA(),m.BQk()),2&r){const t=m.oxw(2);m.xp6(1),m.Q6J("routerLink",m.VKq(1,TE,"/song/"+(null==t.data||null==t.data.song?null:t.data.song.key)))}}function Cb(r,e){if(1&r&&(m.TgZ(0,"div")(1,"div",42)(2,"div",43),m._UZ(3,"img",44),m.qZA(),m.TgZ(4,"div",45)(5,"h1",46),m._uU(6),m.qZA(),m.TgZ(7,"p",47),m._uU(8),m.qZA(),m.YNc(9,SE,3,3,"ng-container",32),m.qZA()()()),2&r){const t=m.oxw();m.xp6(3),m.s9C("src",(null==t.data||null==t.data.song?null:t.data.song.thumbnail)||t.imgNotFound,m.LSH),m.xp6(3),m.Oqu(null==t.data||null==t.data.song?null:t.data.song.title),m.xp6(2),m.hij(" ",t.artist," "),m.xp6(1),m.Q6J("ngIf",(null==t.data||null==t.data.song?null:t.data.song.title)&&t.artist)}}function xb(r,e){1&r&&(m.ynx(0),m._UZ(1,"i",49),m.BQk())}function n0(r,e){1&r&&m._UZ(0,"i",50)}function r0(r,e){1&r&&(m.ynx(0),m._UZ(1,"i",51),m.BQk())}function Hh(r,e){1&r&&m._UZ(0,"i",52)}function AE(r,e){1&r&&(m.ynx(0),m._UZ(1,"i",53),m.BQk())}function fy(r,e){1&r&&m._UZ(0,"i",54)}const ME=function(r,e){return{hidden:r,block:e}};function s0(r,e){if(1&r){const t=m.EpF();m.ynx(0),m.TgZ(1,"div",55),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.onClickSetPlayer())}),m.TgZ(2,"div",56),m._UZ(3,"i",57),m.TgZ(4,"p",58),m._uU(5),m.qZA()()(),m.BQk()}if(2&r){const t=m.oxw();m.xp6(1),m.Q6J("ngClass",m.WLB(2,ME,t.player,!t.player)),m.xp6(4),m.Oqu(null==t.data||null==t.data.song?null:t.data.song.title)}}const kE=function(r){return{active:r}},RE=function(r){return{"h-full":r}};let o0=(()=>{class r{constructor(t,s,a,c,p){this.store=t,this.songService=s,this.destroyService=a,this.notiflixService=c,this.afs=p,this.songIds=[],this.currentIndex=0,this.imgNotFound=uy.qp,this.songs=[],this.isShowListSong=!1,this.isPlaying=!1,this.isFavorite=!1,this.currentTime=0,this.duration=0,this.volume=Number(JSON.parse(localStorage.getItem(bc.vM)))||100,this.volumePrev=0,this.handleSeekTime=b=>{console.log("ch\u1ea1y n\xe8");const N=b.clientX,U=this.progressRef.nativeElement?.getBoundingClientRect().left,J=this.progressRef.nativeElement?.getBoundingClientRect().width,Ee=J+U,Ze=U;if(N>=Ee&&(this.audioRef.nativeElement.currentTime=this.audioRef.nativeElement.duration,this.currentTime=this.audioRef.nativeElement.duration),N<=Ze&&(this.audioRef.nativeElement.currentTime=0,this.currentTime=0),N<=Ee&&N>=Ze){const ft=(N-U)/J;this.audioRef.nativeElement.currentTime=this.audioRef.nativeElement.duration*ft,this.currentTime=this.audioRef.nativeElement.duration*ft}}}ngOnInit(){this.initPlayer(),this.getFavoriteSong()}initPlayer(){this.store.select("music").subscribe(t=>{this.songs=t.songs,this.isFavorite=this.songs?.some(s=>s.key===this.songIds[this.currentIndex].key)}),this.store.select("player").pipe((0,Ec.R)(this.destroyService.destroys$)).subscribe(t=>{this.currentIndex=t.currentIndex,this.songIds=t.songIds,this.songIds=this.songIds.map(s=>({...s,artistName:s.artists.map(a=>a.name).join(", ")})),localStorage.setItem(bc.af,JSON.stringify(this.currentIndex)),localStorage.setItem(bc.I,JSON.stringify(this.songIds)),this.getSong(),this.isFavorite=this.songs?.some(s=>s.key===this.songIds[this.currentIndex].key)}),this.store.select("menu").pipe((0,Ec.R)(this.destroyService.destroys$)).subscribe(t=>this.player=t.player),this.store.select("auth").pipe((0,Ec.R)(this.destroyService.destroys$)).subscribe(t=>this.currentUser=t.currentUser)}getSong(){const t=this.songIds&&this.songIds[this.currentIndex]?.key;this.songIds&&t&&this.songService.getSong(t).subscribe(s=>{this.data=s,this.data||this.audioRef.nativeElement.pause(),this.artist=this.data?.song?.artists?.map(a=>a.name).join(", "),this.checkSong()})}checkSong(){0===this.data?.song?.streamUrls?.length?(this.notiflixService.error("Kh\xf4ng t\xecm th\u1ea5y b\xe0i h\xe1t!"),this.currentIndex!==this.songIds.length-1&&this.store.dispatch((0,Ju.At)({currentIndex:this.currentIndex+1}))):(this.autoPlaySong(),this.addMusicFromLocal())}autoPlaySong(){this.audioRef.nativeElement&&this.songIds&&this.data?.song?.streamUrls&&(this.audioRef.nativeElement.src=this.data?.song?.streamUrls[0]?.streamUrl,this.audioRef.nativeElement.play(),this.audioRef.nativeElement.addEventListener("canplaythrough",()=>{this.duration=this.audioRef.nativeElement.duration}))}addMusicFromLocal(){this.songIds[this.currentIndex]&&this.songIds[this.currentIndex].key&&(0,uy.jE)(this.songIds[this.currentIndex])}onClickSetPlayer(){this.player||this.setPlayer()}setPlayer(){this.store.dispatch((0,wu.Sl)())}setCurrentIndex(t){this.store.dispatch((0,Ju.At)({currentIndex:t}))}handlePrevSong(){this.store.dispatch((0,Ju.At)({currentIndex:this.currentIndex<=0?this.songIds.length-1:this.currentIndex-1}))}handlePlayPause(){this.isPlaying?(this.audioRef.nativeElement.pause(),this.isPlaying=!1):(this.audioRef.nativeElement.play(),this.isPlaying=!0)}handleNextSong(){this.store.dispatch((0,Ju.At)({currentIndex:this.currentIndex>=this.songIds.length-1?0:this.currentIndex+1}))}setVolume(){0===Number(this.volume)?this.volumePrev&&(this.volume=this.volumePrev):(this.volumePrev=this.volume,this.volume=0),this.changeVolume()}changeVolume(){this.audioRef.nativeElement&&(this.audioRef.nativeElement.volume=Number(this.volume)/100,localStorage.setItem(bc.vM,JSON.stringify(this.volume)))}toggleListSong(){this.isShowListSong=!this.isShowListSong}setPlaying(t){this.isPlaying=t}handleAddSongFavorite(){var t=this;return(0,ke.Z)(function*(){if(!t.currentUser)return t.notiflixService.error("C\u1ea7n \u0111\u0103ng nh\u1eadp \u0111\u1ec3 d\xf9ng t\xednh n\u0103ng n\xe0y!");const s=t.songs.find(a=>a.key===t.songIds[t.currentIndex].key);if(s)t.afs.doc(`favorite/${s.key}`).delete().then(()=>t.store.dispatch(dy({song:s})));else try{yield t.afs.doc(`favorite/${t.songIds[t.currentIndex].key}`).set({...t.songIds[t.currentIndex],uid:t.currentUser.uid}),t.store.dispatch(ly({song:{...t.songIds[t.currentIndex],uid:t.currentUser.uid}}))}catch{t.notiflixService.error("Th\xeam b\xe0i h\xe1t v\xe0o danh s\xe1ch y\xeau th\xedch th\u1ea5t b\u1ea1i!")}})()}handleAudioEnded(){this.handleNextSong()}handleAudioUpdate(){this.audioRef.nativeElement&&(this.currentTime=this.audioRef.nativeElement.currentTime)}registerEvent(t){window.addEventListener("mousemove",this.handleSeekTime,!1)}removeMouseMove(t){window.removeEventListener("mousemove",this.handleSeekTime,!1)}getFavoriteSong(){let t=this.afs.collection("favorite").valueChanges();0===this.songs.length&&t.pipe((0,Ec.R)(this.destroyService.destroys$)).subscribe(s=>{s&&this.store.dispatch(cy({newSong:s}))})}ngOnDestroy(){window.removeEventListener("mouseup",()=>{window.removeEventListener("mousemove",this.handleSeekTime,!1)})}}return r.\u0275fac=function(t){return new(t||r)(m.Y36(M.yh),m.Y36(CE.o),m.Y36(Od),m.Y36(wc.c),m.Y36(Z_))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-player"]],viewQuery:function(t,s){if(1&t&&(m.Gf(xE,5),m.Gf(e0,5)),2&t){let a;m.iGM(a=m.CRH())&&(s.audioRef=a.first),m.iGM(a=m.CRH())&&(s.progressRef=a.first)}},hostBindings:function(t,s){1&t&&m.NdJ("mouseup",function(c){return s.removeMouseMove(c)})},features:[m._Bn([Od])],decls:48,vars:29,consts:[["appInnerWidth","",1,"scroll-none","overflow-y-scroll","md:w-[300px]","w-full","max-w-full","border-l","border-r","[rgba(28,30,32,0.05)]","px-4","h-screen","pt-4","fixed","top-0","bottom-0","z-[9998]","bg-white","player-wrapper",3,"ngClass"],["widthDirective","windowWidth"],["appClickStopPropagation","",1,"flex-col","justify-between","h-full","flex"],[1,"bg-[rgba(28,30,32,0.02)]","rounded-md","mb-5","relative",3,"ngClass"],[1,"w-full","flex","justify-center","md:hidden"],["type","button",1,"w-5","h-5","rounded-full","bg-red-500","flex","items-center","justify-center","my-1",3,"click"],[1,"fa-solid","fa-xmark","text-white"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"pb-5"],[1,"flex","items-center","justify-between","relative"],["appClickStopPropagation","",1,"cursor-pointer","volume-icon",3,"click"],["volumeUpIcon",""],["appClickStopPropagation","",1,"volume-control","absolute","left-[-65px]","top-[-75px]","bg-gray-200","flex","items-center","justify-center","p-2","rounded-md","rotate-[-90deg]"],["type","range","name","slider","id","slider",3,"ngModel","ngModelChange"],[1,"bg-[rgba(28,30,32,0.02)]","px-6","py-2","rounded-full","text-xs","text-gray-400",3,"click"],[3,"click"],["heartIcon",""],[1,"mt-8"],[1,"flex","items-center","justify-between","text-gray-400","text-xs","font-normal"],[1,"flex-1","py-2","mx-[10px]","cursor-pointer",3,"click","pointerdown"],["progressRef",""],[1,"w-full","bg-gray-300","h-[3px]","relative"],[1,"absolute","top-0","bottom-0","bg-blue-500"],[1,"flex","items-center","justify-between","mt-5","ml-2","text-[rgba(28,30,32,0.5)]"],[1,"flex","items-center","cursor-pointer"],["fontSize","24",1,"fa-solid","fa-backward-step","w-8","h-8",3,"click"],[1,"flex","items-center","cursor-pointer",3,"click"],["elseButton",""],["fontSize","24",1,"fa-solid","fa-forward-step","w-8","h-8",3,"click"],[3,"play","pause","ended","timeupdate"],["audioRef",""],[4,"ngIf"],[1,"absolute","top-0","w-full","bg-white","h-full","overflow-auto","scroll-none"],[1,"font-semibold","mb-2"],[4,"ngFor","ngForOf"],[1,"my-2","p-2","flex","cursor-pointer",3,"ngClass","click"],[1,"w-10","h-10","rounded-md","overflow-hidden"],[3,"src","alt"],[1,"ml-2","flex-1"],[1,"line-clamp-1","text-sm","mb-1"],[1,"line-clamp-1","text-xs"],[1,"pr-4","pl-4","pb-4"],[1,"w-full","aspect-[1/1]"],["alt","",3,"src"],[1,"mt-5"],[1,"font-semibold","line-clamp-1"],[1,"text-sm","text-gray-400","font-normal","line-clamp-1"],[1,"text-blue-500","text-sm","mt-2",3,"routerLink"],[1,"fa-solid","fa-volume-xmark","lg:w-5","lg:h-5","w-6","h-6","text-gray-500"],[1,"fa-solid","fa-volume-high","lg:w-5","lg:h-5","w-6","h-6","text-gray-500"],[1,"fa-solid","fa-heart","text-red-500","lg:w-5","lg:h-5","w-6","h-6","cursor-pointer"],[1,"fa-regular","fa-heart","lg:w-5","lg:h-5","w-6","h-6","cursor-pointer"],["fontSize","40",1,"fa-solid","fa-pause","w-12","h-14"],["fontSize","40",1,"fa-solid","fa-play","w-12","h-14"],[1,"fixed","right-0","bottom-0","bg-white","p-2","rounded-md","mb-14","mr-5","shadow-md","lg:hidden","z-[99999]","cursor-pointer",3,"ngClass","click"],[1,"flex","items-center","font-semibold","text-sm"],[1,"fa-solid","fa-music","w-5","text-pink-500"],[1,"line-clamp-1"]],template:function(t,s){if(1&t&&(m.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),m.NdJ("click",function(){return s.setPlayer()}),m._UZ(6,"i",6),m.qZA()(),m.YNc(7,Nd,5,1,"ng-container",7),m.YNc(8,Cb,10,4,"ng-template",null,8,m.W1O),m.qZA(),m.TgZ(10,"div",9)(11,"div",10)(12,"div",11),m.NdJ("click",function(){return s.setVolume()}),m.YNc(13,xb,2,0,"ng-container",7),m.YNc(14,n0,1,0,"ng-template",null,12,m.W1O),m.TgZ(16,"div",13)(17,"input",14),m.NdJ("ngModelChange",function(){return s.changeVolume()})("ngModelChange",function(c){return s.volume=c}),m.qZA()()(),m.TgZ(18,"button",15),m.NdJ("click",function(){return s.toggleListSong()}),m._uU(19),m.qZA(),m.TgZ(20,"button",16),m.NdJ("click",function(){return s.handleAddSongFavorite()}),m.YNc(21,r0,2,0,"ng-container",7),m.YNc(22,Hh,1,0,"ng-template",null,17,m.W1O),m.qZA()(),m.TgZ(24,"div",18)(25,"div",19)(26,"p"),m._uU(27),m.ALo(28,"formatTime"),m.qZA(),m.TgZ(29,"div",20,21),m.NdJ("click",function(c){return s.handleSeekTime(c)})("pointerdown",function(c){return s.registerEvent(c)}),m.TgZ(31,"div",22),m._UZ(32,"p",23),m.qZA()(),m.TgZ(33,"p"),m._uU(34),m.ALo(35,"formatTime"),m.qZA()(),m.TgZ(36,"div",24)(37,"div",25)(38,"i",26),m.NdJ("click",function(){return s.handlePrevSong()}),m.qZA()(),m.TgZ(39,"div",27),m.NdJ("click",function(){return s.handlePlayPause()}),m.YNc(40,AE,2,0,"ng-container",7),m.YNc(41,fy,1,0,"ng-template",null,28,m.W1O),m.qZA(),m.TgZ(43,"div",25)(44,"i",29),m.NdJ("click",function(){return s.handleNextSong()}),m.qZA()()()()(),m.TgZ(45,"audio",30,31),m.NdJ("play",function(){return s.setPlaying(!0)})("pause",function(){return s.setPlaying(!1)})("ended",function(){return s.handleAudioEnded()})("timeupdate",function(){return s.handleAudioUpdate()}),m.qZA(),m.YNc(47,s0,6,5,"ng-container",32),m.qZA()()),2&t){const a=m.MAs(1),c=m.MAs(9),p=m.MAs(15),b=m.MAs(23),N=m.MAs(42),U=m.MAs(46);m.Q6J("ngClass",m.VKq(25,kE,a.isPC||s.player)),m.xp6(3),m.Q6J("ngClass",m.VKq(27,RE,s.isShowListSong)),m.xp6(4),m.Q6J("ngIf",s.isShowListSong)("ngIfElse",c),m.xp6(6),m.Q6J("ngIf",0===s.volume)("ngIfElse",p),m.xp6(4),m.Q6J("ngModel",s.volume),m.xp6(2),m.hij(" ",s.isShowListSong?"T\u1eaft Danh S\xe1ch Ph\xe1t":"M\u1edf Danh S\xe1ch Ph\xe1t"," "),m.xp6(2),m.Q6J("ngIf",s.isFavorite)("ngIfElse",b),m.xp6(5),m.Udp("user-select","none"),m.xp6(1),m.Oqu(m.lcZ(28,21,s.currentTime)),m.xp6(5),m.Udp("width",(100*s.currentTime/(null==U?null:U.duration)||0)+"%"),m.xp6(1),m.Udp("user-select","none"),m.xp6(1),m.Oqu(m.lcZ(35,23,s.duration)),m.xp6(6),m.Q6J("ngIf",s.isPlaying)("ngIfElse",N),m.xp6(7),m.Q6J("ngIf",s.data)}},dependencies:[ut.mk,ut.sg,ut.O5,Fn.yS,Y.Fj,Y.eT,Y.JJ,Y.On,hy.n,Y_,Pp,X_],styles:[".player-wrapper[_ngcontent-%COMP%]{right:-100%;transition:all linear .3s}.player-wrapper.active[_ngcontent-%COMP%]{right:0}"]}),r})();const $h=(0,M.PH)("[FirebaseAuth] SetUser",(0,M.Ky)());function a0(r,e){if(1&r){const t=m.EpF();m.ynx(0),m.TgZ(1,"div",9),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.setMenu())}),m.qZA(),m.BQk()}}const u0=function(r){return{active:r}},Vp=function(r,e){return{pc:r,tablet:e}};let Up=(()=>{class r{constructor(t,s,a){this.store=t,this.afAuth=s,this.destroyService=a,t.select("menu").pipe((0,Ec.R)(this.destroyService.destroys$)).subscribe(c=>this.menu=c.menu)}ngOnInit(){this.afAuth.user.subscribe(t=>{if(t){let s=JSON.parse(JSON.stringify(t));this.store.dispatch($h({payload:s}))}else this.store.dispatch($h({payload:null}))})}setMenu(){this.store.dispatch((0,wu.K0)())}setPlayer(){this.store.dispatch((0,wu.Sl)())}close(){this.store.dispatch((0,wu.xv)())}}return r.\u0275fac=function(t){return new(t||r)(m.Y36(M.yh),m.Y36(is),m.Y36(Od))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-default-layout"]],features:[m._Bn([Od])],decls:14,vars:8,consts:[[1,"flex","w-full","overflow-auto"],[1,"w-[200px]","max-w-full","z-[9999]","h-screen","pt-6","border-r","border-[rgba(28,30,32,0.05)]","fixed","top-0","bottom-0","left-0","bg-white","sidebar-wrapper",3,"ngClass"],[4,"ngIf"],["appInnerWidth","",1,"relative","content-wrapper",3,"ngClass"],["widthDirective","windowWidth"],["appClickStopPropagation","",1,"px-4","py-3","shadow-md","w-full","flex","items-center","fixed","top-0","z-[999]","justify-between","lg:hidden","bg-white"],["fontSize","32",1,"fa-solid","fa-bars","w-8","h-8","md:hidden","block",3,"click"],["fontSize","32",1,"fa-solid","fa-play","w-8","h-8",3,"click"],[1,"min-h-screen","py-6","lg:mt-0","mt-[60px]"],[1,"fixed","inset-0","bg-black","opacity-50","z-[9998]","transition-opacity",3,"click"]],template:function(t,s){if(1&t&&(m.TgZ(0,"div")(1,"div",0)(2,"div",1),m._UZ(3,"app-sidebar"),m.qZA(),m.YNc(4,a0,2,0,"ng-container",2),m.TgZ(5,"div",3,4)(7,"div",5)(8,"i",6),m.NdJ("click",function(){return s.setMenu()}),m.qZA(),m.TgZ(9,"i",7),m.NdJ("click",function(){return s.setPlayer()}),m.qZA()(),m.TgZ(10,"div",8),m._UZ(11,"router-outlet"),m.qZA(),m._UZ(12,"app-footer"),m.qZA()()(),m._UZ(13,"app-player")),2&t){const a=m.MAs(6);m.xp6(2),m.Q6J("ngClass",m.VKq(3,u0,a.isTablet||s.menu)),m.xp6(2),m.Q6J("ngIf",s.menu),m.xp6(1),m.Q6J("ngClass",m.WLB(5,Vp,a.isPC,!a.isPC&&a.isTablet))}},dependencies:[ut.mk,ut.O5,Fn.lC,hy.n,Y_,Pp,iy,J_,o0],styles:[".sidebar-wrapper[_ngcontent-%COMP%]{left:-200px;transition:all linear .3s}.sidebar-wrapper.active[_ngcontent-%COMP%]{left:0}.content-wrapper[_ngcontent-%COMP%]{width:100%;margin-left:0;margin-right:0}.content-wrapper.pc[_ngcontent-%COMP%]{width:calc(100% - 500px);margin-right:300px;margin-left:200px}.content-wrapper.tablet[_ngcontent-%COMP%]{width:calc(100% - 200px);margin-left:200px}"]}),r})();const Tb=[{path:"**",redirectTo:"home",pathMatch:"full"},{path:"",component:Up,data:{title:"NCT-Cloned"},children:[{path:"home",loadComponent:()=>Promise.all([C.e(820),C.e(592),C.e(237)]).then(C.bind(C,237)).then(r=>r.HomeComponent)},{path:"playlist",loadChildren:()=>Promise.all([C.e(574),C.e(677)]).then(C.bind(C,6677)).then(r=>r.PlaylistModule)},{path:"song",loadChildren:()=>Promise.all([C.e(574),C.e(791)]).then(C.bind(C,3791)).then(r=>r.SongModule)},{path:"video",loadChildren:()=>Promise.all([C.e(574),C.e(456)]).then(C.bind(C,8456)).then(r=>r.VideoModule)},{path:"artist",loadChildren:()=>Promise.all([C.e(820),C.e(592),C.e(861)]).then(C.bind(C,4861)).then(r=>r.ArtistModule)},{path:"topics",loadChildren:()=>Promise.all([C.e(592),C.e(81)]).then(C.bind(C,9081)).then(r=>r.TopicsModule)},{path:"bxh",loadComponent:()=>C.e(94).then(C.bind(C,9094)).then(r=>r.ChartComponent)},{path:"profile",canActivate:[EE],loadComponent:()=>C.e(939).then(C.bind(C,9939)).then(r=>r.ProfileComponent)},{path:"history",loadComponent:()=>C.e(529).then(C.bind(C,6798)).then(r=>r.HistoryComponent)},{path:"search",loadChildren:()=>Promise.all([C.e(820),C.e(592),C.e(408)]).then(C.bind(C,6408)).then(r=>r.SearchModule)},{path:"error",loadComponent:()=>C.e(380).then(C.bind(C,5380)).then(r=>r.ErrorComponent)}]}];let l0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({imports:[Fn.Bz.forRoot(Tb),Fn.Bz]}),r})(),OE=(()=>{class r{constructor(t,s){this.router=t,this.notiflixService=s}ngOnInit(){this.notiflixService.init({loadingSvgUrl:"assets/loading.svg",loadingType:"custom",okButton:"Okie"}),this.router.events.subscribe(t=>{this.navigationInterceptor(t),t instanceof Fn.m2&&window.scrollTo(0,0)})}navigationInterceptor(t){t instanceof Fn.OD&&this.notiflixService.showLoading(),(t instanceof Fn.m2||t instanceof Fn.gk||t instanceof Fn.Q3)&&this.notiflixService.hideLoading(),t instanceof Fn.Q3&&this.router.navigate(["/error"])}}return r.\u0275fac=function(t){return new(t||r)(m.Y36(Fn.F0),m.Y36(wc.c))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(t,s){1&t&&m._UZ(0,"router-outlet")},dependencies:[Fn.lC]}),r})();var Bp=C(2340);const NE=(0,M.Lq)({player:!1,menu:!1},(0,M.on)(wu.K0,r=>r.player?{menu:!r.menu,player:!1}:{...r,menu:!r.menu}),(0,M.on)(wu.Sl,r=>r.menu?{menu:!1,player:!r.player}:{...r,player:!r.player}),(0,M.on)(wu.xv,r=>({menu:!1,player:!1}))),py=(0,M.Lq)({currentUser:null},(0,M.on)($h,(r,{payload:e})=>({...r,currentUser:e}))),PE=(0,M.Lq)({songs:[]},(0,M.on)(ly,(r,{song:e})=>({songs:[...r.songs,e]})),(0,M.on)(cy,(r,{newSong:e})=>({songs:e})),(0,M.on)(dy,(r,{song:e})=>({songs:r.songs.filter(t=>t.key!==e.key)}))),Ab={songIds:JSON.parse(localStorage.getItem(bc.I))||[],currentIndex:JSON.parse(localStorage.getItem(bc.af))||0},LE=(0,M.Lq)(Ab,(0,M.on)(Ju.aV,(r,{songIds:e})=>({...r,songIds:e})),(0,M.on)(Ju.At,(r,{currentIndex:e})=>({...r,currentIndex:e})),(0,M.on)(Ju.QN,(r,{currentIndex:e,songIds:t})=>({...r,currentIndex:e,songIds:t})));let FE=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=m.oAB({type:r,bootstrap:[OE]}),r.\u0275inj=m.cJS({imports:[G.JF,f.b2,l0,Y.u5,M.Aw.forRoot({menu:NE,auth:py,music:PE,player:LE}),So.FT.instrument({maxAge:25,logOnly:Bp.N.production,autoPause:!0}),ee.hO.initializeApp(Bp.N.firebaseConfig),Wo]}),r})();Bp.N.production&&(0,m.G48)(),f.q6().bootstrapModule(FE).catch(r=>console.error(r))},5867:(Ie,ae,C)=>{"use strict";C.d(ae,{C6:()=>f.getApps,Mq:()=>f.getApp});var f=C(9681);(0,f.registerVersion)("firebase","9.14.0","app")},127:(Ie,ae,C)=>{"use strict";C.d(ae,{Z:()=>f.Z});var f=C(3942);f.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(Ie,ae,C)=>{"use strict";C.r(ae);var f=C(5861),m=C(3942),M=C(8247),Y=C(2090),Q=(C(9681),C(1877),C(4859));function oe(){return window}function ne(){return(ne=(0,f.Z)(function*(pe,H,re){var Be;const{BuildInfo:_t}=oe();(0,M.ap)(H.sessionId,"AuthEvent did not contain a session ID");const Pt=yield Me(H.sessionId),jt={};return(0,M.aq)()?jt.ibi=_t.packageName:(0,M.ar)()?jt.apn=_t.packageName:(0,M.as)(pe,"operation-not-supported-in-this-environment"),_t.displayName&&(jt.appDisplayName=_t.displayName),jt.sessionId=Pt,(0,M.at)(pe,re,H.type,void 0,null!==(Be=H.eventId)&&void 0!==Be?Be:void 0,jt)})).apply(this,arguments)}function Ke(){return(Ke=(0,f.Z)(function*(pe){const{BuildInfo:H}=oe(),re={};(0,M.aq)()?re.iosBundleId=H.packageName:(0,M.ar)()?re.androidPackageName=H.packageName:(0,M.as)(pe,"operation-not-supported-in-this-environment"),yield(0,M.au)(pe,re)})).apply(this,arguments)}function vt(){return(vt=(0,f.Z)(function*(pe,H,re){const{cordova:Be}=oe();let _t=()=>{};try{yield new Promise((Pt,jt)=>{let he=null;function te(){var et;Pt();const Yt=null===(et=Be.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof Yt&&Yt(),"function"==typeof re?.close&&re.close()}function ie(){he||(he=window.setTimeout(()=>{jt((0,M.aw)(pe,"redirect-cancelled-by-user"))},2e3))}function je(){"visible"===document?.visibilityState&&ie()}H.addPassiveListener(te),document.addEventListener("resume",ie,!1),(0,M.ar)()&&document.addEventListener("visibilitychange",je,!1),_t=()=>{H.removePassiveListener(te),document.removeEventListener("resume",ie,!1),document.removeEventListener("visibilitychange",je,!1),he&&window.clearTimeout(he)}})}finally{_t()}})).apply(this,arguments)}function Me(pe){return bt.apply(this,arguments)}function bt(){return(bt=(0,f.Z)(function*(pe){const H=mt(pe),re=yield crypto.subtle.digest("SHA-256",H);return Array.from(new Uint8Array(re)).map(_t=>_t.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function mt(pe){if((0,M.ap)(/[0-9a-zA-Z]+/.test(pe),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(pe);const H=new ArrayBuffer(pe.length),re=new Uint8Array(H);for(let Be=0;Be<pe.length;Be++)re[Be]=pe.charCodeAt(Be);return re}class it extends M.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(H=>{this.resolveInialized=H})}addPassiveListener(H){this.passiveListeners.add(H)}removePassiveListener(H){this.passiveListeners.delete(H)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(H){return this.resolveInialized(),this.passiveListeners.forEach(re=>re(H)),super.onEvent(H)}initialized(){var H=this;return(0,f.Z)(function*(){yield H.initPromise})()}}function Ce(pe){return $e.apply(this,arguments)}function $e(){return($e=(0,f.Z)(function*(pe){const H=yield Ae()._get(Re(pe));return H&&(yield Ae()._remove(Re(pe))),H})).apply(this,arguments)}function xe(){const pe=[],H="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let re=0;re<20;re++){const Be=Math.floor(Math.random()*H.length);pe.push(H.charAt(Be))}return pe.join("")}function Ae(){return(0,M.az)(M.b)}function Re(pe){return(0,M.aA)("authEvent",pe.config.apiKey,pe.name)}function Dt(pe){if(!pe?.includes("?"))return{};const[H,...re]=pe.split("?");return(0,Y.zd)(re.join("?"))}function kt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,M.aw)("no-auth-event")}}function Sn(){var pe;return(null===(pe=self?.location)||void 0===pe?void 0:pe.protocol)||null}function er(pe=(0,Y.z$)()){return!("file:"!==Sn()&&"ionic:"!==Sn()&&"capacitor:"!==Sn()||!pe.toLowerCase().match(/iphone|ipad|ipod|android/))}function rr(){try{const pe=self.localStorage,H=M.aI();if(pe)return pe.setItem(H,"1"),pe.removeItem(H),!function dr(pe=(0,Y.z$)()){return function dn(){return(0,Y.w1)()&&11===document?.documentMode}()||function Rn(pe=(0,Y.z$)()){return/Edge\/\d+/.test(pe)}(pe)}()||(0,Y.hl)()}catch{return Kt()&&(0,Y.hl)()}return!1}function Kt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ve(){return(function ke(){return"http:"===Sn()||"https:"===Sn()}()||(0,Y.ru)()||er())&&!function qn(){return(0,Y.b$)()||(0,Y.UG)()}()&&rr()&&!Kt()}function Oe(){return er()&&typeof document<"u"}function ot(){return(ot=(0,f.Z)(function*(){return!!Oe()&&new Promise(pe=>{const H=setTimeout(()=>{pe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(H),pe(!0)})})})).apply(this,arguments)}const Ut={LOCAL:"local",NONE:"none",SESSION:"session"},Bt=M.ax,Tt="persistence";function Gt(pe){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,f.Z)(function*(pe){yield pe._initializationPromise;const H=se(),re=M.aA(Tt,pe.config.apiKey,pe.name);H&&H.setItem(re,pe._getPersistence())})).apply(this,arguments)}function se(){var pe;try{return(null===(pe=function Zt(){return typeof window<"u"?window:null}())||void 0===pe?void 0:pe.sessionStorage)||null}catch{return null}}const ze=M.ax;class Pe{constructor(){this.browserResolver=M.az(M.k),this.cordovaResolver=M.az(class hn{constructor(){this._redirectPersistence=M.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=M.aB,this._overrideRedirectResult=M.aC}_initialize(H){var re=this;return(0,f.Z)(function*(){const Be=H._key();let _t=re.eventManagers.get(Be);return _t||(_t=new it(H),re.eventManagers.set(Be,_t),re.attachCallbackListeners(H,_t)),_t})()}_openPopup(H){(0,M.as)(H,"operation-not-supported-in-this-environment")}_openRedirect(H,re,Be,_t){var Pt=this;return(0,f.Z)(function*(){!function Je(pe){var H,re,Be,_t,Pt,jt,he,te,ie,je;const et=oe();(0,M.ax)("function"==typeof(null===(H=et?.universalLinks)||void 0===H?void 0:H.subscribe),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,M.ax)(typeof(null===(re=et?.BuildInfo)||void 0===re?void 0:re.packageName)<"u",pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,M.ax)("function"==typeof(null===(Pt=null===(_t=null===(Be=et?.cordova)||void 0===Be?void 0:Be.plugins)||void 0===_t?void 0:_t.browsertab)||void 0===Pt?void 0:Pt.openUrl),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.ax)("function"==typeof(null===(te=null===(he=null===(jt=et?.cordova)||void 0===jt?void 0:jt.plugins)||void 0===he?void 0:he.browsertab)||void 0===te?void 0:te.isAvailable),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.ax)("function"==typeof(null===(je=null===(ie=et?.cordova)||void 0===ie?void 0:ie.InAppBrowser)||void 0===je?void 0:je.open),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(H);const jt=yield Pt._initialize(H);yield jt.initialized(),jt.resetRedirect(),(0,M.aD)(),yield Pt._originValidation(H);const he=function We(pe,H,re=null){return{type:H,eventId:re,urlResponse:null,sessionId:xe(),postBody:null,tenantId:pe.tenantId,error:(0,M.aw)(pe,"no-auth-event")}}(H,Be,_t);yield function ut(pe,H){return Ae()._set(Re(pe),H)}(H,he);const te=yield function X(pe,H,re){return ne.apply(this,arguments)}(H,he,re),ie=yield function Ue(pe){const{cordova:H}=oe();return new Promise(re=>{H.plugins.browsertab.isAvailable(Be=>{let _t=null;Be?H.plugins.browsertab.openUrl(pe):_t=H.InAppBrowser.open(pe,(0,M.av)()?"_blank":"_system","location=yes"),re(_t)})})}(te);return function Ge(pe,H,re){return vt.apply(this,arguments)}(H,jt,ie)})()}_isIframeWebStorageSupported(H,re){throw new Error("Method not implemented.")}_originValidation(H){const re=H._key();return this.originValidationPromises[re]||(this.originValidationPromises[re]=function de(pe){return Ke.apply(this,arguments)}(H)),this.originValidationPromises[re]}attachCallbackListeners(H,re){const{universalLinks:Be,handleOpenURL:_t,BuildInfo:Pt}=oe(),jt=setTimeout((0,f.Z)(function*(){yield Ce(H),re.onEvent(kt())}),500),he=function(){var je=(0,f.Z)(function*(et){clearTimeout(jt);const Yt=yield Ce(H);let En=null;Yt&&et?.url&&(En=function Qe(pe,H){var re,Be;const _t=function wt(pe){const H=Dt(pe),re=H.link?decodeURIComponent(H.link):void 0,Be=Dt(re).link,_t=H.deep_link_id?decodeURIComponent(H.deep_link_id):void 0;return Dt(_t).link||_t||Be||re||pe}(H);if(_t.includes("/__/auth/callback")){const Pt=Dt(_t),jt=Pt.firebaseError?function Ve(pe){try{return JSON.parse(pe)}catch{return null}}(decodeURIComponent(Pt.firebaseError)):null,he=null===(Be=null===(re=jt?.code)||void 0===re?void 0:re.split("auth/"))||void 0===Be?void 0:Be[1],te=he?(0,M.aw)(he):null;return te?{type:pe.type,eventId:pe.eventId,tenantId:pe.tenantId,error:te,urlResponse:null,sessionId:null,postBody:null}:{type:pe.type,eventId:pe.eventId,tenantId:pe.tenantId,sessionId:pe.sessionId,urlResponse:_t,postBody:null}}return null}(Yt,et.url)),re.onEvent(En||kt())});return function(Yt){return je.apply(this,arguments)}}();typeof Be<"u"&&"function"==typeof Be.subscribe&&Be.subscribe(null,he);const te=_t,ie=`${Pt.packageName.toLowerCase()}://`;oe().handleOpenURL=function(){var je=(0,f.Z)(function*(et){if(et.toLowerCase().startsWith(ie)&&he({url:et}),"function"==typeof te)try{te(et)}catch(Yt){console.error(Yt)}});return function(et){return je.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=M.a,this._completeRedirectFn=M.aB,this._overrideRedirectResult=M.aC}_initialize(H){var re=this;return(0,f.Z)(function*(){return yield re.selectUnderlyingResolver(),re.assertedUnderlyingResolver._initialize(H)})()}_openPopup(H,re,Be,_t){var Pt=this;return(0,f.Z)(function*(){return yield Pt.selectUnderlyingResolver(),Pt.assertedUnderlyingResolver._openPopup(H,re,Be,_t)})()}_openRedirect(H,re,Be,_t){var Pt=this;return(0,f.Z)(function*(){return yield Pt.selectUnderlyingResolver(),Pt.assertedUnderlyingResolver._openRedirect(H,re,Be,_t)})()}_isIframeWebStorageSupported(H,re){this.assertedUnderlyingResolver._isIframeWebStorageSupported(H,re)}_originValidation(H){return this.assertedUnderlyingResolver._originValidation(H)}get _shouldInitProactively(){return Oe()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ze(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var H=this;return(0,f.Z)(function*(){if(H.underlyingResolver)return;const re=yield function qe(){return ot.apply(this,arguments)}();H.underlyingResolver=re?H.cordovaResolver:H.browserResolver})()}}function Vt(pe){return pe.unwrap()}function gn(pe){return yn(pe)}function yn(pe){const{_tokenResponse:H}=pe instanceof Y.ZR?pe.customData:pe;if(!H)return null;if(!(pe instanceof Y.ZR)&&"temporaryProof"in H&&"phoneNumber"in H)return M.P.credentialFromResult(pe);const re=H.providerId;if(!re||re===M.o.PASSWORD)return null;let Be;switch(re){case M.o.GOOGLE:Be=M.Q;break;case M.o.FACEBOOK:Be=M.N;break;case M.o.GITHUB:Be=M.T;break;case M.o.TWITTER:Be=M.W;break;default:const{oauthIdToken:_t,oauthAccessToken:Pt,oauthTokenSecret:jt,pendingToken:he,nonce:te}=H;return Pt||jt||_t||he?he?re.startsWith("saml.")?M.aL._create(re,he):M.J._fromParams({providerId:re,signInMethod:re,pendingToken:he,idToken:_t,accessToken:Pt}):new M.U(re).credential({idToken:_t,accessToken:Pt,rawNonce:te}):null}return pe instanceof Y.ZR?Be.credentialFromError(pe):Be.credentialFromResult(pe)}function Jt(pe,H){return H.catch(re=>{throw re instanceof Y.ZR&&function xt(pe,H){var re,Be;const _t=null===(re=H.customData)||void 0===re?void 0:re._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Be=H)||void 0===Be?void 0:Be.code))H.resolver=new Ft(pe,M.an(pe,H));else if(_t){const Pt=yn(H),jt=H;Pt&&(jt.credential=Pt,jt.tenantId=_t.tenantId||void 0,jt.email=_t.email||void 0,jt.phoneNumber=_t.phoneNumber||void 0)}}(pe,re),re}).then(re=>{const _t=re.user;return{operationType:re.operationType,credential:gn(re),additionalUserInfo:M.al(re),user:At.getOrCreate(_t)}})}function xn(pe,H){return ln.apply(this,arguments)}function ln(){return(ln=(0,f.Z)(function*(pe,H){const re=yield H;return{verificationId:re.verificationId,confirm:Be=>Jt(pe,re.confirm(Be))}})).apply(this,arguments)}class Ft{constructor(H,re){this.resolver=re,this.auth=function Rt(pe){return pe.wrapped()}(H)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(H){return Jt(Vt(this.auth),this.resolver.resolveSignIn(H))}}class At{constructor(H){this._delegate=H,this.multiFactor=M.ao(H)}static getOrCreate(H){return At.USER_MAP.has(H)||At.USER_MAP.set(H,new At(H)),At.USER_MAP.get(H)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(H){return this._delegate.getIdTokenResult(H)}getIdToken(H){return this._delegate.getIdToken(H)}linkAndRetrieveDataWithCredential(H){return this.linkWithCredential(H)}linkWithCredential(H){var re=this;return(0,f.Z)(function*(){return Jt(re.auth,M.Z(re._delegate,H))})()}linkWithPhoneNumber(H,re){var Be=this;return(0,f.Z)(function*(){return xn(Be.auth,M.l(Be._delegate,H,re))})()}linkWithPopup(H){var re=this;return(0,f.Z)(function*(){return Jt(re.auth,M.d(re._delegate,H,Pe))})()}linkWithRedirect(H){var re=this;return(0,f.Z)(function*(){return yield Gt(M.aE(re.auth)),M.g(re._delegate,H,Pe)})()}reauthenticateAndRetrieveDataWithCredential(H){return this.reauthenticateWithCredential(H)}reauthenticateWithCredential(H){var re=this;return(0,f.Z)(function*(){return Jt(re.auth,M._(re._delegate,H))})()}reauthenticateWithPhoneNumber(H,re){return xn(this.auth,M.r(this._delegate,H,re))}reauthenticateWithPopup(H){return Jt(this.auth,M.e(this._delegate,H,Pe))}reauthenticateWithRedirect(H){var re=this;return(0,f.Z)(function*(){return yield Gt(M.aE(re.auth)),M.h(re._delegate,H,Pe)})()}sendEmailVerification(H){return M.ab(this._delegate,H)}unlink(H){var re=this;return(0,f.Z)(function*(){return yield M.ak(re._delegate,H),re})()}updateEmail(H){return M.ag(this._delegate,H)}updatePassword(H){return M.ah(this._delegate,H)}updatePhoneNumber(H){return M.u(this._delegate,H)}updateProfile(H){return M.af(this._delegate,H)}verifyBeforeUpdateEmail(H,re){return M.ac(this._delegate,H,re)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}At.USER_MAP=new WeakMap;const Nt=M.ax;let gt=(()=>{class pe{constructor(re,Be){if(this.app=re,Be.isInitialized())return this._delegate=Be.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_t}=re.options;Nt(_t,"invalid-api-key",{appName:re.name}),Nt(_t,"invalid-api-key",{appName:re.name});const Pt=typeof window<"u"?Pe:void 0;this._delegate=Be.initialize({options:{persistence:on(_t,re.name),popupRedirectResolver:Pt}}),this._delegate._updateErrorMap(M.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?At.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(re){this._delegate.languageCode=re}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(re){this._delegate.tenantId=re}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(re,Be){M.G(this._delegate,re,Be)}applyActionCode(re){return M.a2(this._delegate,re)}checkActionCode(re){return M.a3(this._delegate,re)}confirmPasswordReset(re,Be){return M.a1(this._delegate,re,Be)}createUserWithEmailAndPassword(re,Be){var _t=this;return(0,f.Z)(function*(){return Jt(_t._delegate,M.a5(_t._delegate,re,Be))})()}fetchProvidersForEmail(re){return this.fetchSignInMethodsForEmail(re)}fetchSignInMethodsForEmail(re){return M.aa(this._delegate,re)}isSignInWithEmailLink(re){return M.a8(this._delegate,re)}getRedirectResult(){var re=this;return(0,f.Z)(function*(){Nt(ve(),re._delegate,"operation-not-supported-in-this-environment");const Be=yield M.j(re._delegate,Pe);return Be?Jt(re._delegate,Promise.resolve(Be)):{credential:null,user:null}})()}addFrameworkForLogging(re){!function pn(pe,H){(0,M.aE)(pe)._logFramework(H)}(this._delegate,re)}onAuthStateChanged(re,Be,_t){const{next:Pt,error:jt,complete:he}=St(re,Be,_t);return this._delegate.onAuthStateChanged(Pt,jt,he)}onIdTokenChanged(re,Be,_t){const{next:Pt,error:jt,complete:he}=St(re,Be,_t);return this._delegate.onIdTokenChanged(Pt,jt,he)}sendSignInLinkToEmail(re,Be){return M.a7(this._delegate,re,Be)}sendPasswordResetEmail(re,Be){return M.a0(this._delegate,re,Be||void 0)}setPersistence(re){var Be=this;return(0,f.Z)(function*(){let _t;switch(function bn(pe,H){Bt(Object.values(Ut).includes(H),pe,"invalid-persistence-type"),(0,Y.b$)()?Bt(H!==Ut.SESSION,pe,"unsupported-persistence-type"):(0,Y.UG)()?Bt(H===Ut.NONE,pe,"unsupported-persistence-type"):Kt()?Bt(H===Ut.NONE||H===Ut.LOCAL&&(0,Y.hl)(),pe,"unsupported-persistence-type"):Bt(H===Ut.NONE||rr(),pe,"unsupported-persistence-type")}(Be._delegate,re),re){case Ut.SESSION:_t=M.a;break;case Ut.LOCAL:_t=(yield M.az(M.i)._isAvailable())?M.i:M.b;break;case Ut.NONE:_t=M.L;break;default:return M.as("argument-error",{appName:Be._delegate.name})}return Be._delegate.setPersistence(_t)})()}signInAndRetrieveDataWithCredential(re){return this.signInWithCredential(re)}signInAnonymously(){return Jt(this._delegate,M.X(this._delegate))}signInWithCredential(re){return Jt(this._delegate,M.Y(this._delegate,re))}signInWithCustomToken(re){return Jt(this._delegate,M.$(this._delegate,re))}signInWithEmailAndPassword(re,Be){return Jt(this._delegate,M.a6(this._delegate,re,Be))}signInWithEmailLink(re,Be){return Jt(this._delegate,M.a9(this._delegate,re,Be))}signInWithPhoneNumber(re,Be){return xn(this._delegate,M.s(this._delegate,re,Be))}signInWithPopup(re){var Be=this;return(0,f.Z)(function*(){return Nt(ve(),Be._delegate,"operation-not-supported-in-this-environment"),Jt(Be._delegate,M.c(Be._delegate,re,Pe))})()}signInWithRedirect(re){var Be=this;return(0,f.Z)(function*(){return Nt(ve(),Be._delegate,"operation-not-supported-in-this-environment"),yield Gt(Be._delegate),M.f(Be._delegate,re,Pe)})()}updateCurrentUser(re){return this._delegate.updateCurrentUser(re)}verifyPasswordResetCode(re){return M.a4(this._delegate,re)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return pe.Persistence=Ut,pe})();function St(pe,H,re){let Be=pe;"function"!=typeof pe&&({next:Be,error:H,complete:re}=pe);const _t=Be;return{next:jt=>_t(jt&&At.getOrCreate(jt)),error:H,complete:re}}function on(pe,H){const re=function me(pe,H){const re=se();if(!re)return[];const Be=M.aA(Tt,pe,H);switch(re.getItem(Be)){case Ut.NONE:return[M.L];case Ut.LOCAL:return[M.i,M.a];case Ut.SESSION:return[M.a];default:return[]}}(pe,H);if(typeof self<"u"&&!re.includes(M.i)&&re.push(M.i),typeof window<"u")for(const Be of[M.b,M.a])re.includes(Be)||re.push(Be);return re.includes(M.L)||re.push(M.L),re}class un{constructor(){this.providerId="phone",this._delegate=new M.P(Vt(m.Z.auth()))}static credential(H,re){return M.P.credential(H,re)}verifyPhoneNumber(H,re){return this._delegate.verifyPhoneNumber(H,re)}unwrap(){return this._delegate}}un.PHONE_SIGN_IN_METHOD=M.P.PHONE_SIGN_IN_METHOD,un.PROVIDER_ID=M.P.PROVIDER_ID;const wn=M.ax;class be{constructor(H,re,Be=m.Z.app()){var _t;wn(null===(_t=Be.options)||void 0===_t?void 0:_t.apiKey,"invalid-api-key",{appName:Be.name}),this._delegate=new M.R(H,re,Be.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function De(pe){pe.INTERNAL.registerComponent(new Q.wA("auth-compat",H=>{const re=H.getProvider("app-compat").getImmediate(),Be=H.getProvider("auth");return new gt(re,Be)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:M.A.EMAIL_SIGNIN,PASSWORD_RESET:M.A.PASSWORD_RESET,RECOVER_EMAIL:M.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:M.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:M.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:M.A.VERIFY_EMAIL}},EmailAuthProvider:M.M,FacebookAuthProvider:M.N,GithubAuthProvider:M.T,GoogleAuthProvider:M.Q,OAuthProvider:M.U,SAMLAuthProvider:M.V,PhoneAuthProvider:un,PhoneMultiFactorGenerator:M.m,RecaptchaVerifier:be,TwitterAuthProvider:M.W,Auth:gt,AuthCredential:M.H,Error:Y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),pe.registerVersion("@firebase/auth-compat","0.2.24")}(m.Z)},7550:function(Ie,ae){var f,m;m=typeof global>"u"?typeof window>"u"?this:window:global,f=function(){return function(m){"use strict";if(typeof m>"u"&&typeof m.document>"u")return!1;var M,Y,G,ee,Q,oe="\n\nVisit documentation page to learn more: https://notiflix.github.io/documentation",ce='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',X_Success="Success",X_Failure="Failure",X_Warning="Warning",X_Info="Info",ne={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},de_Success="Success",de_Failure="Failure",de_Warning="Warning",de_Info="Info",Ke={ID:"NotiflixReportWrap",className:"notiflix-report",width:"320px",backgroundColor:"#f8f8f8",borderRadius:"25px",rtl:!1,zindex:4002,backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",backOverlayClickToClose:!1,fontFamily:"Quicksand",svgSize:"110px",plainText:!0,titleFontSize:"16px",titleMaxLength:34,messageFontSize:"13px",messageMaxLength:400,buttonFontSize:"14px",buttonMaxLength:34,cssAnimation:!0,cssAnimationDuration:360,cssAnimationStyle:"fade",success:{svgColor:"#32c682",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#32c682",buttonColor:"#fff",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{svgColor:"#ff5549",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#ff5549",buttonColor:"#fff",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{svgColor:"#eebf31",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#eebf31",buttonColor:"#fff",backOverlayColor:"rgba(238,191,49,0.2)"},info:{svgColor:"#26c0d3",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#26c0d3",buttonColor:"#fff",backOverlayColor:"rgba(38,192,211,0.2)"}},Ue_Show="Show",Ue_Ask="Ask",Ue_Prompt="Prompt",Ge={ID:"NotiflixConfirmWrap",className:"notiflix-confirm",width:"300px",zindex:4003,position:"center",distance:"10px",backgroundColor:"#f8f8f8",borderRadius:"25px",backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:"fade",plainText:!0,titleColor:"#32c682",titleFontSize:"16px",titleMaxLength:34,messageColor:"#1e1e1e",messageFontSize:"14px",messageMaxLength:110,buttonsFontSize:"15px",buttonsMaxLength:34,okButtonColor:"#f8f8f8",okButtonBackground:"#32c682",cancelButtonColor:"#f8f8f8",cancelButtonBackground:"#a9a9a9"},vt_Standard="Standard",vt_Hourglass="Hourglass",vt_Circle="Circle",vt_Arrows="Arrows",vt_Dots="Dots",vt_Pulse="Pulse",vt_Custom="Custom",vt_Notiflix="Notiflix",Je={ID:"NotiflixLoadingWrap",className:"notiflix-loading",zindex:4e3,backgroundColor:"rgba(0,0,0,0.8)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:"80px",svgColor:"#32c682",messageID:"NotiflixLoadingMessage",messageFontSize:"15px",messageMaxLength:34,messageColor:"#dcdcdc"},Me_Standard="Standard",Me_Hourglass="Hourglass",Me_Circle="Circle",Me_Arrows="Arrows",Me_Dots="Dots",Me_Pulse="Pulse",bt={ID:"NotiflixBlockWrap",querySelectorLimit:200,className:"notiflix-block",position:"absolute",zindex:1e3,backgroundColor:"rgba(255,255,255,0.9)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,svgSize:"45px",svgColor:"#383838",messageFontSize:"14px",messageMaxLength:34,messageColor:"#383838"},mt=function(ve){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549","\n"+ve+oe)},it=function(ve){return ve||(ve="head"),null!==m.document[ve]||(mt('\nNotiflix needs to be appended to the "<'+ve+'>" element, but you called it before the "<'+ve+'>" element has been created.'),!1)},We=function(ve,Oe){if(!it("head"))return!1;if(null!==ve()&&!m.document.getElementById(Oe)){var qe=m.document.createElement("style");qe.id=Oe,qe.innerHTML=ve(),m.document.head.appendChild(qe)}},ut=function(){var ve={},Oe=!1,qe=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(Oe=arguments[0],qe++);for(var ot=function(Zt){for(var Ut in Zt)Object.prototype.hasOwnProperty.call(Zt,Ut)&&(ve[Ut]=Oe&&"[object Object]"===Object.prototype.toString.call(Zt[Ut])?ut(ve[Ut],Zt[Ut]):Zt[Ut])};qe<arguments.length;qe++)ot(arguments[qe]);return ve},Ce=function(ve){var Oe=m.document.createElement("div");return Oe.innerHTML=ve,Oe.textContent||Oe.innerText||""},Re=function(ve,Oe){return ve||(ve="60px"),Oe||(Oe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" stroke="'+Oe+'" width="'+ve+'" height="'+ve+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>'},Ve=function(ve,Oe){return ve||(ve="60px"),Oe||(Oe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+Oe+'" width="'+ve+'" height="'+ve+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>'},wt=function(ve,Oe){return ve||(ve="60px"),Oe||(Oe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" width="'+ve+'" height="'+ve+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+ve+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+ve+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+Oe+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>'},Dt=function(ve,Oe){return ve||(ve="60px"),Oe||(Oe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" fill="'+Oe+'" width="'+ve+'" height="'+ve+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>'},qt=function(ve,Oe){return ve||(ve="60px"),Oe||(Oe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" fill="'+Oe+'" width="'+ve+'" height="'+ve+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>'},hn=function(ve,Oe){return ve||(ve="60px"),Oe||(Oe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" stroke="'+Oe+'" width="'+ve+'" height="'+ve+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>'},kt=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},pn=0,An=function(ve,Oe,qe,ot){if(!it("body"))return!1;M||Kt.Notify.init({});var Zt=ut(!0,M,{});if("object"==typeof qe&&!Array.isArray(qe)||"object"==typeof ot&&!Array.isArray(ot)){var Ut={};"object"==typeof qe?Ut=qe:"object"==typeof ot&&(Ut=ot),M=ut(!0,M,Ut)}var Bt=M[ve.toLocaleLowerCase("en")];pn++,"string"!=typeof Oe&&(Oe="Notiflix "+ve),M.plainText&&(Oe=Ce(Oe)),!M.plainText&&Oe.length>M.messageMaxLength&&(M=ut(!0,M,{closeButton:!0,messageMaxLength:150}),Oe='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),Oe.length>M.messageMaxLength&&(Oe=Oe.substring(0,M.messageMaxLength)+"..."),"shadow"===M.fontAwesomeIconStyle&&(Bt.fontAwesomeIconColor=Bt.background),M.cssAnimation||(M.cssAnimationDuration=0);var Tt=m.document.getElementById(ne.wrapID)||m.document.createElement("div");if(Tt.id=ne.wrapID,Tt.style.width=M.width,Tt.style.zIndex=M.zindex,Tt.style.opacity=M.opacity,"center-center"===M.position?(Tt.style.left=M.distance,Tt.style.top=M.distance,Tt.style.right=M.distance,Tt.style.bottom=M.distance,Tt.style.margin="auto",Tt.classList.add("nx-flex-center-center"),Tt.style.maxHeight="calc((100vh - "+M.distance+") - "+M.distance+")",Tt.style.display="flex",Tt.style.flexWrap="wrap",Tt.style.flexDirection="column",Tt.style.justifyContent="center",Tt.style.alignItems="center",Tt.style.pointerEvents="none"):"center-top"===M.position?(Tt.style.left=M.distance,Tt.style.right=M.distance,Tt.style.top=M.distance,Tt.style.bottom="auto",Tt.style.margin="auto"):"center-bottom"===M.position?(Tt.style.left=M.distance,Tt.style.right=M.distance,Tt.style.bottom=M.distance,Tt.style.top="auto",Tt.style.margin="auto"):"right-bottom"===M.position?(Tt.style.right=M.distance,Tt.style.bottom=M.distance,Tt.style.top="auto",Tt.style.left="auto"):"left-top"===M.position?(Tt.style.left=M.distance,Tt.style.top=M.distance,Tt.style.right="auto",Tt.style.bottom="auto"):"left-bottom"===M.position?(Tt.style.left=M.distance,Tt.style.bottom=M.distance,Tt.style.top="auto",Tt.style.right="auto"):(Tt.style.right=M.distance,Tt.style.top=M.distance,Tt.style.left="auto",Tt.style.bottom="auto"),M.backOverlay){var bn=m.document.getElementById(ne.overlayID)||m.document.createElement("div");bn.id=ne.overlayID,bn.style.width="100%",bn.style.height="100%",bn.style.position="fixed",bn.style.zIndex=M.zindex-1,bn.style.left=0,bn.style.top=0,bn.style.right=0,bn.style.bottom=0,bn.style.background=Bt.backOverlayColor||M.backOverlayColor,bn.className=M.cssAnimation?"nx-with-animation":"",bn.style.animationDuration=M.cssAnimation?M.cssAnimationDuration+"ms":"",m.document.getElementById(ne.overlayID)||m.document.body.appendChild(bn)}m.document.getElementById(ne.wrapID)||m.document.body.appendChild(Tt);var Gt=m.document.createElement("div");Gt.id=M.ID+"-"+pn,Gt.className=M.className+" "+Bt.childClassName+" "+(M.cssAnimation?"nx-with-animation":"")+" "+(M.useIcon?"nx-with-icon":"")+" nx-"+M.cssAnimationStyle+" "+(M.closeButton&&"function"!=typeof qe?"nx-with-close-button":"")+" "+("function"==typeof qe?"nx-with-callback":"")+" "+(M.clickToClose?"nx-notify-click-to-close":""),Gt.style.fontSize=M.fontSize,Gt.style.color=Bt.textColor,Gt.style.background=Bt.background,Gt.style.borderRadius=M.borderRadius,Gt.style.pointerEvents="all",M.rtl&&(Gt.setAttribute("dir","rtl"),Gt.classList.add("nx-rtl-on")),Gt.style.fontFamily='"'+M.fontFamily+'", '+ce,M.cssAnimation&&(Gt.style.animationDuration=M.cssAnimationDuration+"ms");var Ne="";if(M.closeButton&&"function"!=typeof qe&&(Ne='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+Bt.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),M.useIcon)if(M.useFontAwesome)Gt.innerHTML='<i style="color:'+Bt.fontAwesomeIconColor+"; font-size:"+M.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+Bt.fontAwesomeClassName+" "+("shadow"===M.fontAwesomeIconStyle?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+Oe+"</span>"+(M.closeButton?Ne:"");else{var me="";ve===X_Success?me='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+Bt.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':ve===X_Failure?me='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+Bt.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':ve===X_Warning?me='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+Bt.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':ve===X_Info&&(me='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+Bt.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),Gt.innerHTML=me+'<span class="nx-message nx-with-icon">'+Oe+"</span>"+(M.closeButton?Ne:"")}else Gt.innerHTML='<span class="nx-message">'+Oe+"</span>"+(M.closeButton?Ne:"");if("left-bottom"===M.position||"right-bottom"===M.position){var se=m.document.getElementById(ne.wrapID);se.insertBefore(Gt,se.firstChild)}else m.document.getElementById(ne.wrapID).appendChild(Gt);var ze=m.document.getElementById(Gt.id);if(ze){var Pe,Vt,Rt=function(){ze.classList.add("nx-remove");var Ft=m.document.getElementById(ne.overlayID);Ft&&0>=Tt.childElementCount&&Ft.classList.add("nx-remove"),clearTimeout(Pe)},gn=function(){if(ze&&null!==ze.parentNode&&ze.parentNode.removeChild(ze),0>=Tt.childElementCount&&null!==Tt.parentNode){Tt.parentNode.removeChild(Tt);var Ft=m.document.getElementById(ne.overlayID);Ft&&null!==Ft.parentNode&&Ft.parentNode.removeChild(Ft)}clearTimeout(Vt)};if(M.closeButton&&"function"!=typeof qe&&m.document.getElementById(Gt.id).querySelector("span.nx-close-button").addEventListener("click",function(){Rt();var Ft=setTimeout(function(){gn(),clearTimeout(Ft)},M.cssAnimationDuration)}),("function"==typeof qe||M.clickToClose)&&ze.addEventListener("click",function(){"function"==typeof qe&&qe(),Rt();var Ft=setTimeout(function(){gn(),clearTimeout(Ft)},M.cssAnimationDuration)}),!M.closeButton&&"function"!=typeof qe){var yn=function(){Pe=setTimeout(function(){Rt()},M.timeout),Vt=setTimeout(function(){gn()},M.timeout+M.cssAnimationDuration)};yn(),M.pauseOnHover&&(ze.addEventListener("mouseenter",function(){ze.classList.add("nx-paused"),clearTimeout(Pe),clearTimeout(Vt)}),ze.addEventListener("mouseleave",function(){ze.classList.remove("nx-paused"),yn()}))}}if(M.showOnlyTheLastOne&&0<pn)for(var Jt,xn=m.document.querySelectorAll("[id^="+M.ID+"-]:not([id="+M.ID+"-"+pn+"])"),ln=0;ln<xn.length;ln++)null!==(Jt=xn[ln]).parentNode&&Jt.parentNode.removeChild(Jt);M=ut(!0,M,Zt)},kn=function(){return'[id^=NotiflixReportWrap]{position:fixed;z-index:4002;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;left:0;top:0;padding:10px;color:#1e1e1e;border-radius:25px;background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixReportWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixReportWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixReportWrap]>div.nx-report-click-to-close{cursor:pointer}[id^=NotiflixReportWrap]>div[class*="-content"]{width:320px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:inherit;padding:10px;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));border:1px solid rgba(0,0,0,.03);background:#f8f8f8;position:relative;z-index:1}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:110px;height:110px;display:block;margin:6px auto 12px}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"] svg{min-width:100%;max-width:100%;height:auto}[id^=NotiflixReportWrap]>*>h5{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:16px;font-weight:500;line-height:1.4;margin:0 0 10px;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);float:left;width:100%;text-align:center}[id^=NotiflixReportWrap]>*>p{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:13px;line-height:1.4;font-weight:normal;float:left;width:100%;padding:0 10px;margin:0 0 10px}[id^=NotiflixReportWrap] a#NXReportButton{word-break:break-all;word-break:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;cursor:pointer;float:right;padding:7px 17px;background:#32c682;font-size:14px;line-height:1.4;font-weight:500;border-radius:inherit!important;color:#fff}[id^=NotiflixReportWrap] a#NXReportButton:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixReportWrap].nx-rtl-on a#NXReportButton{float:left}[id^=NotiflixReportWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:report-overlay-animation .3s ease-in-out 0s normal;animation:report-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-fade{-webkit-animation:report-animation-fade .3s ease-in-out 0s normal;animation:report-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-zoom{-webkit-animation:report-animation-zoom .3s ease-in-out 0s normal;animation:report-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixReportWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:report-overlay-animation-remove .3s ease-in-out 0s normal;animation:report-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-fade{opacity:0;-webkit-animation:report-animation-fade-remove .3s ease-in-out 0s normal;animation:report-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-zoom{opacity:0;-webkit-animation:report-animation-zoom-remove .3s ease-in-out 0s normal;animation:report-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},Dn=function(ve,Oe,qe,ot,Zt,Ut){if(!it("body"))return!1;Y||Kt.Report.init({});var Bt={};if("object"==typeof Zt&&!Array.isArray(Zt)||"object"==typeof Ut&&!Array.isArray(Ut)){var Tt={};"object"==typeof Zt?Tt=Zt:"object"==typeof Ut&&(Tt=Ut),Bt=ut(!0,Y,{}),Y=ut(!0,Y,Tt)}var bn=Y[ve.toLocaleLowerCase("en")];"string"!=typeof Oe&&(Oe="Notiflix "+ve),"string"!=typeof qe&&(ve===de_Success?qe='"Do not try to become a person of success but try to become a person of value." <br><br>- Albert Einstein':ve===de_Failure?qe='"Failure is simply the opportunity to begin again, this time more intelligently." <br><br>- Henry Ford':ve===de_Warning?qe='"The peoples who want to live comfortably without producing and fatigue; they are doomed to lose their dignity, then liberty, and then independence and destiny." <br><br>- Mustafa Kemal Ataturk':ve===de_Info&&(qe='"Knowledge rests not upon truth alone, but upon error also." <br><br>- Carl Gustav Jung')),"string"!=typeof ot&&(ot="Okay"),Y.plainText&&(Oe=Ce(Oe),qe=Ce(qe),ot=Ce(ot)),Y.plainText||(Oe.length>Y.titleMaxLength&&(Oe="Possible HTML Tags Error",qe='The "plainText" option is "false" and the title content length is more than the "titleMaxLength" option.',ot="Okay"),qe.length>Y.messageMaxLength&&(Oe="Possible HTML Tags Error",qe='The "plainText" option is "false" and the message content length is more than the "messageMaxLength" option.',ot="Okay"),ot.length>Y.buttonMaxLength&&(Oe="Possible HTML Tags Error",qe='The "plainText" option is "false" and the button content length is more than the "buttonMaxLength" option.',ot="Okay")),Oe.length>Y.titleMaxLength&&(Oe=Oe.substring(0,Y.titleMaxLength)+"..."),qe.length>Y.messageMaxLength&&(qe=qe.substring(0,Y.messageMaxLength)+"..."),ot.length>Y.buttonMaxLength&&(ot=ot.substring(0,Y.buttonMaxLength)+"..."),Y.cssAnimation||(Y.cssAnimationDuration=0);var Gt=m.document.createElement("div");Gt.id=Ke.ID,Gt.className=Y.className,Gt.style.zIndex=Y.zindex,Gt.style.borderRadius=Y.borderRadius,Gt.style.fontFamily='"'+Y.fontFamily+'", '+ce,Y.rtl&&(Gt.setAttribute("dir","rtl"),Gt.classList.add("nx-rtl-on")),Gt.style.display="flex",Gt.style.flexWrap="wrap",Gt.style.flexDirection="column",Gt.style.alignItems="center",Gt.style.justifyContent="center";var Ne="",me=!0===Y.backOverlayClickToClose;Y.backOverlay&&(Ne='<div class="'+Y.className+"-overlay"+(Y.cssAnimation?" nx-with-animation":"")+(me?" nx-report-click-to-close":"")+'" style="background:'+(bn.backOverlayColor||Y.backOverlayColor)+";animation-duration:"+Y.cssAnimationDuration+'ms;"></div>');var se="";if(ve===de_Success?se=function(ve,Oe){return ve||(ve="110px"),Oe||(Oe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXReportSuccess" width="'+ve+'" height="'+ve+'" fill="'+Oe+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@-webkit-keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportSuccess *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportSuccess2-animation;animation-name:NXReportSuccess2-animation;-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportSuccess3-animation;animation-name:NXReportSuccess3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportSuccess1-animation;animation-name:NXReportSuccess1-animation;-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M88.27 35.39L52.8 75.29 31.43 58.2c-.98-.81-2.44-.63-3.24.36-.79.99-.63 2.44.36 3.24l23.08 18.46c.43.34.93.51 1.44.51.64 0 1.27-.26 1.74-.78l36.91-41.53a2.3 2.3 0 0 0-.19-3.26c-.95-.86-2.41-.77-3.26.19z" style="-webkit-animation-name:NXReportSuccess4-animation;animation-name:NXReportSuccess4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'}(Y.svgSize,bn.svgColor):ve===de_Failure?se=function(ve,Oe){return ve||(ve="110px"),Oe||(Oe="#ff5549"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXReportFailure" width="'+ve+'" height="'+ve+'" fill="'+Oe+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportFailure *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportFailure1-animation;animation-name:NXReportFailure1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M4.35 34.95c0-16.82 13.78-30.6 30.6-30.6h50.1c16.82 0 30.6 13.78 30.6 30.6v50.1c0 16.82-13.78 30.6-30.6 30.6h-50.1c-16.82 0-30.6-13.78-30.6-30.6v-50.1zM34.95 120h50.1c19.22 0 34.95-15.73 34.95-34.95v-50.1C120 15.73 104.27 0 85.05 0h-50.1C15.73 0 0 15.73 0 34.95v50.1C0 104.27 15.73 120 34.95 120z" style="-webkit-animation-name:NXReportFailure2-animation;animation-name:NXReportFailure2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportFailure3-animation;animation-name:NXReportFailure3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M82.4 37.6c-.9-.9-2.37-.9-3.27 0L60 56.73 40.86 37.6a2.306 2.306 0 0 0-3.26 3.26L56.73 60 37.6 79.13c-.9.9-.9 2.37 0 3.27.45.45 1.04.68 1.63.68.59 0 1.18-.23 1.63-.68L60 63.26 79.13 82.4c.45.45 1.05.68 1.64.68.58 0 1.18-.23 1.63-.68.9-.9.9-2.37 0-3.27L63.26 60 82.4 40.86c.9-.91.9-2.36 0-3.26z" style="-webkit-animation-name:NXReportFailure4-animation;animation-name:NXReportFailure4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'}(Y.svgSize,bn.svgColor):ve===de_Warning?se=function(ve,Oe){return ve||(ve="110px"),Oe||(Oe="#eebf31"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXReportWarning" width="'+ve+'" height="'+ve+'" fill="'+Oe+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@-webkit-keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportWarning *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportWarning1-animation;animation-name:NXReportWarning1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M115.46 106.15l-54.04-93.8c-.61-1.06-2.23-1.06-2.84 0l-54.04 93.8c-.62 1.07.21 2.29 1.42 2.29h108.08c1.21 0 2.04-1.22 1.42-2.29zM65.17 10.2l54.04 93.8c2.28 3.96-.65 8.78-5.17 8.78H5.96c-4.52 0-7.45-4.82-5.17-8.78l54.04-93.8c2.28-3.95 8.03-4 10.34 0z" style="-webkit-animation-name:NXReportWarning2-animation;animation-name:NXReportWarning2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportWarning3-animation;animation-name:NXReportWarning3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)"><path d="M57.83 94.01c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17v-3.2c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v3.2zm0-14.15c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17V39.21c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v40.65z" style="-webkit-animation-name:NXReportWarning4-animation;animation-name:NXReportWarning4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'}(Y.svgSize,bn.svgColor):ve===de_Info&&(se=function(ve,Oe){return ve||(ve="110px"),Oe||(Oe="#26c0d3"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXReportInfo" width="'+ve+'" height="'+ve+'" fill="'+Oe+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportInfo *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportInfo1-animation;animation-name:NXReportInfo1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportInfo2-animation;animation-name:NXReportInfo2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportInfo3-animation;animation-name:NXReportInfo3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M57.75 43.85c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v48.18c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V43.85zm0-15.88c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v3.32c0 1.25-1.01 2.25-2.25 2.25s-2.25-1-2.25-2.25v-3.32z" style="-webkit-animation-name:NXReportInfo4-animation;animation-name:NXReportInfo4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'}(Y.svgSize,bn.svgColor)),Gt.innerHTML=Ne+'<div class="'+Y.className+"-content"+(Y.cssAnimation?" nx-with-animation ":"")+" nx-"+Y.cssAnimationStyle+'" style="width:'+Y.width+"; background:"+Y.backgroundColor+"; animation-duration:"+Y.cssAnimationDuration+'ms;"><div style="width:'+Y.svgSize+"; height:"+Y.svgSize+';" class="'+Y.className+'-icon">'+se+'</div><h5 class="'+Y.className+'-title" style="font-weight:500; font-size:'+Y.titleFontSize+"; color:"+bn.titleColor+';">'+Oe+'</h5><p class="'+Y.className+'-message" style="font-size:'+Y.messageFontSize+"; color:"+bn.messageColor+';">'+qe+'</p><a id="NXReportButton" class="'+Y.className+'-button" style="font-weight:500; font-size:'+Y.buttonFontSize+"; background:"+bn.buttonBackground+"; color:"+bn.buttonColor+';">'+ot+"</a></div>",!m.document.getElementById(Gt.id)){m.document.body.appendChild(Gt);var ze=function(){var Rt=m.document.getElementById(Gt.id);Rt.classList.add("nx-remove");var gn=setTimeout(function(){null!==Rt.parentNode&&Rt.parentNode.removeChild(Rt),clearTimeout(gn)},Y.cssAnimationDuration)};m.document.getElementById("NXReportButton").addEventListener("click",function(){"function"==typeof Zt&&Zt(),ze()}),Ne&&me&&m.document.querySelector(".nx-report-click-to-close").addEventListener("click",function(){ze()})}Y=ut(!0,Y,Bt)},Sn=function(){return'[id^=NotiflixConfirmWrap]{position:fixed;z-index:4003;width:100%;height:100%;left:0;top:0;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixConfirmWrap].nx-position-center-top{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-center-bottom{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-left-top{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-center{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-bottom{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-top{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-right-center{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-bottom{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixConfirmWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixConfirmWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:confirm-overlay-animation .3s ease-in-out 0s normal;animation:confirm-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal;animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap]>div[class*="-content"]{width:300px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:25px;padding:10px;margin:0;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));background:#f8f8f8;color:#1e1e1e;position:relative;z-index:1;text-align:center}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]{float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>h5{float:left;width:100%;margin:0;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);color:#32c682;font-family:inherit!important;font-size:16px;line-height:1.4;font-weight:500;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div{font-family:inherit!important;margin:15px 0 20px;padding:0 10px;float:left;width:100%;font-size:14px;line-height:1.4;font-weight:normal;color:inherit;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div{font-family:inherit!important;float:left;width:100%;margin:15px 0 0;padding:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input{font-family:inherit!important;float:left;width:100%;height:40px;margin:0;padding:0 15px;border:1px solid rgba(0,0,0,.1);border-radius:25px;font-size:14px;font-weight:normal;line-height:1;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;text-align:left}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-head"]>div>div>input{text-align:right}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:hover{border-color:rgba(0,0,0,.1)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:focus{border-color:rgba(0,0,0,.3)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-failure{border-color:#ff5549}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-success{border-color:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:inherit;float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a{cursor:pointer;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;float:left;width:48%;padding:9px 5px;border-radius:inherit!important;font-weight:500;font-size:15px;line-height:1.4;color:#f8f8f8;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-ok{margin:0 2% 0 0;background:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-cancel{margin:0 0 0 2%;background:#a9a9a9}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-full{margin:0;width:100%}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"],[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"]>a{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade>div[class*="-content"]{-webkit-animation:confirm-animation-fade .3s ease-in-out 0s normal;animation:confirm-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom>div[class*="-content"]{-webkit-animation:confirm-animation-zoom .3s ease-in-out 0s normal;animation:confirm-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-fade-remove .3s ease-in-out 0s normal;animation:confirm-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal;animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},ke=function(ve,Oe,qe,ot,Zt,Ut,Bt,Tt,bn){if(!it("body"))return!1;G||Kt.Confirm.init({});var Gt=ut(!0,G,{});"object"!=typeof bn||Array.isArray(bn)||(G=ut(!0,G,bn)),"string"!=typeof Oe&&(Oe="Notiflix Confirm"),"string"!=typeof qe&&(qe="Do you agree with me?"),"string"!=typeof Zt&&(Zt="Yes"),"string"!=typeof Ut&&(Ut="No"),"function"!=typeof Bt&&(Bt=void 0),"function"!=typeof Tt&&(Tt=void 0),G.plainText&&(Oe=Ce(Oe),qe=Ce(qe),Zt=Ce(Zt),Ut=Ce(Ut)),G.plainText||(Oe.length>G.titleMaxLength&&(Oe="Possible HTML Tags Error",qe='The "plainText" option is "false" and the title content length is more than "titleMaxLength" option.',Zt="Okay",Ut="..."),qe.length>G.messageMaxLength&&(Oe="Possible HTML Tags Error",qe='The "plainText" option is "false" and the message content length is more than "messageMaxLength" option.',Zt="Okay",Ut="..."),(Zt.length||Ut.length)>G.buttonsMaxLength&&(Oe="Possible HTML Tags Error",qe='The "plainText" option is "false" and the buttons content length is more than "buttonsMaxLength" option.',Zt="Okay",Ut="...")),Oe.length>G.titleMaxLength&&(Oe=Oe.substring(0,G.titleMaxLength)+"..."),qe.length>G.messageMaxLength&&(qe=qe.substring(0,G.messageMaxLength)+"..."),Zt.length>G.buttonsMaxLength&&(Zt=Zt.substring(0,G.buttonsMaxLength)+"..."),Ut.length>G.buttonsMaxLength&&(Ut=Ut.substring(0,G.buttonsMaxLength)+"..."),G.cssAnimation||(G.cssAnimationDuration=0);var Ne=m.document.createElement("div");Ne.id=Ge.ID,Ne.className=G.className+(G.cssAnimation?" nx-with-animation nx-"+G.cssAnimationStyle:""),Ne.style.zIndex=G.zindex,Ne.style.padding=G.distance,G.rtl&&(Ne.setAttribute("dir","rtl"),Ne.classList.add("nx-rtl-on"));var me="string"==typeof G.position?G.position.trim():"center";Ne.classList.add("nx-position-"+me),Ne.style.fontFamily='"'+G.fontFamily+'", '+ce;var se="";G.backOverlay&&(se='<div class="'+G.className+"-overlay"+(G.cssAnimation?" nx-with-animation":"")+'" style="background:'+G.backOverlayColor+";animation-duration:"+G.cssAnimationDuration+'ms;"></div>');var ze="";"function"==typeof Bt&&(ze='<a id="NXConfirmButtonCancel" class="nx-confirm-button-cancel" style="color:'+G.cancelButtonColor+";background:"+G.cancelButtonBackground+";font-size:"+G.buttonsFontSize+';">'+Ut+"</a>");var Pe="",Vt=null,Rt=void 0;if(ve===Ue_Ask||ve===Ue_Prompt){Vt=ot||"";var gn=ve===Ue_Ask||200<Vt.length?Math.ceil(1.5*Vt.length):250;Pe='<div><input id="NXConfirmValidationInput" type="text" '+(ve===Ue_Prompt?'value="'+Vt+'"':"")+' maxlength="'+gn+'" style="font-size:'+G.messageFontSize+";border-radius: "+G.borderRadius+';" autocomplete="off" spellcheck="false" autocapitalize="none" /></div>'}if(Ne.innerHTML=se+'<div class="'+G.className+'-content" style="width:'+G.width+"; background:"+G.backgroundColor+"; animation-duration:"+G.cssAnimationDuration+"ms; border-radius: "+G.borderRadius+';"><div class="'+G.className+'-head"><h5 style="color:'+G.titleColor+";font-size:"+G.titleFontSize+';">'+Oe+'</h5><div style="color:'+G.messageColor+";font-size:"+G.messageFontSize+';">'+qe+Pe+'</div></div><div class="'+G.className+'-buttons"><a id="NXConfirmButtonOk" class="nx-confirm-button-ok'+("function"==typeof Bt?"":" nx-full")+'" style="color:'+G.okButtonColor+";background:"+G.okButtonBackground+";font-size:"+G.buttonsFontSize+';">'+Zt+"</a>"+ze+"</div></div>",!m.document.getElementById(Ne.id)){m.document.body.appendChild(Ne);var yn=m.document.getElementById(Ne.id),Jt=m.document.getElementById("NXConfirmButtonOk"),xn=m.document.getElementById("NXConfirmValidationInput");xn&&(xn.focus(),xn.setSelectionRange(0,(xn.value||"").length),xn.addEventListener("keyup",function(Ft){ve===Ue_Ask&&Ft.target.value!==Vt?(Ft.preventDefault(),xn.classList.add("nx-validation-failure"),xn.classList.remove("nx-validation-success")):(ve===Ue_Ask&&(xn.classList.remove("nx-validation-failure"),xn.classList.add("nx-validation-success")),("enter"===(Ft.key||"").toLocaleLowerCase("en")||13===Ft.keyCode)&&Jt.dispatchEvent(new Event("click")))})),Jt.addEventListener("click",function(Ft){if(ve===Ue_Ask&&Vt&&xn){if((xn.value||"").toString()!==Vt)return xn.focus(),xn.classList.add("nx-validation-failure"),Ft.stopPropagation(),Ft.preventDefault(),Ft.returnValue=!1,Ft.cancelBubble=!0,!1;xn.classList.remove("nx-validation-failure")}"function"==typeof Bt&&(ve===Ue_Prompt&&xn&&(Rt=xn.value||""),Bt(Rt)),yn.classList.add("nx-remove");var Nt=setTimeout(function(){null!==yn.parentNode&&(yn.parentNode.removeChild(yn),clearTimeout(Nt))},G.cssAnimationDuration)}),"function"==typeof Bt&&m.document.getElementById("NXConfirmButtonCancel").addEventListener("click",function(){"function"==typeof Tt&&(ve===Ue_Prompt&&xn&&(Rt=xn.value||""),Tt(Rt)),yn.classList.add("nx-remove");var Ft=setTimeout(function(){null!==yn.parentNode&&(yn.parentNode.removeChild(yn),clearTimeout(Ft))},G.cssAnimationDuration)})}G=ut(!0,G,Gt)},er=function(){return'[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*="-icon"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*="-icon"] img,[id^=NotiflixLoadingWrap]>div[class*="-icon"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}'},qn=function(ve,Oe,qe,ot,Zt){if(!it("body"))return!1;ee||Kt.Loading.init({});var Ut=ut(!0,ee,{});if("object"==typeof Oe&&!Array.isArray(Oe)||"object"==typeof qe&&!Array.isArray(qe)){var Bt={};"object"==typeof Oe?Bt=Oe:"object"==typeof qe&&(Bt=qe),ee=ut(!0,ee,Bt)}var Tt="";if("string"==typeof Oe&&0<Oe.length&&(Tt=Oe),ot){var bn="";0<(Tt=Tt.length>ee.messageMaxLength?Ce(Tt).toString().substring(0,ee.messageMaxLength)+"...":Ce(Tt).toString()).length&&(bn='<p id="'+ee.messageID+'" class="nx-loading-message" style="color:'+ee.messageColor+";font-size:"+ee.messageFontSize+';">'+Tt+"</p>"),ee.cssAnimation||(ee.cssAnimationDuration=0);var Gt="";if(ve===vt_Standard)Gt=Re(ee.svgSize,ee.svgColor);else if(ve===vt_Hourglass)Gt=Ve(ee.svgSize,ee.svgColor);else if(ve===vt_Circle)Gt=wt(ee.svgSize,ee.svgColor);else if(ve===vt_Arrows)Gt=Dt(ee.svgSize,ee.svgColor);else if(ve===vt_Dots)Gt=qt(ee.svgSize,ee.svgColor);else if(ve===vt_Pulse)Gt=hn(ee.svgSize,ee.svgColor);else if(ve===vt_Custom&&null!==ee.customSvgCode&&null===ee.customSvgUrl)Gt=ee.customSvgCode||"";else if(ve===vt_Custom&&null!==ee.customSvgUrl&&null===ee.customSvgCode)Gt='<img class="nx-custom-loading-icon" width="'+ee.svgSize+'" height="'+ee.svgSize+'" src="'+ee.customSvgUrl+'" alt="Notiflix">';else{if(ve===vt_Custom&&(null===ee.customSvgUrl||null===ee.customSvgCode))return mt('You have to set a static SVG url to "customSvgUrl" option to use Loading Custom.'),!1;Gt=function(ve,Oe,qe){return ve||(ve="60px"),Oe||(Oe="#f8f8f8"),qe||(qe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingNotiflixLib" width="'+ve+'" height="'+ve+'" viewBox="0 0 200 200"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:'+Oe+';stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d="M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z" style="animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal" fill="'+qe+'" stroke="'+qe+'" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="22" stroke-width="12"/><path class="nx-icon-line" d="M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21" style="animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/><path class="nx-icon-line" d="M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75" style="animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/></svg>'}(ee.svgSize,"#f8f8f8","#32c682")}var Ne=parseInt((ee.svgSize||"").replace(/[^0-9]/g,"")),me=m.innerWidth,se=Ne>=me?me-40+"px":Ne+"px",ze='<div style="width:'+se+"; height:"+se+';" class="'+ee.className+"-icon"+(0<Tt.length?" nx-with-message":"")+'">'+Gt+"</div>",Pe=m.document.createElement("div");Pe.id=Je.ID,Pe.className=ee.className+(ee.cssAnimation?" nx-with-animation":"")+(ee.clickToClose?" nx-loading-click-to-close":""),Pe.style.zIndex=ee.zindex,Pe.style.background=ee.backgroundColor,Pe.style.animationDuration=ee.cssAnimationDuration+"ms",Pe.style.fontFamily='"'+ee.fontFamily+'", '+ce,Pe.style.display="flex",Pe.style.flexWrap="wrap",Pe.style.flexDirection="column",Pe.style.alignItems="center",Pe.style.justifyContent="center",ee.rtl&&(Pe.setAttribute("dir","rtl"),Pe.classList.add("nx-rtl-on")),Pe.innerHTML=ze+bn,!m.document.getElementById(Pe.id)&&(m.document.body.appendChild(Pe),ee.clickToClose)&&m.document.getElementById(Pe.id).addEventListener("click",function(){Pe.classList.add("nx-remove");var xt=setTimeout(function(){null!==Pe.parentNode&&(Pe.parentNode.removeChild(Pe),clearTimeout(xt))},ee.cssAnimationDuration)})}else if(m.document.getElementById(Je.ID))var Rt=m.document.getElementById(Je.ID),gn=setTimeout(function(){Rt.classList.add("nx-remove");var xt=setTimeout(function(){null!==Rt.parentNode&&(Rt.parentNode.removeChild(Rt),clearTimeout(xt))},ee.cssAnimationDuration);clearTimeout(gn)},Zt);ee=ut(!0,ee,Ut)},Rn=function(){return'[id^=NotiflixBlockWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1000;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background:rgba(255,255,255,.9);text-align:center;animation-duration:.4s;width:100%;height:100%;left:0;top:0;border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixBlockWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixBlockWrap]>span[class*="-icon"]{display:block;width:45px;height:45px;position:relative;margin:0 auto}[id^=NotiflixBlockWrap]>span[class*="-icon"] svg{width:inherit;height:inherit}[id^=NotiflixBlockWrap]>span[class*="-message"]{position:relative;display:block;width:100%;margin:10px auto 0;padding:0 10px;font-family:inherit!important;font-weight:normal;font-size:14px;line-height:1.4}[id^=NotiflixBlockWrap].nx-with-animation{-webkit-animation:block-animation-fade .3s ease-in-out 0s normal;animation:block-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixBlockWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:block-animation-fade-remove .3s ease-in-out 0s normal;animation:block-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}'},dr=0,rr=function(ve,Oe,qe,ot,Zt,Ut){var Bt;if(Array.isArray(qe)){if(1>qe.length)return mt("Array of HTMLElements should contains at least one HTMLElement."),!1;Bt=qe}else if(Object.prototype.isPrototypeOf.call(NodeList.prototype,qe)){if(1>qe.length)return mt("NodeListOf<HTMLElement> should contains at least one HTMLElement."),!1;Bt=Array.prototype.slice.call(qe)}else{if("string"!=typeof qe||1>(qe||"").length||1===(qe||"").length&&("#"===(qe||"")[0]||"."===(qe||"")[0]))return mt("The selector parameter must be a string and matches a specified CSS selector(s)."),!1;var bn=m.document.querySelectorAll(qe);if(1>bn.length)return mt('You called the "Notiflix.Block..." function with "'+qe+'" selector, but there is no such element(s) in the document.'),!1;Bt=bn}Q||Kt.Block.init({});var Gt=ut(!0,Q,{});if("object"==typeof ot&&!Array.isArray(ot)||"object"==typeof Zt&&!Array.isArray(Zt)){var Ne={};"object"==typeof ot?Ne=ot:"object"==typeof Zt&&(Ne=Zt),Q=ut(!0,Q,Ne)}var me="";"string"==typeof ot&&0<ot.length&&(me=ot),Q.cssAnimation||(Q.cssAnimationDuration=0);var se=bt.className;"string"==typeof Q.className&&(se=Q.className.trim());var ze="number"==typeof Q.querySelectorLimit?Q.querySelectorLimit:200,Pe=(Bt||[]).length>=ze?ze:Bt.length,Vt="nx-block-temporary-position";if(ve){for(var Rt,gn=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","html","head","title","script","style","iframe"],xt=0;xt<Pe;xt++)if(Rt=Bt[xt]){if(-1<gn.indexOf(Rt.tagName.toLocaleLowerCase("en")))break;var yn=Rt.querySelectorAll("[id^="+bt.ID+"]");if(1>yn.length){var Jt="";Oe&&(Jt=Oe===Me_Hourglass?Ve(Q.svgSize,Q.svgColor):Oe===Me_Circle?wt(Q.svgSize,Q.svgColor):Oe===Me_Arrows?Dt(Q.svgSize,Q.svgColor):Oe===Me_Dots?qt(Q.svgSize,Q.svgColor):Oe===Me_Pulse?hn(Q.svgSize,Q.svgColor):Re(Q.svgSize,Q.svgColor));var xn='<span class="'+se+'-icon" style="width:'+Q.svgSize+";height:"+Q.svgSize+';">'+Jt+"</span>",ln="";0<me.length&&(me=me.length>Q.messageMaxLength?Ce(me).substring(0,Q.messageMaxLength)+"...":Ce(me),ln='<span style="font-size:'+Q.messageFontSize+";color:"+Q.messageColor+';" class="'+se+'-message">'+me+"</span>"),dr++;var Ft=m.document.createElement("div");Ft.id=bt.ID+"-"+dr,Ft.className=se+(Q.cssAnimation?" nx-with-animation":""),Ft.style.position=Q.position,Ft.style.zIndex=Q.zindex,Ft.style.background=Q.backgroundColor,Ft.style.animationDuration=Q.cssAnimationDuration+"ms",Ft.style.fontFamily='"'+Q.fontFamily+'", '+ce,Ft.style.display="flex",Ft.style.flexWrap="wrap",Ft.style.flexDirection="column",Ft.style.alignItems="center",Ft.style.justifyContent="center",Q.rtl&&(Ft.setAttribute("dir","rtl"),Ft.classList.add("nx-rtl-on")),Ft.innerHTML=xn+ln;var At=m.getComputedStyle(Rt).getPropertyValue("position"),Nt="string"==typeof At?At.toLocaleLowerCase("en"):"relative",gt=Math.round(1.25*parseInt(Q.svgSize))+40,on="";gt>(Rt.offsetHeight||0)&&(on="min-height:"+gt+"px;");var un;un=Rt.getAttribute("id")?"#"+Rt.getAttribute("id"):Rt.classList[0]?"."+Rt.classList[0]:(Rt.tagName||"").toLocaleLowerCase("en");var wn="",be=-1>=["absolute","relative","fixed","sticky"].indexOf(Nt);if(be||0<on.length){if(!it("head"))return!1;be&&(wn="position:relative!important;");var ye='<style id="Style-'+bt.ID+"-"+dr+'">'+un+"."+Vt+"{"+wn+on+"}</style>",De=m.document.createRange();De.selectNode(m.document.head);var pe=De.createContextualFragment(ye);m.document.head.appendChild(pe),Rt.classList.add(Vt)}Rt.appendChild(Ft)}}}else var H=function(Pt){var jt=setTimeout(function(){null!==Pt.parentNode&&Pt.parentNode.removeChild(Pt);var he=Pt.getAttribute("id"),te=m.document.getElementById("Style-"+he);te&&null!==te.parentNode&&te.parentNode.removeChild(te),clearTimeout(jt)},Q.cssAnimationDuration)},re=function(Pt){if(Pt&&0<Pt.length)for(var jt,he=0;he<Pt.length;he++)(jt=Pt[he])&&(jt.classList.add("nx-remove"),H(jt));else!function(ve){console.log("%c Notiflix Info ","padding:2px;border-radius:20px;color:#fff;background:#26c0d3","\n"+ve+oe)}("string"==typeof qe?'"Notiflix.Block.remove();" function called with "'+qe+'" selector, but this selector does not have a "Block" element to remove.':'"Notiflix.Block.remove();" function called with "'+qe+'", but this "Array<HTMLElement>" or "NodeListOf<HTMLElement>" does not have a "Block" element to remove.')},Be=function(Pt){var jt=setTimeout(function(){Pt.classList.remove(Vt),clearTimeout(jt)},Q.cssAnimationDuration+300)},_t=setTimeout(function(){for(var Pt,jt=0;jt<Pe;jt++)(Pt=Bt[jt])&&(Be(Pt),yn=Pt.querySelectorAll("[id^="+bt.ID+"]"),re(yn));clearTimeout(_t)},Ut);Q=ut(!0,Q,Gt)},Kt={Notify:{init:function(ve){M=ut(!0,ne,ve),We(kt,"NotiflixNotifyInternalCSS")},merge:function(ve){return M?void(M=ut(!0,M,ve)):(mt("You have to initialize the Notify module before call Merge function."),!1)},success:function(ve,Oe,qe){An(X_Success,ve,Oe,qe)},failure:function(ve,Oe,qe){An(X_Failure,ve,Oe,qe)},warning:function(ve,Oe,qe){An(X_Warning,ve,Oe,qe)},info:function(ve,Oe,qe){An(X_Info,ve,Oe,qe)}},Report:{init:function(ve){Y=ut(!0,Ke,ve),We(kn,"NotiflixReportInternalCSS")},merge:function(ve){return Y?void(Y=ut(!0,Y,ve)):(mt("You have to initialize the Report module before call Merge function."),!1)},success:function(ve,Oe,qe,ot,Zt){Dn(de_Success,ve,Oe,qe,ot,Zt)},failure:function(ve,Oe,qe,ot,Zt){Dn(de_Failure,ve,Oe,qe,ot,Zt)},warning:function(ve,Oe,qe,ot,Zt){Dn(de_Warning,ve,Oe,qe,ot,Zt)},info:function(ve,Oe,qe,ot,Zt){Dn(de_Info,ve,Oe,qe,ot,Zt)}},Confirm:{init:function(ve){G=ut(!0,Ge,ve),We(Sn,"NotiflixConfirmInternalCSS")},merge:function(ve){return G?void(G=ut(!0,G,ve)):(mt("You have to initialize the Confirm module before call Merge function."),!1)},show:function(ve,Oe,qe,ot,Zt,Ut,Bt){ke(Ue_Show,ve,Oe,null,qe,ot,Zt,Ut,Bt)},ask:function(ve,Oe,qe,ot,Zt,Ut,Bt,Tt){ke(Ue_Ask,ve,Oe,qe,ot,Zt,Ut,Bt,Tt)},prompt:function(ve,Oe,qe,ot,Zt,Ut,Bt,Tt){ke(Ue_Prompt,ve,Oe,qe,ot,Zt,Ut,Bt,Tt)}},Loading:{init:function(ve){ee=ut(!0,Je,ve),We(er,"NotiflixLoadingInternalCSS")},merge:function(ve){return ee?void(ee=ut(!0,ee,ve)):(mt("You have to initialize the Loading module before call Merge function."),!1)},standard:function(ve,Oe){qn(vt_Standard,ve,Oe,!0,0)},hourglass:function(ve,Oe){qn(vt_Hourglass,ve,Oe,!0,0)},circle:function(ve,Oe){qn(vt_Circle,ve,Oe,!0,0)},arrows:function(ve,Oe){qn(vt_Arrows,ve,Oe,!0,0)},dots:function(ve,Oe){qn(vt_Dots,ve,Oe,!0,0)},pulse:function(ve,Oe){qn(vt_Pulse,ve,Oe,!0,0)},custom:function(ve,Oe){qn(vt_Custom,ve,Oe,!0,0)},notiflix:function(ve,Oe){qn(vt_Notiflix,ve,Oe,!0,0)},remove:function(ve){"number"!=typeof ve&&(ve=0),qn(null,null,null,!1,ve)},change:function(ve){!function(ve){"string"!=typeof ve&&(ve="");var Oe=m.document.getElementById(Je.ID);if(Oe)if(0<ve.length){ve=ve.length>ee.messageMaxLength?Ce(ve).substring(0,ee.messageMaxLength)+"...":Ce(ve);var qe=Oe.getElementsByTagName("p")[0];if(qe)qe.innerHTML=ve;else{var ot=m.document.createElement("p");ot.id=ee.messageID,ot.className="nx-loading-message nx-loading-message-new",ot.style.color=ee.messageColor,ot.style.fontSize=ee.messageFontSize,ot.innerHTML=ve,Oe.appendChild(ot)}}else mt("Where is the new message?")}(ve)}},Block:{init:function(ve){Q=ut(!0,bt,ve),We(Rn,"NotiflixBlockInternalCSS")},merge:function(ve){return Q?void(Q=ut(!0,Q,ve)):(mt('You have to initialize the "Notiflix.Block" module before call Merge function.'),!1)},standard:function(ve,Oe,qe){rr(!0,Me_Standard,ve,Oe,qe)},hourglass:function(ve,Oe,qe){rr(!0,Me_Hourglass,ve,Oe,qe)},circle:function(ve,Oe,qe){rr(!0,Me_Circle,ve,Oe,qe)},arrows:function(ve,Oe,qe){rr(!0,Me_Arrows,ve,Oe,qe)},dots:function(ve,Oe,qe){rr(!0,Me_Dots,ve,Oe,qe)},pulse:function(ve,Oe,qe){rr(!0,Me_Pulse,ve,Oe,qe)},remove:function(ve,Oe){"number"!=typeof Oe&&(Oe=0),rr(!1,null,ve,null,null,Oe)}}};return"object"==typeof m.Notiflix?ut(!0,m.Notiflix,{Notify:Kt.Notify,Report:Kt.Report,Confirm:Kt.Confirm,Loading:Kt.Loading,Block:Kt.Block}):{Notify:Kt.Notify,Report:Kt.Report,Confirm:Kt.Confirm,Loading:Kt.Loading,Block:Kt.Block}}(m)}.apply(ae,[]),void 0!==f&&(Ie.exports=f)},1135:(Ie,ae,C)=>{"use strict";C.d(ae,{X:()=>m});var f=C(7579);class m extends f.x{constructor(Y){super(),this._value=Y}get value(){return this.getValue()}_subscribe(Y){const G=super._subscribe(Y);return!G.closed&&Y.next(this._value),G}getValue(){const{hasError:Y,thrownError:G,_value:ee}=this;if(Y)throw G;return this._throwIfClosed(),ee}next(Y){super.next(this._value=Y)}}},9751:(Ie,ae,C)=>{"use strict";C.d(ae,{y:()=>oe});var f=C(930),m=C(727),M=C(8822),Y=C(9635),G=C(2416),ee=C(576),Q=C(2806);let oe=(()=>{class de{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Ge=new de;return Ge.source=this,Ge.operator=Ue,Ge}subscribe(Ue,Ge,vt){const Je=function ne(de){return de&&de instanceof f.Lv||function X(de){return de&&(0,ee.m)(de.next)&&(0,ee.m)(de.error)&&(0,ee.m)(de.complete)}(de)&&(0,m.Nn)(de)}(Ue)?Ue:new f.Hp(Ue,Ge,vt);return(0,Q.x)(()=>{const{operator:Me,source:bt}=this;Je.add(Me?Me.call(Je,bt):bt?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Ge){Ue.error(Ge)}}forEach(Ue,Ge){return new(Ge=ce(Ge))((vt,Je)=>{const Me=new f.Hp({next:bt=>{try{Ue(bt)}catch(mt){Je(mt),Me.unsubscribe()}},error:Je,complete:vt});this.subscribe(Me)})}_subscribe(Ue){var Ge;return null===(Ge=this.source)||void 0===Ge?void 0:Ge.subscribe(Ue)}[M.L](){return this}pipe(...Ue){return(0,Y.U)(Ue)(this)}toPromise(Ue){return new(Ue=ce(Ue))((Ge,vt)=>{let Je;this.subscribe(Me=>Je=Me,Me=>vt(Me),()=>Ge(Je))})}}return de.create=Ke=>new de(Ke),de})();function ce(de){var Ke;return null!==(Ke=de??G.v.Promise)&&void 0!==Ke?Ke:Promise}},4707:(Ie,ae,C)=>{"use strict";C.d(ae,{t:()=>M});var f=C(7579),m=C(6063);class M extends f.x{constructor(G=1/0,ee=1/0,Q=m.l){super(),this._bufferSize=G,this._windowTime=ee,this._timestampProvider=Q,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ee===1/0,this._bufferSize=Math.max(1,G),this._windowTime=Math.max(1,ee)}next(G){const{isStopped:ee,_buffer:Q,_infiniteTimeWindow:oe,_timestampProvider:ce,_windowTime:X}=this;ee||(Q.push(G),!oe&&Q.push(ce.now()+X)),this._trimBuffer(),super.next(G)}_subscribe(G){this._throwIfClosed(),this._trimBuffer();const ee=this._innerSubscribe(G),{_infiniteTimeWindow:Q,_buffer:oe}=this,ce=oe.slice();for(let X=0;X<ce.length&&!G.closed;X+=Q?1:2)G.next(ce[X]);return this._checkFinalizedStatuses(G),ee}_trimBuffer(){const{_bufferSize:G,_timestampProvider:ee,_buffer:Q,_infiniteTimeWindow:oe}=this,ce=(oe?1:2)*G;if(G<1/0&&ce<Q.length&&Q.splice(0,Q.length-ce),!oe){const X=ee.now();let ne=0;for(let de=1;de<Q.length&&Q[de]<=X;de+=2)ne=de;ne&&Q.splice(0,ne+1)}}}},7579:(Ie,ae,C)=>{"use strict";C.d(ae,{x:()=>Q});var f=C(9751),m=C(727);const Y=(0,C(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var G=C(8737),ee=C(2806);let Q=(()=>{class ce extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const de=new oe(this,this);return de.operator=ne,de}_throwIfClosed(){if(this.closed)throw new Y}next(ne){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(ne)}})}error(ne){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:de}=this;for(;de.length;)de.shift().error(ne)}})}complete(){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:de,isStopped:Ke,observers:Ue}=this;return de||Ke?m.Lc:(this.currentObservers=null,Ue.push(ne),new m.w0(()=>{this.currentObservers=null,(0,G.P)(Ue,ne)}))}_checkFinalizedStatuses(ne){const{hasError:de,thrownError:Ke,isStopped:Ue}=this;de?ne.error(Ke):Ue&&ne.complete()}asObservable(){const ne=new f.y;return ne.source=this,ne}}return ce.create=(X,ne)=>new oe(X,ne),ce})();class oe extends Q{constructor(X,ne){super(),this.destination=X,this.source=ne}next(X){var ne,de;null===(de=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===de||de.call(ne,X)}error(X){var ne,de;null===(de=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===de||de.call(ne,X)}complete(){var X,ne;null===(ne=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===ne||ne.call(X)}_subscribe(X){var ne,de;return null!==(de=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(X))&&void 0!==de?de:m.Lc}}},930:(Ie,ae,C)=>{"use strict";C.d(ae,{Hp:()=>vt,Lv:()=>de});var f=C(576),m=C(727),M=C(2416),Y=C(7849),G=C(5032);const ee=ce("C",void 0,void 0);function ce(lt,it,We){return{kind:lt,value:it,error:We}}var X=C(3410),ne=C(2806);class de extends m.w0{constructor(it){super(),this.isStopped=!1,it?(this.destination=it,(0,m.Nn)(it)&&it.add(this)):this.destination=mt}static create(it,We,ut){return new vt(it,We,ut)}next(it){this.isStopped?bt(function oe(lt){return ce("N",lt,void 0)}(it),this):this._next(it)}error(it){this.isStopped?bt(function Q(lt){return ce("E",void 0,lt)}(it),this):(this.isStopped=!0,this._error(it))}complete(){this.isStopped?bt(ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(it){this.destination.next(it)}_error(it){try{this.destination.error(it)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Ue(lt,it){return Ke.call(lt,it)}class Ge{constructor(it){this.partialObserver=it}next(it){const{partialObserver:We}=this;if(We.next)try{We.next(it)}catch(ut){Je(ut)}}error(it){const{partialObserver:We}=this;if(We.error)try{We.error(it)}catch(ut){Je(ut)}else Je(it)}complete(){const{partialObserver:it}=this;if(it.complete)try{it.complete()}catch(We){Je(We)}}}class vt extends de{constructor(it,We,ut){let Ce;if(super(),(0,f.m)(it)||!it)Ce={next:it??void 0,error:We??void 0,complete:ut??void 0};else{let $e;this&&M.v.useDeprecatedNextContext?($e=Object.create(it),$e.unsubscribe=()=>this.unsubscribe(),Ce={next:it.next&&Ue(it.next,$e),error:it.error&&Ue(it.error,$e),complete:it.complete&&Ue(it.complete,$e)}):Ce=it}this.destination=new Ge(Ce)}}function Je(lt){M.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(lt):(0,Y.h)(lt)}function bt(lt,it){const{onStoppedNotification:We}=M.v;We&&X.z.setTimeout(()=>We(lt,it))}const mt={closed:!0,next:G.Z,error:function Me(lt){throw lt},complete:G.Z}},727:(Ie,ae,C)=>{"use strict";C.d(ae,{Lc:()=>ee,w0:()=>G,Nn:()=>Q});var f=C(576);const M=(0,C(3888).d)(ce=>function(ne){ce(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((de,Ke)=>`${Ke+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var Y=C(8737);class G{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Ue of ne)Ue.remove(this);else ne.remove(this);const{initialTeardown:de}=this;if((0,f.m)(de))try{de()}catch(Ue){X=Ue instanceof M?Ue.errors:[Ue]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const Ue of Ke)try{oe(Ue)}catch(Ge){X=X??[],Ge instanceof M?X=[...X,...Ge.errors]:X.push(Ge)}}if(X)throw new M(X)}}add(X){var ne;if(X&&X!==this)if(this.closed)oe(X);else{if(X instanceof G){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(X)}}_hasParent(X){const{_parentage:ne}=this;return ne===X||Array.isArray(ne)&&ne.includes(X)}_addParent(X){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(X),ne):ne?[ne,X]:X}_removeParent(X){const{_parentage:ne}=this;ne===X?this._parentage=null:Array.isArray(ne)&&(0,Y.P)(ne,X)}remove(X){const{_finalizers:ne}=this;ne&&(0,Y.P)(ne,X),X instanceof G&&X._removeParent(this)}}G.EMPTY=(()=>{const ce=new G;return ce.closed=!0,ce})();const ee=G.EMPTY;function Q(ce){return ce instanceof G||ce&&"closed"in ce&&(0,f.m)(ce.remove)&&(0,f.m)(ce.add)&&(0,f.m)(ce.unsubscribe)}function oe(ce){(0,f.m)(ce)?ce():ce.unsubscribe()}},2416:(Ie,ae,C)=>{"use strict";C.d(ae,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Ie,ae,C)=>{"use strict";C.d(ae,{z:()=>G});var f=C(8189),M=C(3269),Y=C(8996);function G(...ee){return function m(){return(0,f.J)(1)}()((0,Y.D)(ee,(0,M.yG)(ee)))}},515:(Ie,ae,C)=>{"use strict";C.d(ae,{E:()=>m});const m=new(C(9751).y)(G=>G.complete())},8996:(Ie,ae,C)=>{"use strict";C.d(ae,{D:()=>it});var f=C(8421),m=C(5363),M=C(9468),ee=C(9751),oe=C(2202),ce=C(576),X=C(9672);function de(We,ut){if(!We)throw new Error("Iterable cannot be null");return new ee.y(Ce=>{(0,X.f)(Ce,ut,()=>{const $e=We[Symbol.asyncIterator]();(0,X.f)(Ce,ut,()=>{$e.next().then(Qe=>{Qe.done?Ce.complete():Ce.next(Qe.value)})},0,!0)})})}var Ke=C(3670),Ue=C(8239),Ge=C(1144),vt=C(6495),Je=C(2206),Me=C(4532),bt=C(3260);function it(We,ut){return ut?function lt(We,ut){if(null!=We){if((0,Ke.c)(We))return function Y(We,ut){return(0,f.Xf)(We).pipe((0,M.R)(ut),(0,m.Q)(ut))}(We,ut);if((0,Ge.z)(We))return function Q(We,ut){return new ee.y(Ce=>{let $e=0;return ut.schedule(function(){$e===We.length?Ce.complete():(Ce.next(We[$e++]),Ce.closed||this.schedule())})})}(We,ut);if((0,Ue.t)(We))return function G(We,ut){return(0,f.Xf)(We).pipe((0,M.R)(ut),(0,m.Q)(ut))}(We,ut);if((0,Je.D)(We))return de(We,ut);if((0,vt.T)(We))return function ne(We,ut){return new ee.y(Ce=>{let $e;return(0,X.f)(Ce,ut,()=>{$e=We[oe.h](),(0,X.f)(Ce,ut,()=>{let Qe,xe;try{({value:Qe,done:xe}=$e.next())}catch(Ae){return void Ce.error(Ae)}xe?Ce.complete():Ce.next(Qe)},0,!0)}),()=>(0,ce.m)($e?.return)&&$e.return()})}(We,ut);if((0,bt.L)(We))return function mt(We,ut){return de((0,bt.Q)(We),ut)}(We,ut)}throw(0,Me.z)(We)}(We,ut):(0,f.Xf)(We)}},8421:(Ie,ae,C)=>{"use strict";C.d(ae,{Xf:()=>Ke});var f=C(655),m=C(1144),M=C(8239),Y=C(9751),G=C(3670),ee=C(2206),Q=C(4532),oe=C(6495),ce=C(3260),X=C(576),ne=C(7849),de=C(8822);function Ke(lt){if(lt instanceof Y.y)return lt;if(null!=lt){if((0,G.c)(lt))return function Ue(lt){return new Y.y(it=>{const We=lt[de.L]();if((0,X.m)(We.subscribe))return We.subscribe(it);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(lt);if((0,m.z)(lt))return function Ge(lt){return new Y.y(it=>{for(let We=0;We<lt.length&&!it.closed;We++)it.next(lt[We]);it.complete()})}(lt);if((0,M.t)(lt))return function vt(lt){return new Y.y(it=>{lt.then(We=>{it.closed||(it.next(We),it.complete())},We=>it.error(We)).then(null,ne.h)})}(lt);if((0,ee.D)(lt))return Me(lt);if((0,oe.T)(lt))return function Je(lt){return new Y.y(it=>{for(const We of lt)if(it.next(We),it.closed)return;it.complete()})}(lt);if((0,ce.L)(lt))return function bt(lt){return Me((0,ce.Q)(lt))}(lt)}throw(0,Q.z)(lt)}function Me(lt){return new Y.y(it=>{(function mt(lt,it){var We,ut,Ce,$e;return(0,f.mG)(this,void 0,void 0,function*(){try{for(We=(0,f.KL)(lt);!(ut=yield We.next()).done;)if(it.next(ut.value),it.closed)return}catch(Qe){Ce={error:Qe}}finally{try{ut&&!ut.done&&($e=We.return)&&(yield $e.call(We))}finally{if(Ce)throw Ce.error}}it.complete()})})(lt,it).catch(We=>it.error(We))})}},6451:(Ie,ae,C)=>{"use strict";C.d(ae,{T:()=>ee});var f=C(8189),m=C(8421),M=C(515),Y=C(3269),G=C(8996);function ee(...Q){const oe=(0,Y.yG)(Q),ce=(0,Y._6)(Q,1/0),X=Q;return X.length?1===X.length?(0,m.Xf)(X[0]):(0,f.J)(ce)((0,G.D)(X,oe)):M.E}},9646:(Ie,ae,C)=>{"use strict";C.d(ae,{of:()=>M});var f=C(3269),m=C(8996);function M(...Y){const G=(0,f.yG)(Y);return(0,m.D)(Y,G)}},5403:(Ie,ae,C)=>{"use strict";C.d(ae,{x:()=>m});var f=C(930);function m(Y,G,ee,Q,oe){return new M(Y,G,ee,Q,oe)}class M extends f.Lv{constructor(G,ee,Q,oe,ce,X){super(G),this.onFinalize=ce,this.shouldUnsubscribe=X,this._next=ee?function(ne){try{ee(ne)}catch(de){G.error(de)}}:super._next,this._error=oe?function(ne){try{oe(ne)}catch(de){G.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch(ne){G.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var G;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ee}=this;super.unsubscribe(),!ee&&(null===(G=this.onFinalize)||void 0===G||G.call(this))}}}},262:(Ie,ae,C)=>{"use strict";C.d(ae,{K:()=>Y});var f=C(8421),m=C(5403),M=C(4482);function Y(G){return(0,M.e)((ee,Q)=>{let X,oe=null,ce=!1;oe=ee.subscribe((0,m.x)(Q,void 0,void 0,ne=>{X=(0,f.Xf)(G(ne,Y(G)(ee))),oe?(oe.unsubscribe(),oe=null,X.subscribe(Q)):ce=!0})),ce&&(oe.unsubscribe(),oe=null,X.subscribe(Q))})}},4351:(Ie,ae,C)=>{"use strict";C.d(ae,{b:()=>M});var f=C(5577),m=C(576);function M(Y,G){return(0,m.m)(G)?(0,f.z)(Y,G,1):(0,f.z)(Y,1)}},8372:(Ie,ae,C)=>{"use strict";C.d(ae,{b:()=>Y});var f=C(4986),m=C(4482),M=C(5403);function Y(G,ee=f.z){return(0,m.e)((Q,oe)=>{let ce=null,X=null,ne=null;const de=()=>{if(ce){ce.unsubscribe(),ce=null;const Ue=X;X=null,oe.next(Ue)}};function Ke(){const Ue=ne+G,Ge=ee.now();if(Ge<Ue)return ce=this.schedule(void 0,Ue-Ge),void oe.add(ce);de()}Q.subscribe((0,M.x)(oe,Ue=>{X=Ue,ne=ee.now(),ce||(ce=ee.schedule(Ke,G),oe.add(ce))},()=>{de(),oe.complete()},void 0,()=>{X=ce=null}))})}},6590:(Ie,ae,C)=>{"use strict";C.d(ae,{d:()=>M});var f=C(4482),m=C(5403);function M(Y){return(0,f.e)((G,ee)=>{let Q=!1;G.subscribe((0,m.x)(ee,oe=>{Q=!0,ee.next(oe)},()=>{Q||ee.next(Y),ee.complete()}))})}},1884:(Ie,ae,C)=>{"use strict";C.d(ae,{x:()=>Y});var f=C(4671),m=C(4482),M=C(5403);function Y(ee,Q=f.y){return ee=ee??G,(0,m.e)((oe,ce)=>{let X,ne=!0;oe.subscribe((0,M.x)(ce,de=>{const Ke=Q(de);(ne||!ee(X,Ke))&&(ne=!1,X=Ke,ce.next(de))}))})}function G(ee,Q){return ee===Q}},9300:(Ie,ae,C)=>{"use strict";C.d(ae,{h:()=>M});var f=C(4482),m=C(5403);function M(Y,G){return(0,f.e)((ee,Q)=>{let oe=0;ee.subscribe((0,m.x)(Q,ce=>Y.call(G,ce,oe++)&&Q.next(ce)))})}},590:(Ie,ae,C)=>{"use strict";C.d(ae,{P:()=>Q});var f=C(6805),m=C(9300),M=C(5698),Y=C(6590),G=C(8068),ee=C(4671);function Q(oe,ce){const X=arguments.length>=2;return ne=>ne.pipe(oe?(0,m.h)((de,Ke)=>oe(de,Ke,ne)):ee.y,(0,M.q)(1),X?(0,Y.d)(ce):(0,G.T)(()=>new f.K))}},4004:(Ie,ae,C)=>{"use strict";C.d(ae,{U:()=>M});var f=C(4482),m=C(5403);function M(Y,G){return(0,f.e)((ee,Q)=>{let oe=0;ee.subscribe((0,m.x)(Q,ce=>{Q.next(Y.call(G,ce,oe++))}))})}},8189:(Ie,ae,C)=>{"use strict";C.d(ae,{J:()=>M});var f=C(5577),m=C(4671);function M(Y=1/0){return(0,f.z)(m.y,Y)}},5577:(Ie,ae,C)=>{"use strict";C.d(ae,{z:()=>oe});var f=C(4004),m=C(8421),M=C(4482),Y=C(9672),G=C(5403),Q=C(576);function oe(ce,X,ne=1/0){return(0,Q.m)(X)?oe((de,Ke)=>(0,f.U)((Ue,Ge)=>X(de,Ue,Ke,Ge))((0,m.Xf)(ce(de,Ke))),ne):("number"==typeof X&&(ne=X),(0,M.e)((de,Ke)=>function ee(ce,X,ne,de,Ke,Ue,Ge,vt){const Je=[];let Me=0,bt=0,mt=!1;const lt=()=>{mt&&!Je.length&&!Me&&X.complete()},it=ut=>Me<de?We(ut):Je.push(ut),We=ut=>{Ue&&X.next(ut),Me++;let Ce=!1;(0,m.Xf)(ne(ut,bt++)).subscribe((0,G.x)(X,$e=>{Ke?.($e),Ue?it($e):X.next($e)},()=>{Ce=!0},void 0,()=>{if(Ce)try{for(Me--;Je.length&&Me<de;){const $e=Je.shift();Ge?(0,Y.f)(X,Ge,()=>We($e)):We($e)}lt()}catch($e){X.error($e)}}))};return ce.subscribe((0,G.x)(X,it,()=>{mt=!0,lt()})),()=>{vt?.()}}(de,Ke,ce,ne)))}},5363:(Ie,ae,C)=>{"use strict";C.d(ae,{Q:()=>Y});var f=C(9672),m=C(4482),M=C(5403);function Y(G,ee=0){return(0,m.e)((Q,oe)=>{Q.subscribe((0,M.x)(oe,ce=>(0,f.f)(oe,G,()=>oe.next(ce),ee),()=>(0,f.f)(oe,G,()=>oe.complete(),ee),ce=>(0,f.f)(oe,G,()=>oe.error(ce),ee)))})}},5026:(Ie,ae,C)=>{"use strict";C.d(ae,{R:()=>Y});var f=C(4482),m=C(5403);function M(G,ee,Q,oe,ce){return(X,ne)=>{let de=Q,Ke=ee,Ue=0;X.subscribe((0,m.x)(ne,Ge=>{const vt=Ue++;Ke=de?G(Ke,Ge,vt):(de=!0,Ge),oe&&ne.next(Ke)},ce&&(()=>{de&&ne.next(Ke),ne.complete()})))}}function Y(G,ee){return(0,f.e)(M(G,ee,arguments.length>=2,!0))}},3099:(Ie,ae,C)=>{"use strict";C.d(ae,{B:()=>G});var f=C(8421),m=C(7579),M=C(930),Y=C(4482);function G(Q={}){const{connector:oe=(()=>new m.x),resetOnError:ce=!0,resetOnComplete:X=!0,resetOnRefCountZero:ne=!0}=Q;return de=>{let Ke,Ue,Ge,vt=0,Je=!1,Me=!1;const bt=()=>{Ue?.unsubscribe(),Ue=void 0},mt=()=>{bt(),Ke=Ge=void 0,Je=Me=!1},lt=()=>{const it=Ke;mt(),it?.unsubscribe()};return(0,Y.e)((it,We)=>{vt++,!Me&&!Je&&bt();const ut=Ge=Ge??oe();We.add(()=>{vt--,0===vt&&!Me&&!Je&&(Ue=ee(lt,ne))}),ut.subscribe(We),!Ke&&vt>0&&(Ke=new M.Hp({next:Ce=>ut.next(Ce),error:Ce=>{Me=!0,bt(),Ue=ee(mt,ce,Ce),ut.error(Ce)},complete:()=>{Je=!0,bt(),Ue=ee(mt,X),ut.complete()}}),(0,f.Xf)(it).subscribe(Ke))})(de)}}function ee(Q,oe,...ce){if(!0===oe)return void Q();if(!1===oe)return;const X=new M.Hp({next:()=>{X.unsubscribe(),Q()}});return oe(...ce).subscribe(X)}},5684:(Ie,ae,C)=>{"use strict";C.d(ae,{T:()=>m});var f=C(9300);function m(M){return(0,f.h)((Y,G)=>M<=G)}},8675:(Ie,ae,C)=>{"use strict";C.d(ae,{O:()=>Y});var f=C(7272),m=C(3269),M=C(4482);function Y(...G){const ee=(0,m.yG)(G);return(0,M.e)((Q,oe)=>{(ee?(0,f.z)(G,Q,ee):(0,f.z)(G,Q)).subscribe(oe)})}},9468:(Ie,ae,C)=>{"use strict";C.d(ae,{R:()=>m});var f=C(4482);function m(M,Y=0){return(0,f.e)((G,ee)=>{ee.add(M.schedule(()=>G.subscribe(ee),Y))})}},3900:(Ie,ae,C)=>{"use strict";C.d(ae,{w:()=>Y});var f=C(8421),m=C(4482),M=C(5403);function Y(G,ee){return(0,m.e)((Q,oe)=>{let ce=null,X=0,ne=!1;const de=()=>ne&&!ce&&oe.complete();Q.subscribe((0,M.x)(oe,Ke=>{ce?.unsubscribe();let Ue=0;const Ge=X++;(0,f.Xf)(G(Ke,Ge)).subscribe(ce=(0,M.x)(oe,vt=>oe.next(ee?ee(Ke,vt,Ge,Ue++):vt),()=>{ce=null,de()}))},()=>{ne=!0,de()}))})}},5698:(Ie,ae,C)=>{"use strict";C.d(ae,{q:()=>Y});var f=C(515),m=C(4482),M=C(5403);function Y(G){return G<=0?()=>f.E:(0,m.e)((ee,Q)=>{let oe=0;ee.subscribe((0,M.x)(Q,ce=>{++oe<=G&&(Q.next(ce),G<=oe&&Q.complete())}))})}},2722:(Ie,ae,C)=>{"use strict";C.d(ae,{R:()=>G});var f=C(4482),m=C(5403),M=C(8421),Y=C(5032);function G(ee){return(0,f.e)((Q,oe)=>{(0,M.Xf)(ee).subscribe((0,m.x)(oe,()=>oe.complete(),Y.Z)),!oe.closed&&Q.subscribe(oe)})}},8505:(Ie,ae,C)=>{"use strict";C.d(ae,{b:()=>G});var f=C(576),m=C(4482),M=C(5403),Y=C(4671);function G(ee,Q,oe){const ce=(0,f.m)(ee)||Q||oe?{next:ee,error:Q,complete:oe}:ee;return ce?(0,m.e)((X,ne)=>{var de;null===(de=ce.subscribe)||void 0===de||de.call(ce);let Ke=!0;X.subscribe((0,M.x)(ne,Ue=>{var Ge;null===(Ge=ce.next)||void 0===Ge||Ge.call(ce,Ue),ne.next(Ue)},()=>{var Ue;Ke=!1,null===(Ue=ce.complete)||void 0===Ue||Ue.call(ce),ne.complete()},Ue=>{var Ge;Ke=!1,null===(Ge=ce.error)||void 0===Ge||Ge.call(ce,Ue),ne.error(Ue)},()=>{var Ue,Ge;Ke&&(null===(Ue=ce.unsubscribe)||void 0===Ue||Ue.call(ce)),null===(Ge=ce.finalize)||void 0===Ge||Ge.call(ce)}))}):Y.y}},8068:(Ie,ae,C)=>{"use strict";C.d(ae,{T:()=>Y});var f=C(6805),m=C(4482),M=C(5403);function Y(ee=G){return(0,m.e)((Q,oe)=>{let ce=!1;Q.subscribe((0,M.x)(oe,X=>{ce=!0,oe.next(X)},()=>ce?oe.complete():oe.error(ee())))})}function G(){return new f.K}},7414:(Ie,ae,C)=>{"use strict";C.d(ae,{V:()=>ce});var f=C(4986),m=C(1165),M=C(4482),Y=C(8421),G=C(3888),ee=C(5403),Q=C(9672);const oe=(0,G.d)(ne=>function(Ke=null){ne(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Ke});function ce(ne,de){const{first:Ke,each:Ue,with:Ge=X,scheduler:vt=de??f.z,meta:Je=null}=(0,m.q)(ne)?{first:ne}:"number"==typeof ne?{each:ne}:ne;if(null==Ke&&null==Ue)throw new TypeError("No timeout provided.");return(0,M.e)((Me,bt)=>{let mt,lt,it=null,We=0;const ut=Ce=>{lt=(0,Q.f)(bt,vt,()=>{try{mt.unsubscribe(),(0,Y.Xf)(Ge({meta:Je,lastValue:it,seen:We})).subscribe(bt)}catch($e){bt.error($e)}},Ce)};mt=Me.subscribe((0,ee.x)(bt,Ce=>{lt?.unsubscribe(),We++,bt.next(it=Ce),Ue>0&&ut(Ue)},void 0,void 0,()=>{lt?.closed||lt?.unsubscribe(),it=null})),!We&&ut(null!=Ke?"number"==typeof Ke?Ke:+Ke-vt.now():Ue)})}function X(ne){throw new oe(ne)}},1365:(Ie,ae,C)=>{"use strict";C.d(ae,{M:()=>Q});var f=C(4482),m=C(5403),M=C(8421),Y=C(4671),G=C(5032),ee=C(3269);function Q(...oe){const ce=(0,ee.jO)(oe);return(0,f.e)((X,ne)=>{const de=oe.length,Ke=new Array(de);let Ue=oe.map(()=>!1),Ge=!1;for(let vt=0;vt<de;vt++)(0,M.Xf)(oe[vt]).subscribe((0,m.x)(ne,Je=>{Ke[vt]=Je,!Ge&&!Ue[vt]&&(Ue[vt]=!0,(Ge=Ue.every(Y.y))&&(Ue=null))},G.Z));X.subscribe((0,m.x)(ne,vt=>{if(Ge){const Je=[vt,...Ke];ne.next(ce?ce(...Je):Je)}}))})}},4408:(Ie,ae,C)=>{"use strict";C.d(ae,{o:()=>G});var f=C(727);class m extends f.w0{constructor(Q,oe){super()}schedule(Q,oe=0){return this}}const M={setInterval(ee,Q,...oe){const{delegate:ce}=M;return ce?.setInterval?ce.setInterval(ee,Q,...oe):setInterval(ee,Q,...oe)},clearInterval(ee){const{delegate:Q}=M;return(Q?.clearInterval||clearInterval)(ee)},delegate:void 0};var Y=C(8737);class G extends m{constructor(Q,oe){super(Q,oe),this.scheduler=Q,this.work=oe,this.pending=!1}schedule(Q,oe=0){var ce;if(this.closed)return this;this.state=Q;const X=this.id,ne=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(ne,X,oe)),this.pending=!0,this.delay=oe,this.id=null!==(ce=this.id)&&void 0!==ce?ce:this.requestAsyncId(ne,this.id,oe),this}requestAsyncId(Q,oe,ce=0){return M.setInterval(Q.flush.bind(Q,this),ce)}recycleAsyncId(Q,oe,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return oe;null!=oe&&M.clearInterval(oe)}execute(Q,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(Q,oe);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,oe){let X,ce=!1;try{this.work(Q)}catch(ne){ce=!0,X=ne||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:Q,scheduler:oe}=this,{actions:ce}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Y.P)(ce,this),null!=Q&&(this.id=this.recycleAsyncId(oe,Q,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ie,ae,C)=>{"use strict";C.d(ae,{v:()=>M});var f=C(6063);class m{constructor(G,ee=m.now){this.schedulerActionCtor=G,this.now=ee}schedule(G,ee=0,Q){return new this.schedulerActionCtor(this,G).schedule(Q,ee)}}m.now=f.l.now;class M extends m{constructor(G,ee=m.now){super(G,ee),this.actions=[],this._active=!1}flush(G){const{actions:ee}=this;if(this._active)return void ee.push(G);let Q;this._active=!0;do{if(Q=G.execute(G.state,G.delay))break}while(G=ee.shift());if(this._active=!1,Q){for(;G=ee.shift();)G.unsubscribe();throw Q}}}},4986:(Ie,ae,C)=>{"use strict";C.d(ae,{P:()=>Y,z:()=>M});var f=C(4408);const M=new(C(7565).v)(f.o),Y=M},6063:(Ie,ae,C)=>{"use strict";C.d(ae,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},233:(Ie,ae,C)=>{"use strict";C.d(ae,{N:()=>G});var f=C(4408),M=C(7565);const G=new class Y extends M.v{}(class m extends f.o{constructor(oe,ce){super(oe,ce),this.scheduler=oe,this.work=ce}schedule(oe,ce=0){return ce>0?super.schedule(oe,ce):(this.delay=ce,this.state=oe,this.scheduler.flush(this),this)}execute(oe,ce){return ce>0||this.closed?super.execute(oe,ce):this._execute(oe,ce)}requestAsyncId(oe,ce,X=0){return null!=X&&X>0||null==X&&this.delay>0?super.requestAsyncId(oe,ce,X):(oe.flush(this),0)}})},3410:(Ie,ae,C)=>{"use strict";C.d(ae,{z:()=>f});const f={setTimeout(m,M,...Y){const{delegate:G}=f;return G?.setTimeout?G.setTimeout(m,M,...Y):setTimeout(m,M,...Y)},clearTimeout(m){const{delegate:M}=f;return(M?.clearTimeout||clearTimeout)(m)},delegate:void 0}},2202:(Ie,ae,C)=>{"use strict";C.d(ae,{h:()=>m});const m=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ie,ae,C)=>{"use strict";C.d(ae,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ie,ae,C)=>{"use strict";C.d(ae,{K:()=>m});const m=(0,C(3888).d)(M=>function(){M(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Ie,ae,C)=>{"use strict";C.d(ae,{_6:()=>ee,jO:()=>Y,yG:()=>G});var f=C(576),m=C(3532);function M(Q){return Q[Q.length-1]}function Y(Q){return(0,f.m)(M(Q))?Q.pop():void 0}function G(Q){return(0,m.K)(M(Q))?Q.pop():void 0}function ee(Q,oe){return"number"==typeof M(Q)?Q.pop():oe}},4742:(Ie,ae,C)=>{"use strict";C.d(ae,{D:()=>G});const{isArray:f}=Array,{getPrototypeOf:m,prototype:M,keys:Y}=Object;function G(Q){if(1===Q.length){const oe=Q[0];if(f(oe))return{args:oe,keys:null};if(function ee(Q){return Q&&"object"==typeof Q&&m(Q)===M}(oe)){const ce=Y(oe);return{args:ce.map(X=>oe[X]),keys:ce}}}return{args:Q,keys:null}}},8737:(Ie,ae,C)=>{"use strict";function f(m,M){if(m){const Y=m.indexOf(M);0<=Y&&m.splice(Y,1)}}C.d(ae,{P:()=>f})},3888:(Ie,ae,C)=>{"use strict";function f(m){const Y=m(G=>{Error.call(G),G.stack=(new Error).stack});return Y.prototype=Object.create(Error.prototype),Y.prototype.constructor=Y,Y}C.d(ae,{d:()=>f})},1810:(Ie,ae,C)=>{"use strict";function f(m,M){return m.reduce((Y,G,ee)=>(Y[G]=M[ee],Y),{})}C.d(ae,{n:()=>f})},2806:(Ie,ae,C)=>{"use strict";C.d(ae,{O:()=>Y,x:()=>M});var f=C(2416);let m=null;function M(G){if(f.v.useDeprecatedSynchronousErrorHandling){const ee=!m;if(ee&&(m={errorThrown:!1,error:null}),G(),ee){const{errorThrown:Q,error:oe}=m;if(m=null,Q)throw oe}}else G()}function Y(G){f.v.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=G)}},9672:(Ie,ae,C)=>{"use strict";function f(m,M,Y,G=0,ee=!1){const Q=M.schedule(function(){Y(),ee?m.add(this.schedule(null,G)):this.unsubscribe()},G);if(m.add(Q),!ee)return Q}C.d(ae,{f:()=>f})},4671:(Ie,ae,C)=>{"use strict";function f(m){return m}C.d(ae,{y:()=>f})},1144:(Ie,ae,C)=>{"use strict";C.d(ae,{z:()=>f});const f=m=>m&&"number"==typeof m.length&&"function"!=typeof m},2206:(Ie,ae,C)=>{"use strict";C.d(ae,{D:()=>m});var f=C(576);function m(M){return Symbol.asyncIterator&&(0,f.m)(M?.[Symbol.asyncIterator])}},1165:(Ie,ae,C)=>{"use strict";function f(m){return m instanceof Date&&!isNaN(m)}C.d(ae,{q:()=>f})},576:(Ie,ae,C)=>{"use strict";function f(m){return"function"==typeof m}C.d(ae,{m:()=>f})},3670:(Ie,ae,C)=>{"use strict";C.d(ae,{c:()=>M});var f=C(8822),m=C(576);function M(Y){return(0,m.m)(Y[f.L])}},6495:(Ie,ae,C)=>{"use strict";C.d(ae,{T:()=>M});var f=C(2202),m=C(576);function M(Y){return(0,m.m)(Y?.[f.h])}},8239:(Ie,ae,C)=>{"use strict";C.d(ae,{t:()=>m});var f=C(576);function m(M){return(0,f.m)(M?.then)}},3260:(Ie,ae,C)=>{"use strict";C.d(ae,{L:()=>Y,Q:()=>M});var f=C(655),m=C(576);function M(G){return(0,f.FC)(this,arguments,function*(){const Q=G.getReader();try{for(;;){const{value:oe,done:ce}=yield(0,f.qq)(Q.read());if(ce)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(oe)}}finally{Q.releaseLock()}})}function Y(G){return(0,m.m)(G?.getReader)}},3532:(Ie,ae,C)=>{"use strict";C.d(ae,{K:()=>m});var f=C(576);function m(M){return M&&(0,f.m)(M.schedule)}},4482:(Ie,ae,C)=>{"use strict";C.d(ae,{A:()=>m,e:()=>M});var f=C(576);function m(Y){return(0,f.m)(Y?.lift)}function M(Y){return G=>{if(m(G))return G.lift(function(ee){try{return Y(ee,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ie,ae,C)=>{"use strict";C.d(ae,{Z:()=>Y});var f=C(4004);const{isArray:m}=Array;function Y(G){return(0,f.U)(ee=>function M(G,ee){return m(ee)?G(...ee):G(ee)}(G,ee))}},5032:(Ie,ae,C)=>{"use strict";function f(){}C.d(ae,{Z:()=>f})},9635:(Ie,ae,C)=>{"use strict";C.d(ae,{U:()=>M,z:()=>m});var f=C(4671);function m(...Y){return M(Y)}function M(Y){return 0===Y.length?f.y:1===Y.length?Y[0]:function(ee){return Y.reduce((Q,oe)=>oe(Q),ee)}}},7849:(Ie,ae,C)=>{"use strict";C.d(ae,{h:()=>M});var f=C(2416),m=C(3410);function M(Y){m.z.setTimeout(()=>{const{onUnhandledError:G}=f.v;if(!G)throw Y;G(Y)})}},4532:(Ie,ae,C)=>{"use strict";function f(m){return new TypeError(`You provided ${null!==m&&"object"==typeof m?"an invalid object":`'${m}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}C.d(ae,{z:()=>f})},655:(Ie,ae,C)=>{"use strict";function Y(xe,Ae){var Re={};for(var Ve in xe)Object.prototype.hasOwnProperty.call(xe,Ve)&&Ae.indexOf(Ve)<0&&(Re[Ve]=xe[Ve]);if(null!=xe&&"function"==typeof Object.getOwnPropertySymbols){var wt=0;for(Ve=Object.getOwnPropertySymbols(xe);wt<Ve.length;wt++)Ae.indexOf(Ve[wt])<0&&Object.prototype.propertyIsEnumerable.call(xe,Ve[wt])&&(Re[Ve[wt]]=xe[Ve[wt]])}return Re}function oe(xe,Ae,Re,Ve){return new(Re||(Re=Promise))(function(Dt,qt){function hn(pn){try{kt(Ve.next(pn))}catch(An){qt(An)}}function fn(pn){try{kt(Ve.throw(pn))}catch(An){qt(An)}}function kt(pn){pn.done?Dt(pn.value):function wt(Dt){return Dt instanceof Re?Dt:new Re(function(qt){qt(Dt)})}(pn.value).then(hn,fn)}kt((Ve=Ve.apply(xe,Ae||[])).next())})}function Je(xe){return this instanceof Je?(this.v=xe,this):new Je(xe)}function Me(xe,Ae,Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var wt,Ve=Re.apply(xe,Ae||[]),Dt=[];return wt={},qt("next"),qt("throw"),qt("return"),wt[Symbol.asyncIterator]=function(){return this},wt;function qt(kn){Ve[kn]&&(wt[kn]=function(Dn){return new Promise(function(Sn,ke){Dt.push([kn,Dn,Sn,ke])>1||hn(kn,Dn)})})}function hn(kn,Dn){try{!function fn(kn){kn.value instanceof Je?Promise.resolve(kn.value.v).then(kt,pn):An(Dt[0][2],kn)}(Ve[kn](Dn))}catch(Sn){An(Dt[0][3],Sn)}}function kt(kn){hn("next",kn)}function pn(kn){hn("throw",kn)}function An(kn,Dn){kn(Dn),Dt.shift(),Dt.length&&hn(Dt[0][0],Dt[0][1])}}function mt(xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,Ae=xe[Symbol.asyncIterator];return Ae?Ae.call(xe):(xe=function de(xe){var Ae="function"==typeof Symbol&&Symbol.iterator,Re=Ae&&xe[Ae],Ve=0;if(Re)return Re.call(xe);if(xe&&"number"==typeof xe.length)return{next:function(){return xe&&Ve>=xe.length&&(xe=void 0),{value:xe&&xe[Ve++],done:!xe}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(xe),Re={},Ve("next"),Ve("throw"),Ve("return"),Re[Symbol.asyncIterator]=function(){return this},Re);function Ve(Dt){Re[Dt]=xe[Dt]&&function(qt){return new Promise(function(hn,fn){!function wt(Dt,qt,hn,fn){Promise.resolve(fn).then(function(kt){Dt({value:kt,done:hn})},qt)}(hn,fn,(qt=xe[Dt](qt)).done,qt.value)})}}}C.d(ae,{FC:()=>Me,KL:()=>mt,_T:()=>Y,mG:()=>oe,qq:()=>Je})},6895:(Ie,ae,C)=>{"use strict";C.d(ae,{Do:()=>mt,ED:()=>ns,EM:()=>eo,HT:()=>G,JF:()=>Yi,K0:()=>Q,Mx:()=>Ki,NF:()=>vi,O5:()=>yr,Ov:()=>sr,PM:()=>is,RF:()=>Vi,S$:()=>Je,V_:()=>X,Ye:()=>lt,b0:()=>bt,bD:()=>ii,ez:()=>zo,mk:()=>Gn,n9:()=>ts,q:()=>M,sg:()=>ri,tP:()=>ct,uU:()=>jo,w_:()=>ee});var f=C(4650);let m=null;function M(){return m}function G(x){m||(m=x)}class ee{}const Q=new f.OlP("DocumentToken");let oe=(()=>{class x{historyGo(R){throw new Error("Not implemented")}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275prov=f.Yz7({token:x,factory:function(){return function ce(){return(0,f.LFG)(ne)}()},providedIn:"platform"}),x})();const X=new f.OlP("Location Initialized");let ne=(()=>{class x extends oe{constructor(R){super(),this._doc=R,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return M().getBaseHref(this._doc)}onPopState(R){const W=M().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",R,!1),()=>W.removeEventListener("popstate",R)}onHashChange(R){const W=M().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",R,!1),()=>W.removeEventListener("hashchange",R)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(R){this.location.pathname=R}pushState(R,W,_e){de()?this._history.pushState(R,W,_e):this.location.hash=_e}replaceState(R,W,_e){de()?this._history.replaceState(R,W,_e):this.location.hash=_e}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}}return x.\u0275fac=function(R){return new(R||x)(f.LFG(Q))},x.\u0275prov=f.Yz7({token:x,factory:function(){return function Ke(){return new ne((0,f.LFG)(Q))}()},providedIn:"platform"}),x})();function de(){return!!window.history.pushState}function Ue(x,j){if(0==x.length)return j;if(0==j.length)return x;let R=0;return x.endsWith("/")&&R++,j.startsWith("/")&&R++,2==R?x+j.substring(1):1==R?x+j:x+"/"+j}function Ge(x){const j=x.match(/#|\?|$/),R=j&&j.index||x.length;return x.slice(0,R-("/"===x[R-1]?1:0))+x.slice(R)}function vt(x){return x&&"?"!==x[0]?"?"+x:x}let Je=(()=>{class x{historyGo(R){throw new Error("Not implemented")}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275prov=f.Yz7({token:x,factory:function(){return(0,f.f3M)(bt)},providedIn:"root"}),x})();const Me=new f.OlP("appBaseHref");let bt=(()=>{class x extends Je{constructor(R,W){super(),this._platformLocation=R,this._removeListenerFns=[],this._baseHref=W??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(Q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return Ue(this._baseHref,R)}path(R=!1){const W=this._platformLocation.pathname+vt(this._platformLocation.search),_e=this._platformLocation.hash;return _e&&R?`${W}${_e}`:W}pushState(R,W,_e,rt){const pt=this.prepareExternalUrl(_e+vt(rt));this._platformLocation.pushState(R,W,pt)}replaceState(R,W,_e,rt){const pt=this.prepareExternalUrl(_e+vt(rt));this._platformLocation.replaceState(R,W,pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return x.\u0275fac=function(R){return new(R||x)(f.LFG(oe),f.LFG(Me,8))},x.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),mt=(()=>{class x extends Je{constructor(R,W){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(R){const W=Ue(this._baseHref,R);return W.length>0?"#"+W:W}pushState(R,W,_e,rt){let pt=this.prepareExternalUrl(_e+vt(rt));0==pt.length&&(pt=this._platformLocation.pathname),this._platformLocation.pushState(R,W,pt)}replaceState(R,W,_e,rt){let pt=this.prepareExternalUrl(_e+vt(rt));0==pt.length&&(pt=this._platformLocation.pathname),this._platformLocation.replaceState(R,W,pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return x.\u0275fac=function(R){return new(R||x)(f.LFG(oe),f.LFG(Me,8))},x.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac}),x})(),lt=(()=>{class x{constructor(R){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=R;const W=this._locationStrategy.getBaseHref();this._baseHref=Ge(ut(W)),this._locationStrategy.onPopState(_e=>{this._subject.emit({url:this.path(!0),pop:!0,state:_e.state,type:_e.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(R=!1){return this.normalize(this._locationStrategy.path(R))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(R,W=""){return this.path()==this.normalize(R+vt(W))}normalize(R){return x.stripTrailingSlash(function We(x,j){return x&&j.startsWith(x)?j.substring(x.length):j}(this._baseHref,ut(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._locationStrategy.prepareExternalUrl(R)}go(R,W="",_e=null){this._locationStrategy.pushState(_e,"",R,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+vt(W)),_e)}replaceState(R,W="",_e=null){this._locationStrategy.replaceState(_e,"",R,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+vt(W)),_e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(R=0){this._locationStrategy.historyGo?.(R)}onUrlChange(R){return this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)})),()=>{const W=this._urlChangeListeners.indexOf(R);this._urlChangeListeners.splice(W,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(R="",W){this._urlChangeListeners.forEach(_e=>_e(R,W))}subscribe(R,W,_e){return this._subject.subscribe({next:R,error:W,complete:_e})}}return x.normalizeQueryParams=vt,x.joinWithSlash=Ue,x.stripTrailingSlash=Ge,x.\u0275fac=function(R){return new(R||x)(f.LFG(Je))},x.\u0275prov=f.Yz7({token:x,factory:function(){return function it(){return new lt((0,f.LFG)(Je))}()},providedIn:"root"}),x})();function ut(x){return x.replace(/\/index.html$/,"")}var xe=(()=>((xe=xe||{})[xe.Format=0]="Format",xe[xe.Standalone=1]="Standalone",xe))(),Ae=(()=>((Ae=Ae||{})[Ae.Narrow=0]="Narrow",Ae[Ae.Abbreviated=1]="Abbreviated",Ae[Ae.Wide=2]="Wide",Ae[Ae.Short=3]="Short",Ae))(),Re=(()=>((Re=Re||{})[Re.Short=0]="Short",Re[Re.Medium=1]="Medium",Re[Re.Long=2]="Long",Re[Re.Full=3]="Full",Re))(),Ve=(()=>((Ve=Ve||{})[Ve.Decimal=0]="Decimal",Ve[Ve.Group=1]="Group",Ve[Ve.List=2]="List",Ve[Ve.PercentSign=3]="PercentSign",Ve[Ve.PlusSign=4]="PlusSign",Ve[Ve.MinusSign=5]="MinusSign",Ve[Ve.Exponential=6]="Exponential",Ve[Ve.SuperscriptingExponent=7]="SuperscriptingExponent",Ve[Ve.PerMille=8]="PerMille",Ve[Ve.Infinity=9]="Infinity",Ve[Ve.NaN=10]="NaN",Ve[Ve.TimeSeparator=11]="TimeSeparator",Ve[Ve.CurrencyDecimal=12]="CurrencyDecimal",Ve[Ve.CurrencyGroup=13]="CurrencyGroup",Ve))();function kn(x,j){return ot((0,f.cg1)(x)[f.wAp.DateFormat],j)}function Dn(x,j){return ot((0,f.cg1)(x)[f.wAp.TimeFormat],j)}function Sn(x,j){return ot((0,f.cg1)(x)[f.wAp.DateTimeFormat],j)}function ke(x,j){const R=(0,f.cg1)(x),W=R[f.wAp.NumberSymbols][j];if(typeof W>"u"){if(j===Ve.CurrencyDecimal)return R[f.wAp.NumberSymbols][Ve.Decimal];if(j===Ve.CurrencyGroup)return R[f.wAp.NumberSymbols][Ve.Group]}return W}function Kt(x){if(!x[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${x[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ot(x,j){for(let R=j;R>-1;R--)if(typeof x[R]<"u")return x[R];throw new Error("Locale data API: locale data undefined")}function Zt(x){const[j,R]=x.split(":");return{hours:+j,minutes:+R}}const bn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Gt={},Ne=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var me=(()=>((me=me||{})[me.Short=0]="Short",me[me.ShortGMT=1]="ShortGMT",me[me.Long=2]="Long",me[me.Extended=3]="Extended",me))(),se=(()=>((se=se||{})[se.FullYear=0]="FullYear",se[se.Month=1]="Month",se[se.Date=2]="Date",se[se.Hours=3]="Hours",se[se.Minutes=4]="Minutes",se[se.Seconds=5]="Seconds",se[se.FractionalSeconds=6]="FractionalSeconds",se[se.Day=7]="Day",se))(),ze=(()=>((ze=ze||{})[ze.DayPeriods=0]="DayPeriods",ze[ze.Days=1]="Days",ze[ze.Months=2]="Months",ze[ze.Eras=3]="Eras",ze))();function Pe(x,j,R,W){let _e=function re(x){if(_t(x))return x;if("number"==typeof x&&!isNaN(x))return new Date(x);if("string"==typeof x){if(x=x.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(x)){const[_e,rt=1,pt=1]=x.split("-").map(sn=>+sn);return Vt(_e,rt-1,pt)}const R=parseFloat(x);if(!isNaN(x-R))return new Date(R);let W;if(W=x.match(bn))return function Be(x){const j=new Date(0);let R=0,W=0;const _e=x[8]?j.setUTCFullYear:j.setFullYear,rt=x[8]?j.setUTCHours:j.setHours;x[9]&&(R=Number(x[9]+x[10]),W=Number(x[9]+x[11])),_e.call(j,Number(x[1]),Number(x[2])-1,Number(x[3]));const pt=Number(x[4]||0)-R,sn=Number(x[5]||0)-W,Kn=Number(x[6]||0),tr=Math.floor(1e3*parseFloat("0."+(x[7]||0)));return rt.call(j,pt,sn,Kn,tr),j}(W)}const j=new Date(x);if(!_t(j))throw new Error(`Unable to convert "${x}" into a date`);return j}(x);j=Rt(R,j)||j;let sn,pt=[];for(;j;){if(sn=Ne.exec(j),!sn){pt.push(j);break}{pt=pt.concat(sn.slice(1));const Yn=pt.pop();if(!Yn)break;j=Yn}}let Kn=_e.getTimezoneOffset();W&&(Kn=De(W,Kn),_e=function H(x,j,R){const W=R?-1:1,_e=x.getTimezoneOffset();return function pe(x,j){return(x=new Date(x.getTime())).setMinutes(x.getMinutes()+j),x}(x,W*(De(j,_e)-_e))}(_e,W,!0));let tr="";return pt.forEach(Yn=>{const Bn=function ye(x){if(be[x])return be[x];let j;switch(x){case"G":case"GG":case"GGG":j=ln(ze.Eras,Ae.Abbreviated);break;case"GGGG":j=ln(ze.Eras,Ae.Wide);break;case"GGGGG":j=ln(ze.Eras,Ae.Narrow);break;case"y":j=Jt(se.FullYear,1,0,!1,!0);break;case"yy":j=Jt(se.FullYear,2,0,!0,!0);break;case"yyy":j=Jt(se.FullYear,3,0,!1,!0);break;case"yyyy":j=Jt(se.FullYear,4,0,!1,!0);break;case"Y":j=wn(1);break;case"YY":j=wn(2,!0);break;case"YYY":j=wn(3);break;case"YYYY":j=wn(4);break;case"M":case"L":j=Jt(se.Month,1,1);break;case"MM":case"LL":j=Jt(se.Month,2,1);break;case"MMM":j=ln(ze.Months,Ae.Abbreviated);break;case"MMMM":j=ln(ze.Months,Ae.Wide);break;case"MMMMM":j=ln(ze.Months,Ae.Narrow);break;case"LLL":j=ln(ze.Months,Ae.Abbreviated,xe.Standalone);break;case"LLLL":j=ln(ze.Months,Ae.Wide,xe.Standalone);break;case"LLLLL":j=ln(ze.Months,Ae.Narrow,xe.Standalone);break;case"w":j=un(1);break;case"ww":j=un(2);break;case"W":j=un(1,!0);break;case"d":j=Jt(se.Date,1);break;case"dd":j=Jt(se.Date,2);break;case"c":case"cc":j=Jt(se.Day,1);break;case"ccc":j=ln(ze.Days,Ae.Abbreviated,xe.Standalone);break;case"cccc":j=ln(ze.Days,Ae.Wide,xe.Standalone);break;case"ccccc":j=ln(ze.Days,Ae.Narrow,xe.Standalone);break;case"cccccc":j=ln(ze.Days,Ae.Short,xe.Standalone);break;case"E":case"EE":case"EEE":j=ln(ze.Days,Ae.Abbreviated);break;case"EEEE":j=ln(ze.Days,Ae.Wide);break;case"EEEEE":j=ln(ze.Days,Ae.Narrow);break;case"EEEEEE":j=ln(ze.Days,Ae.Short);break;case"a":case"aa":case"aaa":j=ln(ze.DayPeriods,Ae.Abbreviated);break;case"aaaa":j=ln(ze.DayPeriods,Ae.Wide);break;case"aaaaa":j=ln(ze.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":j=ln(ze.DayPeriods,Ae.Abbreviated,xe.Standalone,!0);break;case"bbbb":j=ln(ze.DayPeriods,Ae.Wide,xe.Standalone,!0);break;case"bbbbb":j=ln(ze.DayPeriods,Ae.Narrow,xe.Standalone,!0);break;case"B":case"BB":case"BBB":j=ln(ze.DayPeriods,Ae.Abbreviated,xe.Format,!0);break;case"BBBB":j=ln(ze.DayPeriods,Ae.Wide,xe.Format,!0);break;case"BBBBB":j=ln(ze.DayPeriods,Ae.Narrow,xe.Format,!0);break;case"h":j=Jt(se.Hours,1,-12);break;case"hh":j=Jt(se.Hours,2,-12);break;case"H":j=Jt(se.Hours,1);break;case"HH":j=Jt(se.Hours,2);break;case"m":j=Jt(se.Minutes,1);break;case"mm":j=Jt(se.Minutes,2);break;case"s":j=Jt(se.Seconds,1);break;case"ss":j=Jt(se.Seconds,2);break;case"S":j=Jt(se.FractionalSeconds,1);break;case"SS":j=Jt(se.FractionalSeconds,2);break;case"SSS":j=Jt(se.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":j=At(me.Short);break;case"ZZZZZ":j=At(me.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":j=At(me.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":j=At(me.Long);break;default:return null}return be[x]=j,j}(Yn);tr+=Bn?Bn(_e,R,Kn):"''"===Yn?"'":Yn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),tr}function Vt(x,j,R){const W=new Date(0);return W.setFullYear(x,j,R),W.setHours(0,0,0),W}function Rt(x,j){const R=function Dt(x){return(0,f.cg1)(x)[f.wAp.LocaleId]}(x);if(Gt[R]=Gt[R]||{},Gt[R][j])return Gt[R][j];let W="";switch(j){case"shortDate":W=kn(x,Re.Short);break;case"mediumDate":W=kn(x,Re.Medium);break;case"longDate":W=kn(x,Re.Long);break;case"fullDate":W=kn(x,Re.Full);break;case"shortTime":W=Dn(x,Re.Short);break;case"mediumTime":W=Dn(x,Re.Medium);break;case"longTime":W=Dn(x,Re.Long);break;case"fullTime":W=Dn(x,Re.Full);break;case"short":const _e=Rt(x,"shortTime"),rt=Rt(x,"shortDate");W=gn(Sn(x,Re.Short),[_e,rt]);break;case"medium":const pt=Rt(x,"mediumTime"),sn=Rt(x,"mediumDate");W=gn(Sn(x,Re.Medium),[pt,sn]);break;case"long":const Kn=Rt(x,"longTime"),tr=Rt(x,"longDate");W=gn(Sn(x,Re.Long),[Kn,tr]);break;case"full":const Yn=Rt(x,"fullTime"),Bn=Rt(x,"fullDate");W=gn(Sn(x,Re.Full),[Yn,Bn])}return W&&(Gt[R][j]=W),W}function gn(x,j){return j&&(x=x.replace(/\{([^}]+)}/g,function(R,W){return null!=j&&W in j?j[W]:R})),x}function xt(x,j,R="-",W,_e){let rt="";(x<0||_e&&x<=0)&&(_e?x=1-x:(x=-x,rt=R));let pt=String(x);for(;pt.length<j;)pt="0"+pt;return W&&(pt=pt.slice(pt.length-j)),rt+pt}function Jt(x,j,R=0,W=!1,_e=!1){return function(rt,pt){let sn=function xn(x,j){switch(x){case se.FullYear:return j.getFullYear();case se.Month:return j.getMonth();case se.Date:return j.getDate();case se.Hours:return j.getHours();case se.Minutes:return j.getMinutes();case se.Seconds:return j.getSeconds();case se.FractionalSeconds:return j.getMilliseconds();case se.Day:return j.getDay();default:throw new Error(`Unknown DateType value "${x}".`)}}(x,rt);if((R>0||sn>-R)&&(sn+=R),x===se.Hours)0===sn&&-12===R&&(sn=12);else if(x===se.FractionalSeconds)return function yn(x,j){return xt(x,3).substring(0,j)}(sn,j);const Kn=ke(pt,Ve.MinusSign);return xt(sn,j,Kn,W,_e)}}function ln(x,j,R=xe.Format,W=!1){return function(_e,rt){return function Ft(x,j,R,W,_e,rt){switch(R){case ze.Months:return function fn(x,j,R){const W=(0,f.cg1)(x),rt=ot([W[f.wAp.MonthsFormat],W[f.wAp.MonthsStandalone]],j);return ot(rt,R)}(j,_e,W)[x.getMonth()];case ze.Days:return function hn(x,j,R){const W=(0,f.cg1)(x),rt=ot([W[f.wAp.DaysFormat],W[f.wAp.DaysStandalone]],j);return ot(rt,R)}(j,_e,W)[x.getDay()];case ze.DayPeriods:const pt=x.getHours(),sn=x.getMinutes();if(rt){const tr=function ve(x){const j=(0,f.cg1)(x);return Kt(j),(j[f.wAp.ExtraData][2]||[]).map(W=>"string"==typeof W?Zt(W):[Zt(W[0]),Zt(W[1])])}(j),Yn=function Oe(x,j,R){const W=(0,f.cg1)(x);Kt(W);const rt=ot([W[f.wAp.ExtraData][0],W[f.wAp.ExtraData][1]],j)||[];return ot(rt,R)||[]}(j,_e,W),Bn=tr.findIndex(Ar=>{if(Array.isArray(Ar)){const[or,_r]=Ar,Es=pt>=or.hours&&sn>=or.minutes,ds=pt<_r.hours||pt===_r.hours&&sn<_r.minutes;if(or.hours<_r.hours){if(Es&&ds)return!0}else if(Es||ds)return!0}else if(Ar.hours===pt&&Ar.minutes===sn)return!0;return!1});if(-1!==Bn)return Yn[Bn]}return function qt(x,j,R){const W=(0,f.cg1)(x),rt=ot([W[f.wAp.DayPeriodsFormat],W[f.wAp.DayPeriodsStandalone]],j);return ot(rt,R)}(j,_e,W)[pt<12?0:1];case ze.Eras:return function kt(x,j){return ot((0,f.cg1)(x)[f.wAp.Eras],j)}(j,W)[x.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${R}`)}}(_e,rt,x,j,R,W)}}function At(x){return function(j,R,W){const _e=-1*W,rt=ke(R,Ve.MinusSign),pt=_e>0?Math.floor(_e/60):Math.ceil(_e/60);switch(x){case me.Short:return(_e>=0?"+":"")+xt(pt,2,rt)+xt(Math.abs(_e%60),2,rt);case me.ShortGMT:return"GMT"+(_e>=0?"+":"")+xt(pt,1,rt);case me.Long:return"GMT"+(_e>=0?"+":"")+xt(pt,2,rt)+":"+xt(Math.abs(_e%60),2,rt);case me.Extended:return 0===W?"Z":(_e>=0?"+":"")+xt(pt,2,rt)+":"+xt(Math.abs(_e%60),2,rt);default:throw new Error(`Unknown zone width "${x}"`)}}}function on(x){return Vt(x.getFullYear(),x.getMonth(),x.getDate()+(4-x.getDay()))}function un(x,j=!1){return function(R,W){let _e;if(j){const rt=new Date(R.getFullYear(),R.getMonth(),1).getDay()-1,pt=R.getDate();_e=1+Math.floor((pt+rt)/7)}else{const rt=on(R),pt=function St(x){const j=Vt(x,0,1).getDay();return Vt(x,0,1+(j<=4?4:11)-j)}(rt.getFullYear()),sn=rt.getTime()-pt.getTime();_e=1+Math.round(sn/6048e5)}return xt(_e,x,ke(W,Ve.MinusSign))}}function wn(x,j=!1){return function(R,W){return xt(on(R).getFullYear(),x,ke(W,Ve.MinusSign),j)}}const be={};function De(x,j){x=x.replace(/:/g,"");const R=Date.parse("Jan 01, 1970 00:00:00 "+x)/6e4;return isNaN(R)?j:R}function _t(x){return x instanceof Date&&!isNaN(x.valueOf())}function Ki(x,j){j=encodeURIComponent(j);for(const R of x.split(";")){const W=R.indexOf("="),[_e,rt]=-1==W?[R,""]:[R.slice(0,W),R.slice(W+1)];if(_e.trim()===j)return decodeURIComponent(rt)}return null}let Gn=(()=>{class x{constructor(R,W,_e,rt){this._iterableDiffers=R,this._keyValueDiffers=W,this._ngEl=_e,this._renderer=rt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(R){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof R?R.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(R){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof R?R.split(/\s+/):R,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const R=this._iterableDiffer.diff(this._rawClass);R&&this._applyIterableChanges(R)}else if(this._keyValueDiffer){const R=this._keyValueDiffer.diff(this._rawClass);R&&this._applyKeyValueChanges(R)}}_applyKeyValueChanges(R){R.forEachAddedItem(W=>this._toggleClass(W.key,W.currentValue)),R.forEachChangedItem(W=>this._toggleClass(W.key,W.currentValue)),R.forEachRemovedItem(W=>{W.previousValue&&this._toggleClass(W.key,!1)})}_applyIterableChanges(R){R.forEachAddedItem(W=>{if("string"!=typeof W.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(W.item)}`);this._toggleClass(W.item,!0)}),R.forEachRemovedItem(W=>this._toggleClass(W.item,!1))}_applyClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(W=>this._toggleClass(W,!0)):Object.keys(R).forEach(W=>this._toggleClass(W,!!R[W])))}_removeClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(W=>this._toggleClass(W,!1)):Object.keys(R).forEach(W=>this._toggleClass(W,!1)))}_toggleClass(R,W){(R=R.trim())&&R.split(/\s+/g).forEach(_e=>{W?this._renderer.addClass(this._ngEl.nativeElement,_e):this._renderer.removeClass(this._ngEl.nativeElement,_e)})}}return x.\u0275fac=function(R){return new(R||x)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},x.\u0275dir=f.lG2({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),x})();class Pi{constructor(j,R,W,_e){this.$implicit=j,this.ngForOf=R,this.index=W,this.count=_e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ri=(()=>{class x{constructor(R,W,_e){this._viewContainer=R,this._template=W,this._differs=_e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const W=this._viewContainer;R.forEachOperation((_e,rt,pt)=>{if(null==_e.previousIndex)W.createEmbeddedView(this._template,new Pi(_e.item,this._ngForOf,-1,-1),null===pt?void 0:pt);else if(null==pt)W.remove(null===rt?void 0:rt);else if(null!==rt){const sn=W.get(rt);W.move(sn,pt),Li(sn,_e)}});for(let _e=0,rt=W.length;_e<rt;_e++){const sn=W.get(_e).context;sn.index=_e,sn.count=rt,sn.ngForOf=this._ngForOf}R.forEachIdentityChange(_e=>{Li(W.get(_e.currentIndex),_e)})}static ngTemplateContextGuard(R,W){return!0}}return x.\u0275fac=function(R){return new(R||x)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},x.\u0275dir=f.lG2({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),x})();function Li(x,j){x.context.$implicit=j.item}let yr=(()=>{class x{constructor(R,W){this._viewContainer=R,this._context=new Fi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){vr("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){vr("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,W){return!0}}return x.\u0275fac=function(R){return new(R||x)(f.Y36(f.s_b),f.Y36(f.Rgc))},x.\u0275dir=f.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),x})();class Fi{constructor(){this.$implicit=null,this.ngIf=null}}function vr(x,j){if(j&&!j.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,f.AaK)(j)}'.`)}class Hr{constructor(j,R){this._viewContainerRef=j,this._templateRef=R,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(j){j&&!this._created?this.create():!j&&this._created&&this.destroy()}}let Vi=(()=>{class x{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(R){this._ngSwitch=R,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(R){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(R)}_matchCase(R){const W=R==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||W,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),W}_updateDefaultCases(R){if(this._defaultViews&&R!==this._defaultUsed){this._defaultUsed=R;for(let W=0;W<this._defaultViews.length;W++)this._defaultViews[W].enforceState(R)}}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275dir=f.lG2({type:x,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),x})(),ts=(()=>{class x{constructor(R,W,_e){this.ngSwitch=_e,_e._addCase(),this._view=new Hr(R,W)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return x.\u0275fac=function(R){return new(R||x)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Vi,9))},x.\u0275dir=f.lG2({type:x,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),x})(),ns=(()=>{class x{constructor(R,W,_e){_e._addDefault(new Hr(R,W))}}return x.\u0275fac=function(R){return new(R||x)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Vi,9))},x.\u0275dir=f.lG2({type:x,selectors:[["","ngSwitchDefault",""]],standalone:!0}),x})(),ct=(()=>{class x{constructor(R){this._viewContainerRef=R,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(R){if(R.ngTemplateOutlet||R.ngTemplateOutletInjector){const W=this._viewContainerRef;if(this._viewRef&&W.remove(W.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:_e,ngTemplateOutletContext:rt,ngTemplateOutletInjector:pt}=this;this._viewRef=W.createEmbeddedView(_e,rt,pt?{injector:pt}:void 0)}else this._viewRef=null}else this._viewRef&&R.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return x.\u0275fac=function(R){return new(R||x)(f.Y36(f.s_b))},x.\u0275dir=f.lG2({type:x,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[f.TTD]}),x})();function Ot(x,j){return new f.vHH(2100,!1)}class Qn{createSubscription(j,R){return j.subscribe({next:R,error:W=>{throw W}})}dispose(j){j.unsubscribe()}}class ir{createSubscription(j,R){return j.then(R,W=>{throw W})}dispose(j){}}const Dr=new ir,Zr=new Qn;let sr=(()=>{class x{constructor(R){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=R}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(R){return this._obj?R!==this._obj?(this._dispose(),this.transform(R)):this._latestValue:(R&&this._subscribe(R),this._latestValue)}_subscribe(R){this._obj=R,this._strategy=this._selectStrategy(R),this._subscription=this._strategy.createSubscription(R,W=>this._updateLatestValue(R,W))}_selectStrategy(R){if((0,f.QGY)(R))return Dr;if((0,f.F4k)(R))return Zr;throw Ot()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(R,W){R===this._obj&&(this._latestValue=W,this._ref.markForCheck())}}return x.\u0275fac=function(R){return new(R||x)(f.Y36(f.sBO,16))},x.\u0275pipe=f.Yjl({name:"async",type:x,pure:!1,standalone:!0}),x})();const Da=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let jo=(()=>{class x{constructor(R,W){this.locale=R,this.defaultTimezone=W}transform(R,W="mediumDate",_e,rt){if(null==R||""===R||R!=R)return null;try{return Pe(R,W,rt||this.locale,_e??this.defaultTimezone??void 0)}catch(pt){throw Ot()}}}return x.\u0275fac=function(R){return new(R||x)(f.Y36(f.soG,16),f.Y36(Da,24))},x.\u0275pipe=f.Yjl({name:"date",type:x,pure:!0,standalone:!0}),x})(),zo=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=f.oAB({type:x}),x.\u0275inj=f.cJS({}),x})();const ii="browser";function vi(x){return x===ii}function is(x){return"server"===x}let eo=(()=>{class x{}return x.\u0275prov=(0,f.Yz7)({token:x,providedIn:"root",factory:()=>new sa((0,f.LFG)(Q),window)}),x})();class sa{constructor(j,R){this.document=j,this.window=R,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const R=function Tr(x,j){const R=x.getElementById(j)||x.getElementsByName(j)[0];if(R)return R;if("function"==typeof x.createTreeWalker&&x.body&&(x.body.createShadowRoot||x.body.attachShadow)){const W=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let _e=W.currentNode;for(;_e;){const rt=_e.shadowRoot;if(rt){const pt=rt.getElementById(j)||rt.querySelector(`[name="${j}"]`);if(pt)return pt}_e=W.nextNode()}}return null}(this.document,j);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration(j){if(this.supportScrollRestoration()){const R=this.window.history;R&&R.scrollRestoration&&(R.scrollRestoration=j)}}scrollToElement(j){const R=j.getBoundingClientRect(),W=R.left+this.window.pageXOffset,_e=R.top+this.window.pageYOffset,rt=this.offset();this.window.scrollTo(W-rt[0],_e-rt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const j=di(this.window.history)||di(Object.getPrototypeOf(this.window.history));return!(!j||!j.writable&&!j.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function di(x){return Object.getOwnPropertyDescriptor(x,"scrollRestoration")}class Yi{}},529:(Ie,ae,C)=>{"use strict";C.d(ae,{JF:()=>Tt,LE:()=>Me,eN:()=>Dt});var f=C(6895),m=C(4650),M=C(9646),Y=C(9751),G=C(4351),ee=C(9300),Q=C(4004);class oe{}class ce{}class X{constructor(me){this.normalizedNames=new Map,this.lazyUpdate=null,me?this.lazyInit="string"==typeof me?()=>{this.headers=new Map,me.split("\n").forEach(se=>{const ze=se.indexOf(":");if(ze>0){const Pe=se.slice(0,ze),Vt=Pe.toLowerCase(),Rt=se.slice(ze+1).trim();this.maybeSetNormalizedName(Pe,Vt),this.headers.has(Vt)?this.headers.get(Vt).push(Rt):this.headers.set(Vt,[Rt])}})}:()=>{this.headers=new Map,Object.keys(me).forEach(se=>{let ze=me[se];const Pe=se.toLowerCase();"string"==typeof ze&&(ze=[ze]),ze.length>0&&(this.headers.set(Pe,ze),this.maybeSetNormalizedName(se,Pe))})}:this.headers=new Map}has(me){return this.init(),this.headers.has(me.toLowerCase())}get(me){this.init();const se=this.headers.get(me.toLowerCase());return se&&se.length>0?se[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(me){return this.init(),this.headers.get(me.toLowerCase())||null}append(me,se){return this.clone({name:me,value:se,op:"a"})}set(me,se){return this.clone({name:me,value:se,op:"s"})}delete(me,se){return this.clone({name:me,value:se,op:"d"})}maybeSetNormalizedName(me,se){this.normalizedNames.has(se)||this.normalizedNames.set(se,me)}init(){this.lazyInit&&(this.lazyInit instanceof X?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(me=>this.applyUpdate(me)),this.lazyUpdate=null))}copyFrom(me){me.init(),Array.from(me.headers.keys()).forEach(se=>{this.headers.set(se,me.headers.get(se)),this.normalizedNames.set(se,me.normalizedNames.get(se))})}clone(me){const se=new X;return se.lazyInit=this.lazyInit&&this.lazyInit instanceof X?this.lazyInit:this,se.lazyUpdate=(this.lazyUpdate||[]).concat([me]),se}applyUpdate(me){const se=me.name.toLowerCase();switch(me.op){case"a":case"s":let ze=me.value;if("string"==typeof ze&&(ze=[ze]),0===ze.length)return;this.maybeSetNormalizedName(me.name,se);const Pe=("a"===me.op?this.headers.get(se):void 0)||[];Pe.push(...ze),this.headers.set(se,Pe);break;case"d":const Vt=me.value;if(Vt){let Rt=this.headers.get(se);if(!Rt)return;Rt=Rt.filter(gn=>-1===Vt.indexOf(gn)),0===Rt.length?(this.headers.delete(se),this.normalizedNames.delete(se)):this.headers.set(se,Rt)}else this.headers.delete(se),this.normalizedNames.delete(se)}}forEach(me){this.init(),Array.from(this.normalizedNames.keys()).forEach(se=>me(this.normalizedNames.get(se),this.headers.get(se)))}}class de{encodeKey(me){return vt(me)}encodeValue(me){return vt(me)}decodeKey(me){return decodeURIComponent(me)}decodeValue(me){return decodeURIComponent(me)}}const Ue=/%(\d[a-f0-9])/gi,Ge={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vt(Ne){return encodeURIComponent(Ne).replace(Ue,(me,se)=>Ge[se]??me)}function Je(Ne){return`${Ne}`}class Me{constructor(me={}){if(this.updates=null,this.cloneFrom=null,this.encoder=me.encoder||new de,me.fromString){if(me.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ke(Ne,me){const se=new Map;return Ne.length>0&&Ne.replace(/^\?/,"").split("&").forEach(Pe=>{const Vt=Pe.indexOf("="),[Rt,gn]=-1==Vt?[me.decodeKey(Pe),""]:[me.decodeKey(Pe.slice(0,Vt)),me.decodeValue(Pe.slice(Vt+1))],xt=se.get(Rt)||[];xt.push(gn),se.set(Rt,xt)}),se}(me.fromString,this.encoder)}else me.fromObject?(this.map=new Map,Object.keys(me.fromObject).forEach(se=>{const ze=me.fromObject[se],Pe=Array.isArray(ze)?ze.map(Je):[Je(ze)];this.map.set(se,Pe)})):this.map=null}has(me){return this.init(),this.map.has(me)}get(me){this.init();const se=this.map.get(me);return se?se[0]:null}getAll(me){return this.init(),this.map.get(me)||null}keys(){return this.init(),Array.from(this.map.keys())}append(me,se){return this.clone({param:me,value:se,op:"a"})}appendAll(me){const se=[];return Object.keys(me).forEach(ze=>{const Pe=me[ze];Array.isArray(Pe)?Pe.forEach(Vt=>{se.push({param:ze,value:Vt,op:"a"})}):se.push({param:ze,value:Pe,op:"a"})}),this.clone(se)}set(me,se){return this.clone({param:me,value:se,op:"s"})}delete(me,se){return this.clone({param:me,value:se,op:"d"})}toString(){return this.init(),this.keys().map(me=>{const se=this.encoder.encodeKey(me);return this.map.get(me).map(ze=>se+"="+this.encoder.encodeValue(ze)).join("&")}).filter(me=>""!==me).join("&")}clone(me){const se=new Me({encoder:this.encoder});return se.cloneFrom=this.cloneFrom||this,se.updates=(this.updates||[]).concat(me),se}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(me=>this.map.set(me,this.cloneFrom.map.get(me))),this.updates.forEach(me=>{switch(me.op){case"a":case"s":const se=("a"===me.op?this.map.get(me.param):void 0)||[];se.push(Je(me.value)),this.map.set(me.param,se);break;case"d":if(void 0===me.value){this.map.delete(me.param);break}{let ze=this.map.get(me.param)||[];const Pe=ze.indexOf(Je(me.value));-1!==Pe&&ze.splice(Pe,1),ze.length>0?this.map.set(me.param,ze):this.map.delete(me.param)}}}),this.cloneFrom=this.updates=null)}}class mt{constructor(){this.map=new Map}set(me,se){return this.map.set(me,se),this}get(me){return this.map.has(me)||this.map.set(me,me.defaultValue()),this.map.get(me)}delete(me){return this.map.delete(me),this}has(me){return this.map.has(me)}keys(){return this.map.keys()}}function it(Ne){return typeof ArrayBuffer<"u"&&Ne instanceof ArrayBuffer}function We(Ne){return typeof Blob<"u"&&Ne instanceof Blob}function ut(Ne){return typeof FormData<"u"&&Ne instanceof FormData}class $e{constructor(me,se,ze,Pe){let Vt;if(this.url=se,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=me.toUpperCase(),function lt(Ne){switch(Ne){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Pe?(this.body=void 0!==ze?ze:null,Vt=Pe):Vt=ze,Vt&&(this.reportProgress=!!Vt.reportProgress,this.withCredentials=!!Vt.withCredentials,Vt.responseType&&(this.responseType=Vt.responseType),Vt.headers&&(this.headers=Vt.headers),Vt.context&&(this.context=Vt.context),Vt.params&&(this.params=Vt.params)),this.headers||(this.headers=new X),this.context||(this.context=new mt),this.params){const Rt=this.params.toString();if(0===Rt.length)this.urlWithParams=se;else{const gn=se.indexOf("?");this.urlWithParams=se+(-1===gn?"?":gn<se.length-1?"&":"")+Rt}}else this.params=new Me,this.urlWithParams=se}serializeBody(){return null===this.body?null:it(this.body)||We(this.body)||ut(this.body)||function Ce(Ne){return typeof URLSearchParams<"u"&&Ne instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Me?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ut(this.body)?null:We(this.body)?this.body.type||null:it(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Me?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(me={}){const se=me.method||this.method,ze=me.url||this.url,Pe=me.responseType||this.responseType,Vt=void 0!==me.body?me.body:this.body,Rt=void 0!==me.withCredentials?me.withCredentials:this.withCredentials,gn=void 0!==me.reportProgress?me.reportProgress:this.reportProgress;let xt=me.headers||this.headers,yn=me.params||this.params;const Jt=me.context??this.context;return void 0!==me.setHeaders&&(xt=Object.keys(me.setHeaders).reduce((xn,ln)=>xn.set(ln,me.setHeaders[ln]),xt)),me.setParams&&(yn=Object.keys(me.setParams).reduce((xn,ln)=>xn.set(ln,me.setParams[ln]),yn)),new $e(se,ze,Vt,{params:yn,headers:xt,context:Jt,reportProgress:gn,responseType:Pe,withCredentials:Rt})}}var Qe=(()=>((Qe=Qe||{})[Qe.Sent=0]="Sent",Qe[Qe.UploadProgress=1]="UploadProgress",Qe[Qe.ResponseHeader=2]="ResponseHeader",Qe[Qe.DownloadProgress=3]="DownloadProgress",Qe[Qe.Response=4]="Response",Qe[Qe.User=5]="User",Qe))();class xe{constructor(me,se=200,ze="OK"){this.headers=me.headers||new X,this.status=void 0!==me.status?me.status:se,this.statusText=me.statusText||ze,this.url=me.url||null,this.ok=this.status>=200&&this.status<300}}class Ae extends xe{constructor(me={}){super(me),this.type=Qe.ResponseHeader}clone(me={}){return new Ae({headers:me.headers||this.headers,status:void 0!==me.status?me.status:this.status,statusText:me.statusText||this.statusText,url:me.url||this.url||void 0})}}class Re extends xe{constructor(me={}){super(me),this.type=Qe.Response,this.body=void 0!==me.body?me.body:null}clone(me={}){return new Re({body:void 0!==me.body?me.body:this.body,headers:me.headers||this.headers,status:void 0!==me.status?me.status:this.status,statusText:me.statusText||this.statusText,url:me.url||this.url||void 0})}}class Ve extends xe{constructor(me){super(me,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${me.url||"(unknown url)"}`:`Http failure response for ${me.url||"(unknown url)"}: ${me.status} ${me.statusText}`,this.error=me.error||null}}function wt(Ne,me){return{body:me,headers:Ne.headers,context:Ne.context,observe:Ne.observe,params:Ne.params,reportProgress:Ne.reportProgress,responseType:Ne.responseType,withCredentials:Ne.withCredentials}}let Dt=(()=>{class Ne{constructor(se){this.handler=se}request(se,ze,Pe={}){let Vt;if(se instanceof $e)Vt=se;else{let xt,yn;xt=Pe.headers instanceof X?Pe.headers:new X(Pe.headers),Pe.params&&(yn=Pe.params instanceof Me?Pe.params:new Me({fromObject:Pe.params})),Vt=new $e(se,ze,void 0!==Pe.body?Pe.body:null,{headers:xt,context:Pe.context,params:yn,reportProgress:Pe.reportProgress,responseType:Pe.responseType||"json",withCredentials:Pe.withCredentials})}const Rt=(0,M.of)(Vt).pipe((0,G.b)(xt=>this.handler.handle(xt)));if(se instanceof $e||"events"===Pe.observe)return Rt;const gn=Rt.pipe((0,ee.h)(xt=>xt instanceof Re));switch(Pe.observe||"body"){case"body":switch(Vt.responseType){case"arraybuffer":return gn.pipe((0,Q.U)(xt=>{if(null!==xt.body&&!(xt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return xt.body}));case"blob":return gn.pipe((0,Q.U)(xt=>{if(null!==xt.body&&!(xt.body instanceof Blob))throw new Error("Response is not a Blob.");return xt.body}));case"text":return gn.pipe((0,Q.U)(xt=>{if(null!==xt.body&&"string"!=typeof xt.body)throw new Error("Response is not a string.");return xt.body}));default:return gn.pipe((0,Q.U)(xt=>xt.body))}case"response":return gn;default:throw new Error(`Unreachable: unhandled observe type ${Pe.observe}}`)}}delete(se,ze={}){return this.request("DELETE",se,ze)}get(se,ze={}){return this.request("GET",se,ze)}head(se,ze={}){return this.request("HEAD",se,ze)}jsonp(se,ze){return this.request("JSONP",se,{params:(new Me).append(ze,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(se,ze={}){return this.request("OPTIONS",se,ze)}patch(se,ze,Pe={}){return this.request("PATCH",se,wt(Pe,ze))}post(se,ze,Pe={}){return this.request("POST",se,wt(Pe,ze))}put(se,ze,Pe={}){return this.request("PUT",se,wt(Pe,ze))}}return Ne.\u0275fac=function(se){return new(se||Ne)(m.LFG(oe))},Ne.\u0275prov=m.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();class qt{constructor(me,se){this.next=me,this.interceptor=se}handle(me){return this.interceptor.intercept(me,this.next)}}const hn=new m.OlP("HTTP_INTERCEPTORS");let fn=(()=>{class Ne{intercept(se,ze){return ze.handle(se)}}return Ne.\u0275fac=function(se){return new(se||Ne)},Ne.\u0275prov=m.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const dn=/^\)\]\}',?\n/;let dr=(()=>{class Ne{constructor(se){this.xhrFactory=se}handle(se){if("JSONP"===se.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Y.y(ze=>{const Pe=this.xhrFactory.build();if(Pe.open(se.method,se.urlWithParams),se.withCredentials&&(Pe.withCredentials=!0),se.headers.forEach((Ft,At)=>Pe.setRequestHeader(Ft,At.join(","))),se.headers.has("Accept")||Pe.setRequestHeader("Accept","application/json, text/plain, */*"),!se.headers.has("Content-Type")){const Ft=se.detectContentTypeHeader();null!==Ft&&Pe.setRequestHeader("Content-Type",Ft)}if(se.responseType){const Ft=se.responseType.toLowerCase();Pe.responseType="json"!==Ft?Ft:"text"}const Vt=se.serializeBody();let Rt=null;const gn=()=>{if(null!==Rt)return Rt;const Ft=Pe.statusText||"OK",At=new X(Pe.getAllResponseHeaders()),Nt=function Rn(Ne){return"responseURL"in Ne&&Ne.responseURL?Ne.responseURL:/^X-Request-URL:/m.test(Ne.getAllResponseHeaders())?Ne.getResponseHeader("X-Request-URL"):null}(Pe)||se.url;return Rt=new Ae({headers:At,status:Pe.status,statusText:Ft,url:Nt}),Rt},xt=()=>{let{headers:Ft,status:At,statusText:Nt,url:gt}=gn(),St=null;204!==At&&(St=typeof Pe.response>"u"?Pe.responseText:Pe.response),0===At&&(At=St?200:0);let on=At>=200&&At<300;if("json"===se.responseType&&"string"==typeof St){const un=St;St=St.replace(dn,"");try{St=""!==St?JSON.parse(St):null}catch(wn){St=un,on&&(on=!1,St={error:wn,text:St})}}on?(ze.next(new Re({body:St,headers:Ft,status:At,statusText:Nt,url:gt||void 0})),ze.complete()):ze.error(new Ve({error:St,headers:Ft,status:At,statusText:Nt,url:gt||void 0}))},yn=Ft=>{const{url:At}=gn(),Nt=new Ve({error:Ft,status:Pe.status||0,statusText:Pe.statusText||"Unknown Error",url:At||void 0});ze.error(Nt)};let Jt=!1;const xn=Ft=>{Jt||(ze.next(gn()),Jt=!0);let At={type:Qe.DownloadProgress,loaded:Ft.loaded};Ft.lengthComputable&&(At.total=Ft.total),"text"===se.responseType&&!!Pe.responseText&&(At.partialText=Pe.responseText),ze.next(At)},ln=Ft=>{let At={type:Qe.UploadProgress,loaded:Ft.loaded};Ft.lengthComputable&&(At.total=Ft.total),ze.next(At)};return Pe.addEventListener("load",xt),Pe.addEventListener("error",yn),Pe.addEventListener("timeout",yn),Pe.addEventListener("abort",yn),se.reportProgress&&(Pe.addEventListener("progress",xn),null!==Vt&&Pe.upload&&Pe.upload.addEventListener("progress",ln)),Pe.send(Vt),ze.next({type:Qe.Sent}),()=>{Pe.removeEventListener("error",yn),Pe.removeEventListener("abort",yn),Pe.removeEventListener("load",xt),Pe.removeEventListener("timeout",yn),se.reportProgress&&(Pe.removeEventListener("progress",xn),null!==Vt&&Pe.upload&&Pe.upload.removeEventListener("progress",ln)),Pe.readyState!==Pe.DONE&&Pe.abort()}})}}return Ne.\u0275fac=function(se){return new(se||Ne)(m.LFG(f.JF))},Ne.\u0275prov=m.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const rr=new m.OlP("XSRF_COOKIE_NAME"),Kt=new m.OlP("XSRF_HEADER_NAME");class ve{}let Oe=(()=>{class Ne{constructor(se,ze,Pe){this.doc=se,this.platform=ze,this.cookieName=Pe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const se=this.doc.cookie||"";return se!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(se,this.cookieName),this.lastCookieString=se),this.lastToken}}return Ne.\u0275fac=function(se){return new(se||Ne)(m.LFG(f.K0),m.LFG(m.Lbi),m.LFG(rr))},Ne.\u0275prov=m.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})(),qe=(()=>{class Ne{constructor(se,ze){this.tokenService=se,this.headerName=ze}intercept(se,ze){const Pe=se.url.toLowerCase();if("GET"===se.method||"HEAD"===se.method||Pe.startsWith("http://")||Pe.startsWith("https://"))return ze.handle(se);const Vt=this.tokenService.getToken();return null!==Vt&&!se.headers.has(this.headerName)&&(se=se.clone({headers:se.headers.set(this.headerName,Vt)})),ze.handle(se)}}return Ne.\u0275fac=function(se){return new(se||Ne)(m.LFG(ve),m.LFG(Kt))},Ne.\u0275prov=m.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})(),ot=(()=>{class Ne{constructor(se,ze){this.backend=se,this.injector=ze,this.chain=null}handle(se){if(null===this.chain){const ze=this.injector.get(hn,[]);this.chain=ze.reduceRight((Pe,Vt)=>new qt(Pe,Vt),this.backend)}return this.chain.handle(se)}}return Ne.\u0275fac=function(se){return new(se||Ne)(m.LFG(ce),m.LFG(m.zs3))},Ne.\u0275prov=m.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})(),Bt=(()=>{class Ne{static disable(){return{ngModule:Ne,providers:[{provide:qe,useClass:fn}]}}static withOptions(se={}){return{ngModule:Ne,providers:[se.cookieName?{provide:rr,useValue:se.cookieName}:[],se.headerName?{provide:Kt,useValue:se.headerName}:[]]}}}return Ne.\u0275fac=function(se){return new(se||Ne)},Ne.\u0275mod=m.oAB({type:Ne}),Ne.\u0275inj=m.cJS({providers:[qe,{provide:hn,useExisting:qe,multi:!0},{provide:ve,useClass:Oe},{provide:rr,useValue:"XSRF-TOKEN"},{provide:Kt,useValue:"X-XSRF-TOKEN"}]}),Ne})(),Tt=(()=>{class Ne{}return Ne.\u0275fac=function(se){return new(se||Ne)},Ne.\u0275mod=m.oAB({type:Ne}),Ne.\u0275inj=m.cJS({providers:[Dt,{provide:oe,useClass:ot},dr,{provide:ce,useExisting:dr}],imports:[Bt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ne})()},4650:(Ie,ae,C)=>{"use strict";C.d(ae,{$8M:()=>Zo,$Z:()=>xf,AFp:()=>Rb,ALo:()=>$_,AaK:()=>oe,Akn:()=>na,AsE:()=>cr,BQk:()=>op,CHM:()=>Rr,CRH:()=>bc,CZH:()=>h0,CqO:()=>nm,D6c:()=>JI,EJc:()=>fI,EpF:()=>ap,F$t:()=>Vv,F4k:()=>Nv,FYo:()=>Pc,FiY:()=>Or,G48:()=>NI,Gf:()=>cy,GfV:()=>dl,Gpc:()=>ne,Gre:()=>Ka,Hsn:()=>up,JOm:()=>gu,Jf7:()=>Bc,KtG:()=>Ti,LFG:()=>fe,LSH:()=>gr,Lbi:()=>cI,Lck:()=>dE,MAs:()=>cc,MMx:()=>Wm,NdJ:()=>rm,OlP:()=>wr,Oqu:()=>mp,PXZ:()=>SI,Q6J:()=>ip,QGY:()=>bh,QP$:()=>_t,Qsj:()=>Dy,R0b:()=>Eu,RDi:()=>Bd,Rgc:()=>Bh,SBq:()=>eh,Sil:()=>gI,Suo:()=>dy,TTD:()=>ui,TgZ:()=>sp,Tol:()=>pp,Udp:()=>Ch,VKq:()=>Zm,W1O:()=>t0,WLB:()=>Md,X6Q:()=>OI,XFs:()=>ot,Xpm:()=>gt,Xts:()=>zl,Y36:()=>_l,YKP:()=>k_,YNc:()=>rp,Yjl:()=>pe,Yz7:()=>Dn,Z0I:()=>qn,ZZ4:()=>qE,_Bn:()=>$m,_UZ:()=>Eh,_Vd:()=>Zl,_c5:()=>YI,_uU:()=>bm,aQg:()=>YE,c2e:()=>dI,cJS:()=>ke,cg1:()=>km,dDg:()=>DI,dqk:()=>Pe,eFA:()=>Wb,ekj:()=>gm,eoX:()=>Hb,f3M:()=>st,g9A:()=>Nb,h0i:()=>ia,hGG:()=>QI,hij:()=>fc,iGM:()=>ly,ifc:()=>ze,ip1:()=>kb,jDz:()=>fE,kL8:()=>n_,lG2:()=>De,lcZ:()=>ey,lqb:()=>Wl,lri:()=>Bb,n5z:()=>Wr,oAB:()=>wn,oJD:()=>Mn,oxw:()=>Fv,q4F:()=>ja,qLn:()=>Fc,qOj:()=>vh,qZA:()=>Ed,rWj:()=>jb,s9C:()=>Ih,sBO:()=>PI,sIi:()=>sc,s_b:()=>jh,soG:()=>f0,tBr:()=>vn,tb:()=>Pb,tp0:()=>Er,uIk:()=>Yf,vHH:()=>Ge,vpe:()=>_u,wAp:()=>On,xi3:()=>z_,xp6:()=>qc,ynx:()=>bd,z2F:()=>p0,zSh:()=>eg,zs3:()=>nc});var f=C(7579),m=C(727),M=C(9751),Y=C(6451),G=C(3099);function ee(n){for(let i in n)if(n[i]===ee)return i;throw Error("Could not find renamed property on target object.")}function Q(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ce(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const X=ee({__forward_ref__:ee});function ne(n){return n.__forward_ref__=ne,n.toString=function(){return oe(this())},n}function de(n){return Ke(n)?n():n}function Ke(n){return"function"==typeof n&&n.hasOwnProperty(X)&&n.__forward_ref__===ne}class Ge extends Error{constructor(i,o){super(function vt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function Je(n){return"string"==typeof n?n:null==n?"":String(n)}function it(n,i){throw new Ge(-201,!1)}function fn(n,i){null==n&&function kt(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function Dn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ke(n){return{providers:n.providers||[],imports:n.imports||[]}}function er(n){return dn(n,Kt)||dn(n,Oe)}function qn(n){return null!==er(n)}function dn(n,i){return n.hasOwnProperty(i)?n[i]:null}function rr(n){return n&&(n.hasOwnProperty(ve)||n.hasOwnProperty(qe))?n[ve]:null}const Kt=ee({\u0275prov:ee}),ve=ee({\u0275inj:ee}),Oe=ee({ngInjectableDef:ee}),qe=ee({ngInjectorDef:ee});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let Zt;function Bt(n){const i=Zt;return Zt=n,i}function Tt(n,i,o){const u=er(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&ot.Optional?null:void 0!==i?i:void it(oe(n))}function Gt(n){return{toString:n}.toString()}var Ne=(()=>((Ne=Ne||{})[Ne.OnPush=0]="OnPush",Ne[Ne.Default=1]="Default",Ne))(),ze=(()=>{return(n=ze||(ze={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ze;var n})();const Pe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gn={},xt=[],yn=ee({\u0275cmp:ee}),Jt=ee({\u0275dir:ee}),xn=ee({\u0275pipe:ee}),ln=ee({\u0275mod:ee}),Ft=ee({\u0275fac:ee}),At=ee({__NG_ELEMENT_ID__:ee});let Nt=0;function gt(n){return Gt(()=>{const o=!0===n.standalone,u={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ne.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||xt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ze.Emulated,id:"c"+Nt++,styles:n.styles||xt,_:null,setInput:null,schemas:n.schemas||null,tView:null},d=n.dependencies,y=n.features;return l.inputs=ye(n.inputs,u),l.outputs=ye(n.outputs),y&&y.forEach(I=>I(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(on).filter(un):null,l.pipeDefs=d?()=>("function"==typeof d?d():d).map(Be).filter(un):null,l})}function on(n){return H(n)||re(n)}function un(n){return null!==n}function wn(n){return Gt(()=>({type:n.type,bootstrap:n.bootstrap||xt,declarations:n.declarations||xt,imports:n.imports||xt,exports:n.exports||xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ye(n,i){if(null==n)return gn;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),o[l]=u,i&&(i[l]=d)}return o}const De=gt;function pe(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function H(n){return n[yn]||null}function re(n){return n[Jt]||null}function Be(n){return n[xn]||null}function _t(n){const i=H(n)||re(n)||Be(n);return null!==i&&i.standalone}function Pt(n,i){const o=n[ln]||null;if(!o&&!0===i)throw new Error(`Type ${oe(n)} does not have '\u0275mod' property.`);return o}function vr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Hr(n){return Array.isArray(n)&&!0===n[1]}function Vi(n){return 0!=(8&n.flags)}function ts(n){return 2==(2&n.flags)}function ns(n){return 1==(1&n.flags)}function Ir(n){return null!==n.template}function ge(n){return 0!=(256&n[2])}function Jr(n,i){return n.hasOwnProperty(Ft)?n[Ft]:null}class Ms{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function ui(){return xo}function xo(n){return n.type.prototype.ngOnChanges&&(n.setInput=vs),$o}function $o(){const n=rs(this),i=n?.current;if(i){const o=n.previous;if(o===gn)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function vs(n,i,o,u){const l=rs(n)||function zo(n,i){return n[To]=i}(n,{previous:gn,current:null}),d=l.current||(l.current={}),y=l.previous,I=this.declaredInputs[o],T=y[I];d[I]=new Ms(T&&T.currentValue,i,y===gn),n[u]=i}ui.ngInherit=!0;const To="__ngSimpleChanges__";function rs(n){return n[To]||null}function Fn(n){for(;Array.isArray(n);)n=n[0];return n}function di(n,i){return Fn(i[n])}function Tr(n,i){return Fn(i[n.index])}function Yi(n,i){return n.data[i]}function wi(n,i){return n[i]}function Jn(n,i){const o=i[n];return vr(o)?o:o[0]}function ss(n){return 64==(64&n[2])}function Sr(n,i){return null==i?null:n[i]}function an(n){n[18]=0}function Cr(n,i){n[5]+=i;let o=n,u=n[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const Lt={lFrame:ao(null),bindingsEnabled:!0};function as(){return Lt.bindingsEnabled}function yt(){return Lt.lFrame.lView}function Pn(){return Lt.lFrame.tView}function Rr(n){return Lt.lFrame.contextLView=n,n[8]}function Ti(n){return Lt.lFrame.contextLView=null,n}function Fr(){let n=Bi();for(;null!==n&&64===n.type;)n=n.parent;return n}function Bi(){return Lt.lFrame.currentTNode}function hi(n,i){const o=Lt.lFrame;o.currentTNode=n,o.isParent=i}function zr(){return Lt.lFrame.isParent}function ls(){Lt.lFrame.isParent=!1}function A(){const n=Lt.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function cn(){return Lt.lFrame.bindingIndex++}function $n(n){const i=Lt.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function Ei(n,i){const o=Lt.lFrame;o.bindingIndex=o.bindingRootIndex=n,cs(i)}function cs(n){Lt.lFrame.currentDirectiveIndex=n}function so(){return Lt.lFrame.currentQueryIndex}function Go(n){Lt.lFrame.currentQueryIndex=n}function oo(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function qa(n,i,o){if(o&ot.SkipSelf){let l=i,d=n;for(;!(l=l.parent,null!==l||o&ot.Host||(l=oo(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;i=l,n=d}const u=Lt.lFrame=Ca();return u.currentTNode=i,u.lView=n,!0}function ko(n){const i=Ca(),o=n[1];Lt.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Ca(){const n=Lt.lFrame,i=null===n?null:n.child;return null===i?ao(n):i}function ao(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function bu(){const n=Lt.lFrame;return Lt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const x=bu;function j(){const n=bu();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function _e(){return Lt.lFrame.selectedIndex}function rt(n){Lt.lFrame.selectedIndex=n}function pt(){const n=Lt.lFrame;return Yi(n.tView,n.selectedIndex)}function or(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const d=n.data[o].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:T,ngAfterViewChecked:V,ngOnDestroy:K}=d;y&&(n.contentHooks||(n.contentHooks=[])).push(-o,y),I&&((n.contentHooks||(n.contentHooks=[])).push(o,I),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,I)),T&&(n.viewHooks||(n.viewHooks=[])).push(-o,T),V&&((n.viewHooks||(n.viewHooks=[])).push(o,V),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,V)),null!=K&&(n.destroyHooks||(n.destroyHooks=[])).push(o,K)}}function _r(n,i,o){bs(n,i,3,o)}function Es(n,i,o,u){(3&n[2])===o&&bs(n,i,o,u)}function ds(n,i){let o=n[2];(3&o)===i&&(o&=2047,o+=1,n[2]=o)}function bs(n,i,o,u){const d=u??-1,y=i.length-1;let I=0;for(let T=void 0!==u?65535&n[18]:0;T<y;T++)if("number"==typeof i[T+1]){if(I=i[T],null!=u&&I>=u)break}else i[T]<0&&(n[18]+=65536),(I<d||-1==d)&&(Ks(n,o,i,T),n[18]=(4294901760&n[18])+T+2),T++}function Ks(n,i,o,u){const l=o[u]<0,d=o[u+1],I=n[l?-o[u]:o[u]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{d.call(I)}finally{}}}else try{d.call(I)}finally{}}class bi{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function qs(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const d=o[u++],y=o[u++],I=o[u++];n.setAttribute(i,y,I,d)}else{const d=l,y=o[++u];Du(d)?n.setProperty(i,d,y):n.setAttribute(i,d,y),u++}}return u}function Ta(n){return 3===n||4===n||6===n}function Du(n){return 64===n.charCodeAt(0)}function ua(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||Cu(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function Cu(n,i,o,u,l){let d=0,y=n.length;if(-1===i)y=-1;else for(;d<n.length;){const I=n[d++];if("number"==typeof I){if(I===i){y=-1;break}if(I>i){y=d-1;break}}}for(;d<n.length;){const I=n[d];if("number"==typeof I)break;if(I===o){if(null===u)return void(null!==l&&(n[d+1]=l));if(u===n[d+1])return void(n[d+2]=l)}d++,null!==u&&d++,null!==l&&d++}-1!==y&&(n.splice(y,0,i),d=y+1),n.splice(d++,0,o),null!==u&&n.splice(d++,0,u),null!==l&&n.splice(d++,0,l)}function tl(n){return-1!==n}function qr(n){return 32767&n}function Ro(n,i){let o=function nl(n){return n>>16}(n),u=i;for(;o>0;)u=u[15],o--;return u}let Sa=!0;function la(n){const i=Sa;return Sa=n,i}let Ma=0;const Ai={};function Is(n,i){const o=Ja(n,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(n.injectorIndex=i.length,Qa(u.data,n),Qa(i,null),Qa(u.blueprint,null));const l=ca(n,i),d=n.injectorIndex;if(tl(l)){const y=qr(l),I=Ro(l,i),T=I[1].data;for(let V=0;V<8;V++)i[d+V]=I[y+V]|T[y+V]}return i[d+8]=l,d}function Qa(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Ja(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function ca(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=Oo(l),null===u)return-1;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function uo(n,i,o){!function xu(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(At)&&(u=o[At]),null==u&&(u=o[At]=Ma++);const l=255&u;i.data[n+(l>>5)]|=1<<l}(n,i,o)}function da(n,i,o){if(o&ot.Optional||void 0!==n)return n;it()}function hs(n,i,o,u){if(o&ot.Optional&&void 0===u&&(u=null),0==(o&(ot.Self|ot.Host))){const l=n[9],d=Bt(void 0);try{return l?l.get(i,u,o&ot.Optional):Tt(i,u,o&ot.Optional)}finally{Bt(d)}}return da(u,0,o)}function lo(n,i,o,u=ot.Default,l){if(null!==n){if(1024&i[2]){const y=function Tu(n,i,o,u,l){let d=n,y=i;for(;null!==d&&null!==y&&1024&y[2]&&!(256&y[2]);){const I=rl(d,y,o,u|ot.Self,Ai);if(I!==Ai)return I;let T=d.parent;if(!T){const V=y[21];if(V){const K=V.get(o,Ai,u);if(K!==Ai)return K}T=Oo(y),y=y[15]}d=T}return l}(n,i,o,u,Ai);if(y!==Ai)return y}const d=rl(n,i,o,u,Ai);if(d!==Ai)return d}return hs(i,o,u,l)}function rl(n,i,o,u,l){const d=function il(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(At)?n[At]:void 0;return"number"==typeof i?i>=0?255&i:Xa:i}(o);if("function"==typeof d){if(!qa(i,n,u))return u&ot.Host?da(l,0,u):hs(i,o,u,l);try{const y=d(u);if(null!=y||u&ot.Optional)return y;it()}finally{x()}}else if("number"==typeof d){let y=null,I=Ja(n,i),T=-1,V=u&ot.Host?i[16][6]:null;for((-1===I||u&ot.SkipSelf)&&(T=-1===I?ca(n,i):i[I+8],-1!==T&&ha(u,!1)?(y=i[1],I=qr(T),i=Ro(T,i)):I=-1);-1!==I;){const K=i[1];if(Ys(d,I,K.data)){const ue=Rs(I,i,o,y,u,V);if(ue!==Ai)return ue}T=i[I+8],-1!==T&&ha(u,i[1].data[I+8]===V)&&Ys(d,I,i)?(y=K,I=qr(T),i=Ro(T,i)):I=-1}}return l}function Rs(n,i,o,u,l,d){const y=i[1],I=y.data[n+8],K=co(I,y,o,null==u?ts(I)&&Sa:u!=y&&0!=(3&I.type),l&ot.Host&&d===I);return null!==K?Ds(i,y,K,I):Ai}function co(n,i,o,u,l){const d=n.providerIndexes,y=i.data,I=1048575&d,T=n.directiveStart,K=d>>20,Se=l?I+K:n.directiveEnd;for(let Xe=u?I:I+K;Xe<Se;Xe++){const Et=y[Xe];if(Xe<T&&o===Et||Xe>=T&&Et.type===o)return Xe}if(l){const Xe=y[T];if(Xe&&Ir(Xe)&&Xe.type===o)return T}return null}function Ds(n,i,o,u){let l=n[o];const d=i.data;if(function Zs(n){return n instanceof bi}(l)){const y=l;y.resolving&&function bt(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Me(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Je(n)}(d[o]));const I=la(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?Bt(y.injectImpl):null;qa(n,u,ot.Default);try{l=n[o]=y.factory(void 0,d,n,u),i.firstCreatePass&&o>=u.directiveStart&&function Ar(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:d}=i.type.prototype;if(u){const y=xo(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,y),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,y)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,l),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,d))}(o,d[o],i)}finally{null!==T&&Bt(T),la(I),y.resolving=!1,x()}}return l}function Ys(n,i,o){return!!(o[i+(n>>5)]&1<<n)}function ha(n,i){return!(n&ot.Self||n&ot.Host&&i)}class Yr{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return lo(this._tNode,this._lView,i,u,o)}}function Xa(){return new Yr(Fr(),yt())}function Wr(n){return Gt(()=>{const i=n.prototype.constructor,o=i[Ft]||ho(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const d=l[Ft]||ho(l);if(d&&d!==o)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function ho(n){return Ke(n)?()=>{const i=ho(de(n));return i&&i()}:Jr(n)}function Oo(n){const i=n[1],o=i.type;return 2===o?i.declTNode:1===o?n[6]:null}function Zo(n){return function Ko(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const d=o[l];if(Ta(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(d===i)return o[l+1];l+=2}}}return null}(Fr(),n)}const Os="__parameters__";function Qs(n,i,o){return Gt(()=>{const u=function ka(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...d){if(this instanceof l)return u.apply(this,d),this;const y=new l(...d);return I.annotation=y,I;function I(T,V,K){const ue=T.hasOwnProperty(Os)?T[Os]:Object.defineProperty(T,Os,{value:[]})[Os];for(;ue.length<=K;)ue.push(null);return(ue[K]=ue[K]||[]).push(y),T}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class wr{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Dn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ji(n,i){void 0===i&&(i=n);for(let o=0;o<n.length;o++){let u=n[o];Array.isArray(u)?(i===n&&(i=n.slice(0,o)),ji(u,i)):i!==n&&i.push(u)}return i}function Ls(n,i){n.forEach(o=>Array.isArray(o)?Ls(o,i):i(o))}function tu(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function fs(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Hi(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}function oi(n,i,o){let u=w(n,i);return u>=0?n[1|u]=o:(u=~u,function nu(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function ru(n,i){const o=w(n,i);if(o>=0)return n[1|o]}function w(n,i){return function v(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const d=u+(l-u>>1),y=n[d<<o];if(i===y)return d<<o;y>i?l=d:u=d+1}return~(l<<o)}(n,i,1)}const zn={},Mi="__NG_DI_FLAG__",ps="ngTempTokenPath",Qi=/\n/gm,No="__source";let k;function L(n){const i=k;return k=n,i}function z(n,i=ot.Default){if(void 0===k)throw new Ge(-203,!1);return null===k?Tt(n,void 0,i):k.get(n,i&ot.Optional?null:void 0,i)}function fe(n,i=ot.Default){return(function Ut(){return Zt}()||z)(de(n),i)}function st(n,i=ot.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),fe(n,i)}function Ct(n){const i=[];for(let o=0;o<n.length;o++){const u=de(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Ge(900,!1);let l,d=ot.Default;for(let y=0;y<u.length;y++){const I=u[y],T=Cn(I);"number"==typeof T?-1===T?l=I.token:d|=T:l=I}i.push(fe(l,d))}else i.push(fe(u))}return i}function Wt(n,i){return n[Mi]=i,n.prototype[Mi]=i,n}function Cn(n){return n[Mi]}const vn=Wt(Qs("Inject",n=>({token:n})),-1),Or=Wt(Qs("Optional"),8),Er=Wt(Qs("SkipSelf"),4);let Fl,Mu,Ul;function Bd(n){Fl=n}function ku(n){return function kc(){if(void 0===Mu&&(Mu=null,Pe.trustedTypes))try{Mu=Pe.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Mu}()?.createHTML(n)||n}function Bl(n){return function Rc(){if(void 0===Ul&&(Ul=null,Pe.trustedTypes))try{Ul=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ul}()?.createHTML(n)||n}class jd{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function uu(n){return n instanceof jd?n.changingThisBreaksApplicationSecurity:n}function Ou(n,i){const o=function Yh(n){return n instanceof jd&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}class Wd{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(ku(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class my{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=ku(i),o;const u=this.inertDocument.createElement("body");return u.innerHTML=ku(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const o=i.attributes;for(let l=o.length-1;0<l;l--){const y=o.item(l).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&i.removeAttribute(y)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const h=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function g(n){return(n=String(n)).match(h)?n:"unsafe:"+n}function D(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function B(...n){const i={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const Z=D("area,br,col,hr,img,wbr"),Ye=D("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Le=D("rp,rt"),Ur=B(Z,B(Ye,D("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),B(Le,D("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),B(Le,Ye)),Po=D("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kd=B(Po,D("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),D("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zd=D("script,style,template");class qd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Ur.hasOwnProperty(o))return this.sanitizedSomething=!0,!Zd.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let l=0;l<u.length;l++){const d=u.item(l),y=d.name,I=y.toLowerCase();if(!Kd.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let T=d.value;Po[I]&&(T=g(T)),this.buf.push(" ",y,'="',Yd(T),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Ur.hasOwnProperty(o)&&!Z.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Yd(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Qh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jh=/([^\#-~ |!])/g;function Yd(n){return n.replace(/&/g,"&amp;").replace(Qh,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Jh,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let al;function Ua(n){return"content"in n&&function Xh(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var jn=(()=>((jn=jn||{})[jn.NONE=0]="NONE",jn[jn.HTML=1]="HTML",jn[jn.STYLE=2]="STYLE",jn[jn.SCRIPT=3]="SCRIPT",jn[jn.URL=4]="URL",jn[jn.RESOURCE_URL=5]="RESOURCE_URL",jn))();function Mn(n){const i=Jd();return i?Bl(i.sanitize(jn.HTML,n)||""):Ou(n,"HTML")?Bl(uu(n)):function Ln(n,i){let o=null;try{al=al||function va(n){const i=new my(n);return function _(){try{return!!(new window.DOMParser).parseFromString(ku(""),"text/html")}catch{return!1}}()?new Wd(i):i}(n);let u=i?String(i):"";o=al.getInertBodyElement(u);let l=5,d=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=d,d=o.innerHTML,o=al.getInertBodyElement(u)}while(u!==d);return ku((new qd).sanitizeChildren(Ua(o)||o))}finally{if(o){const u=Ua(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}(function Vl(){return void 0!==Fl?Fl:typeof document<"u"?document:void 0}(),Je(n))}function gr(n){const i=Jd();return i?i.sanitize(jn.URL,n)||"":Ou(n,"URL")?uu(n):g(Je(n))}function Jd(){const n=yt();return n&&n[12]}const zl=new wr("ENVIRONMENT_INITIALIZER"),qp=new wr("INJECTOR",-1),Yp=new wr("INJECTOR_DEF_TYPES");class Lo{get(i,o=zn){if(o===zn){const u=new Error(`NullInjectorError: No provider for ${oe(i)}!`);throw u.name="NullInjectorError",u}return o}}function Qp(...n){return{\u0275providers:Jp(0,n)}}function Jp(n,...i){const o=[],u=new Set;let l;return Ls(i,d=>{const y=d;lu(y,o,[],u)&&(l||(l=[]),l.push(y))}),void 0!==l&&Xp(l,o),o}function Xp(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Ls(l,d=>{i.push(d)})}}function lu(n,i,o,u){if(!(n=de(n)))return!1;let l=null,d=rr(n);const y=!d&&H(n);if(d||y){if(y&&!y.standalone)return!1;l=n}else{const T=n.ngModule;if(d=rr(T),!d)return!1;l=T}const I=u.has(l);if(y){if(I)return!1;if(u.add(l),y.dependencies){const T="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const V of T)lu(V,i,o,u)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let V;u.add(l);try{Ls(d.imports,K=>{lu(K,i,o,u)&&(V||(V=[]),V.push(K))})}finally{}void 0!==V&&Xp(V,i)}if(!I){const V=Jr(l)||(()=>new l);i.push({provide:l,useFactory:V,deps:xt},{provide:Yp,useValue:l,multi:!0},{provide:zl,useValue:()=>fe(l),multi:!0})}const T=d.providers;null==T||I||Ls(T,K=>{i.push(K)})}}return l!==n&&void 0!==n.providers}const at=ee({provide:String,useValue:ee});function Oc(n){return null!==n&&"object"==typeof n&&at in n}function Ba(n){return"function"==typeof n}const eg=new wr("Set Injector scope."),cu={},wy={};let Xd;function tf(){return void 0===Xd&&(Xd=new Lo),Xd}class Wl{}class go extends Wl{constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mo(i,y=>this.processProvider(y)),this.records.set(qp,Pu(void 0,this)),l.has("environment")&&this.records.set(Wl,Pu(void 0,this));const d=this.records.get(eg);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Yp.multi,xt,ot.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=L(this),u=Bt(void 0);try{return i()}finally{L(o),Bt(u)}}get(i,o=zn,u=ot.Default){this.assertNotDestroyed();const l=L(this),d=Bt(void 0);try{if(!(u&ot.SkipSelf)){let I=this.records.get(i);if(void 0===I){const T=function by(n){return"function"==typeof n||"object"==typeof n&&n instanceof wr}(i)&&er(i);I=T&&this.injectableDefInScope(T)?Pu(nf(i),cu):null,this.records.set(i,I)}if(null!=I)return this.hydrate(i,I)}return(u&ot.Self?tf():this.parent).get(i,o=u&ot.Optional&&o===zn?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[ps]=y[ps]||[]).unshift(oe(i)),l)throw y;return function Vn(n,i,o,u){const l=n[ps];throw i[No]&&l.unshift(i[No]),n.message=function Hn(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=oe(i);if(Array.isArray(i))l=i.map(oe).join(" -> ");else if("object"==typeof i){let d=[];for(let y in i)if(i.hasOwnProperty(y)){let I=i[y];d.push(y+":"+("string"==typeof I?JSON.stringify(I):oe(I)))}l=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Qi,"\n  ")}`}("\n"+n.message,l,o,u),n.ngTokenPath=l,n[ps]=null,n}(y,i,"R3InjectorError",this.source)}throw y}finally{Bt(d),L(l)}}resolveInjectorInitializers(){const i=L(this),o=Bt(void 0);try{const u=this.get(zl.multi,xt,ot.Self);for(const l of u)l()}finally{L(i),Bt(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(oe(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processProvider(i){let o=Ba(i=de(i))?i:de(i&&i.provide);const u=function Ey(n){return Oc(n)?Pu(void 0,n.useValue):Pu(Ci(n),cu)}(i);if(Ba(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Pu(void 0,cu,!0),l.factory=()=>Ct(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===cu&&(o.value=wy,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Kr(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=de(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function nf(n){const i=er(n),o=null!==i?i.factory:Jr(n);if(null!==o)return o;if(n instanceof wr)throw new Ge(204,!1);if(n instanceof Function)return function Gl(n){const i=n.length;if(i>0)throw Hi(i,"?"),new Ge(204,!1);const o=function Rn(n){const i=n&&(n[Kt]||n[Oe]);if(i){const o=function dr(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Ge(204,!1)}function Ci(n,i,o){let u;if(Ba(n)){const l=de(n);return Jr(l)||nf(l)}if(Oc(n))u=()=>de(n.useValue);else if(function _y(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Ct(n.deps||[]));else if(function _a(n){return!(!n||!n.useExisting)}(n))u=()=>fe(de(n.useExisting));else{const l=de(n&&(n.useClass||n.provide));if(!function Vs(n){return!!n.deps}(n))return Jr(l)||nf(l);u=()=>new l(...Ct(n.deps))}return u}function Pu(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Nc(n){return!!n.\u0275providers}function mo(n,i){for(const o of n)Array.isArray(o)?mo(o,i):Nc(o)?mo(o.\u0275providers,i):i(o)}class Xi{}class Kl{resolveComponentFactory(i){throw function _0(n){const i=Error(`No component factory found for ${oe(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Zl=(()=>{class n{}return n.NULL=new Kl,n})();function Iy(){return du(Fr(),yt())}function du(n,i){return new eh(Tr(n,i))}let eh=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Iy,n})();function ll(n){return n instanceof eh?n.nativeElement:n}class Pc{}let Dy=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function cl(){const n=yt(),o=Jn(Fr().index,n);return(vr(o)?o:n)[11]}(),n})(),sf=(()=>{class n{}return n.\u0275prov=Dn({token:n,providedIn:"root",factory:()=>null}),n})();class dl{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const ja=new dl("14.2.9"),ql={};function sg(n){return n.ngOriginalError}class Fc{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&sg(i);for(;o&&sg(o);)o=sg(o);return o||null}}const og=new Map;let I0=0;const ag="__ngContext__";function Bs(n,i){vr(i)?(n[ag]=i[20],function ky(n){og.set(n[20],n)}(i)):n[ag]=i}function Bc(n){return n.ownerDocument.defaultView}function pu(n){return n instanceof Function?n():n}var gu=(()=>((gu=gu||{})[gu.Important=1]="Important",gu[gu.DashCase=2]="DashCase",gu))();function ff(n,i){return undefined(n,i)}function Ha(n){const i=n[3];return Hr(i)?i[3]:i}function pf(n){return $c(n[13])}function gf(n){return $c(n[4])}function $c(n){for(;null!==n&&!Hr(n);)n=n[4];return n}function zc(n,i,o,u,l){if(null!=u){let d,y=!1;Hr(u)?d=u:vr(u)&&(y=!0,u=u[0]);const I=Fn(u);0===n&&null!==o?null==l?vg(i,o,I):yl(i,o,I,l||null,!0):1===n&&null!==o?yl(i,o,I,l||null,!0):2===n?function Kc(n,i,o){const u=oh(n,i);u&&function O0(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,I,y):3===n&&i.destroyNode(I),null!=d&&function Hy(n,i,o,u,l){const d=o[7];d!==Fn(o)&&zc(i,n,u,d,l);for(let I=10;I<o.length;I++){const T=o[I];vl(T[1],T,n,i,u,d)}}(i,n,d,o,l)}}function yf(n,i,o){return n.createElement(i,o)}function gg(n,i){const o=n[9],u=o.indexOf(i),l=i[3];512&i[2]&&(i[2]&=-513,Cr(l,-1)),o.splice(u,1)}function vf(n,i){if(n.length<=10)return;const o=10+i,u=n[o];if(u){const l=u[17];null!==l&&l!==n&&gg(l,u),i>0&&(n[o-1][4]=u[4]);const d=fs(n,10+i);!function M0(n,i){vl(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const y=d[19];null!==y&&y.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function mg(n,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&vl(n,i,o,3,null,null),function Vy(n){let i=n[13];if(!i)return ml(n[1],n);for(;i;){let o=null;if(vr(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==n;)vr(i)&&ml(i[1],i),i=i[3];null===i&&(i=n),vr(i)&&ml(i[1],i),o=i&&i[4]}i=o}}(i)}}function ml(n,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function R0(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof bi)){const d=o[u+1];if(Array.isArray(d))for(let y=0;y<d.length;y+=2){const I=l[d[y]],T=d[y+1];try{T.call(I)}finally{}}else try{d.call(l)}finally{}}}}(n,i),function yg(n,i){const o=n.cleanup,u=i[7];let l=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const y=o[d+1],I="function"==typeof y?y(i):Fn(i[y]),T=u[l=o[d+2]],V=o[d+3];"boolean"==typeof V?I.removeEventListener(o[d],T,V):V>=0?u[l=V]():u[l=-V].unsubscribe(),d+=2}else{const y=u[l=o[d+1]];o[d].call(y)}if(null!==u){for(let d=l+1;d<u.length;d++)(0,u[d])();i[7]=null}}(n,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&Hr(i[3])){o!==i[3]&&gg(o,i);const u=i[19];null!==u&&u.detachView(n)}!function C0(n){og.delete(n[20])}(i)}}function zi(n,i,o){return function br(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const l=n.data[u.directiveStart].encapsulation;if(l===ze.None||l===ze.Emulated)return null}return Tr(u,o)}(n,i.parent,o)}function yl(n,i,o,u,l){n.insertBefore(i,o,u,l)}function vg(n,i,o){n.appendChild(i,o)}function Vu(n,i,o,u,l){null!==u?yl(n,i,o,u,l):vg(n,i,o)}function oh(n,i){return n.parentNode(i)}function _g(n,i,o){return wg(n,i,o)}let wg=function $a(n,i,o){return 40&n.type?Tr(n,o):null};function _f(n,i,o,u){const l=zi(n,u,i),d=i[11],I=_g(u.parent||i[6],u,i);if(null!=l)if(Array.isArray(o))for(let T=0;T<o.length;T++)Vu(d,l,o[T],I,!1);else Vu(d,l,o,I,!1)}function Wn(n,i){if(null!==i){const o=i.type;if(3&o)return Tr(i,n);if(4&o)return Gc(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return Wn(n,u);{const l=n[i.index];return Hr(l)?Gc(-1,l):Fn(l)}}if(32&o)return ff(i,n)()||Fn(n[i.index]);{const u=By(n,i);return null!==u?Array.isArray(u)?u[0]:Wn(Ha(n[16]),u):Wn(n,i.next)}}return null}function By(n,i){return null!==i?n[16][6].projection[i.projection]:null}function Gc(n,i){const o=10+n+1;if(o<i.length){const u=i[o],l=u[1].firstChild;if(null!==l)return Wn(u,l)}return i[7]}function ec(n,i,o,u,l,d,y){for(;null!=o;){const I=u[o.index],T=o.type;if(y&&0===i&&(I&&Bs(Fn(I),u),o.flags|=4),64!=(64&o.flags))if(8&T)ec(n,i,o.child,u,l,d,!1),zc(i,n,l,I,d);else if(32&T){const V=ff(o,u);let K;for(;K=V();)zc(i,n,l,K,d);zc(i,n,l,I,d)}else 16&T?Eg(n,i,u,o,l,d):zc(i,n,l,I,d);o=y?o.projectionNext:o.next}}function vl(n,i,o,u,l,d){ec(o,u,n.firstChild,i,l,d,!1)}function Eg(n,i,o,u,l,d){const y=o[16],T=y[6].projection[u.projection];if(Array.isArray(T))for(let V=0;V<T.length;V++)zc(i,n,l,T[V],d);else ec(n,i,T,y[3],l,d,!0)}function bg(n,i,o){n.setAttribute(i,"style",o)}function wf(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function $y(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const d=i.length;if(l+d===u||n.charCodeAt(l+d)<=32)return l}o=l+1}}const zy="ng-template";function uh(n,i,o){let u=0;for(;u<n.length;){let l=n[u++];if(o&&"class"===l){if(l=n[u],-1!==$y(l.toLowerCase(),i,0))return!0}else if(1===l){for(;u<n.length&&"string"==typeof(l=n[u++]);)if(l.toLowerCase()===i)return!0;return!1}}return!1}function Ig(n){return 4===n.type&&n.value!==zy}function P0(n,i,o){return i===(4!==n.type||o?n.value:zy)}function Ts(n,i,o){let u=4;const l=n.attrs||[],d=function Dg(n){for(let i=0;i<n.length;i++)if(Ta(n[i]))return i;return n.length}(l);let y=!1;for(let I=0;I<i.length;I++){const T=i[I];if("number"!=typeof T){if(!y)if(4&u){if(u=2|1&u,""!==T&&!P0(n,T,o)||""===T&&1===i.length){if(ea(u))return!1;y=!0}}else{const V=8&u?T:i[++I];if(8&u&&null!==n.attrs){if(!uh(n.attrs,V,o)){if(ea(u))return!1;y=!0}continue}const ue=Wy(8&u?"class":T,l,Ig(n),o);if(-1===ue){if(ea(u))return!1;y=!0;continue}if(""!==V){let Se;Se=ue>d?"":l[ue+1].toLowerCase();const Xe=8&u?Se:null;if(Xe&&-1!==$y(Xe,V,0)||2&u&&V!==Se){if(ea(u))return!1;y=!0}}}}else{if(!y&&!ea(u)&&!ea(T))return!1;if(y&&ea(T))continue;y=!1,u=T|1&u}}return ea(u)||y}function ea(n){return 0==(1&n)}function Wy(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let d=!1;for(;l<i.length;){const y=i[l];if(y===n)return l;if(3===y||6===y)d=!0;else{if(1===y||2===y){let I=i[++l];for(;"string"==typeof I;)I=i[++l];continue}if(4===y)break;if(0===y){l+=4;continue}}l+=d?1:2}return-1}return function Gy(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Zc(n,i,o=!1){for(let u=0;u<i.length;u++)if(Ts(n,i[u],o))return!0;return!1}function lh(n,i){e:for(let o=0;o<i.length;o++){const u=i[o];if(n.length===u.length){for(let l=0;l<n.length;l++)if(n[l]!==u[l])continue e;return!0}}return!1}function Cg(n,i){return n?":not("+i.trim()+")":i}function Ky(n){let i=n[0],o=1,u=2,l="",d=!1;for(;o<n.length;){let y=n[o];if("string"==typeof y)if(2&u){const I=n[++o];l+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&u?l+="."+y:4&u&&(l+=" "+y);else""!==l&&!ea(y)&&(i+=Cg(d,l),l=""),u=y,d=d||!ea(u);o++}return""!==l&&(i+=Cg(d,l)),i}const Zn={};function qc(n){Ef(Pn(),yt(),_e()+n,!1)}function Ef(n,i,o,u){if(!u)if(3==(3&i[2])){const d=n.preOrderCheckHooks;null!==d&&_r(i,d,o)}else{const d=n.preOrderHooks;null!==d&&Es(i,d,0,o)}rt(o)}function tc(n,i=null,o=null,u){const l=Qy(n,i,o,u);return l.resolveInjectorInitializers(),l}function Qy(n,i=null,o=null,u,l=new Set){const d=[o||xt,Qp(n)];return u=u||("object"==typeof n?void 0:oe(n)),new go(d,i||tf(),u||null,l)}let nc=(()=>{class n{static create(o,u){if(Array.isArray(o))return tc({name:""},u,o,"");{const l=o.name??"";return tc({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=zn,n.NULL=new Lo,n.\u0275prov=Dn({token:n,providedIn:"any",factory:()=>fe(qp)}),n.__NG_ELEMENT_ID__=-1,n})();function _l(n,i=ot.Default){const o=yt();return null===o?fe(n,i):lo(Fr(),o,de(n),i)}function xf(){throw new Error("invalid")}function za(n,i){return n<<17|i<<2}function wa(n){return n>>17&32767}function Qc(n){return 2|n}function _o(n){return(131068&n)>>2}function Bu(n,i){return-131069&n|i<<2}function rc(n){return 1|n}function Hu(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],d=o[u+1];if(-1!==d){const y=n.data[d];Go(l),y.contentQueries(2,i[d],d)}}}function Ff(n,i,o,u,l,d,y,I,T,V,K){const ue=i.blueprint.slice();return ue[0]=l,ue[2]=76|u,(null!==K||n&&1024&n[2])&&(ue[2]|=1024),an(ue),ue[3]=ue[15]=n,ue[8]=o,ue[10]=y||n&&n[10],ue[11]=I||n&&n[11],ue[12]=T||n&&n[12]||null,ue[9]=V||n&&n[9]||null,ue[6]=d,ue[20]=function D0(){return I0++}(),ue[21]=K,ue[16]=2==i.type?n[16]:ue,ue}function Xc(n,i,o,u,l){let d=n.data[i];if(null===d)d=function Vg(n,i,o,u,l){const d=Bi(),y=zr(),T=n.data[i]=function aw(n,i,o,u,l,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?d:d&&d.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=T),null!==d&&(y?null==d.child&&null!==T.parent&&(d.child=T):null===d.next&&(d.next=T)),T}(n,i,o,u,l),function si(){return Lt.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=l;const y=function us(){const n=Lt.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();d.injectorIndex=null===y?-1:y.injectorIndex}return hi(d,!0),d}function $u(n,i,o,u){if(0===o)return-1;const l=i.length;for(let d=0;d<o;d++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function Vf(n,i,o){ko(i);try{const u=n.viewQuery;null!==u&&mh(1,u,o);const l=n.template;null!==l&&Ug(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Hu(n,i),n.staticViewQueries&&mh(2,n.viewQuery,o);const d=n.components;null!==d&&function ow(n,i){for(let o=0;o<i.length;o++)Cv(n,i[o])}(i,d)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[2]&=-5,j()}}function Uf(n,i,o,u){const l=i[2];if(128!=(128&l)){ko(i);try{an(i),function dt(n){return Lt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Ug(n,i,o,2,u);const y=3==(3&l);if(y){const V=n.preOrderCheckHooks;null!==V&&_r(i,V,null)}else{const V=n.preOrderHooks;null!==V&&Es(i,V,0,null),ds(i,0)}if(function id(n){for(let i=pf(n);null!==i;i=gf(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const l=o[u],d=l[3];0==(512&l[2])&&Cr(d,1),l[2]|=512}}}(i),function rd(n){for(let i=pf(n);null!==i;i=gf(i))for(let o=10;o<i.length;o++){const u=i[o],l=u[1];ss(u)&&Uf(l,u,l.template,u[8])}}(i),null!==n.contentQueries&&Hu(n,i),y){const V=n.contentCheckHooks;null!==V&&_r(i,V)}else{const V=n.contentHooks;null!==V&&Es(i,V,1),ds(i,1)}!function dv(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)rt(~l);else{const d=l,y=o[++u],I=o[++u];Ei(y,d),I(2,i[d])}}}finally{rt(-1)}}(n,i);const I=n.components;null!==I&&function hv(n,i){for(let o=0;o<i.length;o++)Wg(n,i[o])}(i,I);const T=n.viewQuery;if(null!==T&&mh(2,T,u),y){const V=n.viewCheckHooks;null!==V&&_r(i,V)}else{const V=n.viewHooks;null!==V&&Es(i,V,2),ds(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,Cr(i[3],-1))}finally{j()}}}function Ug(n,i,o,u,l){const d=_e(),y=2&u;try{rt(-1),y&&i.length>22&&Ef(n,i,22,!1),o(u,l)}finally{rt(d)}}function fv(n,i,o){if(Vi(i)){const l=i.directiveEnd;for(let d=i.directiveStart;d<l;d++){const y=n.data[d];y.contentQueries&&y.contentQueries(1,o[d],d)}}}function Bf(n,i,o){!as()||(function Bg(n,i,o,u){const l=o.directiveStart,d=o.directiveEnd;n.firstCreatePass||Is(o,i),Bs(u,i);const y=o.initialInputs;for(let I=l;I<d;I++){const T=n.data[I],V=Ir(T);V&&bv(i,o,T);const K=Ds(i,n,I,o);Bs(K,i),null!==y&&Iv(0,I-l,K,T,0,y),V&&(Jn(o.index,i)[8]=K)}}(n,i,o,Tr(o,i)),128==(128&o.flags)&&function jg(n,i,o){const u=o.directiveStart,l=o.directiveEnd,d=o.index,y=function Mo(){return Lt.lFrame.currentDirectiveIndex}();try{rt(d);for(let I=u;I<l;I++){const T=n.data[I],V=i[I];cs(I),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&nd(T,V)}}finally{rt(-1),cs(y)}}(n,i,o))}function zu(n,i,o=Tr){const u=i.localNames;if(null!==u){let l=i.index+1;for(let d=0;d<u.length;d+=2){const y=u[d+1],I=-1===y?o(i,n):n[y];n[l++]=I}}}function ed(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=jf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function jf(n,i,o,u,l,d,y,I,T,V){const K=22+u,ue=K+l,Se=function pv(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Zn);return o}(K,ue),Xe="function"==typeof V?V():V;return Se[1]={type:n,blueprint:Se,template:o,queries:null,viewQuery:I,declTNode:i,data:Se.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:Xe,incompleteFirstPass:!1}}function mv(n,i,o,u){const l=Kg(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Wf(n).push(u,l.length-1))}function Hf(n,i,o){for(let u in n)if(n.hasOwnProperty(u)){const l=n[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,l):o[u]=[i,l]}return o}function ms(n,i){const u=i.directiveEnd,l=n.data,d=i.attrs,y=[];let I=null,T=null;for(let V=i.directiveStart;V<u;V++){const K=l[V],ue=K.inputs,Se=null===d||Ig(i)?null:hw(ue,d);y.push(Se),I=Hf(ue,V,I),T=Hf(K.outputs,V,T)}null!==I&&(I.hasOwnProperty("class")&&(i.flags|=16),I.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=y,i.inputs=I,i.outputs=T}function ta(n,i,o,u,l,d,y,I){const T=Tr(i,o);let K,V=i.inputs;!I&&null!=V&&(K=V[u])?(ud(n,o,K,u,l),ts(i)&&yv(o,i.index)):3&i.type&&(u=function uw(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=y?y(l,i.value||"",u):l,d.setProperty(T,u,l))}function yv(n,i){const o=Jn(i,n);16&o[2]||(o[2]|=32)}function td(n,i,o,u){let l=!1;if(as()){const d=function $f(n,i,o){const u=n.directiveRegistry;let l=null;if(u)for(let d=0;d<u.length;d++){const y=u[d];Zc(o,y.selectors,!1)&&(l||(l=[]),uo(Is(o,i),n,y.type),Ir(y)?(zf(n,o),l.unshift(y)):l.push(y))}return l}(n,i,o),y=null===u?null:{"":-1};if(null!==d){l=!0,Ev(o,n.data.length,d.length);for(let K=0;K<d.length;K++){const ue=d[K];ue.providersResolver&&ue.providersResolver(ue)}let I=!1,T=!1,V=$u(n,i,d.length,null);for(let K=0;K<d.length;K++){const ue=d[K];o.mergedAttrs=ua(o.mergedAttrs,ue.hostAttrs),$g(n,o,i,V,ue),wv(V,ue,y),null!==ue.contentQueries&&(o.flags|=8),(null!==ue.hostBindings||null!==ue.hostAttrs||0!==ue.hostVars)&&(o.flags|=128);const Se=ue.type.prototype;!I&&(Se.ngOnChanges||Se.ngOnInit||Se.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),I=!0),!T&&(Se.ngOnChanges||Se.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),T=!0),V++}ms(n,o)}y&&function Hg(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const d=o[i[l+1]];if(null==d)throw new Ge(-301,!1);u.push(i[l],d)}}}(o,u,y)}return o.mergedAttrs=ua(o.mergedAttrs,o.attrs),l}function vv(n,i,o,u,l,d){const y=d.hostBindings;if(y){let I=n.hostBindingOpCodes;null===I&&(I=n.hostBindingOpCodes=[]);const T=~i.index;(function _v(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(I)!=T&&I.push(T),I.push(u,l,y)}}function nd(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function zf(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function wv(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;Ir(i)&&(o[""]=n)}}function Ev(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}function $g(n,i,o,u,l){n.data[u]=l;const d=l.factory||(l.factory=Jr(l.type)),y=new bi(d,Ir(l),_l);n.blueprint[u]=y,o[u]=y,vv(n,i,0,u,$u(n,o,l.hostVars,Zn),l)}function bv(n,i,o){const u=Tr(i,n),l=ed(o),d=n[10],y=gh(n,Ff(n,l,null,o.onPush?32:16,u,i,d,d.createRenderer(u,o),null,null,null));n[i.index]=y}function Ea(n,i,o,u,l,d){const y=Tr(n,i);!function zg(n,i,o,u,l,d,y){if(null==d)n.removeAttribute(i,l,o);else{const I=null==y?Je(d):y(d,u||"",l);n.setAttribute(i,l,I,o)}}(i[11],y,d,n.value,o,u,l)}function Iv(n,i,o,u,l,d){const y=d[i];if(null!==y){const I=u.setInput;for(let T=0;T<y.length;){const V=y[T++],K=y[T++],ue=y[T++];null!==I?u.setInput(o,ue,V,K):o[K]=ue}}}function hw(n,i){let o=null,u=0;for(;u<i.length;){const l=i[u];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,n[l],i[u+1])),u+=2}else u+=2;else u+=4}return o}function Dv(n,i,o,u){return new Array(n,!0,!1,i,null,0,u,o,null,null)}function Wg(n,i){const o=Jn(i,n);if(ss(o)){const u=o[1];48&o[2]?Uf(u,o,u.template,o[8]):o[5]>0&&sd(o)}}function sd(n){for(let u=pf(n);null!==u;u=gf(u))for(let l=10;l<u.length;l++){const d=u[l];if(ss(d))if(512&d[2]){const y=d[1];Uf(y,d,y.template,d[8])}else d[5]>0&&sd(d)}const o=n[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=Jn(o[u],n);ss(l)&&l[5]>0&&sd(l)}}function Cv(n,i){const o=Jn(i,n),u=o[1];(function xv(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),Vf(u,o,o[8])}function gh(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Gg(n){for(;n;){n[2]|=32;const i=Ha(n);if(ge(n)&&!i)return n;n=i}return null}function od(n,i,o,u=!0){const l=i[10];l.begin&&l.begin();try{Uf(n,i,n.template,o)}catch(y){throw u&&ad(i,y),y}finally{l.end&&l.end()}}function mh(n,i,o){Go(0),i(n,o)}function Kg(n){return n[7]||(n[7]=[])}function Wf(n){return n.cleanup||(n.cleanup=[])}function ad(n,i){const o=n[9],u=o?o.get(Fc,null):null;u&&u.handleError(i)}function ud(n,i,o,u,l){for(let d=0;d<o.length;){const y=o[d++],I=o[d++],T=i[y],V=n.data[y];null!==V.setInput?V.setInput(T,l,u,I):T[I]=l}}function Wa(n,i,o){const u=di(i,n);!function ih(n,i,o){n.setValue(i,o)}(n[11],u,o)}function ld(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,d=0;if(null!==i)for(let y=0;y<i.length;y++){const I=i[y];"number"==typeof I?d=I:1==d?l=ce(l,I):2==d&&(u=ce(u,I+": "+i[++y]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function cd(n,i,o,u,l=!1){for(;null!==o;){const d=i[o.index];if(null!==d&&u.push(Fn(d)),Hr(d))for(let I=10;I<d.length;I++){const T=d[I],V=T[1].firstChild;null!==V&&cd(T[1],T,V,u)}const y=o.type;if(8&y)cd(n,i,o.child,u);else if(32&y){const I=ff(o,i);let T;for(;T=I();)u.push(T)}else if(16&y){const I=By(i,o);if(Array.isArray(I))u.push(...I);else{const T=Ha(i[16]);cd(T[1],T,I,u,!0)}}o=l?o.projectionNext:o.next}return u}class dd{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return cd(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Hr(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(vf(i,u),fs(o,u))}this._attachedToViewContainer=!1}mg(this._lView[1],this._lView)}onDestroy(i){mv(this._lView[1],this._lView,null,i)}markForCheck(){Gg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){od(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function k0(n,i){vl(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ge(902,!1);this._appRef=i}}class gw extends dd{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;od(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class Gf extends Zl{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=H(i);return new hd(o,this.ngModule)}}function Tv(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class yw{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){const l=this.injector.get(i,ql,u);return l!==ql||o===ql?l:this.parentInjector.get(i,o,u)}}class hd extends Xi{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Zy(n){return n.map(Ky).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Tv(this.componentDef.inputs)}get outputs(){return Tv(this.componentDef.outputs)}create(i,o,u,l){let d=(l=l||this.ngModule)instanceof Wl?l:l?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const y=d?new yw(i,d):i,I=y.get(Pc,null);if(null===I)throw new Ge(407,!1);const T=y.get(sf,null),V=I.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",ue=u?function gv(n,i,o){return n.selectRootElement(i,o===ze.ShadowDom)}(V,u,this.componentDef.encapsulation):yf(I.createRenderer(null,this.componentDef),K,function mw(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(K)),Se=this.componentDef.onPush?288:272,Xe=jf(0,null,null,1,0,null,null,null,null,null),Et=Ff(null,Xe,null,Se,null,null,I,V,T,y,null);let zt,tn;ko(Et);try{const _n=function _w(n,i,o,u,l,d){const y=o[1];o[22]=n;const T=Xc(y,22,2,"#host",null),V=T.mergedAttrs=i.hostAttrs;null!==V&&(ld(T,V,!0),null!==n&&(qs(l,n,V),null!==T.classes&&wf(l,n,T.classes),null!==T.styles&&bg(l,n,T.styles)));const K=u.createRenderer(n,i),ue=Ff(o,ed(i),null,i.onPush?32:16,o[22],T,u,K,d||null,null,null);return y.firstCreatePass&&(uo(Is(T,o),y,i.type),zf(y,T),Ev(T,o.length,1)),gh(o,ue),o[22]=ue}(ue,this.componentDef,Et,I,V);if(ue)if(u)qs(V,ue,["ng-version",ja.full]);else{const{attrs:Nn,classes:Mt}=function L0(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let d=n[u];if("string"==typeof d)2===l?""!==d&&i.push(d,n[++u]):8===l&&o.push(d);else{if(!ea(l))break;l=d}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Nn&&qs(V,ue,Nn),Mt&&Mt.length>0&&wf(V,ue,Mt.join(" "))}if(tn=Yi(Xe,22),void 0!==o){const Nn=tn.projection=[];for(let Mt=0;Mt<this.ngContentSelectors.length;Mt++){const Un=o[Mt];Nn.push(null!=Un?Array.from(Un):null)}}zt=function ww(n,i,o,u){const l=o[1],d=function dw(n,i,o){const u=Fr();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),$g(n,u,i,$u(n,i,1,null),o),ms(n,u));const l=Ds(i,n,u.directiveStart,u);Bs(l,i);const d=Tr(u,i);return d&&Bs(d,i),l}(l,o,i);if(n[8]=o[8]=d,null!==u)for(const I of u)I(d,i);if(i.contentQueries){const I=Fr();i.contentQueries(1,d,I.directiveStart)}const y=Fr();return!l.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(rt(y.index),vv(o[1],y,0,y.directiveStart,y.directiveEnd,i),nd(i,d)),d}(_n,this.componentDef,Et,[Ew]),Vf(Xe,Et,null)}finally{j()}return new Zg(this.componentType,zt,du(tn,Et),Et,tn)}}class Zg extends class v0{}{constructor(i,o,u,l,d){super(),this.location=u,this._rootLView=l,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new gw(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const d=this._rootLView;ud(d[1],d,l,i,o),yv(d,this._tNode.index)}}get injector(){return new Yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Ew(){const n=Fr();or(yt()[1],n)}function vh(n){let i=function Sv(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(Ir(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ge(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const y=n;y.inputs=qg(n.inputs),y.declaredInputs=qg(n.declaredInputs),y.outputs=qg(n.outputs);const I=l.hostBindings;I&&fd(n,I);const T=l.viewQuery,V=l.contentQueries;if(T&&_h(n,T),V&&Yg(n,V),Q(n.inputs,l.inputs),Q(n.declaredInputs,l.declaredInputs),Q(n.outputs,l.outputs),Ir(l)&&l.data.animation){const K=n.data;K.animation=(K.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let y=0;y<d.length;y++){const I=d[y];I&&I.ngInherit&&I(n),I===vh&&(o=!1)}}i=Object.getPrototypeOf(i)}!function bw(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=ua(l.hostAttrs,o=ua(o,l.hostAttrs))}}(u)}function qg(n){return n===gn?{}:n===xt?[]:n}function _h(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function Yg(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,d)=>{i(u,l,d),o(u,l,d)}:i}function fd(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}let pd=null;function Dl(){if(!pd){const n=Pe.Symbol;if(n&&n.iterator)pd=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(pd=u)}}}return pd}function sc(n){return!!Jg(n)&&(Array.isArray(n)||!(n instanceof Map)&&Dl()in n)}function Jg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function yu(n,i,o){return n[i]=o}function Xs(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Gu(n,i,o,u){const l=Xs(n,i,o);return Xs(n,i+1,u)||l}function Yf(n,i,o,u){const l=yt();return Xs(l,cn(),i)&&(Pn(),Ea(pt(),l,n,i,o,u)),Yf}function Cl(n,i,o,u){return Xs(n,cn(),o)?i+Je(o)+u:Zn}function gd(n,i,o,u,l,d){const I=Gu(n,function q(){return Lt.lFrame.bindingIndex}(),o,l);return $n(2),I?i+Je(o)+u+Je(l)+d:Zn}function rp(n,i,o,u,l,d,y,I){const T=yt(),V=Pn(),K=n+22,ue=V.firstCreatePass?function Tl(n,i,o,u,l,d,y,I,T){const V=i.consts,K=Xc(i,n,4,y||null,Sr(V,I));td(i,o,K,Sr(V,T)),or(i,K);const ue=K.tViews=jf(2,K,u,l,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,V);return null!==i.queries&&(i.queries.template(i,K),ue.queries=i.queries.embeddedTView(K)),K}(K,V,T,i,o,u,l,d,y):V.data[K];hi(ue,!1);const Se=T[11].createComment("");_f(V,T,Se,ue),Bs(Se,T),gh(T,T[K]=Dv(Se,T,Se,ue)),ns(ue)&&Bf(V,T,ue),null!=y&&zu(T,ue,I)}function cc(n){return wi(function io(){return Lt.lFrame.contextLView}(),22+n)}function ip(n,i,o){const u=yt();return Xs(u,cn(),i)&&ta(Pn(),pt(),u,n,i,u[11],o,!1),ip}function Sl(n,i,o,u,l){const y=l?"class":"style";ud(n,o,i.inputs[y],y,u)}function sp(n,i,o,u){const l=yt(),d=Pn(),y=22+n,I=l[11],T=l[y]=yf(I,i,function Bn(){return Lt.lFrame.currentNamespace}()),V=d.firstCreatePass?function Iw(n,i,o,u,l,d,y){const I=i.consts,V=Xc(i,n,2,l,Sr(I,d));return td(i,o,V,Sr(I,y)),null!==V.attrs&&ld(V,V.attrs,!1),null!==V.mergedAttrs&&ld(V,V.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,V),V}(y,d,l,0,i,o,u):d.data[y];hi(V,!0);const K=V.mergedAttrs;null!==K&&qs(I,T,K);const ue=V.classes;null!==ue&&wf(I,T,ue);const Se=V.styles;return null!==Se&&bg(I,T,Se),64!=(64&V.flags)&&_f(d,l,T,V),0===function os(){return Lt.lFrame.elementDepthCount}()&&Bs(T,l),function no(){Lt.lFrame.elementDepthCount++}(),ns(V)&&(Bf(d,l,V),fv(d,V,l)),null!==u&&zu(l,V),sp}function Ed(){let n=Fr();zr()?ls():(n=n.parent,hi(n,!1));const i=n;!function $r(){Lt.lFrame.elementDepthCount--}();const o=Pn();return o.firstCreatePass&&(or(o,n),Vi(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Iu(n){return 0!=(16&n.flags)}(i)&&Sl(o,i,yt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Xr(n){return 0!=(32&n.flags)}(i)&&Sl(o,i,yt(),i.stylesWithoutHost,!1),Ed}function Eh(n,i,o,u){return sp(n,i,o,u),Ed(),Eh}function bd(n,i,o){const u=yt(),l=Pn(),d=n+22,y=l.firstCreatePass?function tm(n,i,o,u,l){const d=i.consts,y=Sr(d,u),I=Xc(i,n,8,"ng-container",y);return null!==y&&ld(I,y,!0),td(i,o,I,Sr(d,l)),null!==i.queries&&i.queries.elementStart(i,I),I}(d,l,u,i,o):l.data[d];hi(y,!0);const I=u[d]=u[11].createComment("");return _f(l,u,I,y),Bs(I,u),ns(y)&&(Bf(l,u,y),fv(l,y,u)),null!=o&&zu(u,y),bd}function op(){let n=Fr();const i=Pn();return zr()?ls():(n=n.parent,hi(n,!1)),i.firstCreatePass&&(or(i,n),Vi(n)&&i.queries.elementEnd(n)),op}function ap(){return yt()}function bh(n){return!!n&&"function"==typeof n.then}function Nv(n){return!!n&&"function"==typeof n.subscribe}const nm=Nv;function rm(n,i,o,u){const l=yt(),d=Pn(),y=Fr();return function sm(n,i,o,u,l,d,y,I){const T=ns(u),K=n.firstCreatePass&&Wf(n),ue=i[8],Se=Kg(i);let Xe=!0;if(3&u.type||I){const tn=Tr(u,i),_n=I?I(tn):tn,Nn=Se.length,Mt=I?Br=>I(Fn(Br[u.index])):u.index;let Un=null;if(!I&&T&&(Un=function Pv(n,i,o,u){const l=n.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const y=l[d];if(y===o&&l[d+1]===u){const I=i[7],T=l[d+2];return I.length>T?I[T]:null}"string"==typeof y&&(d+=2)}return null}(n,i,l,u.index)),null!==Un)(Un.__ngLastListenerFn__||Un).__ngNextListenerFn__=d,Un.__ngLastListenerFn__=d,Xe=!1;else{d=Lv(u,i,ue,d,!1);const Br=o.listen(_n,l,d);Se.push(d,Br),K&&K.push(l,Mt,Nn,Nn+1)}}else d=Lv(u,i,ue,d,!1);const Et=u.outputs;let zt;if(Xe&&null!==Et&&(zt=Et[l])){const tn=zt.length;if(tn)for(let _n=0;_n<tn;_n+=2){const Ri=i[zt[_n]][zt[_n+1]].subscribe(d),Wh=Se.length;Se.push(d,Ri),K&&K.push(l,u.index,Wh,-(Wh+1))}}}(d,l,l[11],y,n,i,0,u),rm}function om(n,i,o,u){try{return!1!==o(u)}catch(l){return ad(n,l),!1}}function Lv(n,i,o,u,l){return function d(y){if(y===Function)return u;Gg(2&n.flags?Jn(n.index,i):i);let T=om(i,0,u,y),V=d.__ngNextListenerFn__;for(;V;)T=om(i,0,V,y)&&T,V=V.__ngNextListenerFn__;return l&&!1===T&&(y.preventDefault(),y.returnValue=!1),T}}function Fv(n=1){return function R(n){return(Lt.lFrame.contextLView=function W(n,i){for(;n>0;)i=i[15],n--;return i}(n,Lt.lFrame.contextLView))[8]}(n)}function Dw(n,i){let o=null;const u=function mu(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(n);for(let l=0;l<i.length;l++){const d=i[l];if("*"!==d){if(null===u?Zc(n,d,!0):lh(u,d))return l}else o=l}return o}function Vv(n){const i=yt()[16][6];if(!i.projection){const u=i.projection=Hi(n?n.length:1,null),l=u.slice();let d=i.child;for(;null!==d;){const y=n?Dw(d,n):0;null!==y&&(l[y]?l[y].projectionNext=d:u[y]=d,l[y]=d),d=d.next}}}function up(n,i=0,o){const u=yt(),l=Pn(),d=Xc(l,22+n,16,null,o||null);null===d.projection&&(d.projection=i),ls(),64!=(64&d.flags)&&function jy(n,i,o){Eg(i[11],0,i,o,zi(n,o,i),_g(o.parent||i[6],o,i))}(l,u,d)}function Ih(n,i,o){return Dh(n,"",i,"",o),Ih}function Dh(n,i,o,u,l){const d=yt(),y=Cl(d,i,o,u);return y!==Zn&&ta(Pn(),pt(),d,n,y,d[11],l,!1),Dh}function $v(n,i,o,u,l){const d=n[o+1],y=null===i;let I=u?wa(d):_o(d),T=!1;for(;0!==I&&(!1===T||y);){const K=n[I+1];cm(n[I],i)&&(T=!0,n[I+1]=u?rc(K):Qc(K)),I=u?wa(K):_o(K)}T&&(n[o+1]=u?Qc(d):rc(d))}function cm(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&w(n,i)>=0}const ys={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hp(n){return n.substring(ys.key,ys.keyEnd)}function dm(n){return n.substring(ys.value,ys.valueEnd)}function dc(n,i){const o=ys.textEnd;return o===i?-1:(i=ys.keyEnd=function Ku(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,ys.key=i,o),Al(n,i,o))}function fp(n,i){const o=ys.textEnd;let u=ys.key=Al(n,i,o);return o===u?-1:(u=ys.keyEnd=function fm(n,i,o){let u;for(;i<o&&(45===(u=n.charCodeAt(i))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)i++;return i}(n,u,o),u=Gv(n,u,o),u=ys.value=Al(n,u,o),u=ys.valueEnd=function pm(n,i,o){let u=-1,l=-1,d=-1,y=i,I=y;for(;y<o;){const T=n.charCodeAt(y++);if(59===T)return I;34===T||39===T?I=y=Kv(n,T,y,o):i===y-4&&85===d&&82===l&&76===u&&40===T?I=y=Kv(n,41,y,o):T>32&&(I=y),d=l,l=u,u=-33&T}return I}(n,u,o),Gv(n,u,o))}function Wv(n){ys.key=0,ys.keyEnd=0,ys.value=0,ys.valueEnd=0,ys.textEnd=n.length}function Al(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function Gv(n,i,o,u){return(i=Al(n,i,o))<o&&i++,i}function Kv(n,i,o,u){let l=-1,d=o;for(;d<u;){const y=n.charCodeAt(d++);if(y==i&&92!==l)return d;l=92==y&&92===l?0:y}throw new Error}function Ch(n,i,o){return ra(n,i,o,!1),Ch}function gm(n,i){return ra(n,i,null,!0),gm}function na(n){ba(Zv,xw,n,!1)}function xw(n,i){for(let o=function zv(n){return Wv(n),fp(n,Al(n,0,ys.textEnd))}(i);o>=0;o=fp(i,o))Zv(n,hp(i),dm(i))}function pp(n){ba(oi,vu,n,!0)}function vu(n,i){for(let o=function hm(n){return Wv(n),dc(n,Al(n,0,ys.textEnd))}(i);o>=0;o=dc(i,o))oi(n,hp(i),!0)}function ra(n,i,o,u){const l=yt(),d=Pn(),y=$n(2);d.firstUpdatePass&&mm(d,n,y,u),i!==Zn&&Xs(l,y,i)&&_m(d,d.data[_e()],l,l[11],n,l[y+1]=function wm(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=oe(uu(n)))),n}(i,o),u,y)}function ba(n,i,o,u){const l=Pn(),d=$n(2);l.firstUpdatePass&&mm(l,null,d,u);const y=yt();if(o!==Zn&&Xs(y,d,o)){const I=l.data[_e()];if(Em(I,u)&&!gp(l,d)){let T=u?I.classesWithoutHost:I.stylesWithoutHost;null!==T&&(o=ce(T,o||"")),Sl(l,I,y,o,u)}else!function qv(n,i,o,u,l,d,y,I){l===Zn&&(l=xt);let T=0,V=0,K=0<l.length?l[0]:null,ue=0<d.length?d[0]:null;for(;null!==K||null!==ue;){const Se=T<l.length?l[T+1]:void 0,Xe=V<d.length?d[V+1]:void 0;let zt,Et=null;K===ue?(T+=2,V+=2,Se!==Xe&&(Et=ue,zt=Xe)):null===ue||null!==K&&K<ue?(T+=2,Et=K):(V+=2,Et=ue,zt=Xe),null!==Et&&_m(n,i,o,u,Et,zt,y,I),K=T<l.length?l[T]:null,ue=V<d.length?d[V]:null}}(l,I,y,y[11],y[d+1],y[d+1]=function vm(n,i,o){if(null==o||""===o)return xt;const u=[],l=uu(o);if(Array.isArray(l))for(let d=0;d<l.length;d++)n(u,l[d],!0);else if("object"==typeof l)for(const d in l)l.hasOwnProperty(d)&&n(u,d,l[d]);else"string"==typeof l&&i(u,l);return u}(n,i,o),u,d)}}function gp(n,i){return i>=n.expandoStartIndex}function mm(n,i,o,u){const l=n.data;if(null===l[o+1]){const d=l[_e()],y=gp(n,o);Em(d,u)&&null===i&&!y&&(i=!1),i=function Tw(n,i,o,u){const l=function Gs(n){const i=Lt.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let d=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=hc(o=xh(null,n,i,o,u),i.attrs,u),d=null);else{const y=i.directiveStylingLast;if(-1===y||n[y]!==l)if(o=xh(l,n,i,o,u),null===d){let T=function Sw(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==_o(u))return n[wa(u)]}(n,i,u);void 0!==T&&Array.isArray(T)&&(T=xh(null,n,i,T[1],u),T=hc(T,i.attrs,u),function ym(n,i,o,u){n[wa(o?i.classBindings:i.styleBindings)]=u}(n,i,u,T))}else d=function Aw(n,i,o){let u;const l=i.directiveEnd;for(let d=1+i.directiveStylingLast;d<l;d++)u=hc(u,n[d].hostAttrs,o);return hc(u,i.attrs,o)}(n,i,u)}return void 0!==d&&(u?i.residualClasses=d:i.residualStyles=d),o}(l,d,i,u),function Cw(n,i,o,u,l,d){let y=d?i.classBindings:i.styleBindings,I=wa(y),T=_o(y);n[u]=o;let K,V=!1;if(Array.isArray(o)){const ue=o;K=ue[1],(null===K||w(ue,K)>0)&&(V=!0)}else K=o;if(l)if(0!==T){const Se=wa(n[I+1]);n[u+1]=za(Se,I),0!==Se&&(n[Se+1]=Bu(n[Se+1],u)),n[I+1]=function rv(n,i){return 131071&n|i<<17}(n[I+1],u)}else n[u+1]=za(I,0),0!==I&&(n[I+1]=Bu(n[I+1],u)),I=u;else n[u+1]=za(T,0),0===I?I=u:n[T+1]=Bu(n[T+1],u),T=u;V&&(n[u+1]=Qc(n[u+1])),$v(n,K,u,!0),$v(n,K,u,!1),function lm(n,i,o,u,l){const d=l?n.residualClasses:n.residualStyles;null!=d&&"string"==typeof i&&w(d,i)>=0&&(o[u+1]=rc(o[u+1]))}(i,K,n,u,d),y=za(I,T),d?i.classBindings=y:i.styleBindings=y}(l,d,i,o,y,u)}}function xh(n,i,o,u,l){let d=null;const y=o.directiveEnd;let I=o.directiveStylingLast;for(-1===I?I=o.directiveStart:I++;I<y&&(d=i[I],u=hc(u,d.hostAttrs,l),d!==n);)I++;return null!==n&&(o.directiveStylingLast=I),u}function hc(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let d=0;d<i.length;d++){const y=i[d];"number"==typeof y?l=y:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),oi(n,y,!!o||i[++d]))}return void 0===n?null:n}function Zv(n,i,o){oi(n,i,uu(o))}function _m(n,i,o,u,l,d,y,I){if(!(3&i.type))return;const T=n.data,V=T[I+1];Id(function wl(n){return 1==(1&n)}(V)?Yv(T,i,o,l,_o(V),y):void 0)||(Id(d)||function nv(n){return 2==(2&n)}(V)&&(d=Yv(T,null,o,l,I,y)),function N0(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let d=-1===u.indexOf("-")?void 0:gu.DashCase;null==l?n.removeStyle(o,u,d):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),d|=gu.Important),n.setStyle(o,u,l,d))}}(u,y,di(_e(),o),l,d))}function Yv(n,i,o,u,l,d){const y=null===i;let I;for(;l>0;){const T=n[l],V=Array.isArray(T),K=V?T[1]:T,ue=null===K;let Se=o[l+1];Se===Zn&&(Se=ue?xt:void 0);let Xe=ue?ru(Se,u):K===u?Se:void 0;if(V&&!Id(Xe)&&(Xe=ru(T,u)),Id(Xe)&&(I=Xe,y))return I;const Et=n[l+1];l=y?wa(Et):_o(Et)}if(null!==i){let T=d?i.residualClasses:i.residualStyles;null!=T&&(I=ru(T,u))}return I}function Id(n){return void 0!==n}function Em(n,i){return 0!=(n.flags&(i?16:32))}function bm(n,i=""){const o=yt(),u=Pn(),l=n+22,d=u.firstCreatePass?Xc(u,l,1,i,null):u.data[l],y=o[l]=function ti(n,i){return n.createText(i)}(o[11],i);_f(u,o,y,d),hi(d,!1)}function mp(n){return fc("",n,""),mp}function fc(n,i,o){const u=yt(),l=Cl(u,n,i,o);return l!==Zn&&Wa(u,_e(),l),fc}function cr(n,i,o,u,l){const d=yt(),y=gd(d,n,i,o,u,l);return y!==Zn&&Wa(d,_e(),y),cr}function Ka(n,i,o){ba(oi,vu,Cl(yt(),n,i,o),!0)}const Zu=void 0;var Vw=["en",[["a","p"],["AM","PM"],Zu],[["AM","PM"],Zu,Zu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zu,"{1} 'at' {0}",Zu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Fw(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Cd={};function km(n){const i=function Rm(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=r_(i);if(o)return o;const u=i.split("-")[0];if(o=r_(u),o)return o;if("en"===u)return Vw;throw new Ge(701,!1)}function n_(n){return km(n)[On.PluralCase]}function r_(n){return n in Cd||(Cd[n]=Pe.ng&&Pe.ng.common&&Pe.ng.common.locales&&Pe.ng.common.locales[n]),Cd[n]}var On=(()=>((On=On||{})[On.LocaleId=0]="LocaleId",On[On.DayPeriodsFormat=1]="DayPeriodsFormat",On[On.DayPeriodsStandalone=2]="DayPeriodsStandalone",On[On.DaysFormat=3]="DaysFormat",On[On.DaysStandalone=4]="DaysStandalone",On[On.MonthsFormat=5]="MonthsFormat",On[On.MonthsStandalone=6]="MonthsStandalone",On[On.Eras=7]="Eras",On[On.FirstDayOfWeek=8]="FirstDayOfWeek",On[On.WeekendRange=9]="WeekendRange",On[On.DateFormat=10]="DateFormat",On[On.TimeFormat=11]="TimeFormat",On[On.DateTimeFormat=12]="DateTimeFormat",On[On.NumberSymbols=13]="NumberSymbols",On[On.NumberFormats=14]="NumberFormats",On[On.CurrencyCode=15]="CurrencyCode",On[On.CurrencySymbol=16]="CurrencySymbol",On[On.CurrencyName=17]="CurrencyName",On[On.Currencies=18]="Currencies",On[On.Directionality=19]="Directionality",On[On.PluralCase=20]="PluralCase",On[On.ExtraData=21]="ExtraData",On))();const Nr="en-US";let i_=Nr;function jm(n,i,o,u,l){if(n=de(n),Array.isArray(n))for(let d=0;d<n.length;d++)jm(n[d],i,o,u,l);else{const d=Pn(),y=yt();let I=Ba(n)?n:de(n.provide),T=Ci(n);const V=Fr(),K=1048575&V.providerIndexes,ue=V.directiveStart,Se=V.providerIndexes>>20;if(Ba(n)||!n.multi){const Xe=new bi(T,l,_l),Et=Ol(I,i,l?K:K+Se,ue);-1===Et?(uo(Is(V,y),d,I),Rp(d,n,i.length),i.push(I),V.directiveStart++,V.directiveEnd++,l&&(V.providerIndexes+=1048576),o.push(Xe),y.push(Xe)):(o[Et]=Xe,y[Et]=Xe)}else{const Xe=Ol(I,i,K+Se,ue),Et=Ol(I,i,K,K+Se),zt=Xe>=0&&o[Xe],tn=Et>=0&&o[Et];if(l&&!tn||!l&&!zt){uo(Is(V,y),d,I);const _n=function cE(n,i,o,u,l){const d=new bi(n,o,_l);return d.multi=[],d.index=i,d.componentProviders=0,A_(d,l,u&&!o),d}(l?Eb:Hm,o.length,l,u,T);!l&&tn&&(o[Et].providerFactory=_n),Rp(d,n,i.length,0),i.push(I),V.directiveStart++,V.directiveEnd++,l&&(V.providerIndexes+=1048576),o.push(_n),y.push(_n)}else Rp(d,n,Xe>-1?Xe:Et,A_(o[l?Et:Xe],T,!l&&u));!l&&u&&tn&&o[Et].componentProviders++}}}function Rp(n,i,o,u){const l=Ba(i),d=function ul(n){return!!n.useClass}(i);if(l||d){const T=(d?de(i.useClass):i).prototype.ngOnDestroy;if(T){const V=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const K=V.indexOf(o);-1===K?V.push(o,[u,T]):V[K+1].push(u,T)}else V.push(o,T)}}}function A_(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function Ol(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function Hm(n,i,o,u){return M_(this.multi,[])}function Eb(n,i,o,u){const l=this.multi;let d;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=Ds(o,o[1],this.providerFactory.index,u);d=I.slice(0,y),M_(l,d);for(let T=y;T<I.length;T++)d.push(I[T])}else d=[],M_(l,d);return d}function M_(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function $m(n,i=[]){return o=>{o.providersResolver=(u,l)=>function lE(n,i,o){const u=Pn();if(u.firstCreatePass){const l=Ir(n);jm(o,u.data,u.blueprint,l,!0),jm(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class ia{}class k_{}function dE(n,i){return new R_(n,i??null)}class R_ extends ia{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gf(this);const u=Pt(i);this._bootstrapComponents=pu(u.bootstrap),this._r3Injector=Qy(i,o,[{provide:ia,useValue:this},{provide:Zl,useValue:this.componentFactoryResolver}],oe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class zm extends k_{constructor(i){super(),this.moduleType=i}create(i){return new R_(this.moduleType,i)}}class hE extends ia{constructor(i,o,u){super(),this.componentFactoryResolver=new Gf(this),this.instance=null;const l=new go([...i,{provide:ia,useValue:this},{provide:Zl,useValue:this.componentFactoryResolver}],o||tf(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Wm(n,i,o=null){return new hE(n,i,o).injector}let Ib=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Jp(0,o.type),l=u.length>0?Wm([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Dn({token:n,providedIn:"environment",factory:()=>new n(fe(Wl))}),n})();function fE(n){n.getStandaloneInjector=i=>i.get(Ib).getOrCreateStandaloneInjector(n)}function Zm(n,i,o,u){return U_(yt(),A(),n,i,o,u)}function Md(n,i,o,u,l){return B_(yt(),A(),n,i,o,u,l)}function Za(n,i){const o=n[i];return o===Zn?void 0:o}function U_(n,i,o,u,l,d){const y=i+o;return Xs(n,y,l)?yu(n,y+1,d?u.call(d,l):u(l)):Za(n,y+1)}function B_(n,i,o,u,l,d,y){const I=i+o;return Gu(n,I,l,d)?yu(n,I+2,y?u.call(y,l,d):u(l,d)):Za(n,I+2)}function $_(n,i){const o=Pn();let u;const l=n+22;o.firstCreatePass?(u=function Jm(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const d=u.factory||(u.factory=Jr(u.type)),y=Bt(_l);try{const I=la(!1),T=d();return la(I),function wd(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,yt(),l,T),T}finally{Bt(y)}}function ey(n,i,o){const u=n+22,l=yt(),d=wi(l,u);return Rd(l,u)?U_(l,A(),i,d.transform,o,d):d.transform(o)}function z_(n,i,o,u){const l=n+22,d=yt(),y=wi(d,l);return Rd(d,l)?B_(d,A(),i,y.transform,o,u,y):y.transform(o,u)}function Rd(n,i){return n[1].data[i].pure}function ny(n){return i=>{setTimeout(n,void 0,i)}}const _u=class G_ extends f.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,d=o||(()=>null),y=u;if(i&&"object"==typeof i){const T=i;l=T.next?.bind(T),d=T.error?.bind(T),y=T.complete?.bind(T)}this.__isAsync&&(d=ny(d),l&&(l=ny(l)),y&&(y=ny(y)));const I=super.subscribe({next:l,error:d,complete:y});return i instanceof m.w0&&i.add(I),I}};function wE(){return this._results[Dl()]()}class ry{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Dl(),u=ry.prototype;u[o]||(u[o]=wE)}get changes(){return this._changes||(this._changes=new _u)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=ji(i);(this._changesDetected=!function Oa(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],d=i[u];if(o&&(l=o(l),d=o(d)),d!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Bh=(()=>{class n{}return n.__NG_ELEMENT_ID__=Db,n})();const K_=Bh,Z_=class extends K_{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tViews,l=Ff(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(l[19]=y.createEmbeddedView(u)),Vf(u,l,i),new dd(l)}};function Db(){return wc(Fr(),yt())}function wc(n,i){return 4&n.type?new Z_(i,n,du(n,i)):null}let jh=(()=>{class n{}return n.__NG_ELEMENT_ID__=EE,n})();function EE(){return q_(Fr(),yt())}const Pp=jh,iy=class extends Pp{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return du(this._hostTNode,this._hostLView)}get injector(){return new Yr(this._hostTNode,this._hostLView)}get parentInjector(){const i=ca(this._hostTNode,this._hostLView);if(tl(i)){const o=Ro(i,this._hostLView),u=qr(i);return new Yr(o[1].data[u+8],o)}return new Yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Lp(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){let l,d;"number"==typeof u?l=u:null!=u&&(l=u.index,d=u.injector);const y=i.createEmbeddedView(o||{},d);return this.insert(y,l),y}createComponent(i,o,u,l,d){const y=i&&!function ga(n){return"function"==typeof n}(i);let I;if(y)I=o;else{const ue=o||{};I=ue.index,u=ue.injector,l=ue.projectableNodes,d=ue.environmentInjector||ue.ngModuleRef}const T=y?i:new hd(H(i)),V=u||this.parentInjector;if(!d&&null==T.ngModule){const Se=(y?V:this.parentInjector).get(Wl,null);Se&&(d=Se)}const K=T.create(V,l,void 0,d);return this.insert(K.hostView,I),K}insert(i,o){const u=i._lView,l=u[1];if(function oa(n){return Hr(n[3])}(u)){const K=this.indexOf(i);if(-1!==K)this.detach(K);else{const ue=u[3],Se=new iy(ue,ue[6],ue[3]);Se.detach(Se.indexOf(i))}}const d=this._adjustIndex(o),y=this._lContainer;!function Wc(n,i,o,u){const l=10+u,d=o.length;u>0&&(o[l-1][4]=i),u<d-10?(i[4]=o[l],tu(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const y=i[17];null!==y&&o!==y&&function Fu(n,i){const o=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===o?n[9]=[i]:o.push(i)}(y,i);const I=i[19];null!==I&&I.insertView(n),i[2]|=64}(l,u,y,d);const I=Gc(d,y),T=u[11],V=oh(T,y[7]);return null!==V&&function sh(n,i,o,u,l,d){u[0]=l,u[6]=i,vl(n,u,o,1,l,d)}(l,y[6],T,u,V,I),i.attachToViewContainerRef(),tu(wu(y),d,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Lp(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=vf(this._lContainer,o);u&&(fs(wu(this._lContainer),o),mg(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=vf(this._lContainer,o);return u&&null!=fs(wu(this._lContainer),o)?new dd(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function Lp(n){return n[8]}function wu(n){return n[8]||(n[8]=[])}function q_(n,i){let o;const u=i[n.index];if(Hr(u))o=u;else{let l;if(8&n.type)l=Fn(u);else{const d=i[11];l=d.createComment("");const y=Tr(n,i);yl(d,oh(d,y),l,function ah(n,i){return n.nextSibling(i)}(d,y),!1)}i[n.index]=o=Dv(u,i,l,n),gh(i,o)}return new iy(o,n,i)}class sy{constructor(i){this.queryList=i,this.matches=null}clone(){return new sy(this.queryList)}setDirty(){this.queryList.setDirty()}}class oy{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let d=0;d<u;d++){const y=o.getByIndex(d);l.push(this.queries[y.indexInDeclarationView].clone())}return new oy(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==e0(i,o).matches&&this.queries[o].setDirty()}}class Q_{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class Fp{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(i,l);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new Fp(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class ay{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new ay(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const d=u[l];this.matchTNodeWithReadOption(i,o,bE(o,d)),this.matchTNodeWithReadOption(i,o,co(o,i,d,!1,!1))}else u===Bh?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,co(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===eh||l===jh||l===Bh&&4&o.type)this.addMatch(o.index,-2);else{const d=co(o,i,l,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function bE(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function DE(n,i,o,u){return-1===o?function IE(n,i){return 11&n.type?du(n,i):4&n.type?wc(n,i):null}(i,n):-2===o?function J_(n,i,o){return o===eh?du(i,n):o===Bh?wc(i,n):o===jh?q_(i,n):void 0}(n,i,u):Ds(n,n[1],o,i)}function uy(n,i,o,u){const l=i[19].queries[u];if(null===l.matches){const d=n.data,y=o.matches,I=[];for(let T=0;T<y.length;T+=2){const V=y[T];I.push(V<0?null:DE(i,d[V],y[T+1],o.metadata.read))}l.matches=I}return l.matches}function Ju(n,i,o,u){const l=n.queries.getByIndex(o),d=l.matches;if(null!==d){const y=uy(n,i,l,o);for(let I=0;I<d.length;I+=2){const T=d[I];if(T>0)u.push(y[I/2]);else{const V=d[I+1],K=i[-T];for(let ue=10;ue<K.length;ue++){const Se=K[ue];Se[17]===Se[3]&&Ju(Se[1],Se,V,u)}if(null!==K[9]){const ue=K[9];for(let Se=0;Se<ue.length;Se++){const Xe=ue[Se];Ju(Xe[1],Xe,V,u)}}}}}return u}function ly(n){const i=yt(),o=Pn(),u=so();Go(u+1);const l=e0(o,u);if(n.dirty&&function to(n){return 4==(4&n[2])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const d=l.crossesNgTemplate?Ju(o,i,u,[]):uy(o,i,l,u);n.reset(d,ll),n.notifyOnChanges()}return!0}return!1}function cy(n,i,o){const u=Pn();u.firstCreatePass&&(X_(u,new Q_(n,i,o),-1),2==(2&i)&&(u.staticViewQueries=!0)),hy(u,yt(),i)}function dy(n,i,o,u){const l=Pn();if(l.firstCreatePass){const d=Fr();X_(l,new Q_(i,o,u),d.index),function xE(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}hy(l,yt(),o)}function bc(){return function CE(n,i){return n[19].queries[i].queryList}(yt(),so())}function hy(n,i,o){const u=new ry(4==(4&o));mv(n,i,u,u.destroy),null===i[19]&&(i[19]=new oy),i[19].queries.push(new sy(u))}function X_(n,i,o){null===n.queries&&(n.queries=new Fp),n.queries.track(new ay(i,o))}function e0(n,i){return n.queries.getByIndex(i)}function t0(n,i){return wc(n,i)}function d0(...n){}const kb=new wr("Application Initializer");let h0=(()=>{class n{constructor(o){this.appInits=o,this.resolve=d0,this.reject=d0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(bh(d))o.push(d);else if(nm(d)){const y=new Promise((I,T)=>{d.subscribe({complete:I,error:T})});o.push(y)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(fe(kb,8))},n.\u0275prov=Dn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rb=new wr("AppId",{providedIn:"root",factory:function Ob(){return`${VE()}${VE()}${VE()}`}});function VE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Nb=new wr("Platform Initializer"),cI=new wr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Pb=new wr("appBootstrapListener");let dI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Dn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const f0=new wr("LocaleId",{providedIn:"root",factory:()=>st(f0,ot.Optional|ot.SkipSelf)||function hI(){return typeof $localize<"u"&&$localize.locale||Nr}()}),fI=new wr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class pI{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let gI=(()=>{class n{compileModuleSync(o){return new zm(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),d=pu(Pt(o).declarations).reduce((y,I)=>{const T=H(I);return T&&y.push(new hd(T)),y},[]);return new pI(u,d)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Dn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vI=(()=>Promise.resolve(0))();function UE(n){typeof Zone>"u"?vI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Eu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _u(!1),this.onMicrotaskEmpty=new _u(!1),this.onStable=new _u(!1),this.onError=new _u(!1),typeof Zone>"u")throw new Ge(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const d=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new d("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function _I(){let n=Pe.requestAnimationFrame,i=Pe.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function bI(n){const i=()=>{!function EI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Pe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,jE(n),n.isCheckStableRunning=!0,BE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),jE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,d,y,I)=>{try{return Vb(n),o.invokeTask(l,d,y,I)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&i(),Ub(n)}},onInvoke:(o,u,l,d,y,I,T)=>{try{return Vb(n),o.invoke(l,d,y,I,T)}finally{n.shouldCoalesceRunChangeDetection&&i(),Ub(n)}},onHasTask:(o,u,l,d)=>{o.hasTask(l,d),u===l&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,jE(n),BE(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,l,d)=>(o.handleError(l,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Eu.isInAngularZone())throw new Ge(909,!1)}static assertNotInAngularZone(){if(Eu.isInAngularZone())throw new Ge(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const d=this._inner,y=d.scheduleEventTask("NgZoneEvent: "+l,i,wI,d0,d0);try{return d.runTask(y,o,u)}finally{d.cancelTask(y)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const wI={};function BE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Vb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Ub(n){n._nesting--,BE(n)}class II{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _u,this.onMicrotaskEmpty=new _u,this.onStable=new _u,this.onError=new _u}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const Bb=new wr(""),jb=new wr("");let HE,DI=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,HE||(function CI(n){HE=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Eu.assertNotInAngularZone(),UE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())UE(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(fe(Eu),fe(Hb),fe(jb))},n.\u0275prov=Dn({token:n,factory:n.\u0275fac}),n})(),Hb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return HE?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Dn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ld=null;const $b=new wr("AllowMultipleToken"),$E=new wr("PlatformDestroyListeners");class SI{constructor(i,o){this.name=i,this.token=o}}function Wb(n,i,o=[]){const u=`Platform: ${i}`,l=new wr(u);return(d=[])=>{let y=zE();if(!y||y.injector.get($b,!1)){const I=[...o,...d,{provide:l,useValue:!0}];n?n(I):function AI(n){if(Ld&&!Ld.get($b,!1))throw new Ge(400,!1);Ld=n;const i=n.get(Kb);(function zb(n){const i=n.get(Nb,null);i&&i.forEach(o=>o())})(n)}(function Gb(n=[],i){return nc.create({name:i,providers:[{provide:eg,useValue:"platform"},{provide:$E,useValue:new Set([()=>Ld=null])},...n]})}(I,u))}return function kI(n){const i=zE();if(!i)throw new Ge(401,!1);return i}()}}function zE(){return Ld?.get(Kb)??null}let Kb=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function qb(n,i){let o;return o="noop"===n?new II:("zone.js"===n?void 0:n)||new Eu(i),o}(u?.ngZone,function Zb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),d=[{provide:Eu,useValue:l}];return l.run(()=>{const y=nc.create({providers:d,parent:this.injector,name:o.moduleType.name}),I=o.create(y),T=I.injector.get(Fc,null);if(!T)throw new Ge(402,!1);return l.runOutsideAngular(()=>{const V=l.onError.subscribe({next:K=>{T.handleError(K)}});I.onDestroy(()=>{g0(this._modules,I),V.unsubscribe()})}),function Yb(n,i,o){try{const u=o();return bh(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(T,l,()=>{const V=I.injector.get(h0);return V.runInitializers(),V.donePromise.then(()=>(function Nm(n){fn(n,"Expected localeId to be defined"),"string"==typeof n&&(i_=n.toLowerCase().replace(/_/g,"-"))}(I.injector.get(f0,Nr)||Nr),this._moduleDoBootstrap(I),I))})})}bootstrapModule(o,u=[]){const l=Qb({},u);return function xI(n,i,o){const u=new zm(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(o){const u=o.injector.get(p0);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Ge(403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get($E,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(fe(nc))},n.\u0275prov=Dn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Qb(n,i){return Array.isArray(i)?i.reduce(Qb,n):{...n,...i}}let p0=(()=>{class n{constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new M.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),y=new M.y(I=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Eu.assertNotInAngularZone(),UE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{Eu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{T.unsubscribe(),V.unsubscribe()}});this.isStable=(0,Y.T)(d,y.pipe((0,G.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const l=o instanceof Xi;if(!this._injector.get(h0).done)throw!l&&_t(o),new Ge(405,false);let y;y=l?o:this._injector.get(Zl).resolveComponentFactory(o),this.componentTypes.push(y.componentType);const I=function TI(n){return n.isBoundToModule}(y)?void 0:this._injector.get(ia),V=y.create(nc.NULL,[],u||y.selector,I),K=V.location.nativeElement,ue=V.injector.get(Bb,null);return ue?.registerApplication(K),V.onDestroy(()=>{this.detachView(V.hostView),g0(this.components,V),ue?.unregisterApplication(K)}),this._loadComponent(V),V}tick(){if(this._runningTick)throw new Ge(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;g0(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Pb,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>g0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ge(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(fe(Eu),fe(Wl),fe(Fc))},n.\u0275prov=Dn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function g0(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let Xb=!0,eI=!1;function OI(){return eI=!0,Xb}function NI(){if(eI)throw new Error("Cannot enable prod mode after platform setup.");Xb=!1}let PI=(()=>{class n{}return n.__NG_ELEMENT_ID__=LI,n})();function LI(n){return function FI(n,i,o){if(ts(n)&&!o){const u=Jn(n.index,i);return new dd(u,u)}return 47&n.type?new dd(i[16],i):null}(Fr(),yt(),16==(16&n))}class iI{constructor(){}supports(i){return sc(i)}create(i){return new $I(i)}}const HI=(n,i)=>i;class $I{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||HI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,d=null;for(;o||u;){const y=!u||o&&o.currentIndex<oI(u,l,d)?o:u,I=oI(y,l,d),T=y.currentIndex;if(y===u)l--,u=u._nextRemoved;else if(o=o._next,null==y.previousIndex)l++;else{d||(d=[]);const V=I-l,K=T-l;if(V!=K){for(let Se=0;Se<V;Se++){const Xe=Se<d.length?d[Se]:d[Se]=0,Et=Xe+Se;K<=Et&&Et<V&&(d[Se]=Xe+1)}d[y.previousIndex]=K-V}}I!==T&&i(y,I,T)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!sc(i))throw new Ge(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,d,y,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let I=0;I<this.length;I++)d=i[I],y=this._trackByFn(I,d),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,d,y,I)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,y,I),u=!0),o=o._next}else l=0,function Mv(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Dl()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,I=>{y=this._trackByFn(l,I),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,I,y,l)),Object.is(o.item,I)||this._addIdentityChange(o,I)):(o=this._mismatch(o,I,y,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,d,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,d,l)):i=this._addAfter(new zI(o,u),d,l),i}_verifyReinsertion(i,o,u,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?i=this._reinsertAfter(d,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,d=i._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new sI),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sI),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class zI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class sI{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new WI,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oI(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class aI{constructor(){}supports(i){return i instanceof Map||Jg(i)}create(){return new GI}}class GI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Jg(i)))throw new Ge(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const d=l._prev,y=l._next;return d&&(d._next=y),y&&(y._prev=d),l._next=null,l._prev=null,l}const u=new KI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class KI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uI(){return new qE([new iI])}let qE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||uI()),deps:[[n,new Er,new Or]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Ge(901,!1)}}return n.\u0275prov=Dn({token:n,providedIn:"root",factory:uI}),n})();function lI(){return new YE([new aI])}let YE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||lI()),deps:[[n,new Er,new Or]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Ge(901,!1)}}return n.\u0275prov=Dn({token:n,providedIn:"root",factory:lI}),n})();const YI=Wb(null,"core",[]);let QI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(fe(p0))},n.\u0275mod=wn({type:n}),n.\u0275inj=ke({}),n})();function JI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(Ie,ae,C)=>{"use strict";C.d(ae,{Fj:()=>lt,u5:()=>Rr,JJ:()=>Ne,JL:()=>me,F:()=>vr,On:()=>Zr,eT:()=>zs,_Y:()=>sr});var f=C(4650),m=C(6895),M=C(8996),Y=C(9751),G=C(4742),ee=C(8421),Q=C(3269),oe=C(5403),ce=C(3268),X=C(1810),de=C(4004);let Ke=(()=>{class F{constructor(A,q){this._renderer=A,this._elementRef=q,this.onChange=dt=>{},this.onTouched=()=>{}}setProperty(A,q){this._renderer.setProperty(this._elementRef.nativeElement,A,q)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}}return F.\u0275fac=function(A){return new(A||F)(f.Y36(f.Qsj),f.Y36(f.SBq))},F.\u0275dir=f.lG2({type:F}),F})(),Ue=(()=>{class F extends Ke{}return F.\u0275fac=function(){let O;return function(q){return(O||(O=f.n5z(F)))(q||F)}}(),F.\u0275dir=f.lG2({type:F,features:[f.qOj]}),F})();const Ge=new f.OlP("NgValueAccessor"),Me={provide:Ge,useExisting:(0,f.Gpc)(()=>lt),multi:!0},mt=new f.OlP("CompositionEventMode");let lt=(()=>{class F extends Ke{constructor(A,q,dt){super(A,q),this._compositionMode=dt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bt(){const F=(0,m.q)()?(0,m.q)().getUserAgent():"";return/android (\d+)/.test(F.toLowerCase())}())}writeValue(A){this.setProperty("value",A??"")}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}}return F.\u0275fac=function(A){return new(A||F)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(mt,8))},F.\u0275dir=f.lG2({type:F,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(A,q){1&A&&f.NdJ("input",function(cn){return q._handleInput(cn.target.value)})("blur",function(){return q.onTouched()})("compositionstart",function(){return q._compositionStart()})("compositionend",function(cn){return q._compositionEnd(cn.target.value)})},features:[f._Bn([Me]),f.qOj]}),F})();const Ce=new f.OlP("NgValidators"),$e=new f.OlP("NgAsyncValidators");function pn(F){return null!=F}function An(F){return(0,f.QGY)(F)?(0,M.D)(F):F}function kn(F){let O={};return F.forEach(A=>{O=null!=A?{...O,...A}:O}),0===Object.keys(O).length?null:O}function Dn(F,O){return O.map(A=>A(F))}function ke(F){return F.map(O=>function Sn(F){return!F.validate}(O)?O:A=>O.validate(A))}function qn(F){return null!=F?function er(F){if(!F)return null;const O=F.filter(pn);return 0==O.length?null:function(A){return kn(Dn(A,O))}}(ke(F)):null}function Rn(F){return null!=F?function dn(F){if(!F)return null;const O=F.filter(pn);return 0==O.length?null:function(A){return function ne(...F){const O=(0,Q.jO)(F),{args:A,keys:q}=(0,G.D)(F),dt=new Y.y(cn=>{const{length:$n}=A;if(!$n)return void cn.complete();const si=new Array($n);let fi=$n,Ei=$n;for(let Mo=0;Mo<$n;Mo++){let cs=!1;(0,ee.Xf)(A[Mo]).subscribe((0,oe.x)(cn,Gs=>{cs||(cs=!0,Ei--),si[Mo]=Gs},()=>fi--,void 0,()=>{(!fi||!cs)&&(Ei||cn.next(q?(0,X.n)(q,si):si),cn.complete())}))}});return O?dt.pipe((0,ce.Z)(O)):dt}(Dn(A,O).map(An)).pipe((0,de.U)(kn))}}(ke(F)):null}function dr(F,O){return null===F?[O]:Array.isArray(F)?[...F,O]:[F,O]}function ve(F){return F?Array.isArray(F)?F:[F]:[]}function Oe(F,O){return Array.isArray(F)?F.includes(O):F===O}function qe(F,O){const A=ve(O);return ve(F).forEach(dt=>{Oe(A,dt)||A.push(dt)}),A}function ot(F,O){return ve(O).filter(A=>!Oe(F,A))}class Zt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=qn(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=Rn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,A){return!!this.control&&this.control.hasError(O,A)}getError(O,A){return this.control?this.control.getError(O,A):null}}class Ut extends Zt{get formDirective(){return null}get path(){return null}}class Bt extends Zt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tt{constructor(O){this._cd=O}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ne=(()=>{class F extends Tt{constructor(A){super(A)}}return F.\u0275fac=function(A){return new(A||F)(f.Y36(Bt,2))},F.\u0275dir=f.lG2({type:F,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(A,q){2&A&&f.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)},features:[f.qOj]}),F})(),me=(()=>{class F extends Tt{constructor(A){super(A)}}return F.\u0275fac=function(A){return new(A||F)(f.Y36(Ut,10))},F.\u0275dir=f.lG2({type:F,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(A,q){2&A&&f.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)("ng-submitted",q.isSubmitted)},features:[f.qOj]}),F})();const wn="VALID",be="INVALID",ye="PENDING",De="DISABLED";function pe(F){return(_t(F)?F.validators:F)||null}function H(F){return Array.isArray(F)?qn(F):F||null}function re(F,O){return(_t(O)?O.asyncValidators:F)||null}function Be(F){return Array.isArray(F)?Rn(F):F||null}function _t(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}class he{constructor(O,A){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=O,this._rawAsyncValidators=A,this._composedValidatorFn=H(this._rawValidators),this._composedAsyncValidatorFn=Be(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===wn}get invalid(){return this.status===be}get pending(){return this.status==ye}get disabled(){return this.status===De}get enabled(){return this.status!==De}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._rawValidators=O,this._composedValidatorFn=H(O)}setAsyncValidators(O){this._rawAsyncValidators=O,this._composedAsyncValidatorFn=Be(O)}addValidators(O){this.setValidators(qe(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(qe(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(ot(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(ot(O,this._rawAsyncValidators))}hasValidator(O){return Oe(this._rawValidators,O)}hasAsyncValidator(O){return Oe(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=ye,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const A=this._parentMarkedDirty(O.onlySelf);this.status=De,this.errors=null,this._forEachChild(q=>{q.disable({...O,onlySelf:!0})}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...O,skipPristineCheck:A}),this._onDisabledChange.forEach(q=>q(!0))}enable(O={}){const A=this._parentMarkedDirty(O.onlySelf);this.status=wn,this._forEachChild(q=>{q.enable({...O,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors({...O,skipPristineCheck:A}),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}getRawValue(){return this.value}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wn||this.status===ye)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?De:wn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=ye,this._hasOwnPendingAsyncValidator=!0;const A=An(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,A={}){this.errors=O,this._updateControlsErrors(!1!==A.emitEvent)}get(O){let A=O;return null==A||(Array.isArray(A)||(A=A.split(".")),0===A.length)?null:A.reduce((q,dt)=>q&&q._find(dt),this)}getError(O,A){const q=A?this.get(A):this;return q&&q.errors?q.errors[O]:null}hasError(O,A){return!!this.getError(O,A)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?De:this.errors?be:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ye)?ye:this._anyControlsHaveStatus(be)?be:wn}_anyControlsHaveStatus(O){return this._anyControls(A=>A.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){_t(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(O){return null}}class te extends he{constructor(O,A,q){super(pe(A),re(q,A)),this.controls=O,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,A){return this.controls[O]?this.controls[O]:(this.controls[O]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(O,A,q={}){this.registerControl(O,A),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(O,A={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(O,A,q={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],A&&this.registerControl(O,A),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,A={}){(function jt(F,O,A){F._forEachChild((q,dt)=>{if(void 0===A[dt])throw new f.vHH(1002,"")})})(this,0,O),Object.keys(O).forEach(q=>{(function Pt(F,O,A){const q=F.controls;if(!(O?Object.keys(q):q).length)throw new f.vHH(1e3,"");if(!q[A])throw new f.vHH(1001,"")})(this,!0,q),this.controls[q].setValue(O[q],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(O,A={}){null!=O&&(Object.keys(O).forEach(q=>{const dt=this.controls[q];dt&&dt.patchValue(O[q],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(O={},A={}){this._forEachChild((q,dt)=>{q.reset(O[dt],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(O,A,q)=>(O[q]=A.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(A,q)=>!!q._syncPendingControls()||A);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){Object.keys(this.controls).forEach(A=>{const q=this.controls[A];q&&O(q,A)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const[A,q]of Object.entries(this.controls))if(this.contains(A)&&O(q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(A,q,dt)=>((q.enabled||this.disabled)&&(A[dt]=q.value),A))}_reduceChildren(O,A){let q=O;return this._forEachChild((dt,cn)=>{q=A(q,dt,cn)}),q}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(O){return this.controls.hasOwnProperty(O)?this.controls[O]:null}}function Tn(F,O){mi(F,O),O.valueAccessor.writeValue(F.value),F.disabled&&O.valueAccessor.setDisabledState?.(!0),function es(F,O){O.valueAccessor.registerOnChange(A=>{F._pendingValue=A,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&lr(F,O)})}(F,O),function Gi(F,O){const A=(q,dt)=>{O.valueAccessor.writeValue(q),dt&&O.viewToModelUpdate(q)};F.registerOnChange(A),O._registerOnDestroy(()=>{F._unregisterOnChange(A)})}(F,O),function Oi(F,O){O.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&lr(F,O),"submit"!==F.updateOn&&F.markAsTouched()})}(F,O),function nn(F,O){if(O.valueAccessor.setDisabledState){const A=q=>{O.valueAccessor.setDisabledState(q)};F.registerOnDisabledChange(A),O._registerOnDestroy(()=>{F._unregisterOnDisabledChange(A)})}}(F,O)}function jr(F,O){F.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(O)})}function mi(F,O){const A=function rr(F){return F._rawValidators}(F);null!==O.validator?F.setValidators(dr(A,O.validator)):"function"==typeof A&&F.setValidators([A]);const q=function Kt(F){return F._rawAsyncValidators}(F);null!==O.asyncValidator?F.setAsyncValidators(dr(q,O.asyncValidator)):"function"==typeof q&&F.setAsyncValidators([q]);const dt=()=>F.updateValueAndValidity();jr(O._rawValidators,dt),jr(O._rawAsyncValidators,dt)}function lr(F,O){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}const yr={provide:Ut,useExisting:(0,f.Gpc)(()=>vr)},Fi=(()=>Promise.resolve())();let vr=(()=>{class F extends Ut{constructor(A,q){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new te({},qn(A),Rn(q))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(A){Fi.then(()=>{const q=this._findContainer(A.path);A.control=q.registerControl(A.name,A.control),Tn(A.control,A),A.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(A)})}getControl(A){return this.form.get(A.path)}removeControl(A){Fi.then(()=>{const q=this._findContainer(A.path);q&&q.removeControl(A.name),this._directives.delete(A)})}addFormGroup(A){Fi.then(()=>{const q=this._findContainer(A.path),dt=new te({});(function Qr(F,O){mi(F,O)})(dt,A),q.registerControl(A.name,dt),dt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(A){Fi.then(()=>{const q=this._findContainer(A.path);q&&q.removeControl(A.name)})}getFormGroup(A){return this.form.get(A.path)}updateModel(A,q){Fi.then(()=>{this.form.get(A.path).setValue(q)})}setValue(A){this.control.setValue(A)}onSubmit(A){return this.submitted=!0,function Pi(F,O){F._syncPendingControls(),O.forEach(A=>{const q=A.control;"submit"===q.updateOn&&q._pendingChange&&(A.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(A),"dialog"===A?.target?.method}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(A){return A.pop(),A.length?this.form.get(A):this.form}}return F.\u0275fac=function(A){return new(A||F)(f.Y36(Ce,10),f.Y36($e,10))},F.\u0275dir=f.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(A,q){1&A&&f.NdJ("submit",function(cn){return q.onSubmit(cn)})("reset",function(){return q.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([yr]),f.qOj]}),F})();function Hr(F,O){const A=F.indexOf(O);A>-1&&F.splice(A,1)}function Vi(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}const ts=class extends he{constructor(O=null,A,q){super(pe(A),re(q,A)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_t(A)&&(A.nonNullable||A.initialValueIsDefault)&&(this.defaultValue=Vi(O)?O.value:O)}setValue(O,A={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(O,A={}){this.setValue(O,A)}reset(O=this.defaultValue,A={}){this._applyFormState(O),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){Hr(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){Hr(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){Vi(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}},ir={provide:Bt,useExisting:(0,f.Gpc)(()=>Zr)},Dr=(()=>Promise.resolve())();let Zr=(()=>{class F extends Bt{constructor(A,q,dt,cn,$n){super(),this._changeDetectorRef=$n,this.control=new ts,this._registered=!1,this.update=new f.vpe,this._parent=A,this._setValidators(q),this._setAsyncValidators(dt),this.valueAccessor=function ri(F,O){if(!O)return null;let A,q,dt;return Array.isArray(O),O.forEach(cn=>{cn.constructor===lt?A=cn:function Ni(F){return Object.getPrototypeOf(F.constructor)===Ue}(cn)?q=cn:dt=cn}),dt||q||A||null}(0,cn)}ngOnChanges(A){if(this._checkForErrors(),!this._registered||"name"in A){if(this._registered&&(this._checkName(),this.formDirective)){const q=A.name.previousValue;this.formDirective.removeControl({name:q,path:this._getPath(q)})}this._setUpControl()}"isDisabled"in A&&this._updateDisabled(A),function Zi(F,O){if(!F.hasOwnProperty("model"))return!1;const A=F.model;return!!A.isFirstChange()||!Object.is(O,A.currentValue)}(A,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(A){Dr.then(()=>{this.control.setValue(A,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(A){const q=A.isDisabled.currentValue,dt=0!==q&&(0,f.D6c)(q);Dr.then(()=>{dt&&!this.control.disabled?this.control.disable():!dt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(A){return this._parent?function En(F,O){return[...O.path,F]}(A,this._parent):[A]}}return F.\u0275fac=function(A){return new(A||F)(f.Y36(Ut,9),f.Y36(Ce,10),f.Y36($e,10),f.Y36(Ge,10),f.Y36(f.sBO,8))},F.\u0275dir=f.lG2({type:F,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([ir]),f.qOj,f.TTD]}),F})(),sr=(()=>{class F{}return F.\u0275fac=function(A){return new(A||F)},F.\u0275dir=f.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),F})(),Da=(()=>{class F{}return F.\u0275fac=function(A){return new(A||F)},F.\u0275mod=f.oAB({type:F}),F.\u0275inj=f.cJS({}),F})();const Co={provide:Ge,useExisting:(0,f.Gpc)(()=>zs),multi:!0};let zs=(()=>{class F extends Ue{writeValue(A){this.setProperty("value",parseFloat(A))}registerOnChange(A){this.onChange=q=>{A(""==q?null:parseFloat(q))}}}return F.\u0275fac=function(){let O;return function(q){return(O||(O=f.n5z(F)))(q||F)}}(),F.\u0275dir=f.lG2({type:F,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(A,q){1&A&&f.NdJ("change",function(cn){return q.onChange(cn.target.value)})("input",function(cn){return q.onChange(cn.target.value)})("blur",function(){return q.onTouched()})},features:[f._Bn([Co]),f.qOj]}),F})(),Pn=(()=>{class F{}return F.\u0275fac=function(A){return new(A||F)},F.\u0275mod=f.oAB({type:F}),F.\u0275inj=f.cJS({imports:[Da]}),F})(),Rr=(()=>{class F{}return F.\u0275fac=function(A){return new(A||F)},F.\u0275mod=f.oAB({type:F}),F.\u0275inj=f.cJS({imports:[Pn]}),F})()},1481:(Ie,ae,C)=>{"use strict";C.d(ae,{Dx:()=>Ne,b2:()=>Ut,q6:()=>Oe});var f=C(6895),m=C(4650);class M extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Y extends M{static makeCurrent(){(0,f.HT)(new Y)}onAndCancel(te,ie,je){return te.addEventListener(ie,je,!1),()=>{te.removeEventListener(ie,je,!1)}}dispatchEvent(te,ie){te.dispatchEvent(ie)}remove(te){te.parentNode&&te.parentNode.removeChild(te)}createElement(te,ie){return(ie=ie||this.getDefaultDocument()).createElement(te)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(te){return te.nodeType===Node.ELEMENT_NODE}isShadowRoot(te){return te instanceof DocumentFragment}getGlobalEventTarget(te,ie){return"window"===ie?window:"document"===ie?te:"body"===ie?te.body:null}getBaseHref(te){const ie=function ee(){return G=G||document.querySelector("base"),G?G.getAttribute("href"):null}();return null==ie?null:function oe(he){Q=Q||document.createElement("a"),Q.setAttribute("href",he);const te=Q.pathname;return"/"===te.charAt(0)?te:`/${te}`}(ie)}resetBaseElement(){G=null}getUserAgent(){return window.navigator.userAgent}getCookie(te){return(0,f.Mx)(document.cookie,te)}}let Q,G=null;const ce=new m.OlP("TRANSITION_ID"),ne=[{provide:m.ip1,useFactory:function X(he,te,ie){return()=>{ie.get(m.CZH).donePromise.then(()=>{const je=(0,f.q)(),et=te.querySelectorAll(`style[ng-transition="${he}"]`);for(let Yt=0;Yt<et.length;Yt++)je.remove(et[Yt])})}},deps:[ce,f.K0,m.zs3],multi:!0}];let Ke=(()=>{class he{build(){return new XMLHttpRequest}}return he.\u0275fac=function(ie){return new(ie||he)},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac}),he})();const Ue=new m.OlP("EventManagerPlugins");let Ge=(()=>{class he{constructor(ie,je){this._zone=je,this._eventNameToPlugin=new Map,ie.forEach(et=>et.manager=this),this._plugins=ie.slice().reverse()}addEventListener(ie,je,et){return this._findPluginFor(je).addEventListener(ie,je,et)}addGlobalEventListener(ie,je,et){return this._findPluginFor(je).addGlobalEventListener(ie,je,et)}getZone(){return this._zone}_findPluginFor(ie){const je=this._eventNameToPlugin.get(ie);if(je)return je;const et=this._plugins;for(let Yt=0;Yt<et.length;Yt++){const En=et[Yt];if(En.supports(ie))return this._eventNameToPlugin.set(ie,En),En}throw new Error(`No event manager plugin found for event ${ie}`)}}return he.\u0275fac=function(ie){return new(ie||he)(m.LFG(Ue),m.LFG(m.R0b))},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac}),he})();class vt{constructor(te){this._doc=te}addGlobalEventListener(te,ie,je){const et=(0,f.q)().getGlobalEventTarget(this._doc,te);if(!et)throw new Error(`Unsupported event target ${et} for event ${ie}`);return this.addEventListener(et,ie,je)}}let Je=(()=>{class he{constructor(){this._stylesSet=new Set}addStyles(ie){const je=new Set;ie.forEach(et=>{this._stylesSet.has(et)||(this._stylesSet.add(et),je.add(et))}),this.onStylesAdded(je)}onStylesAdded(ie){}getAllStyles(){return Array.from(this._stylesSet)}}return he.\u0275fac=function(ie){return new(ie||he)},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac}),he})(),Me=(()=>{class he extends Je{constructor(ie){super(),this._doc=ie,this._hostNodes=new Map,this._hostNodes.set(ie.head,[])}_addStylesToHost(ie,je,et){ie.forEach(Yt=>{const En=this._doc.createElement("style");En.textContent=Yt,et.push(je.appendChild(En))})}addHost(ie){const je=[];this._addStylesToHost(this._stylesSet,ie,je),this._hostNodes.set(ie,je)}removeHost(ie){const je=this._hostNodes.get(ie);je&&je.forEach(bt),this._hostNodes.delete(ie)}onStylesAdded(ie){this._hostNodes.forEach((je,et)=>{this._addStylesToHost(ie,et,je)})}ngOnDestroy(){this._hostNodes.forEach(ie=>ie.forEach(bt))}}return he.\u0275fac=function(ie){return new(ie||he)(m.LFG(f.K0))},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac}),he})();function bt(he){(0,f.q)().remove(he)}const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lt=/%COMP%/g;function xe(he,te,ie){for(let je=0;je<te.length;je++){let et=te[je];Array.isArray(et)?xe(he,et,ie):(et=et.replace(lt,he),ie.push(et))}return ie}function Ae(he){return te=>{if("__ngUnwrap__"===te)return he;!1===he(te)&&(te.preventDefault(),te.returnValue=!1)}}let Ve=(()=>{class he{constructor(ie,je,et){this.eventManager=ie,this.sharedStylesHost=je,this.appId=et,this.rendererByCompId=new Map,this.defaultRenderer=new wt(ie)}createRenderer(ie,je){if(!ie||!je)return this.defaultRenderer;switch(je.encapsulation){case m.ifc.Emulated:{let et=this.rendererByCompId.get(je.id);return et||(et=new fn(this.eventManager,this.sharedStylesHost,je,this.appId),this.rendererByCompId.set(je.id,et)),et.applyToHost(ie),et}case 1:case m.ifc.ShadowDom:return new kt(this.eventManager,this.sharedStylesHost,ie,je);default:if(!this.rendererByCompId.has(je.id)){const et=xe(je.id,je.styles,[]);this.sharedStylesHost.addStyles(et),this.rendererByCompId.set(je.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return he.\u0275fac=function(ie){return new(ie||he)(m.LFG(Ge),m.LFG(Me),m.LFG(m.AFp))},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac}),he})();class wt{constructor(te){this.eventManager=te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(te,ie){return ie?document.createElementNS(mt[ie]||ie,te):document.createElement(te)}createComment(te){return document.createComment(te)}createText(te){return document.createTextNode(te)}appendChild(te,ie){(hn(te)?te.content:te).appendChild(ie)}insertBefore(te,ie,je){te&&(hn(te)?te.content:te).insertBefore(ie,je)}removeChild(te,ie){te&&te.removeChild(ie)}selectRootElement(te,ie){let je="string"==typeof te?document.querySelector(te):te;if(!je)throw new Error(`The selector "${te}" did not match any elements`);return ie||(je.textContent=""),je}parentNode(te){return te.parentNode}nextSibling(te){return te.nextSibling}setAttribute(te,ie,je,et){if(et){ie=et+":"+ie;const Yt=mt[et];Yt?te.setAttributeNS(Yt,ie,je):te.setAttribute(ie,je)}else te.setAttribute(ie,je)}removeAttribute(te,ie,je){if(je){const et=mt[je];et?te.removeAttributeNS(et,ie):te.removeAttribute(`${je}:${ie}`)}else te.removeAttribute(ie)}addClass(te,ie){te.classList.add(ie)}removeClass(te,ie){te.classList.remove(ie)}setStyle(te,ie,je,et){et&(m.JOm.DashCase|m.JOm.Important)?te.style.setProperty(ie,je,et&m.JOm.Important?"important":""):te.style[ie]=je}removeStyle(te,ie,je){je&m.JOm.DashCase?te.style.removeProperty(ie):te.style[ie]=""}setProperty(te,ie,je){te[ie]=je}setValue(te,ie){te.nodeValue=ie}listen(te,ie,je){return"string"==typeof te?this.eventManager.addGlobalEventListener(te,ie,Ae(je)):this.eventManager.addEventListener(te,ie,Ae(je))}}function hn(he){return"TEMPLATE"===he.tagName&&void 0!==he.content}class fn extends wt{constructor(te,ie,je,et){super(te),this.component=je;const Yt=xe(et+"-"+je.id,je.styles,[]);ie.addStyles(Yt),this.contentAttr=function $e(he){return"_ngcontent-%COMP%".replace(lt,he)}(et+"-"+je.id),this.hostAttr=function Qe(he){return"_nghost-%COMP%".replace(lt,he)}(et+"-"+je.id)}applyToHost(te){super.setAttribute(te,this.hostAttr,"")}createElement(te,ie){const je=super.createElement(te,ie);return super.setAttribute(je,this.contentAttr,""),je}}class kt extends wt{constructor(te,ie,je,et){super(te),this.sharedStylesHost=ie,this.hostEl=je,this.shadowRoot=je.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Yt=xe(et.id,et.styles,[]);for(let En=0;En<Yt.length;En++){const Tn=document.createElement("style");Tn.textContent=Yt[En],this.shadowRoot.appendChild(Tn)}}nodeOrShadowRoot(te){return te===this.hostEl?this.shadowRoot:te}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(te,ie){return super.appendChild(this.nodeOrShadowRoot(te),ie)}insertBefore(te,ie,je){return super.insertBefore(this.nodeOrShadowRoot(te),ie,je)}removeChild(te,ie){return super.removeChild(this.nodeOrShadowRoot(te),ie)}parentNode(te){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(te)))}}let pn=(()=>{class he extends vt{constructor(ie){super(ie)}supports(ie){return!0}addEventListener(ie,je,et){return ie.addEventListener(je,et,!1),()=>this.removeEventListener(ie,je,et)}removeEventListener(ie,je,et){return ie.removeEventListener(je,et)}}return he.\u0275fac=function(ie){return new(ie||he)(m.LFG(f.K0))},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac}),he})();const An=["alt","control","meta","shift"],kn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dn={alt:he=>he.altKey,control:he=>he.ctrlKey,meta:he=>he.metaKey,shift:he=>he.shiftKey};let Sn=(()=>{class he extends vt{constructor(ie){super(ie)}supports(ie){return null!=he.parseEventName(ie)}addEventListener(ie,je,et){const Yt=he.parseEventName(je),En=he.eventCallback(Yt.fullKey,et,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(ie,Yt.domEventName,En))}static parseEventName(ie){const je=ie.toLowerCase().split("."),et=je.shift();if(0===je.length||"keydown"!==et&&"keyup"!==et)return null;const Yt=he._normalizeKey(je.pop());let En="",Tn=je.indexOf("code");if(Tn>-1&&(je.splice(Tn,1),En="code."),An.forEach(jr=>{const nn=je.indexOf(jr);nn>-1&&(je.splice(nn,1),En+=jr+".")}),En+=Yt,0!=je.length||0===Yt.length)return null;const ur={};return ur.domEventName=et,ur.fullKey=En,ur}static matchEventFullKeyCode(ie,je){let et=kn[ie.key]||ie.key,Yt="";return je.indexOf("code.")>-1&&(et=ie.code,Yt="code."),!(null==et||!et)&&(et=et.toLowerCase()," "===et?et="space":"."===et&&(et="dot"),An.forEach(En=>{En!==et&&(0,Dn[En])(ie)&&(Yt+=En+".")}),Yt+=et,Yt===je)}static eventCallback(ie,je,et){return Yt=>{he.matchEventFullKeyCode(Yt,ie)&&et.runGuarded(()=>je(Yt))}}static _normalizeKey(ie){return"esc"===ie?"escape":ie}}return he.\u0275fac=function(ie){return new(ie||he)(m.LFG(f.K0))},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac}),he})();const Oe=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:f.bD},{provide:m.g9A,useValue:function dr(){Y.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function Kt(){return(0,m.RDi)(document),document},deps:[]}]),qe=new m.OlP(""),ot=[{provide:m.rWj,useClass:class de{addToWindow(te){m.dqk.getAngularTestability=(je,et=!0)=>{const Yt=te.findTestabilityInTree(je,et);if(null==Yt)throw new Error("Could not find testability for element.");return Yt},m.dqk.getAllAngularTestabilities=()=>te.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>te.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(je=>{const et=m.dqk.getAllAngularTestabilities();let Yt=et.length,En=!1;const Tn=function(ur){En=En||ur,Yt--,0==Yt&&je(En)};et.forEach(function(ur){ur.whenStable(Tn)})})}findTestabilityInTree(te,ie,je){return null==ie?null:te.getTestability(ie)??(je?(0,f.q)().isShadowRoot(ie)?this.findTestabilityInTree(te,ie.host,!0):this.findTestabilityInTree(te,ie.parentElement,!0):null)}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],Zt=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function rr(){return new m.qLn},deps:[]},{provide:Ue,useClass:pn,multi:!0,deps:[f.K0,m.R0b,m.Lbi]},{provide:Ue,useClass:Sn,multi:!0,deps:[f.K0]},{provide:Ve,useClass:Ve,deps:[Ge,Me,m.AFp]},{provide:m.FYo,useExisting:Ve},{provide:Je,useExisting:Me},{provide:Me,useClass:Me,deps:[f.K0]},{provide:Ge,useClass:Ge,deps:[Ue,m.R0b]},{provide:f.JF,useClass:Ke,deps:[]},[]];let Ut=(()=>{class he{constructor(ie){}static withServerTransition(ie){return{ngModule:he,providers:[{provide:m.AFp,useValue:ie.appId},{provide:ce,useExisting:m.AFp},ne]}}}return he.\u0275fac=function(ie){return new(ie||he)(m.LFG(qe,12))},he.\u0275mod=m.oAB({type:he}),he.\u0275inj=m.cJS({providers:[...Zt,...ot],imports:[f.ez,m.hGG]}),he})(),Ne=(()=>{class he{constructor(ie){this._doc=ie}getTitle(){return this._doc.title}setTitle(ie){this._doc.title=ie||""}}return he.\u0275fac=function(ie){return new(ie||he)(m.LFG(f.K0))},he.\u0275prov=m.Yz7({token:he,factory:function(ie){let je=null;return je=ie?new ie:function Gt(){return new Ne((0,m.LFG)(f.K0))}(),je},providedIn:"root"}),he})();typeof window<"u"&&window},2607:(Ie,ae,C)=>{"use strict";C.d(ae,{gz:()=>ui,gk:()=>He,m2:()=>nt,Q3:()=>ct,OD:()=>ge,F0:()=>Wr,yS:()=>Zo,Bz:()=>Hi,lC:()=>Yi});var f=C(4650),m=C(8996),M=C(9646),Y=C(1135),G=C(6805),ee=C(9751),Q=C(4742),oe=C(4671),ce=C(3268),X=C(3269),ne=C(1810),de=C(5403),Ke=C(9672);function Ue(...w){const E=(0,X.yG)(w),v=(0,X.jO)(w),{args:S,keys:P}=(0,Q.D)(w);if(0===S.length)return(0,m.D)([],E);const $=new ee.y(function Ge(w,E,v=oe.y){return S=>{vt(E,()=>{const{length:P}=w,$=new Array(P);let le=P,we=P;for(let ht=0;ht<P;ht++)vt(E,()=>{const $t=(0,m.D)(w[ht],E);let mn=!1;$t.subscribe((0,de.x)(S,rn=>{$[ht]=rn,mn||(mn=!0,we--),we||S.next(v($.slice()))},()=>{--le||S.complete()}))},S)},S)}}(S,E,P?le=>(0,ne.n)(P,le):oe.y));return v?$.pipe((0,ce.Z)(v)):$}function vt(w,E,v){w?(0,Ke.f)(v,w,E):E()}var Je=C(7272),Me=C(8421);function bt(w){return new ee.y(E=>{(0,Me.Xf)(w()).subscribe(E)})}var mt=C(9635),lt=C(576);function it(w,E){const v=(0,lt.m)(w)?w:()=>w,S=P=>P.error(v());return new ee.y(E?P=>E.schedule(S,0,P):S)}var We=C(515),ut=C(727),Ce=C(4482);function $e(){return(0,Ce.e)((w,E)=>{let v=null;w._refCount++;const S=(0,de.x)(E,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(v=null);const P=w._connection,$=v;v=null,P&&(!$||P===$)&&P.unsubscribe(),E.unsubscribe()});w.subscribe(S),S.closed||(v=w.connect())})}class Qe extends ee.y{constructor(E,v){super(),this.source=E,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,Ce.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new ut.w0;const v=this.getSubject();E.add(this.source.subscribe((0,de.x)(v,void 0,()=>{this._teardown(),v.complete()},S=>{this._teardown(),v.error(S)},()=>this._teardown()))),E.closed&&(this._connection=null,E=ut.w0.EMPTY)}return E}refCount(){return $e()(this)}}var xe=C(7579),Ae=C(6895),Re=C(4004),Ve=C(3900),wt=C(5698),Dt=C(8675),qt=C(9300),hn=C(5577),fn=C(590),kt=C(4351),pn=C(8505),An=C(262),kn=C(5026);function Dn(w){return w<=0?()=>We.E:(0,Ce.e)((E,v)=>{let S=[];E.subscribe((0,de.x)(v,P=>{S.push(P),w<S.length&&S.shift()},()=>{for(const P of S)v.next(P);v.complete()},void 0,()=>{S=null}))})}var Sn=C(8068),ke=C(6590);function er(w,E){const v=arguments.length>=2;return S=>S.pipe(w?(0,qt.h)((P,$)=>w(P,$,S)):oe.y,Dn(1),v?(0,ke.d)(E):(0,Sn.T)(()=>new G.K))}function Rn(w){return(0,Ce.e)((E,v)=>{try{E.subscribe(v)}finally{v.add(w)}})}var dr=C(8189),rr=C(1481);const Kt="primary",ve=Symbol("RouteTitle");class Oe{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const v=this.params[E];return Array.isArray(v)?v[0]:v}return null}getAll(E){if(this.has(E)){const v=this.params[E];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function qe(w){return new Oe(w)}function ot(w,E,v){const S=v.path.split("/");if(S.length>w.length||"full"===v.pathMatch&&(E.hasChildren()||S.length<w.length))return null;const P={};for(let $=0;$<S.length;$++){const le=S[$],we=w[$];if(le.startsWith(":"))P[le.substring(1)]=we;else if(le!==we.path)return null}return{consumed:w.slice(0,S.length),posParams:P}}function Ut(w,E){const v=w?Object.keys(w):void 0,S=E?Object.keys(E):void 0;if(!v||!S||v.length!=S.length)return!1;let P;for(let $=0;$<v.length;$++)if(P=v[$],!Bt(w[P],E[P]))return!1;return!0}function Bt(w,E){if(Array.isArray(w)&&Array.isArray(E)){if(w.length!==E.length)return!1;const v=[...w].sort(),S=[...E].sort();return v.every((P,$)=>S[$]===P)}return w===E}function Tt(w){return Array.prototype.concat.apply([],w)}function bn(w){return w.length>0?w[w.length-1]:null}function Ne(w,E){for(const v in w)w.hasOwnProperty(v)&&E(w[v],v)}function me(w){return(0,f.CqO)(w)?w:(0,f.QGY)(w)?(0,m.D)(Promise.resolve(w)):(0,M.of)(w)}const Pe={exact:function xt(w,E,v){if(!St(w.segments,E.segments)||!ln(w.segments,E.segments,v)||w.numberOfChildren!==E.numberOfChildren)return!1;for(const S in E.children)if(!w.children[S]||!xt(w.children[S],E.children[S],v))return!1;return!0},subset:Jt},Vt={exact:function gn(w,E){return Ut(w,E)},subset:function yn(w,E){return Object.keys(E).length<=Object.keys(w).length&&Object.keys(E).every(v=>Bt(w[v],E[v]))},ignored:()=>!0};function Rt(w,E,v){return Pe[v.paths](w.root,E.root,v.matrixParams)&&Vt[v.queryParams](w.queryParams,E.queryParams)&&!("exact"===v.fragment&&w.fragment!==E.fragment)}function Jt(w,E,v){return xn(w,E,E.segments,v)}function xn(w,E,v,S){if(w.segments.length>v.length){const P=w.segments.slice(0,v.length);return!(!St(P,v)||E.hasChildren()||!ln(P,v,S))}if(w.segments.length===v.length){if(!St(w.segments,v)||!ln(w.segments,v,S))return!1;for(const P in E.children)if(!w.children[P]||!Jt(w.children[P],E.children[P],S))return!1;return!0}{const P=v.slice(0,w.segments.length),$=v.slice(w.segments.length);return!!(St(w.segments,P)&&ln(w.segments,P,S)&&w.children[Kt])&&xn(w.children[Kt],E,$,S)}}function ln(w,E,v){return E.every((S,P)=>Vt[v](w[P].parameters,S.parameters))}class Ft{constructor(E,v,S){this.root=E,this.queryParams=v,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qe(this.queryParams)),this._queryParamMap}toString(){return be.serialize(this)}}class At{constructor(E,v){this.segments=E,this.children=v,this.parent=null,Ne(v,(S,P)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ye(this)}}class Nt{constructor(E,v){this.path=E,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=qe(this.parameters)),this._parameterMap}toString(){return jt(this)}}function St(w,E){return w.length===E.length&&w.every((v,S)=>v.path===E[S].path)}let un=(()=>{class w{}return w.\u0275fac=function(v){return new(v||w)},w.\u0275prov=f.Yz7({token:w,factory:function(){return new wn},providedIn:"root"}),w})();class wn{parse(E){const v=new ur(E);return new Ft(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(E){const v=`/${De(E.root,!0)}`,S=function te(w){const E=Object.keys(w).map(v=>{const S=w[v];return Array.isArray(S)?S.map(P=>`${H(v)}=${H(P)}`).join("&"):`${H(v)}=${H(S)}`}).filter(v=>!!v);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${v}${S}${"string"==typeof E.fragment?`#${function re(w){return encodeURI(w)}(E.fragment)}`:""}`}}const be=new wn;function ye(w){return w.segments.map(E=>jt(E)).join("/")}function De(w,E){if(!w.hasChildren())return ye(w);if(E){const v=w.children[Kt]?De(w.children[Kt],!1):"",S=[];return Ne(w.children,(P,$)=>{$!==Kt&&S.push(`${$}:${De(P,!1)}`)}),S.length>0?`${v}(${S.join("//")})`:v}{const v=function on(w,E){let v=[];return Ne(w.children,(S,P)=>{P===Kt&&(v=v.concat(E(S,P)))}),Ne(w.children,(S,P)=>{P!==Kt&&(v=v.concat(E(S,P)))}),v}(w,(S,P)=>P===Kt?[De(w.children[Kt],!1)]:[`${P}:${De(S,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Kt]?`${ye(w)}/${v[0]}`:`${ye(w)}/(${v.join("//")})`}}function pe(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function H(w){return pe(w).replace(/%3B/gi,";")}function Be(w){return pe(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _t(w){return decodeURIComponent(w)}function Pt(w){return _t(w.replace(/\+/g,"%20"))}function jt(w){return`${Be(w.path)}${function he(w){return Object.keys(w).map(E=>`;${Be(E)}=${Be(w[E])}`).join("")}(w.parameters)}`}const ie=/^[^\/()?;=#]+/;function je(w){const E=w.match(ie);return E?E[0]:""}const et=/^[^=?&#]+/,En=/^[^&#]+/;class ur{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new At([],{}):new At([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(E.length>0||Object.keys(v).length>0)&&(S[Kt]=new At(E,v)),S}parseSegment(){const E=je(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(E),new Nt(_t(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const v=je(this.remaining);if(!v)return;this.capture(v);let S="";if(this.consumeOptional("=")){const P=je(this.remaining);P&&(S=P,this.capture(S))}E[_t(v)]=_t(S)}parseQueryParam(E){const v=function Yt(w){const E=w.match(et);return E?E[0]:""}(this.remaining);if(!v)return;this.capture(v);let S="";if(this.consumeOptional("=")){const le=function Tn(w){const E=w.match(En);return E?E[0]:""}(this.remaining);le&&(S=le,this.capture(S))}const P=Pt(v),$=Pt(S);if(E.hasOwnProperty(P)){let le=E[P];Array.isArray(le)||(le=[le],E[P]=le),le.push($)}else E[P]=$}parseParens(E){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=je(this.remaining),P=this.remaining[S.length];if("/"!==P&&")"!==P&&";"!==P)throw new f.vHH(4010,!1);let $;S.indexOf(":")>-1?($=S.slice(0,S.indexOf(":")),this.capture($),this.capture(":")):E&&($=Kt);const le=this.parseChildren();v[$]=1===Object.keys(le).length?le[Kt]:new At([],le),this.consumeOptional("//")}return v}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new f.vHH(4011,!1)}}function jr(w){return w.segments.length>0?new At([],{[Kt]:w}):w}function nn(w){const E={};for(const S of Object.keys(w.children)){const $=nn(w.children[S]);($.segments.length>0||$.hasChildren())&&(E[S]=$)}return function mi(w){if(1===w.numberOfChildren&&w.children[Kt]){const E=w.children[Kt];return new At(w.segments.concat(E.segments),E.children)}return w}(new At(w.segments,E))}function xr(w){return w instanceof Ft}function Qr(w,E,v,S,P){if(0===v.length)return Ki(E.root,E.root,E.root,S,P);const $=function Zi(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Bo(!0,0,w);let E=0,v=!1;const S=w.reduce((P,$,le)=>{if("object"==typeof $&&null!=$){if($.outlets){const we={};return Ne($.outlets,(ht,$t)=>{we[$t]="string"==typeof ht?ht.split("/"):ht}),[...P,{outlets:we}]}if($.segmentPath)return[...P,$.segmentPath]}return"string"!=typeof $?[...P,$]:0===le?($.split("/").forEach((we,ht)=>{0==ht&&"."===we||(0==ht&&""===we?v=!0:".."===we?E++:""!=we&&P.push(we))}),P):[...P,$]},[]);return new Bo(v,E,S)}(v);return $.toRoot()?Ki(E.root,E.root,new At([],{}),S,P):function le(ht){const $t=function ri(w,E,v,S){if(w.isAbsolute)return new Ni(E.root,!0,0);if(-1===S)return new Ni(v,v===E.root,0);return function Li(w,E,v){let S=w,P=E,$=v;for(;$>P;){if($-=P,S=S.parent,!S)throw new f.vHH(4005,!1);P=S.segments.length}return new Ni(S,!1,P-$)}(v,S+(kr(w.commands[0])?0:1),w.numberOfDoubleDots)}($,E,w.snapshot?._urlSegment,ht),mn=$t.processChildren?Fi($t.segmentGroup,$t.index,$.commands):yr($t.segmentGroup,$t.index,$.commands);return Ki(E.root,$t.segmentGroup,mn,S,P)}(w.snapshot?._lastPathIndex)}function kr(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function mr(w){return"object"==typeof w&&null!=w&&w.outlets}function Ki(w,E,v,S,P){let le,$={};S&&Ne(S,(ht,$t)=>{$[$t]=Array.isArray(ht)?ht.map(mn=>`${mn}`):`${ht}`}),le=w===E?v:Gn(w,E,v);const we=jr(nn(le));return new Ft(we,$,P)}function Gn(w,E,v){const S={};return Ne(w.children,(P,$)=>{S[$]=P===E?v:Gn(P,E,v)}),new At(w.segments,S)}class Bo{constructor(E,v,S){if(this.isAbsolute=E,this.numberOfDoubleDots=v,this.commands=S,E&&S.length>0&&kr(S[0]))throw new f.vHH(4003,!1);const P=S.find(mr);if(P&&P!==bn(S))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ni{constructor(E,v,S){this.segmentGroup=E,this.processChildren=v,this.index=S}}function yr(w,E,v){if(w||(w=new At([],{})),0===w.segments.length&&w.hasChildren())return Fi(w,E,v);const S=function vr(w,E,v){let S=0,P=E;const $={match:!1,pathIndex:0,commandIndex:0};for(;P<w.segments.length;){if(S>=v.length)return $;const le=w.segments[P],we=v[S];if(mr(we))break;const ht=`${we}`,$t=S<v.length-1?v[S+1]:null;if(P>0&&void 0===ht)break;if(ht&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!ns(ht,$t,le))return $;S+=2}else{if(!ns(ht,{},le))return $;S++}P++}return{match:!0,pathIndex:P,commandIndex:S}}(w,E,v),P=v.slice(S.commandIndex);if(S.match&&S.pathIndex<w.segments.length){const $=new At(w.segments.slice(0,S.pathIndex),{});return $.children[Kt]=new At(w.segments.slice(S.pathIndex),w.children),Fi($,0,P)}return S.match&&0===P.length?new At(w.segments,{}):S.match&&!w.hasChildren()?Hr(w,E,v):S.match?Fi(w,0,P):Hr(w,E,v)}function Fi(w,E,v){if(0===v.length)return new At(w.segments,{});{const S=function qi(w){return mr(w[0])?w[0].outlets:{[Kt]:w}}(v),P={};return Ne(S,($,le)=>{"string"==typeof $&&($=[$]),null!==$&&(P[le]=yr(w.children[le],E,$))}),Ne(w.children,($,le)=>{void 0===S[le]&&(P[le]=$)}),new At(w.segments,P)}}function Hr(w,E,v){const S=w.segments.slice(0,E);let P=0;for(;P<v.length;){const $=v[P];if(mr($)){const ht=Vi($.outlets);return new At(S,ht)}if(0===P&&kr(v[0])){S.push(new Nt(w.segments[E].path,ts(v[0]))),P++;continue}const le=mr($)?$.outlets[Kt]:`${$}`,we=P<v.length-1?v[P+1]:null;le&&we&&kr(we)?(S.push(new Nt(le,ts(we))),P+=2):(S.push(new Nt(le,{})),P++)}return new At(S,{})}function Vi(w){const E={};return Ne(w,(v,S)=>{"string"==typeof v&&(v=[v]),null!==v&&(E[S]=Hr(new At([],{}),0,v))}),E}function ts(w){const E={};return Ne(w,(v,S)=>E[S]=`${v}`),E}function ns(w,E,v){return w==v.path&&Ut(E,v.parameters)}class Ir{constructor(E,v){this.id=E,this.url=v}}class ge extends Ir{constructor(E,v,S="imperative",P=null){super(E,v),this.type=0,this.navigationTrigger=S,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nt extends Ir{constructor(E,v,S){super(E,v),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class He extends Ir{constructor(E,v,S,P){super(E,v),this.reason=S,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ct extends Ir{constructor(E,v,S,P){super(E,v),this.error=S,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ht extends Ir{constructor(E,v,S,P){super(E,v),this.urlAfterRedirects=S,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ot extends Ir{constructor(E,v,S,P){super(E,v),this.urlAfterRedirects=S,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qn extends Ir{constructor(E,v,S,P,$){super(E,v),this.urlAfterRedirects=S,this.state=P,this.shouldActivate=$,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ir extends Ir{constructor(E,v,S,P){super(E,v),this.urlAfterRedirects=S,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dr extends Ir{constructor(E,v,S,P){super(E,v),this.urlAfterRedirects=S,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zr{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sr{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lr{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ui{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Io{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Do{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Da{constructor(E,v,S){this.routerEvent=E,this.position=v,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class As{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const v=this.pathFromRoot(E);return v.length>1?v[v.length-2]:null}children(E){const v=Co(E,this._root);return v?v.children.map(S=>S.value):[]}firstChild(E){const v=Co(E,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(E){const v=zs(E,this._root);return v.length<2?[]:v[v.length-2].children.map(P=>P.value).filter(P=>P!==E)}pathFromRoot(E){return zs(E,this._root).map(v=>v.value)}}function Co(w,E){if(w===E.value)return E;for(const v of E.children){const S=Co(w,v);if(S)return S}return null}function zs(w,E){if(w===E.value)return[E];for(const v of E.children){const S=zs(w,v);if(S.length)return S.unshift(E),S}return[]}class ai{constructor(E,v){this.value=E,this.children=v}toString(){return`TreeNode(${this.value})`}}function Ho(w){const E={};return w&&w.children.forEach(v=>E[v.value.outlet]=v),E}class Ws extends As{constructor(E,v){super(E),this.snapshot=v,rs(this,E)}toString(){return this.snapshot.toString()}}function Jr(w,E){const v=function Ms(w,E){const le=new vs([],{},{},"",{},Kt,E,null,w.root,-1,{});return new To("",new ai(le,[]))}(w,E),S=new Y.X([new Nt("",{})]),P=new Y.X({}),$=new Y.X({}),le=new Y.X({}),we=new Y.X(""),ht=new ui(S,P,le,we,$,Kt,E,v.root);return ht.snapshot=v.root,new Ws(new ai(ht,[]),v)}class ui{constructor(E,v,S,P,$,le,we,ht){this.url=E,this.params=v,this.queryParams=S,this.fragment=P,this.data=$,this.outlet=le,this.component=we,this.title=this.data?.pipe((0,Re.U)($t=>$t[ve]))??(0,M.of)(void 0),this._futureSnapshot=ht}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Re.U)(E=>qe(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Re.U)(E=>qe(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xo(w,E="emptyOnly"){const v=w.pathFromRoot;let S=0;if("always"!==E)for(S=v.length-1;S>=1;){const P=v[S],$=v[S-1];if(P.routeConfig&&""===P.routeConfig.path)S--;else{if($.component)break;S--}}return function $o(w){return w.reduce((E,v)=>({params:{...E.params,...v.params},data:{...E.data,...v.data},resolve:{...v.data,...E.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(S))}class vs{constructor(E,v,S,P,$,le,we,ht,$t,mn,rn,zn){this.url=E,this.params=v,this.queryParams=S,this.fragment=P,this.data=$,this.outlet=le,this.component=we,this.title=this.data?.[ve],this.routeConfig=ht,this._urlSegment=$t,this._lastPathIndex=mn,this._correctedLastPathIndex=zn??mn,this._resolve=rn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class To extends As{constructor(E,v){super(v),this.url=E,rs(this,v)}toString(){return zo(this._root)}}function rs(w,E){E.value._routerState=w,E.children.forEach(v=>rs(w,v))}function zo(w){const E=w.children.length>0?` { ${w.children.map(zo).join(", ")} } `:"";return`${w.value}${E}`}function ii(w){if(w.snapshot){const E=w.snapshot,v=w._futureSnapshot;w.snapshot=v,Ut(E.queryParams,v.queryParams)||w.queryParams.next(v.queryParams),E.fragment!==v.fragment&&w.fragment.next(v.fragment),Ut(E.params,v.params)||w.params.next(v.params),function Zt(w,E){if(w.length!==E.length)return!1;for(let v=0;v<w.length;++v)if(!Ut(w[v],E[v]))return!1;return!0}(E.url,v.url)||w.url.next(v.url),Ut(E.data,v.data)||w.data.next(v.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function yi(w,E){const v=Ut(w.params,E.params)&&function gt(w,E){return St(w,E)&&w.every((v,S)=>Ut(v.parameters,E[S].parameters))}(w.url,E.url);return v&&!(!w.parent!=!E.parent)&&(!w.parent||yi(w.parent,E.parent))}function ci(w,E,v){if(v&&w.shouldReuseRoute(E.value,v.value.snapshot)){const S=v.value;S._futureSnapshot=E.value;const P=function vi(w,E,v){return E.children.map(S=>{for(const P of v.children)if(w.shouldReuseRoute(S.value,P.value.snapshot))return ci(w,S,P);return ci(w,S)})}(w,E,v);return new ai(S,P)}{if(w.shouldAttach(E.value)){const $=w.retrieve(E.value);if(null!==$){const le=$.route;return le.value._futureSnapshot=E.value,le.children=E.children.map(we=>ci(w,we)),le}}const S=function is(w){return new ui(new Y.X(w.url),new Y.X(w.params),new Y.X(w.queryParams),new Y.X(w.fragment),new Y.X(w.data),w.outlet,w.component,w)}(E.value),P=E.children.map($=>ci(w,$));return new ai(S,P)}}const Wo="ngNavigationCancelingError";function So(w,E){const{redirectTo:v,navigationBehaviorOptions:S}=xr(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,P=Fn(!1,0,E);return P.url=v,P.navigationBehaviorOptions=S,P}function Fn(w,E,v){const S=new Error("NavigationCancelingError: "+(w||""));return S[Wo]=!0,S.cancellationCode=E,v&&(S.url=v),S}function eo(w){return sa(w)&&xr(w.url)}function sa(w){return w&&w[Wo]}class di{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Tr,this.attachRef=null}}let Tr=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(v,S){const P=this.getOrCreateContext(v);P.outlet=S,this.contexts.set(v,P)}onChildOutletDestroyed(v){const S=this.getContext(v);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let S=this.getContext(v);return S||(S=new di,this.contexts.set(v,S)),S}getContext(v){return this.contexts.get(v)||null}}return w.\u0275fac=function(v){return new(v||w)},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const _i=!1;let Yi=(()=>{class w{constructor(v,S,P,$,le){this.parentContexts=v,this.location=S,this.changeDetector=$,this.environmentInjector=le,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=P||Kt,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,_i);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,_i);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,_i);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,S){this.activated=v,this._activatedRoute=S,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,S){if(this.isActivated)throw new f.vHH(4013,_i);this._activatedRoute=v;const P=this.location,le=v._futureSnapshot.component,we=this.parentContexts.getOrCreateContext(this.name).children,ht=new wi(v,we,P.injector);if(S&&function Jn(w){return!!w.resolveComponentFactory}(S)){const $t=S.resolveComponentFactory(le);this.activated=P.createComponent($t,P.length,ht)}else this.activated=P.createComponent(le,{index:P.length,injector:ht,environmentInjector:S??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(v){return new(v||w)(f.Y36(Tr),f.Y36(f.s_b),f.$8M("name"),f.Y36(f.sBO),f.Y36(f.lqb))},w.\u0275dir=f.lG2({type:w,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),w})();class wi{constructor(E,v,S){this.route=E,this.childContexts=v,this.parent=S}get(E,v){return E===ui?this.route:E===Tr?this.childContexts:this.parent.get(E,v)}}let to=(()=>{class w{}return w.\u0275fac=function(v){return new(v||w)},w.\u0275cmp=f.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(v,S){1&v&&f._UZ(0,"router-outlet")},dependencies:[Yi],encapsulation:2}),w})();function ss(w,E){return w.providers&&!w._injector&&(w._injector=(0,f.MMx)(w.providers,E,`Route: ${w.path}`)),w._injector??E}function no(w){const E=w.children&&w.children.map(no),v=E?{...w,children:E}:{...w};return!v.component&&!v.loadComponent&&(E||v.loadChildren)&&v.outlet&&v.outlet!==Kt&&(v.component=to),v}function $r(w){return w.outlet||Kt}function as(w,E){const v=w.filter(S=>$r(S)===E);return v.push(...w.filter(S=>$r(S)!==E)),v}function ws(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let E=w.parent;E;E=E.parent){const v=E.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class yt{constructor(E,v,S,P){this.routeReuseStrategy=E,this.futureState=v,this.currState=S,this.forwardEvent=P}activate(E){const v=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,S,E),ii(this.futureState.root),this.activateChildRoutes(v,S,E)}deactivateChildRoutes(E,v,S){const P=Ho(v);E.children.forEach($=>{const le=$.value.outlet;this.deactivateRoutes($,P[le],S),delete P[le]}),Ne(P,($,le)=>{this.deactivateRouteAndItsChildren($,S)})}deactivateRoutes(E,v,S){const P=E.value,$=v?v.value:null;if(P===$)if(P.component){const le=S.getContext(P.outlet);le&&this.deactivateChildRoutes(E,v,le.children)}else this.deactivateChildRoutes(E,v,S);else $&&this.deactivateRouteAndItsChildren(v,S)}deactivateRouteAndItsChildren(E,v){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,v):this.deactivateRouteAndOutlet(E,v)}detachAndStoreRouteSubtree(E,v){const S=v.getContext(E.value.outlet),P=S&&E.value.component?S.children:v,$=Ho(E);for(const le of Object.keys($))this.deactivateRouteAndItsChildren($[le],P);if(S&&S.outlet){const le=S.outlet.detach(),we=S.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:le,route:E,contexts:we})}}deactivateRouteAndOutlet(E,v){const S=v.getContext(E.value.outlet),P=S&&E.value.component?S.children:v,$=Ho(E);for(const le of Object.keys($))this.deactivateRouteAndItsChildren($[le],P);S&&S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated(),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(E,v,S){const P=Ho(v);E.children.forEach($=>{this.activateRoutes($,P[$.value.outlet],S),this.forwardEvent(new Do($.value.snapshot))}),E.children.length&&this.forwardEvent(new Ui(E.value.snapshot))}activateRoutes(E,v,S){const P=E.value,$=v?v.value:null;if(ii(P),P===$)if(P.component){const le=S.getOrCreateContext(P.outlet);this.activateChildRoutes(E,v,le.children)}else this.activateChildRoutes(E,v,S);else if(P.component){const le=S.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const we=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),le.children.onOutletReAttached(we.contexts),le.attachRef=we.componentRef,le.route=we.route.value,le.outlet&&le.outlet.attach(we.componentRef,we.route.value),ii(we.route.value),this.activateChildRoutes(E,null,le.children)}else{const we=ws(P.snapshot),ht=we?.get(f._Vd)??null;le.attachRef=null,le.route=P,le.resolver=ht,le.injector=we,le.outlet&&le.outlet.activateWith(P,le.injector),this.activateChildRoutes(E,null,le.children)}}else this.activateChildRoutes(E,null,S)}}class Pn{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Rr{constructor(E,v){this.component=E,this.route=v}}function Ti(w,E,v){const S=w._root;return us(S,E?E._root:null,v,[S.value])}function Bi(w,E){const v=Symbol(),S=E.get(w,v);return S===v?"function"!=typeof w||(0,f.Z0I)(w)?E.get(w):w:S}function us(w,E,v,S,P={canDeactivateChecks:[],canActivateChecks:[]}){const $=Ho(E);return w.children.forEach(le=>{(function hi(w,E,v,S,P={canDeactivateChecks:[],canActivateChecks:[]}){const $=w.value,le=E?E.value:null,we=v?v.getContext(w.value.outlet):null;if(le&&$.routeConfig===le.routeConfig){const ht=function zr(w,E,v){if("function"==typeof v)return v(w,E);switch(v){case"pathParamsChange":return!St(w.url,E.url);case"pathParamsOrQueryParamsChange":return!St(w.url,E.url)||!Ut(w.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yi(w,E)||!Ut(w.queryParams,E.queryParams);default:return!yi(w,E)}}(le,$,$.routeConfig.runGuardsAndResolvers);ht?P.canActivateChecks.push(new Pn(S)):($.data=le.data,$._resolvedData=le._resolvedData),us(w,E,$.component?we?we.children:null:v,S,P),ht&&we&&we.outlet&&we.outlet.isActivated&&P.canDeactivateChecks.push(new Rr(we.outlet.component,le))}else le&&ls(E,we,P),P.canActivateChecks.push(new Pn(S)),us(w,null,$.component?we?we.children:null:v,S,P)})(le,$[le.value.outlet],v,S.concat([le.value]),P),delete $[le.value.outlet]}),Ne($,(le,we)=>ls(le,v.getContext(we),P)),P}function ls(w,E,v){const S=Ho(w),P=w.value;Ne(S,($,le)=>{ls($,P.component?E?E.children.getContext(le):null:E,v)}),v.canDeactivateChecks.push(new Rr(P.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,P))}function ks(w){return"function"==typeof w}function si(w){return w instanceof G.K||"EmptyError"===w?.name}const fi=Symbol("INITIAL_VALUE");function Ei(){return(0,Ve.w)(w=>Ue(w.map(E=>E.pipe((0,wt.q)(1),(0,Dt.O)(fi)))).pipe((0,Re.U)(E=>{for(const v of E)if(!0!==v){if(v===fi)return fi;if(!1===v||v instanceof Ft)return v}return!0}),(0,qt.h)(E=>E!==fi),(0,wt.q)(1)))}function ao(w){return(0,mt.z)((0,pn.b)(E=>{if(xr(E))throw So(0,E)}),(0,Re.U)(E=>!0===E))}const x={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function j(w,E,v,S,P){const $=R(w,E,v);return $.matched?function bu(w,E,v,S){const P=E.canMatch;if(!P||0===P.length)return(0,M.of)(!0);const $=P.map(le=>{const we=Bi(le,w);return me(function dt(w){return w&&ks(w.canMatch)}(we)?we.canMatch(E,v):w.runInContext(()=>we(E,v)))});return(0,M.of)($).pipe(Ei(),ao())}(S=ss(E,S),E,v).pipe((0,Re.U)(le=>!0===le?$:{...x})):(0,M.of)($)}function R(w,E,v){if(""===E.path)return"full"===E.pathMatch&&(w.hasChildren()||v.length>0)?{...x}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const P=(E.matcher||ot)(v,w,E);if(!P)return{...x};const $={};Ne(P.posParams,(we,ht)=>{$[ht]=we.path});const le=P.consumed.length>0?{...$,...P.consumed[P.consumed.length-1].parameters}:$;return{matched:!0,consumedSegments:P.consumed,remainingSegments:v.slice(P.consumed.length),parameters:le,positionalParamSegments:P.posParams??{}}}function W(w,E,v,S,P="corrected"){if(v.length>0&&function pt(w,E,v){return v.some(S=>Kn(w,E,S)&&$r(S)!==Kt)}(w,v,S)){const le=new At(E,function rt(w,E,v,S){const P={};P[Kt]=S,S._sourceSegment=w,S._segmentIndexShift=E.length;for(const $ of v)if(""===$.path&&$r($)!==Kt){const le=new At([],{});le._sourceSegment=w,le._segmentIndexShift=E.length,P[$r($)]=le}return P}(w,E,S,new At(v,w.children)));return le._sourceSegment=w,le._segmentIndexShift=E.length,{segmentGroup:le,slicedSegments:[]}}if(0===v.length&&function sn(w,E,v){return v.some(S=>Kn(w,E,S))}(w,v,S)){const le=new At(w.segments,function _e(w,E,v,S,P,$){const le={};for(const we of S)if(Kn(w,v,we)&&!P[$r(we)]){const ht=new At([],{});ht._sourceSegment=w,ht._segmentIndexShift="legacy"===$?w.segments.length:E.length,le[$r(we)]=ht}return{...P,...le}}(w,E,v,S,w.children,P));return le._sourceSegment=w,le._segmentIndexShift=E.length,{segmentGroup:le,slicedSegments:v}}const $=new At(w.segments,w.children);return $._sourceSegment=w,$._segmentIndexShift=E.length,{segmentGroup:$,slicedSegments:v}}function Kn(w,E,v){return(!(w.hasChildren()||E.length>0)||"full"!==v.pathMatch)&&""===v.path}function tr(w,E,v,S){return!!($r(w)===S||S!==Kt&&Kn(E,v,w))&&("**"===w.path||R(E,w,v).matched)}function Yn(w,E,v){return 0===E.length&&!w.children[v]}const Bn=!1;class Ar{constructor(E){this.segmentGroup=E||null}}class or{constructor(E){this.urlTree=E}}function _r(w){return it(new Ar(w))}function Es(w){return it(new or(w))}class Si{constructor(E,v,S,P,$){this.injector=E,this.configLoader=v,this.urlSerializer=S,this.urlTree=P,this.config=$,this.allowRedirects=!0}apply(){const E=W(this.urlTree.root,[],[],this.config).segmentGroup,v=new At(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,v,Kt).pipe((0,Re.U)($=>this.createUrlTree(nn($),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,An.K)($=>{if($ instanceof or)return this.allowRedirects=!1,this.match($.urlTree);throw $ instanceof Ar?this.noMatchError($):$}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,Kt).pipe((0,Re.U)(P=>this.createUrlTree(nn(P),E.queryParams,E.fragment))).pipe((0,An.K)(P=>{throw P instanceof Ar?this.noMatchError(P):P}))}noMatchError(E){return new f.vHH(4002,Bn)}createUrlTree(E,v,S){const P=jr(E);return new Ft(P,v,S)}expandSegmentGroup(E,v,S,P){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(E,v,S).pipe((0,Re.U)($=>new At([],$))):this.expandSegment(E,S,v,S.segments,P,!0)}expandChildren(E,v,S){const P=[];for(const $ of Object.keys(S.children))"primary"===$?P.unshift($):P.push($);return(0,m.D)(P).pipe((0,kt.b)($=>{const le=S.children[$],we=as(v,$);return this.expandSegmentGroup(E,we,le,$).pipe((0,Re.U)(ht=>({segment:ht,outlet:$})))}),(0,kn.R)(($,le)=>($[le.outlet]=le.segment,$),{}),er())}expandSegment(E,v,S,P,$,le){return(0,m.D)(S).pipe((0,kt.b)(we=>this.expandSegmentAgainstRoute(E,v,S,we,P,$,le).pipe((0,An.K)($t=>{if($t instanceof Ar)return(0,M.of)(null);throw $t}))),(0,fn.P)(we=>!!we),(0,An.K)((we,ht)=>{if(si(we))return Yn(v,P,$)?(0,M.of)(new At([],{})):_r(v);throw we}))}expandSegmentAgainstRoute(E,v,S,P,$,le,we){return tr(P,v,$,le)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(E,v,P,$,le):we&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,v,S,P,$,le):_r(v):_r(v)}expandSegmentAgainstRouteUsingRedirect(E,v,S,P,$,le){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,S,P,le):this.expandRegularSegmentAgainstRouteUsingRedirect(E,v,S,P,$,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,v,S,P){const $=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Es($):this.lineralizeSegments(S,$).pipe((0,hn.z)(le=>{const we=new At(le,{});return this.expandSegment(E,we,v,le,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,v,S,P,$,le){const{matched:we,consumedSegments:ht,remainingSegments:$t,positionalParamSegments:mn}=R(v,P,$);if(!we)return _r(v);const rn=this.applyRedirectCommands(ht,P.redirectTo,mn);return P.redirectTo.startsWith("/")?Es(rn):this.lineralizeSegments(P,rn).pipe((0,hn.z)(zn=>this.expandSegment(E,v,S,zn.concat($t),le,!1)))}matchSegmentAgainstRoute(E,v,S,P,$){return"**"===S.path?(E=ss(S,E),S.loadChildren?(S._loadedRoutes?(0,M.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):this.configLoader.loadChildren(E,S)).pipe((0,Re.U)(we=>(S._loadedRoutes=we.routes,S._loadedInjector=we.injector,new At(P,{})))):(0,M.of)(new At(P,{}))):j(v,S,P,E).pipe((0,Ve.w)(({matched:le,consumedSegments:we,remainingSegments:ht})=>le?this.getChildConfig(E=S._injector??E,S,P).pipe((0,hn.z)(mn=>{const rn=mn.injector??E,zn=mn.routes,{segmentGroup:Mi,slicedSegments:ps}=W(v,we,ht,zn),Fs=new At(Mi.segments,Mi.children);if(0===ps.length&&Fs.hasChildren())return this.expandChildren(rn,zn,Fs).pipe((0,Re.U)(k=>new At(we,k)));if(0===zn.length&&0===ps.length)return(0,M.of)(new At(we,{}));const Qi=$r(S)===$;return this.expandSegment(rn,Fs,zn,ps,Qi?Kt:$,!0).pipe((0,Re.U)(No=>new At(we.concat(No.segments),No.children)))})):_r(v)))}getChildConfig(E,v,S){return v.children?(0,M.of)({routes:v.children,injector:E}):v.loadChildren?void 0!==v._loadedRoutes?(0,M.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function Ca(w,E,v,S){const P=E.canLoad;if(void 0===P||0===P.length)return(0,M.of)(!0);const $=P.map(le=>{const we=Bi(le,w);return me(function F(w){return w&&ks(w.canLoad)}(we)?we.canLoad(E,v):w.runInContext(()=>we(E,v)))});return(0,M.of)($).pipe(Ei(),ao())}(E,v,S).pipe((0,hn.z)(P=>P?this.configLoader.loadChildren(E,v).pipe((0,pn.b)($=>{v._loadedRoutes=$.routes,v._loadedInjector=$.injector})):function bs(w){return it(Fn(Bn,3))}())):(0,M.of)({routes:[],injector:E})}lineralizeSegments(E,v){let S=[],P=v.root;for(;;){if(S=S.concat(P.segments),0===P.numberOfChildren)return(0,M.of)(S);if(P.numberOfChildren>1||!P.children[Kt])return it(new f.vHH(4e3,Bn));P=P.children[Kt]}}applyRedirectCommands(E,v,S){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),E,S)}applyRedirectCreateUrlTree(E,v,S,P){const $=this.createSegmentGroup(E,v.root,S,P);return new Ft($,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(E,v){const S={};return Ne(E,(P,$)=>{if("string"==typeof P&&P.startsWith(":")){const we=P.substring(1);S[$]=v[we]}else S[$]=P}),S}createSegmentGroup(E,v,S,P){const $=this.createSegments(E,v.segments,S,P);let le={};return Ne(v.children,(we,ht)=>{le[ht]=this.createSegmentGroup(E,we,S,P)}),new At($,le)}createSegments(E,v,S,P){return v.map($=>$.path.startsWith(":")?this.findPosParam(E,$,P):this.findOrReturn($,S))}findPosParam(E,v,S){const P=S[v.path.substring(1)];if(!P)throw new f.vHH(4001,Bn);return P}findOrReturn(E,v){let S=0;for(const P of v){if(P.path===E.path)return v.splice(S),P;S++}return E}}class el{}class Iu{constructor(E,v,S,P,$,le,we,ht){this.injector=E,this.rootComponentType=v,this.config=S,this.urlTree=P,this.url=$,this.paramsInheritanceStrategy=le,this.relativeLinkResolution=we,this.urlSerializer=ht}recognize(){const E=W(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,Kt).pipe((0,Re.U)(v=>{if(null===v)return null;const S=new vs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new ai(S,v),$=new To(this.url,P);return this.inheritParamsAndData($._root),$}))}inheritParamsAndData(E){const v=E.value,S=xo(v,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data),E.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(E,v,S,P){return 0===S.segments.length&&S.hasChildren()?this.processChildren(E,v,S):this.processSegment(E,v,S,S.segments,P)}processChildren(E,v,S){return(0,m.D)(Object.keys(S.children)).pipe((0,kt.b)(P=>{const $=S.children[P],le=as(v,P);return this.processSegmentGroup(E,le,$,P)}),(0,kn.R)((P,$)=>P&&$?(P.push(...$),P):null),function qn(w,E=!1){return(0,Ce.e)((v,S)=>{let P=0;v.subscribe((0,de.x)(S,$=>{const le=w($,P++);(le||E)&&S.next($),!le&&S.complete()}))})}(P=>null!==P),(0,ke.d)(null),er(),(0,Re.U)(P=>{if(null===P)return null;const $=qs(P);return function Xr(w){w.sort((E,v)=>E.value.outlet===Kt?-1:v.value.outlet===Kt?1:E.value.outlet.localeCompare(v.value.outlet))}($),$}))}processSegment(E,v,S,P,$){return(0,m.D)(v).pipe((0,kt.b)(le=>this.processSegmentAgainstRoute(le._injector??E,le,S,P,$)),(0,fn.P)(le=>!!le),(0,An.K)(le=>{if(si(le))return Yn(S,P,$)?(0,M.of)([]):(0,M.of)(null);throw le}))}processSegmentAgainstRoute(E,v,S,P,$){if(v.redirectTo||!tr(v,S,P,$))return(0,M.of)(null);let le;if("**"===v.path){const we=P.length>0?bn(P).parameters:{},ht=ua(S)+P.length,$t=new vs(P,we,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tl(v),$r(v),v.component??v._loadedComponent??null,v,Du(S),ht,qr(v),ht);le=(0,M.of)({snapshot:$t,consumedSegments:[],remainingSegments:[]})}else le=j(S,v,P,E).pipe((0,Re.U)(({matched:we,consumedSegments:ht,remainingSegments:$t,parameters:mn})=>{if(!we)return null;const rn=ua(S)+ht.length;return{snapshot:new vs(ht,mn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tl(v),$r(v),v.component??v._loadedComponent??null,v,Du(S),rn,qr(v),rn),consumedSegments:ht,remainingSegments:$t}}));return le.pipe((0,Ve.w)(we=>{if(null===we)return(0,M.of)(null);const{snapshot:ht,consumedSegments:$t,remainingSegments:mn}=we;E=v._injector??E;const rn=v._loadedInjector??E,zn=function pi(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(v),{segmentGroup:Mi,slicedSegments:ps}=W(S,$t,mn,zn.filter(Qi=>void 0===Qi.redirectTo),this.relativeLinkResolution);if(0===ps.length&&Mi.hasChildren())return this.processChildren(rn,zn,Mi).pipe((0,Re.U)(Qi=>null===Qi?null:[new ai(ht,Qi)]));if(0===zn.length&&0===ps.length)return(0,M.of)([new ai(ht,[])]);const Fs=$r(v)===$;return this.processSegment(rn,zn,Mi,ps,Fs?Kt:$).pipe((0,Re.U)(Qi=>null===Qi?null:[new ai(ht,Qi)]))}))}}function xa(w){const E=w.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function qs(w){const E=[],v=new Set;for(const S of w){if(!xa(S)){E.push(S);continue}const P=E.find($=>S.value.routeConfig===$.value.routeConfig);void 0!==P?(P.children.push(...S.children),v.add(P)):E.push(S)}for(const S of v){const P=qs(S.children);E.push(new ai(S.value,P))}return E.filter(S=>!v.has(S))}function Du(w){let E=w;for(;E._sourceSegment;)E=E._sourceSegment;return E}function ua(w){let E=w,v=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,v+=E._segmentIndexShift??0;return v-1}function tl(w){return w.data||{}}function qr(w){return w.resolve||{}}function Mr(w){return"string"==typeof w.title||null===w.title}function Ma(w){return(0,Ve.w)(E=>{const v=w(E);return v?(0,m.D)(v).pipe((0,Re.U)(()=>E)):(0,M.of)(E)})}let Ai=(()=>{class w{buildTitle(v){let S,P=v.root;for(;void 0!==P;)S=this.getResolvedTitleForRoute(P)??S,P=P.children.find($=>$.outlet===Kt);return S}getResolvedTitleForRoute(v){return v.data[ve]}}return w.\u0275fac=function(v){return new(v||w)},w.\u0275prov=f.Yz7({token:w,factory:function(){return(0,f.f3M)(xu)},providedIn:"root"}),w})(),xu=(()=>{class w extends Ai{constructor(v){super(),this.title=v}updateTitle(v){const S=this.buildTitle(v);void 0!==S&&this.title.setTitle(S)}}return w.\u0275fac=function(v){return new(v||w)(f.LFG(rr.Dx))},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class Qa{}class ca extends class Ja{shouldDetach(E){return!1}store(E,v){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,v){return E.routeConfig===v.routeConfig}}{}const Ko=new f.OlP("",{providedIn:"root",factory:()=>({})}),hs=new f.OlP("ROUTES");let lo=(()=>{class w{constructor(v,S){this.injector=v,this.compiler=S,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,M.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const S=me(v.loadComponent()).pipe((0,pn.b)($=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=$}),Rn(()=>{this.componentLoaders.delete(v)})),P=new Qe(S,()=>new xe.x).pipe($e());return this.componentLoaders.set(v,P),P}loadChildren(v,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,M.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const $=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,Re.U)(we=>{this.onLoadEndListener&&this.onLoadEndListener(S);let ht,$t,mn=!1;Array.isArray(we)?$t=we:(ht=we.create(v).injector,$t=Tt(ht.get(hs,[],f.XFs.Self|f.XFs.Optional)));return{routes:$t.map(no),injector:ht}}),Rn(()=>{this.childrenLoaders.delete(S)})),le=new Qe($,()=>new xe.x).pipe($e());return this.childrenLoaders.set(S,le),le}loadModuleFactoryOrRoutes(v){return me(v()).pipe((0,hn.z)(S=>S instanceof f.YKP||Array.isArray(S)?(0,M.of)(S):(0,m.D)(this.compiler.compileModuleAsync(S))))}}return w.\u0275fac=function(v){return new(v||w)(f.LFG(f.zs3),f.LFG(f.Sil))},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class rl{}class Rs{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,v){return E}}function Ds(w){throw w}function il(w,E,v){return E.parse("/")}const Ys={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ha={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Xa(){const w=(0,f.f3M)(un),E=(0,f.f3M)(Tr),v=(0,f.f3M)(Ae.Ye),S=(0,f.f3M)(f.zs3),P=(0,f.f3M)(f.Sil),$=(0,f.f3M)(hs,{optional:!0})??[],le=(0,f.f3M)(Ko,{optional:!0})??{},we=(0,f.f3M)(xu),ht=(0,f.f3M)(Ai,{optional:!0}),$t=(0,f.f3M)(rl,{optional:!0}),mn=(0,f.f3M)(Qa,{optional:!0}),rn=new Wr(null,w,E,v,S,P,Tt($));return $t&&(rn.urlHandlingStrategy=$t),mn&&(rn.routeReuseStrategy=mn),rn.titleStrategy=ht??we,function Yr(w,E){w.errorHandler&&(E.errorHandler=w.errorHandler),w.malformedUriErrorHandler&&(E.malformedUriErrorHandler=w.malformedUriErrorHandler),w.onSameUrlNavigation&&(E.onSameUrlNavigation=w.onSameUrlNavigation),w.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=w.paramsInheritanceStrategy),w.relativeLinkResolution&&(E.relativeLinkResolution=w.relativeLinkResolution),w.urlUpdateStrategy&&(E.urlUpdateStrategy=w.urlUpdateStrategy),w.canceledNavigationResolution&&(E.canceledNavigationResolution=w.canceledNavigationResolution)}(le,rn),rn}let Wr=(()=>{class w{constructor(v,S,P,$,le,we,ht){this.rootComponentType=v,this.urlSerializer=S,this.rootContexts=P,this.location=$,this.config=ht,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xe.x,this.errorHandler=Ds,this.malformedUriErrorHandler=il,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,M.of)(void 0),this.urlHandlingStrategy=new Rs,this.routeReuseStrategy=new ca,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=le.get(lo),this.configLoader.onLoadEndListener=zn=>this.triggerEvent(new sr(zn)),this.configLoader.onLoadStartListener=zn=>this.triggerEvent(new Zr(zn)),this.ngModule=le.get(f.h0i),this.console=le.get(f.c2e);const rn=le.get(f.R0b);this.isNgZoneEnabled=rn instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(ht),this.currentUrlTree=function ze(){return new Ft(new At([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Jr(this.currentUrlTree,this.rootComponentType),this.transitions=new Y.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(v){const S=this.events;return v.pipe((0,qt.h)(P=>0!==P.id),(0,Re.U)(P=>({...P,extractedUrl:this.urlHandlingStrategy.extract(P.rawUrl)})),(0,Ve.w)(P=>{let $=!1,le=!1;return(0,M.of)(P).pipe((0,pn.b)(we=>{this.currentNavigation={id:we.id,initialUrl:we.rawUrl,extractedUrl:we.extractedUrl,trigger:we.source,extras:we.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ve.w)(we=>{const ht=this.browserUrlTree.toString(),$t=!this.navigated||we.extractedUrl.toString()!==ht||ht!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||$t)&&this.urlHandlingStrategy.shouldProcessUrl(we.rawUrl))return Tu(we.source)&&(this.browserUrlTree=we.extractedUrl),(0,M.of)(we).pipe((0,Ve.w)(rn=>{const zn=this.transitions.getValue();return S.next(new ge(rn.id,this.serializeUrl(rn.extractedUrl),rn.source,rn.restoredState)),zn!==this.transitions.getValue()?We.E:Promise.resolve(rn)}),function bi(w,E,v,S){return(0,Ve.w)(P=>function Ks(w,E,v,S,P){return new Si(w,E,v,S,P).apply()}(w,E,v,P.extractedUrl,S).pipe((0,Re.U)($=>({...P,urlAfterRedirects:$}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pn.b)(rn=>{this.currentNavigation={...this.currentNavigation,finalUrl:rn.urlAfterRedirects},P.urlAfterRedirects=rn.urlAfterRedirects}),function nl(w,E,v,S,P,$){return(0,hn.z)(le=>function aa(w,E,v,S,P,$,le="emptyOnly",we="legacy"){return new Iu(w,E,v,S,P,le,we,$).recognize().pipe((0,Ve.w)(ht=>null===ht?function Vr(w){return new ee.y(E=>E.error(w))}(new el):(0,M.of)(ht)))}(w,E,v,le.urlAfterRedirects,S.serialize(le.urlAfterRedirects),S,P,$).pipe((0,Re.U)(we=>({...le,targetSnapshot:we}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pn.b)(rn=>{if(P.targetSnapshot=rn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!rn.extras.skipLocationChange){const Mi=this.urlHandlingStrategy.merge(rn.urlAfterRedirects,rn.rawUrl);this.setBrowserUrl(Mi,rn)}this.browserUrlTree=rn.urlAfterRedirects}const zn=new Ht(rn.id,this.serializeUrl(rn.extractedUrl),this.serializeUrl(rn.urlAfterRedirects),rn.targetSnapshot);S.next(zn)}));if($t&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:zn,extractedUrl:Mi,source:ps,restoredState:Fs,extras:Qi}=we,iu=new ge(zn,this.serializeUrl(Mi),ps,Fs);S.next(iu);const No=Jr(Mi,this.rootComponentType).snapshot;return P={...we,targetSnapshot:No,urlAfterRedirects:Mi,extras:{...Qi,skipLocationChange:!1,replaceUrl:!1}},(0,M.of)(P)}return this.rawUrlTree=we.rawUrl,we.resolve(null),We.E}),(0,pn.b)(we=>{const ht=new Ot(we.id,this.serializeUrl(we.extractedUrl),this.serializeUrl(we.urlAfterRedirects),we.targetSnapshot);this.triggerEvent(ht)}),(0,Re.U)(we=>P={...we,guards:Ti(we.targetSnapshot,we.currentSnapshot,this.rootContexts)}),function Mo(w,E){return(0,hn.z)(v=>{const{targetSnapshot:S,currentSnapshot:P,guards:{canActivateChecks:$,canDeactivateChecks:le}}=v;return 0===le.length&&0===$.length?(0,M.of)({...v,guardsResult:!0}):function cs(w,E,v,S){return(0,m.D)(w).pipe((0,hn.z)(P=>function ko(w,E,v,S,P){const $=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!$||0===$.length)return(0,M.of)(!0);const le=$.map(we=>{const ht=ws(E)??P,$t=Bi(we,ht);return me(function q(w){return w&&ks(w.canDeactivate)}($t)?$t.canDeactivate(w,E,v,S):ht.runInContext(()=>$t(w,E,v,S))).pipe((0,fn.P)())});return(0,M.of)(le).pipe(Ei())}(P.component,P.route,v,E,S)),(0,fn.P)(P=>!0!==P,!0))}(le,S,P,w).pipe((0,hn.z)(we=>we&&function io(w){return"boolean"==typeof w}(we)?function Gs(w,E,v,S){return(0,m.D)(E).pipe((0,kt.b)(P=>(0,Je.z)(function Go(w,E){return null!==w&&E&&E(new Lr(w)),(0,M.of)(!0)}(P.route.parent,S),function so(w,E){return null!==w&&E&&E(new Io(w)),(0,M.of)(!0)}(P.route,S),function qa(w,E,v){const S=E[E.length-1],$=E.slice(0,E.length-1).reverse().map(le=>function Fr(w){const E=w.routeConfig?w.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:w,guards:E}:null}(le)).filter(le=>null!==le).map(le=>bt(()=>{const we=le.guards.map(ht=>{const $t=ws(le.node)??v,mn=Bi(ht,$t);return me(function A(w){return w&&ks(w.canActivateChild)}(mn)?mn.canActivateChild(S,w):$t.runInContext(()=>mn(S,w))).pipe((0,fn.P)())});return(0,M.of)(we).pipe(Ei())}));return(0,M.of)($).pipe(Ei())}(w,P.path,v),function oo(w,E,v){const S=E.routeConfig?E.routeConfig.canActivate:null;if(!S||0===S.length)return(0,M.of)(!0);const P=S.map($=>bt(()=>{const le=ws(E)??v,we=Bi($,le);return me(function O(w){return w&&ks(w.canActivate)}(we)?we.canActivate(E,w):le.runInContext(()=>we(E,w))).pipe((0,fn.P)())}));return(0,M.of)(P).pipe(Ei())}(w,P.route,v))),(0,fn.P)(P=>!0!==P,!0))}(S,$,w,E):(0,M.of)(we)),(0,Re.U)(we=>({...v,guardsResult:we})))})}(this.ngModule.injector,we=>this.triggerEvent(we)),(0,pn.b)(we=>{if(P.guardsResult=we.guardsResult,xr(we.guardsResult))throw So(0,we.guardsResult);const ht=new Qn(we.id,this.serializeUrl(we.extractedUrl),this.serializeUrl(we.urlAfterRedirects),we.targetSnapshot,!!we.guardsResult);this.triggerEvent(ht)}),(0,qt.h)(we=>!!we.guardsResult||(this.restoreHistory(we),this.cancelNavigationTransition(we,"",3),!1)),Ma(we=>{if(we.guards.canActivateChecks.length)return(0,M.of)(we).pipe((0,pn.b)(ht=>{const $t=new ir(ht.id,this.serializeUrl(ht.extractedUrl),this.serializeUrl(ht.urlAfterRedirects),ht.targetSnapshot);this.triggerEvent($t)}),(0,Ve.w)(ht=>{let $t=!1;return(0,M.of)(ht).pipe(function Ro(w,E){return(0,hn.z)(v=>{const{targetSnapshot:S,guards:{canActivateChecks:P}}=v;if(!P.length)return(0,M.of)(v);let $=0;return(0,m.D)(P).pipe((0,kt.b)(le=>function Sa(w,E,v,S){const P=w.routeConfig,$=w._resolve;return void 0!==P?.title&&!Mr(P)&&($[ve]=P.title),function la(w,E,v,S){const P=function Ya(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===P.length)return(0,M.of)({});const $={};return(0,m.D)(P).pipe((0,hn.z)(le=>function Aa(w,E,v,S){const P=ws(E)??S,$=Bi(w,P);return me($.resolve?$.resolve(E,v):P.runInContext(()=>$(E,v)))}(w[le],E,v,S).pipe((0,fn.P)(),(0,pn.b)(we=>{$[le]=we}))),Dn(1),function dn(w){return(0,Re.U)(()=>w)}($),(0,An.K)(le=>si(le)?We.E:it(le)))}($,w,E,S).pipe((0,Re.U)(le=>(w._resolvedData=le,w.data=xo(w,v).resolve,P&&Mr(P)&&(w.data[ve]=P.title),null)))}(le.route,S,w,E)),(0,pn.b)(()=>$++),Dn(1),(0,hn.z)(le=>$===P.length?(0,M.of)(v):We.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pn.b)({next:()=>$t=!0,complete:()=>{$t||(this.restoreHistory(ht),this.cancelNavigationTransition(ht,"",2))}}))}),(0,pn.b)(ht=>{const $t=new Dr(ht.id,this.serializeUrl(ht.extractedUrl),this.serializeUrl(ht.urlAfterRedirects),ht.targetSnapshot);this.triggerEvent($t)}))}),Ma(we=>{const ht=$t=>{const mn=[];$t.routeConfig?.loadComponent&&!$t.routeConfig._loadedComponent&&mn.push(this.configLoader.loadComponent($t.routeConfig).pipe((0,pn.b)(rn=>{$t.component=rn}),(0,Re.U)(()=>{})));for(const rn of $t.children)mn.push(...ht(rn));return mn};return Ue(ht(we.targetSnapshot.root)).pipe((0,ke.d)(),(0,wt.q)(1))}),Ma(()=>this.afterPreactivation()),(0,Re.U)(we=>{const ht=function li(w,E,v){const S=ci(w,E._root,v?v._root:void 0);return new Ws(S,E)}(this.routeReuseStrategy,we.targetSnapshot,we.currentRouterState);return P={...we,targetRouterState:ht}}),(0,pn.b)(we=>{this.currentUrlTree=we.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(we.urlAfterRedirects,we.rawUrl),this.routerState=we.targetRouterState,"deferred"===this.urlUpdateStrategy&&(we.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,we),this.browserUrlTree=we.urlAfterRedirects)}),((w,E,v)=>(0,Re.U)(S=>(new yt(E,S.targetRouterState,S.currentRouterState,v).activate(w),S)))(this.rootContexts,this.routeReuseStrategy,we=>this.triggerEvent(we)),(0,pn.b)({next(){$=!0},complete(){$=!0}}),Rn(()=>{$||le||this.cancelNavigationTransition(P,"",1),this.currentNavigation?.id===P.id&&(this.currentNavigation=null)}),(0,An.K)(we=>{if(le=!0,sa(we)){eo(we)||(this.navigated=!0,this.restoreHistory(P,!0));const ht=new He(P.id,this.serializeUrl(P.extractedUrl),we.message,we.cancellationCode);if(S.next(ht),eo(we)){const $t=this.urlHandlingStrategy.merge(we.url,this.rawUrlTree),mn={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Tu(P.source)};this.scheduleNavigation($t,"imperative",null,mn,{resolve:P.resolve,reject:P.reject,promise:P.promise})}else P.resolve(!1)}else{this.restoreHistory(P,!0);const ht=new ct(P.id,this.serializeUrl(P.extractedUrl),we,P.targetSnapshot??void 0);S.next(ht);try{P.resolve(this.errorHandler(we))}catch($t){P.reject($t)}}return We.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next({...this.transitions.value,...v})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const S="popstate"===v.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{const P={replaceUrl:!0},$=v.state?.navigationId?v.state:null;if($){const we={...$};delete we.navigationId,delete we.\u0275routerPageId,0!==Object.keys(we).length&&(P.state=we)}const le=this.parseUrl(v.url);this.scheduleNavigation(le,S,$,P)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){this.config=v.map(no),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,S={}){const{relativeTo:P,queryParams:$,fragment:le,queryParamsHandling:we,preserveFragment:ht}=S,$t=P||this.routerState.root,mn=ht?this.currentUrlTree.fragment:le;let rn=null;switch(we){case"merge":rn={...this.currentUrlTree.queryParams,...$};break;case"preserve":rn=this.currentUrlTree.queryParams;break;default:rn=$||null}return null!==rn&&(rn=this.removeEmptyProps(rn)),Qr($t,this.currentUrlTree,v,rn,mn??null)}navigateByUrl(v,S={skipLocationChange:!1}){const P=xr(v)?v:this.parseUrl(v),$=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation($,"imperative",null,S)}navigate(v,S={skipLocationChange:!1}){return function ho(w){for(let E=0;E<w.length;E++){if(null==w[E])throw new f.vHH(4008,false)}}(v),this.navigateByUrl(this.createUrlTree(v,S),S)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let S;try{S=this.urlSerializer.parse(v)}catch(P){S=this.malformedUriErrorHandler(P,this.urlSerializer,v)}return S}isActive(v,S){let P;if(P=!0===S?{...Ys}:!1===S?{...ha}:S,xr(v))return Rt(this.currentUrlTree,v,P);const $=this.parseUrl(v);return Rt(this.currentUrlTree,$,P)}removeEmptyProps(v){return Object.keys(v).reduce((S,P)=>{const $=v[P];return null!=$&&(S[P]=$),S},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new nt(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,S,P,$,le){if(this.disposed)return Promise.resolve(!1);let we,ht,$t;le?(we=le.resolve,ht=le.reject,$t=le.promise):$t=new Promise((zn,Mi)=>{we=zn,ht=Mi});const mn=++this.navigationId;let rn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(P=this.location.getState()),rn=P&&P.\u0275routerPageId?P.\u0275routerPageId:$.replaceUrl||$.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):rn=0,this.setTransition({id:mn,targetPageId:rn,source:S,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:$,resolve:we,reject:ht,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(zn=>Promise.reject(zn))}setBrowserUrl(v,S){const P=this.urlSerializer.serialize(v),$={...S.extras.state,...this.generateNgRouterState(S.id,S.targetPageId)};this.location.isCurrentPathEqualTo(P)||S.extras.replaceUrl?this.location.replaceState(P,"",$):this.location.go(P,"",$)}restoreHistory(v,S=!1){if("computed"===this.canceledNavigationResolution){const P=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===P?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===P&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(P)}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,S,P){const $=new He(v.id,this.serializeUrl(v.extractedUrl),S,P);this.triggerEvent($),v.resolve(!1)}generateNgRouterState(v,S){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:S}:{navigationId:v}}}return w.\u0275fac=function(v){f.$Z()},w.\u0275prov=f.Yz7({token:w,factory:function(){return Xa()},providedIn:"root"}),w})();function Tu(w){return"imperative"!==w}let Zo=(()=>{class w{constructor(v,S,P){this.router=v,this.route=S,this.locationStrategy=P,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new xe.x,this.subscription=v.events.subscribe($=>{$ instanceof nt&&this.updateTargetUrlAndHref()})}set preserveFragment(v){this._preserveFragment=(0,f.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,f.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,f.D6c)(v)}get replaceUrl(){return this._replaceUrl}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:null}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,S,P,$,le){return!!(0!==v||S||P||$||le||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(v){return new(v||w)(f.Y36(Wr),f.Y36(ui),f.Y36(Ae.S$))},w.\u0275dir=f.lG2({type:w,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,S){1&v&&f.NdJ("click",function($){return S.onClick($.button,$.ctrlKey,$.shiftKey,$.altKey,$.metaKey)}),2&v&&f.uIk("target",S.target)("href",S.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),w})();class Ns{}let Qs=(()=>{class w{constructor(v,S,P,$,le){this.router=v,this.injector=P,this.preloadingStrategy=$,this.loader=le}setUpPreloading(){this.subscription=this.router.events.pipe((0,qt.h)(v=>v instanceof nt),(0,kt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,S){const P=[];for(const $ of S){$.providers&&!$._injector&&($._injector=(0,f.MMx)($.providers,v,`Route: ${$.path}`));const le=$._injector??v,we=$._loadedInjector??le;$.loadChildren&&!$._loadedRoutes&&void 0===$.canLoad||$.loadComponent&&!$._loadedComponent?P.push(this.preloadConfig(le,$)):($.children||$._loadedRoutes)&&P.push(this.processRoutes(we,$.children??$._loadedRoutes))}return(0,m.D)(P).pipe((0,dr.J)())}preloadConfig(v,S){return this.preloadingStrategy.preload(S,()=>{let P;P=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(v,S):(0,M.of)(null);const $=P.pipe((0,hn.z)(le=>null===le?(0,M.of)(void 0):(S._loadedRoutes=le.routes,S._loadedInjector=le.injector,this.processRoutes(le.injector??v,le.routes))));if(S.loadComponent&&!S._loadedComponent){const le=this.loader.loadComponent(S);return(0,m.D)([$,le]).pipe((0,dr.J)())}return $})}}return w.\u0275fac=function(v){return new(v||w)(f.LFG(Wr),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(Ns),f.LFG(lo))},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Di=new f.OlP("");let Ra=(()=>{class w{constructor(v,S,P={}){this.router=v,this.viewportScroller=S,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof ge?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof nt&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof Da&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,S){this.router.triggerEvent(new Da(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return w.\u0275fac=function(v){f.$Z()},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac}),w})();function pa(w,E){return{\u0275kind:w,\u0275providers:E}}function Su(w){return[{provide:hs,multi:!0,useValue:w}]}function eu(){const w=(0,f.f3M)(f.zs3);return E=>{const v=w.get(f.z2F);if(E!==v.components[0])return;const S=w.get(Wr),P=w.get(Cc);1===w.get(Ps)&&S.initialNavigation(),w.get(Cs,null,f.XFs.Optional)?.setUpPreloading(),w.get(Di,null,f.XFs.Optional)?.init(),S.resetRootComponentType(v.componentTypes[0]),P.next(),P.complete()}}const Cc=new f.OlP("",{factory:()=>new xe.x}),Ps=new f.OlP("",{providedIn:"root",factory:()=>1});const Cs=new f.OlP("");function ga(w){return pa(0,[{provide:Cs,useExisting:Qs},{provide:Ns,useExisting:w}])}const Ls=new f.OlP("ROUTER_FORROOT_GUARD"),tu=[Ae.Ye,{provide:un,useClass:wn},{provide:Wr,useFactory:Xa},Tr,{provide:ui,useFactory:function fa(w){return w.routerState.root},deps:[Wr]},lo];function fs(){return new f.PXZ("Router",Wr)}let Hi=(()=>{class w{constructor(v){}static forRoot(v,S){return{ngModule:w,providers:[tu,[],Su(v),{provide:Ls,useFactory:hr,deps:[[Wr,new f.FiY,new f.tp0]]},{provide:Ko,useValue:S||{}},S?.useHash?{provide:Ae.S$,useClass:Ae.Do}:{provide:Ae.S$,useClass:Ae.b0},{provide:Di,useFactory:()=>{const w=(0,f.f3M)(Wr),E=(0,f.f3M)(Ae.EM),v=(0,f.f3M)(Ko);return v.scrollOffset&&E.setOffset(v.scrollOffset),new Ra(w,E,v)}},S?.preloadingStrategy?ga(S.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:fs},S?.initialNavigation?Yo(S):[],[{provide:fo,useFactory:eu},{provide:f.tb,multi:!0,useExisting:fo}]]}}static forChild(v){return{ngModule:w,providers:[Su(v)]}}}return w.\u0275fac=function(v){return new(v||w)(f.LFG(Ls,8))},w.\u0275mod=f.oAB({type:w}),w.\u0275inj=f.cJS({imports:[to]}),w})();function hr(w){return"guarded"}function Yo(w){return["disabled"===w.initialNavigation?pa(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const E=(0,f.f3M)(Wr);return()=>{E.setUpLocationChangeListener()}}},{provide:Ps,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?pa(2,[{provide:Ps,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:E=>{const v=E.get(Ae.V_,Promise.resolve());let S=!1;return()=>v.then(()=>new Promise($=>{const le=E.get(Wr),we=E.get(Cc);(function P($){E.get(Wr).events.pipe((0,qt.h)(we=>we instanceof nt||we instanceof He||we instanceof ct),(0,Re.U)(we=>we instanceof nt||we instanceof He&&(0===we.code||1===we.code)&&null),(0,qt.h)(we=>null!==we),(0,wt.q)(1)).subscribe(()=>{$()})})(()=>{$(!0),S=!0}),le.afterPreactivation=()=>($(!0),S||we.closed?(0,M.of)(void 0):we),le.initialNavigation()}))}}]).\u0275providers:[]]}const fo=new f.OlP("")},3942:(Ie,ae,C)=>{"use strict";C.d(ae,{Z:()=>Ge});var f=C(2090),m=C(4859),M=C(9681),Y=C(1877);class G{constructor(Je,Me){this._delegate=Je,this.firebase=Me,(0,M._addComponent)(Je,new m.wA("app-compat",()=>this,"PUBLIC")),this.container=Je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this._delegate.automaticDataCollectionEnabled=Je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Je=>{this._delegate.checkDestroyed(),Je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,M.deleteApp)(this._delegate)))}_getService(Je,Me=M._DEFAULT_ENTRY_NAME){var bt;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(Je);return!mt.isInitialized()&&"EXPLICIT"===(null===(bt=mt.getComponent())||void 0===bt?void 0:bt.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:Me})}_removeServiceInstance(Je,Me=M._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Je).clearInstance(Me)}_addComponent(Je){(0,M._addComponent)(this._delegate,Je)}_addOrOverwriteComponent(Je){(0,M._addOrOverwriteComponent)(this._delegate,Je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Q=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function ce(){const vt=function oe(vt){const Je={},Me={__esModule:!0,initializeApp:function lt(Ce,$e={}){const Qe=M.initializeApp(Ce,$e);if((0,f.r3)(Je,Qe.name))return Je[Qe.name];const xe=new vt(Qe,Me);return Je[Qe.name]=xe,xe},app:mt,registerVersion:M.registerVersion,setLogLevel:M.setLogLevel,onLog:M.onLog,apps:null,SDK_VERSION:M.SDK_VERSION,INTERNAL:{registerComponent:function We(Ce){const $e=Ce.name,Qe=$e.replace("-compat","");if(M._registerComponent(Ce)&&"PUBLIC"===Ce.type){const xe=(Ae=mt())=>{if("function"!=typeof Ae[Qe])throw Q.create("invalid-app-argument",{appName:$e});return Ae[Qe]()};void 0!==Ce.serviceProps&&(0,f.ZB)(xe,Ce.serviceProps),Me[Qe]=xe,vt.prototype[Qe]=function(...Ae){return this._getService.bind(this,$e).apply(this,Ce.multipleInstances?Ae:[])}}return"PUBLIC"===Ce.type?Me[Qe]:null},removeApp:function bt(Ce){delete Je[Ce]},useAsService:function ut(Ce,$e){return"serverAuth"===$e?null:$e},modularAPIs:M}};function mt(Ce){if(!(0,f.r3)(Je,Ce=Ce||M._DEFAULT_ENTRY_NAME))throw Q.create("no-app",{appName:Ce});return Je[Ce]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function it(){return Object.keys(Je).map(Ce=>Je[Ce])}}),mt.App=vt,Me}(G);return vt.INTERNAL=Object.assign(Object.assign({},vt.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function Je(Me){(0,f.ZB)(vt,Me)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),vt}(),ne=new Y.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const vt=self.firebase.SDK_VERSION;vt&&vt.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=X;!function Ue(vt){(0,M.registerVersion)("@firebase/app-compat","0.1.39",vt)}()},9681:(Ie,ae,C)=>{"use strict";C.r(ae),C.d(ae,{FirebaseError:()=>Y.ZR,SDK_VERSION:()=>rr,_DEFAULT_ENTRY_NAME:()=>fn,_addComponent:()=>kn,_addOrOverwriteComponent:()=>Dn,_apps:()=>pn,_clearComponents:()=>qn,_components:()=>An,_getProvider:()=>ke,_registerComponent:()=>Sn,_removeServiceInstance:()=>er,deleteApp:()=>qe,getApp:()=>ve,getApps:()=>Oe,initializeApp:()=>Kt,onLog:()=>Ut,registerVersion:()=>Zt,setLogLevel:()=>Bt});var f=C(5861),m=C(4859),M=C(1877),Y=C(2090),G=C(8766);class ee{constructor(gt){this.container=gt}getPlatformInfoString(){return this.container.getProviders().map(St=>{if(function Q(Nt){return"VERSION"===Nt.getComponent()?.type}(St)){const on=St.getImmediate();return`${on.library}/${on.version}`}return null}).filter(St=>St).join(" ")}}const oe="@firebase/app",X=new M.Yd("@firebase/app"),fn="[DEFAULT]",kt={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pn=new Map,An=new Map;function kn(Nt,gt){try{Nt.container.addComponent(gt)}catch(St){X.debug(`Component ${gt.name} failed to register with FirebaseApp ${Nt.name}`,St)}}function Dn(Nt,gt){Nt.container.addOrOverwriteComponent(gt)}function Sn(Nt){const gt=Nt.name;if(An.has(gt))return X.debug(`There were multiple attempts to register component ${gt}.`),!1;An.set(gt,Nt);for(const St of pn.values())kn(St,Nt);return!0}function ke(Nt,gt){const St=Nt.container.getProvider("heartbeat").getImmediate({optional:!0});return St&&St.triggerHeartbeat(),Nt.container.getProvider(gt)}function er(Nt,gt,St=fn){ke(Nt,gt).clearInstance(St)}function qn(){An.clear()}const Rn=new Y.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class dr{constructor(gt,St,on){this._isDeleted=!1,this._options=Object.assign({},gt),this._config=Object.assign({},St),this._name=St.name,this._automaticDataCollectionEnabled=St.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new m.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(gt){this.checkDestroyed(),this._automaticDataCollectionEnabled=gt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(gt){this._isDeleted=gt}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const rr="9.14.0";function Kt(Nt,gt={}){let St=Nt;"object"!=typeof gt&&(gt={name:gt});const on=Object.assign({name:fn,automaticDataCollectionEnabled:!1},gt),un=on.name;if("string"!=typeof un||!un)throw Rn.create("bad-app-name",{appName:String(un)});if(St||(St=(0,Y.aH)()),!St)throw Rn.create("no-options");const wn=pn.get(un);if(wn){if((0,Y.vZ)(St,wn.options)&&(0,Y.vZ)(on,wn.config))return wn;throw Rn.create("duplicate-app",{appName:un})}const be=new m.H0(un);for(const De of An.values())be.addComponent(De);const ye=new dr(St,on,be);return pn.set(un,ye),ye}function ve(Nt=fn){const gt=pn.get(Nt);if(!gt&&Nt===fn)return Kt();if(!gt)throw Rn.create("no-app",{appName:Nt});return gt}function Oe(){return Array.from(pn.values())}function qe(Nt){return ot.apply(this,arguments)}function ot(){return(ot=(0,f.Z)(function*(Nt){const gt=Nt.name;pn.has(gt)&&(pn.delete(gt),yield Promise.all(Nt.container.getProviders().map(St=>St.delete())),Nt.isDeleted=!0)})).apply(this,arguments)}function Zt(Nt,gt,St){var on;let un=null!==(on=kt[Nt])&&void 0!==on?on:Nt;St&&(un+=`-${St}`);const wn=un.match(/\s|\//),be=gt.match(/\s|\//);if(wn||be){const ye=[`Unable to register library "${un}" with version "${gt}":`];return wn&&ye.push(`library name "${un}" contains illegal characters (whitespace or "/")`),wn&&be&&ye.push("and"),be&&ye.push(`version name "${gt}" contains illegal characters (whitespace or "/")`),void X.warn(ye.join(" "))}Sn(new m.wA(`${un}-version`,()=>({library:un,version:gt}),"VERSION"))}function Ut(Nt,gt){if(null!==Nt&&"function"!=typeof Nt)throw Rn.create("invalid-log-argument");(0,M.Am)(Nt,gt)}function Bt(Nt){(0,M.Ub)(Nt)}const Gt="firebase-heartbeat-store";let Ne=null;function me(){return Ne||(Ne=(0,G.X3)("firebase-heartbeat-database",1,{upgrade:(Nt,gt)=>{0===gt&&Nt.createObjectStore(Gt)}}).catch(Nt=>{throw Rn.create("idb-open",{originalErrorMessage:Nt.message})})),Ne}function ze(){return(ze=(0,f.Z)(function*(Nt){var gt;try{return(yield me()).transaction(Gt).objectStore(Gt).get(Rt(Nt))}catch(St){if(St instanceof Y.ZR)X.warn(St.message);else{const on=Rn.create("idb-get",{originalErrorMessage:null===(gt=St)||void 0===gt?void 0:gt.message});X.warn(on.message)}}})).apply(this,arguments)}function Pe(Nt,gt){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,f.Z)(function*(Nt,gt){var St;try{const un=(yield me()).transaction(Gt,"readwrite");return yield un.objectStore(Gt).put(gt,Rt(Nt)),un.done}catch(on){if(on instanceof Y.ZR)X.warn(on.message);else{const un=Rn.create("idb-set",{originalErrorMessage:null===(St=on)||void 0===St?void 0:St.message});X.warn(un.message)}}})).apply(this,arguments)}function Rt(Nt){return`${Nt.name}!${Nt.options.appId}`}class yn{constructor(gt){this.container=gt,this._heartbeatsCache=null;const St=this.container.getProvider("app").getImmediate();this._storage=new ln(St),this._heartbeatsCachePromise=this._storage.read().then(on=>(this._heartbeatsCache=on,on))}triggerHeartbeat(){var gt=this;return(0,f.Z)(function*(){const on=gt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),un=Jt();if(null===gt._heartbeatsCache&&(gt._heartbeatsCache=yield gt._heartbeatsCachePromise),gt._heartbeatsCache.lastSentHeartbeatDate!==un&&!gt._heartbeatsCache.heartbeats.some(wn=>wn.date===un))return gt._heartbeatsCache.heartbeats.push({date:un,agent:on}),gt._heartbeatsCache.heartbeats=gt._heartbeatsCache.heartbeats.filter(wn=>{const be=new Date(wn.date).valueOf();return Date.now()-be<=2592e6}),gt._storage.overwrite(gt._heartbeatsCache)})()}getHeartbeatsHeader(){var gt=this;return(0,f.Z)(function*(){if(null===gt._heartbeatsCache&&(yield gt._heartbeatsCachePromise),null===gt._heartbeatsCache||0===gt._heartbeatsCache.heartbeats.length)return"";const St=Jt(),{heartbeatsToSend:on,unsentEntries:un}=function xn(Nt,gt=1024){const St=[];let on=Nt.slice();for(const un of Nt){const wn=St.find(be=>be.agent===un.agent);if(wn){if(wn.dates.push(un.date),Ft(St)>gt){wn.dates.pop();break}}else if(St.push({agent:un.agent,dates:[un.date]}),Ft(St)>gt){St.pop();break}on=on.slice(1)}return{heartbeatsToSend:St,unsentEntries:on}}(gt._heartbeatsCache.heartbeats),wn=(0,Y.L)(JSON.stringify({version:2,heartbeats:on}));return gt._heartbeatsCache.lastSentHeartbeatDate=St,un.length>0?(gt._heartbeatsCache.heartbeats=un,yield gt._storage.overwrite(gt._heartbeatsCache)):(gt._heartbeatsCache.heartbeats=[],gt._storage.overwrite(gt._heartbeatsCache)),wn})()}}function Jt(){return(new Date).toISOString().substring(0,10)}class ln{constructor(gt){this.app=gt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,Y.hl)()&&(0,Y.eu)().then(()=>!0).catch(()=>!1)})()}read(){var gt=this;return(0,f.Z)(function*(){return(yield gt._canUseIndexedDBPromise)&&(yield function se(Nt){return ze.apply(this,arguments)}(gt.app))||{heartbeats:[]}})()}overwrite(gt){var St=this;return(0,f.Z)(function*(){var on;if(yield St._canUseIndexedDBPromise){const wn=yield St.read();return Pe(St.app,{lastSentHeartbeatDate:null!==(on=gt.lastSentHeartbeatDate)&&void 0!==on?on:wn.lastSentHeartbeatDate,heartbeats:gt.heartbeats})}})()}add(gt){var St=this;return(0,f.Z)(function*(){var on;if(yield St._canUseIndexedDBPromise){const wn=yield St.read();return Pe(St.app,{lastSentHeartbeatDate:null!==(on=gt.lastSentHeartbeatDate)&&void 0!==on?on:wn.lastSentHeartbeatDate,heartbeats:[...wn.heartbeats,...gt.heartbeats]})}})()}}function Ft(Nt){return(0,Y.L)(JSON.stringify({version:2,heartbeats:Nt})).length}!function At(Nt){Sn(new m.wA("platform-logger",gt=>new ee(gt),"PRIVATE")),Sn(new m.wA("heartbeat",gt=>new yn(gt),"PRIVATE")),Zt(oe,"0.8.4",Nt),Zt(oe,"0.8.4","esm2017"),Zt("fire-js","")}("")},4859:(Ie,ae,C)=>{"use strict";C.d(ae,{H0:()=>oe,wA:()=>M});var f=C(5861),m=C(2090);class M{constructor(X,ne,de){this.name=X,this.instanceFactory=ne,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const Y="[DEFAULT]";class G{constructor(X,ne){this.name=X,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const ne=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(ne)){const de=new m.BH;if(this.instancesDeferred.set(ne,de),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:ne});Ke&&de.resolve(Ke)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(X){var ne;const de=this.normalizeInstanceIdentifier(X?.identifier),Ke=null!==(ne=X?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(Ue){if(Ke)return null;throw Ue}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function Q(ce){return"EAGER"===ce.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:Y})}catch{}for(const[ne,de]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(ne);try{const Ue=this.getOrInitializeService({instanceIdentifier:Ke});de.resolve(Ue)}catch{}}}}clearInstance(X=Y){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,f.Z)(function*(){const ne=Array.from(X.instances.values());yield Promise.all([...ne.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...ne.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=Y){return this.instances.has(X)}getOptions(X=Y){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:ne={}}=X,de=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:de,options:ne});for(const[Ue,Ge]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier(Ue)&&Ge.resolve(Ke);return Ke}onInit(X,ne){var de;const Ke=this.normalizeInstanceIdentifier(ne),Ue=null!==(de=this.onInitCallbacks.get(Ke))&&void 0!==de?de:new Set;Ue.add(X),this.onInitCallbacks.set(Ke,Ue);const Ge=this.instances.get(Ke);return Ge&&X(Ge,Ke),()=>{Ue.delete(X)}}invokeOnInitCallbacks(X,ne){const de=this.onInitCallbacks.get(ne);if(de)for(const Ke of de)try{Ke(X,ne)}catch{}}getOrInitializeService({instanceIdentifier:X,options:ne={}}){let de=this.instances.get(X);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=X,ce===Y?void 0:ce),options:ne}),this.instances.set(X,de),this.instancesOptions.set(X,ne),this.invokeOnInitCallbacks(de,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,de)}catch{}var ce;return de||null}normalizeInstanceIdentifier(X=Y){return this.component?this.component.multipleInstances?X:Y:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const ne=this.getProvider(X.name);if(ne.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);ne.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const ne=new G(X,this);return this.providers.set(X,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(Ie,ae,C)=>{"use strict";C.d(ae,{Am:()=>ce,Ub:()=>oe,Yd:()=>Q,in:()=>m});const f=[];var m=(()=>{return(X=m||(m={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",m;var X})();const M={debug:m.DEBUG,verbose:m.VERBOSE,info:m.INFO,warn:m.WARN,error:m.ERROR,silent:m.SILENT},Y=m.INFO,G={[m.DEBUG]:"log",[m.VERBOSE]:"log",[m.INFO]:"info",[m.WARN]:"warn",[m.ERROR]:"error"},ee=(X,ne,...de)=>{if(ne<X.logLevel)return;const Ke=(new Date).toISOString(),Ue=G[ne];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Ue](`[${Ke}]  ${X.name}:`,...de)};class Q{constructor(ne){this.name=ne,this._logLevel=Y,this._logHandler=ee,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in m))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?M[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,m.DEBUG,...ne),this._logHandler(this,m.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,m.VERBOSE,...ne),this._logHandler(this,m.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,m.INFO,...ne),this._logHandler(this,m.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,m.WARN,...ne),this._logHandler(this,m.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,m.ERROR,...ne),this._logHandler(this,m.ERROR,...ne)}}function oe(X){f.forEach(ne=>{ne.setLogLevel(X)})}function ce(X,ne){for(const de of f){let Ke=null;ne&&ne.level&&(Ke=M[ne.level]),de.userLogHandler=null===X?null:(Ue,Ge,...vt)=>{const Je=vt.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");Ge>=(Ke??Ue.logLevel)&&X({level:m[Ge].toLowerCase(),message:Je,args:vt,type:Ue.name})}}}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(ae,C){if(this.action=ae,this.timestamp=C,this.type=PERFORM_ACTION,typeof ae.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(ae){this.timestamp=ae,this.type=RESET}}class Rollback{constructor(ae){this.timestamp=ae,this.type=ROLLBACK}}class Commit{constructor(ae){this.timestamp=ae,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(ae){this.id=ae,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(ae,C,f=!0){this.start=ae,this.end=C,this.active=f,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(ae){this.index=ae,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(ae){this.actionId=ae,this.type=JUMP_TO_ACTION}}class ImportState{constructor(ae){this.nextLiftedState=ae,this.type=IMPORT_STATE}}class LockChanges{constructor(ae){this.status=ae,this.type=LOCK_CHANGES}}class PauseRecording{constructor(ae){this.status=ae,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Ie){const ae={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},C="function"==typeof Ie?Ie():Ie,M=Object.assign({},ae,{features:C.features||!!C.logOnly&&{pause:!0,export:!0,test:!0}||ae.features},C);if(M.maxAge&&M.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${M.maxAge}`);return M}function difference(Ie,ae){return Ie.filter(C=>ae.indexOf(C)<0)}function unliftState(Ie){const{computedStates:ae,currentStateIndex:C}=Ie;if(C>=ae.length){const{state:m}=ae[ae.length-1];return m}const{state:f}=ae[C];return f}function unliftAction(Ie){return Ie.actionsById[Ie.nextActionId-1]}function liftAction(Ie){return new PerformAction(Ie,+Date.now())}function sanitizeActions(Ie,ae){return Object.keys(ae).reduce((C,f)=>{const m=Number(f);return C[m]=sanitizeAction(Ie,ae[m],m),C},{})}function sanitizeAction(Ie,ae,C){return{...ae,action:Ie(ae.action,C)}}function sanitizeStates(Ie,ae){return ae.map((C,f)=>({state:sanitizeState(Ie,C.state,f),error:C.error}))}function sanitizeState(Ie,ae,C){return Ie(ae,C)}function shouldFilterActions(Ie){return Ie.predicate||Ie.actionsSafelist||Ie.actionsBlocklist}function filterLiftedState(Ie,ae,C,f){const m=[],M={},Y=[];return Ie.stagedActionIds.forEach((G,ee)=>{const Q=Ie.actionsById[G];!Q||ee&&isActionFiltered(Ie.computedStates[ee],Q,ae,C,f)||(M[G]=Q,m.push(G),Y.push(Ie.computedStates[ee]))}),{...Ie,stagedActionIds:m,actionsById:M,computedStates:Y}}function isActionFiltered(Ie,ae,C,f,m){const M=C&&!C(Ie,ae.action),Y=f&&!ae.action.type.match(f.map(ee=>escapeRegExp(ee)).join("|")),G=m&&ae.action.type.match(m.map(ee=>escapeRegExp(ee)).join("|"));return M||Y||G}function escapeRegExp(Ie){return Ie.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class Ie extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return Ie.\u0275fac=function(){let ae;return function(f){return(ae||(ae=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Ie)))(f||Ie)}}(),Ie.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Ie,ae,C){this.config=ae,this.dispatcher=C,this.devtoolsExtension=Ie,this.createActionStreams()}notify(Ie,ae){if(this.devtoolsExtension)if(Ie.type===PERFORM_ACTION){if(ae.isLocked||ae.isPaused)return;const C=unliftState(ae);if(shouldFilterActions(this.config)&&isActionFiltered(C,Ie,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const f=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,C,ae.currentStateIndex):C,m=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Ie,ae.nextActionId):Ie;this.sendToReduxDevtools(()=>this.extensionConnection.send(m,f))}else{const C={...ae,stagedActionIds:ae.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,ae.actionsById):ae.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,ae.computedStates):ae.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,C,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Ie=>{const ae=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=ae,ae.init(),ae.subscribe(C=>Ie.next(C)),ae.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Ie=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),ae=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(G=>G.type===ExtensionActionTypes.START)),C=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(G=>G.type===ExtensionActionTypes.STOP)),f=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(G=>G.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(G=>this.unwrapAction(G.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(G=>G.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>G),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(G)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(G))),M=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(G=>G.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(G=>this.unwrapAction(G.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(C)),Y=f.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(C));this.start$=ae.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(C)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>M)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>Y))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Ie){const ae={name:Ie.name,features:Ie.features,serialize:Ie.serialize,autoPause:Ie.autoPause??!1};return!1!==Ie.maxAge&&(ae.maxAge=Ie.maxAge),ae}sendToReduxDevtools(Ie){try{Ie()}catch(ae){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",ae)}}}return DevtoolsExtension.\u0275fac=function Ie(ae){return new(ae||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Ie,ae,C,f,m){if(f)return{state:C,error:"Interrupted by an error up the chain"};let Y,M=C;try{M=Ie(C,ae)}catch(G){Y=G.toString(),m.handleError(G)}return{state:M,error:Y}}function recomputeStates(Ie,ae,C,f,m,M,Y,G,ee){if(ae>=Ie.length&&Ie.length===M.length)return Ie;const Q=Ie.slice(0,ae),oe=M.length-(ee?1:0);for(let ce=ae;ce<oe;ce++){const X=M[ce],ne=m[X].action,de=Q[ce-1],Ke=de?de.state:f,Ue=de?de.error:void 0,vt=Y.indexOf(X)>-1?de:computeNextEntry(C,ne,Ke,Ue,G);Q.push(vt)}return ee&&Q.push(Ie[Ie.length-1]),Q}function liftInitialState(Ie,ae){return{monitorState:ae(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Ie,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Ie,ae,C,f,m={}){return M=>(Y,G)=>{let{monitorState:ee,actionsById:Q,nextActionId:oe,stagedActionIds:ce,skippedActionIds:X,committedState:ne,currentStateIndex:de,computedStates:Ke,isLocked:Ue,isPaused:Ge}=Y||ae;function vt(bt){let mt=bt,lt=ce.slice(1,mt+1);for(let it=0;it<lt.length;it++){if(Ke[it+1].error){mt=it,lt=ce.slice(1,mt+1);break}delete Q[lt[it]]}X=X.filter(it=>-1===lt.indexOf(it)),ce=[0,...ce.slice(mt+1)],ne=Ke[mt].state,Ke=Ke.slice(mt),de=de>mt?de-mt:0}function Je(){Q={0:liftAction(INIT_ACTION)},oe=1,ce=[0],X=[],ne=Ke[de].state,de=0,Ke=[]}Y||(Q=Object.create(Q));let Me=0;switch(G.type){case LOCK_CHANGES:Ue=G.status,Me=1/0;break;case PAUSE_RECORDING:Ge=G.status,Ge?(ce=[...ce,oe],Q[oe]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),oe++,Me=ce.length-1,Ke=Ke.concat(Ke[Ke.length-1]),de===ce.length-2&&de++,Me=1/0):Je();break;case RESET:Q={0:liftAction(INIT_ACTION)},oe=1,ce=[0],X=[],ne=Ie,de=0,Ke=[];break;case COMMIT:Je();break;case ROLLBACK:Q={0:liftAction(INIT_ACTION)},oe=1,ce=[0],X=[],de=0,Ke=[];break;case TOGGLE_ACTION:{const{id:bt}=G;X=-1===X.indexOf(bt)?[bt,...X]:X.filter(lt=>lt!==bt),Me=ce.indexOf(bt);break}case SET_ACTIONS_ACTIVE:{const{start:bt,end:mt,active:lt}=G,it=[];for(let We=bt;We<mt;We++)it.push(We);X=lt?difference(X,it):[...X,...it],Me=ce.indexOf(bt);break}case JUMP_TO_STATE:de=G.index,Me=1/0;break;case JUMP_TO_ACTION:{const bt=ce.indexOf(G.actionId);-1!==bt&&(de=bt),Me=1/0;break}case SWEEP:ce=difference(ce,X),X=[],de=Math.min(de,ce.length-1);break;case PERFORM_ACTION:{if(Ue)return Y||ae;if(Ge||Y&&isActionFiltered(Y.computedStates[de],G,m.predicate,m.actionsSafelist,m.actionsBlocklist)){const mt=Ke[Ke.length-1];Ke=[...Ke.slice(0,-1),computeNextEntry(M,G.action,mt.state,mt.error,C)],Me=1/0;break}m.maxAge&&ce.length===m.maxAge&&vt(1),de===ce.length-1&&de++;const bt=oe++;Q[bt]=G,ce=[...ce,bt],Me=ce.length-1;break}case IMPORT_STATE:({monitorState:ee,actionsById:Q,nextActionId:oe,stagedActionIds:ce,skippedActionIds:X,committedState:ne,currentStateIndex:de,computedStates:Ke,isLocked:Ue,isPaused:Ge}=G.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:Me=0,m.maxAge&&ce.length>m.maxAge&&(Ke=recomputeStates(Ke,Me,M,ne,Q,ce,X,C,Ge),vt(ce.length-m.maxAge),Me=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Ke.filter(mt=>mt.error).length>0)Me=0,m.maxAge&&ce.length>m.maxAge&&(Ke=recomputeStates(Ke,Me,M,ne,Q,ce,X,C,Ge),vt(ce.length-m.maxAge),Me=1/0);else{if(!Ge&&!Ue){de===ce.length-1&&de++;const mt=oe++;Q[mt]=new PerformAction(G,+Date.now()),ce=[...ce,mt],Me=ce.length-1,Ke=recomputeStates(Ke,Me,M,ne,Q,ce,X,C,Ge)}Ke=Ke.map(mt=>({...mt,state:M(mt.state,RECOMPUTE_ACTION)})),de=ce.length-1,m.maxAge&&ce.length>m.maxAge&&vt(ce.length-m.maxAge),Me=1/0}break;default:Me=1/0}return Ke=recomputeStates(Ke,Me,M,ne,Q,ce,X,C,Ge),ee=f(ee,G),{monitorState:ee,actionsById:Q,nextActionId:oe,stagedActionIds:ce,skippedActionIds:X,committedState:ne,currentStateIndex:de,computedStates:Ke,isLocked:Ue,isPaused:Ge}}}let StoreDevtools=(()=>{class Ie{constructor(C,f,m,M,Y,G,ee,Q){const oe=liftInitialState(ee,Q.monitor),ce=liftReducerWith(ee,oe,G,Q.monitor,Q),X=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(f.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),M.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),C,M.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),ne=m.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ce)),de=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Ke=X.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(ne),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Je},[Me,bt])=>{let mt=bt(Je,Me);return Me.type!==PERFORM_ACTION&&shouldFilterActions(Q)&&(mt=filterLiftedState(mt,Q.predicate,Q.actionsSafelist,Q.actionsBlocklist)),M.notify(Me,mt),{state:mt,action:Me}},{state:oe,action:null})).subscribe(({state:Je,action:Me})=>{de.next(Je),Me.type===PERFORM_ACTION&&Y.next(Me.action)}),Ue=M.start$.subscribe(()=>{this.refresh()}),Ge=de.asObservable(),vt=Ge.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=Ue,this.stateSubscription=Ke,this.dispatcher=C,this.liftedState=Ge,this.state=vt}dispatch(C){this.dispatcher.next(C)}next(C){this.dispatcher.next(C)}error(C){}complete(){}performAction(C){this.dispatch(new PerformAction(C,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(C){this.dispatch(new ToggleAction(C))}jumpToAction(C){this.dispatch(new JumpToAction(C))}jumpToState(C){this.dispatch(new JumpToState(C))}importState(C){this.dispatch(new ImportState(C))}lockChanges(C){this.dispatch(new LockChanges(C))}pauseRecording(C){this.dispatch(new PauseRecording(C))}}return Ie.\u0275fac=function(C){return new(C||Ie)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},Ie.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Ie,ae){return Boolean(Ie)||ae.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Ie="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[Ie]<"u"?window[Ie]:null}function provideStoreDevtools(Ie={}){return{\u0275providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:Ie},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}function createStateObservable(Ie){return Ie.state}let StoreDevtoolsModule=(()=>{class Ie{static instrument(C={}){return{ngModule:Ie,providers:[...provideStoreDevtools(C).\u0275providers]}}}return Ie.\u0275fac=function(C){return new(C||Ie)},Ie.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Ie}),Ie.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),Ie})()},9653:(Ie,ae,C)=>{"use strict";C.d(ae,{UO:()=>ut,qg:()=>We,Y6:()=>xe,mK:()=>Zt,n$:()=>ot,Y$:()=>bn,FR:()=>Ne,yh:()=>Pe,Aw:()=>ts,wb:()=>Ut,PH:()=>Ue,Lq:()=>Ir,on:()=>ns,Ky:()=>Ge});var f=C(4650),m=C(1135),M=C(9751),Y=C(7579),G=C(233),ee=C(5363),Q=C(1365),oe=C(5026),ce=C(4004),ne=C(1884);const de={};function Ue(ge,nt){if(de[ge]=(de[ge]||0)+1,"function"==typeof nt)return Je(ge,(...ct)=>({...nt(...ct),type:ge}));switch(nt?nt._as:"empty"){case"empty":return Je(ge,()=>({type:ge}));case"props":return Je(ge,ct=>({...ct,type:ge}));default:throw new Error("Unexpected config.")}}function Ge(){return{_as:"props",_p:void 0}}function Je(ge,nt){return Object.defineProperty(nt,"type",{value:ge,writable:!1})}const We="@ngrx/store/init";let ut=(()=>{class ge extends m.X{constructor(){super({type:We})}next(He){if("function"==typeof He)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof He>"u")throw new TypeError("Actions must be objects");if(typeof He.type>"u")throw new TypeError("Actions must have a type property");super.next(He)}complete(){}ngOnDestroy(){super.complete()}}return ge.\u0275fac=function(He){return new(He||ge)},ge.\u0275prov=f.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const Ce=[ut],$e=new f.OlP("@ngrx/store Internal Root Guard"),Qe=new f.OlP("@ngrx/store Internal Initial State"),xe=new f.OlP("@ngrx/store Initial State"),Ae=new f.OlP("@ngrx/store Reducer Factory"),Re=new f.OlP("@ngrx/store Internal Reducer Factory Provider"),Ve=new f.OlP("@ngrx/store Initial Reducers"),wt=new f.OlP("@ngrx/store Internal Initial Reducers"),Dt=new f.OlP("@ngrx/store Store Features"),qt=new f.OlP("@ngrx/store Internal Store Reducers"),hn=new f.OlP("@ngrx/store Internal Feature Reducers"),fn=new f.OlP("@ngrx/store Internal Feature Configs"),kt=new f.OlP("@ngrx/store Internal Store Features"),pn=new f.OlP("@ngrx/store Internal Feature Reducers Token"),An=new f.OlP("@ngrx/store Feature Reducers"),kn=new f.OlP("@ngrx/store User Provided Meta Reducers"),Dn=new f.OlP("@ngrx/store Meta Reducers"),Sn=new f.OlP("@ngrx/store Internal Resolved Meta Reducers"),ke=new f.OlP("@ngrx/store User Runtime Checks Config"),er=new f.OlP("@ngrx/store Internal User Runtime Checks Config"),qn=new f.OlP("@ngrx/store Internal Runtime Checks"),dn=new f.OlP("@ngrx/store Check if Action types are unique");function rr(ge,nt={}){const He=Object.keys(ge),ct={};for(let Ot=0;Ot<He.length;Ot++){const Qn=He[Ot];"function"==typeof ge[Qn]&&(ct[Qn]=ge[Qn])}const Ht=Object.keys(ct);return function(Qn,ir){Qn=void 0===Qn?nt:Qn;let Dr=!1;const Zr={};for(let sr=0;sr<Ht.length;sr++){const Lr=Ht[sr],Io=Qn[Lr],Do=(0,ct[Lr])(Io,ir);Zr[Lr]=Do,Dr=Dr||Do!==Io}return Dr?Zr:Qn}}function ve(...ge){return function(nt){if(0===ge.length)return nt;const He=ge[ge.length-1];return ge.slice(0,-1).reduceRight((Ht,Ot)=>Ot(Ht),He(nt))}}function Oe(ge,nt){return Array.isArray(nt)&&nt.length>0&&(ge=ve.apply(null,[...nt,ge])),(He,ct)=>{const Ht=ge(He);return(Ot,Qn)=>Ht(Ot=void 0===Ot?ct:Ot,Qn)}}new f.OlP("@ngrx/store Root Store Provider"),new f.OlP("@ngrx/store Feature State Provider");class ot extends M.y{}class Zt extends ut{}const Ut="@ngrx/store/update-reducers";let Bt=(()=>{class ge extends m.X{constructor(He,ct,Ht,Ot){super(Ot(Ht,ct)),this.dispatcher=He,this.initialState=ct,this.reducers=Ht,this.reducerFactory=Ot}get currentReducers(){return this.reducers}addFeature(He){this.addFeatures([He])}addFeatures(He){const ct=He.reduce((Ht,{reducers:Ot,reducerFactory:Qn,metaReducers:ir,initialState:Dr,key:Zr})=>{const sr="function"==typeof Ot?function qe(ge){const nt=Array.isArray(ge)&&ge.length>0?ve(...ge):He=>He;return(He,ct)=>(He=nt(He),(Ht,Ot)=>He(Ht=void 0===Ht?ct:Ht,Ot))}(ir)(Ot,Dr):Oe(Qn,ir)(Ot,Dr);return Ht[Zr]=sr,Ht},{});this.addReducers(ct)}removeFeature(He){this.removeFeatures([He])}removeFeatures(He){this.removeReducers(He.map(ct=>ct.key))}addReducer(He,ct){this.addReducers({[He]:ct})}addReducers(He){this.reducers={...this.reducers,...He},this.updateReducers(Object.keys(He))}removeReducer(He){this.removeReducers([He])}removeReducers(He){He.forEach(ct=>{this.reducers=function Kt(ge,nt){return Object.keys(ge).filter(He=>He!==nt).reduce((He,ct)=>Object.assign(He,{[ct]:ge[ct]}),{})}(this.reducers,ct)}),this.updateReducers(He)}updateReducers(He){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Ut,features:He})}ngOnDestroy(){this.complete()}}return ge.\u0275fac=function(He){return new(He||ge)(f.LFG(Zt),f.LFG(xe),f.LFG(Ve),f.LFG(Ae))},ge.\u0275prov=f.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const Tt=[Bt,{provide:ot,useExisting:Bt},{provide:Zt,useExisting:ut}];let bn=(()=>{class ge extends Y.x{ngOnDestroy(){this.complete()}}return ge.\u0275fac=function(){let nt;return function(ct){return(nt||(nt=f.n5z(ge)))(ct||ge)}}(),ge.\u0275prov=f.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const Gt=[bn];class Ne extends M.y{}let me=(()=>{class ge extends m.X{constructor(He,ct,Ht,Ot){super(Ot);const Zr=He.pipe((0,ee.Q)(G.N)).pipe((0,Q.M)(ct)).pipe((0,oe.R)(se,{state:Ot}));this.stateSubscription=Zr.subscribe(({state:sr,action:Lr})=>{this.next(sr),Ht.next(Lr)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return ge.INIT=We,ge.\u0275fac=function(He){return new(He||ge)(f.LFG(ut),f.LFG(ot),f.LFG(bn),f.LFG(xe))},ge.\u0275prov=f.Yz7({token:ge,factory:ge.\u0275fac}),ge})();function se(ge={state:void 0},[nt,He]){const{state:ct}=ge;return{state:He(ct,nt),action:nt}}const ze=[me,{provide:Ne,useExisting:me}];let Pe=(()=>{class ge extends M.y{constructor(He,ct,Ht){super(),this.actionsObserver=ct,this.reducerManager=Ht,this.source=He}select(He,...ct){return Rt.call(null,He,...ct)(this)}lift(He){const ct=new ge(this,this.actionsObserver,this.reducerManager);return ct.operator=He,ct}dispatch(He){this.actionsObserver.next(He)}next(He){this.actionsObserver.next(He)}error(He){this.actionsObserver.error(He)}complete(){this.actionsObserver.complete()}addReducer(He,ct){this.reducerManager.addReducer(He,ct)}removeReducer(He){this.reducerManager.removeReducer(He)}}return ge.\u0275fac=function(He){return new(He||ge)(f.LFG(Ne),f.LFG(ut),f.LFG(Bt))},ge.\u0275prov=f.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const Vt=[Pe];function Rt(ge,nt,...He){return function(Ht){let Ot;if("string"==typeof ge){const Qn=[nt,...He].filter(Boolean);Ot=Ht.pipe(function X(...ge){const nt=ge.length;if(0===nt)throw new Error("list of properties cannot be empty.");return(0,ce.U)(He=>{let ct=He;for(let Ht=0;Ht<nt;Ht++){const Ot=ct?.[ge[Ht]];if(!(typeof Ot<"u"))return;ct=Ot}return ct})}(ge,...Qn))}else{if("function"!=typeof ge)throw new TypeError(`Unexpected type '${typeof ge}' in select operator, expected 'string' or 'function'`);Ot=Ht.pipe((0,ce.U)(Qn=>ge(Qn,nt)))}return Ot.pipe((0,ne.x)())}}const gn="https://ngrx.io/guide/store/configuration/runtime-checks";function xt(ge){return void 0===ge}function yn(ge){return null===ge}function Jt(ge){return Array.isArray(ge)}function At(ge){return"object"==typeof ge&&null!==ge}function St(ge){return"function"==typeof ge}function je(ge,nt){return nt instanceof f.OlP?ge.get(nt):nt}function et(ge,nt,He){return He.map((ct,Ht)=>{if(nt[Ht]instanceof f.OlP){const Ot=ge.get(nt[Ht]);return{key:ct.key,reducerFactory:Ot.reducerFactory?Ot.reducerFactory:rr,metaReducers:Ot.metaReducers?Ot.metaReducers:[],initialState:Ot.initialState}}return ct})}function Yt(ge,nt){return nt.map(ct=>ct instanceof f.OlP?ge.get(ct):ct)}function En(ge){return"function"==typeof ge?ge():ge}function Tn(ge,nt){return ge.concat(nt)}function ur(ge){if(ge)throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function nn(ge){Object.freeze(ge);const nt=St(ge);return Object.getOwnPropertyNames(ge).forEach(He=>{if(!He.startsWith("\u0275")&&function un(ge,nt){return Object.prototype.hasOwnProperty.call(ge,nt)}(ge,He)&&(!nt||"caller"!==He&&"callee"!==He&&"arguments"!==He)){const ct=ge[He];(At(ct)||St(ct))&&!Object.isFrozen(ct)&&nn(ct)}}),ge}function xr(ge,nt=[]){return(xt(ge)||yn(ge))&&0===nt.length?{path:["root"],value:ge}:Object.keys(ge).reduce((ct,Ht)=>{if(ct)return ct;const Ot=ge[Ht];return function on(ge){return St(ge)&&ge.hasOwnProperty("\u0275cmp")}(Ot)?ct:!(xt(Ot)||yn(Ot)||function Ft(ge){return"number"==typeof ge}(Ot)||function ln(ge){return"boolean"==typeof ge}(Ot)||function xn(ge){return"string"==typeof ge}(Ot)||Jt(Ot))&&(function gt(ge){if(!function Nt(ge){return At(ge)&&!Jt(ge)}(ge))return!1;const nt=Object.getPrototypeOf(ge);return nt===Object.prototype||null===nt}(Ot)?xr(Ot,[...nt,Ht]):{path:[...nt,Ht],value:Ot})},!1)}function es(ge,nt){if(!1===ge)return;const He=ge.path.join("."),ct=new Error(`Detected unserializable ${nt} at "${He}". ${gn}#strict${nt}serializability`);throw ct.value=ge.value,ct.unserializablePath=He,ct}function lr(ge){return(0,f.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...ge}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Gi({strictActionSerializability:ge,strictStateSerializability:nt}){return He=>ge||nt?function mi(ge,nt){return function(He,ct){nt.action(ct)&&es(xr(ct),"action");const Ht=ge(He,ct);return nt.state()&&es(xr(Ht),"state"),Ht}}(He,{action:ct=>ge&&!kr(ct),state:()=>nt}):He}function Qr({strictActionImmutability:ge,strictStateImmutability:nt}){return He=>ge||nt?function jr(ge,nt){return function(He,ct){const Ht=nt.action(ct)?nn(ct):ct,Ot=ge(He,Ht);return nt.state()?nn(Ot):Ot}}(He,{action:ct=>ge&&!kr(ct),state:()=>nt}):He}function kr(ge){return ge.type.startsWith("@ngrx")}function mr({strictActionWithinNgZone:ge}){return nt=>ge?function Oi(ge,nt){return function(He,ct){if(nt.action(ct)&&!f.R0b.isInAngularZone())throw new Error(`Action '${ct.type}' running outside NgZone. ${gn}#strictactionwithinngzone`);return ge(He,ct)}}(nt,{action:He=>ge&&!kr(He)}):nt}function Ki(ge){return[{provide:er,useValue:ge},{provide:ke,useFactory:Bo,deps:[er]},{provide:qn,deps:[ke],useFactory:lr},{provide:Dn,multi:!0,deps:[qn],useFactory:Qr},{provide:Dn,multi:!0,deps:[qn],useFactory:Gi},{provide:Dn,multi:!0,deps:[qn],useFactory:mr}]}function Gn(){return[{provide:dn,multi:!0,deps:[qn],useFactory:Zi}]}function Bo(ge){return ge}function Zi(ge){if(!ge.strictActionTypeUniqueness)return;const nt=Object.entries(de).filter(([,He])=>He>1).map(([He])=>He);if(nt.length)throw new Error(`Action types are registered more than once, ${nt.map(He=>`"${He}"`).join(", ")}. ${gn}#strictactiontypeuniqueness`)}function Pi(ge,nt){return[{provide:$e,useFactory:ur,deps:[[Pe,new f.FiY,new f.tp0]]},{provide:Qe,useValue:nt.initialState},{provide:xe,useFactory:En,deps:[Qe]},{provide:wt,useValue:ge},{provide:qt,useExisting:ge instanceof f.OlP?ge:wt},{provide:Ve,deps:[f.zs3,wt,[new f.tBr(qt)]],useFactory:je},{provide:kn,useValue:nt.metaReducers?nt.metaReducers:[]},{provide:Sn,deps:[Dn,kn],useFactory:Tn},{provide:Re,useValue:nt.reducerFactory?nt.reducerFactory:rr},{provide:Ae,deps:[Re,Sn],useFactory:Oe},Ce,Tt,Gt,ze,Vt,Ki(nt.runtimeChecks),Gn()]}function vr(ge,nt,He={}){return[{provide:fn,multi:!0,useValue:ge instanceof Object?{}:He},{provide:Dt,multi:!0,useValue:{key:ge instanceof Object?ge.name:ge,reducerFactory:He instanceof f.OlP||!He.reducerFactory?rr:He.reducerFactory,metaReducers:He instanceof f.OlP||!He.metaReducers?[]:He.metaReducers,initialState:He instanceof f.OlP||!He.initialState?void 0:He.initialState}},{provide:kt,deps:[f.zs3,fn,Dt],useFactory:et},{provide:hn,multi:!0,useValue:ge instanceof Object?ge.reducer:nt},{provide:pn,multi:!0,useExisting:nt instanceof f.OlP?nt:hn},{provide:An,multi:!0,deps:[f.zs3,hn,[new f.tBr(pn)]],useFactory:Yt},Gn()]}let Hr=(()=>{class ge{constructor(He,ct,Ht,Ot,Qn,ir){}}return ge.\u0275fac=function(He){return new(He||ge)(f.LFG(ut),f.LFG(ot),f.LFG(bn),f.LFG(Pe),f.LFG($e,8),f.LFG(dn,8))},ge.\u0275mod=f.oAB({type:ge}),ge.\u0275inj=f.cJS({}),ge})(),Vi=(()=>{class ge{constructor(He,ct,Ht,Ot,Qn){this.features=He,this.featureReducers=ct,this.reducerManager=Ht;const ir=He.map((Dr,Zr)=>{const Lr=ct.shift()[Zr];return{...Dr,reducers:Lr,initialState:En(Dr.initialState)}});Ht.addFeatures(ir)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return ge.\u0275fac=function(He){return new(He||ge)(f.LFG(kt),f.LFG(An),f.LFG(Bt),f.LFG(Hr),f.LFG(dn,8))},ge.\u0275mod=f.oAB({type:ge}),ge.\u0275inj=f.cJS({}),ge})(),ts=(()=>{class ge{static forRoot(He,ct={}){return{ngModule:Hr,providers:[...Pi(He,ct)]}}static forFeature(He,ct,Ht={}){return{ngModule:Vi,providers:[...vr(He,ct,Ht)]}}}return ge.\u0275fac=function(He){return new(He||ge)},ge.\u0275mod=f.oAB({type:ge}),ge.\u0275inj=f.cJS({}),ge})();function ns(...ge){return{reducer:ge.pop(),types:ge.map(ct=>ct.type)}}function Ir(ge,...nt){const He=new Map;for(const ct of nt)for(const Ht of ct.types){const Ot=He.get(Ht);He.set(Ht,Ot?(ir,Dr)=>ct.reducer(Ot(ir,Dr),Dr):ct.reducer)}return function(ct=ge,Ht){const Ot=He.get(Ht.type);return Ot?Ot(ct,Ht):ct}}},8766:(Ie,ae,C)=>{"use strict";C.d(ae,{Lj:()=>lt,X3:()=>mt});var f=C(5861);let M,Y;const Q=new WeakMap,oe=new WeakMap,ce=new WeakMap,X=new WeakMap,ne=new WeakMap;let Ue={get($e,Qe,xe){if($e instanceof IDBTransaction){if("done"===Qe)return oe.get($e);if("objectStoreNames"===Qe)return $e.objectStoreNames||ce.get($e);if("store"===Qe)return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return Me($e[Qe])},set:($e,Qe,xe)=>($e[Qe]=xe,!0),has:($e,Qe)=>$e instanceof IDBTransaction&&("done"===Qe||"store"===Qe)||Qe in $e};function Je($e){return"function"==typeof $e?function vt($e){return $e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ee(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($e)?function(...Qe){return $e.apply(bt(this),Qe),Me(Q.get(this))}:function(...Qe){return Me($e.apply(bt(this),Qe))}:function(Qe,...xe){const Ae=$e.call(bt(this),Qe,...xe);return ce.set(Ae,Qe.sort?Qe.sort():[Qe]),Me(Ae)}}($e):($e instanceof IDBTransaction&&function Ke($e){if(oe.has($e))return;const Qe=new Promise((xe,Ae)=>{const Re=()=>{$e.removeEventListener("complete",Ve),$e.removeEventListener("error",wt),$e.removeEventListener("abort",wt)},Ve=()=>{xe(),Re()},wt=()=>{Ae($e.error||new DOMException("AbortError","AbortError")),Re()};$e.addEventListener("complete",Ve),$e.addEventListener("error",wt),$e.addEventListener("abort",wt)});oe.set($e,Qe)}($e),(($e,Qe)=>Qe.some(xe=>$e instanceof xe))($e,function G(){return M||(M=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($e,Ue):$e)}function Me($e){if($e instanceof IDBRequest)return function de($e){const Qe=new Promise((xe,Ae)=>{const Re=()=>{$e.removeEventListener("success",Ve),$e.removeEventListener("error",wt)},Ve=()=>{xe(Me($e.result)),Re()},wt=()=>{Ae($e.error),Re()};$e.addEventListener("success",Ve),$e.addEventListener("error",wt)});return Qe.then(xe=>{xe instanceof IDBCursor&&Q.set(xe,$e)}).catch(()=>{}),ne.set(Qe,$e),Qe}($e);if(X.has($e))return X.get($e);const Qe=Je($e);return Qe!==$e&&(X.set($e,Qe),ne.set(Qe,$e)),Qe}const bt=$e=>ne.get($e);function mt($e,Qe,{blocked:xe,upgrade:Ae,blocking:Re,terminated:Ve}={}){const wt=indexedDB.open($e,Qe),Dt=Me(wt);return Ae&&wt.addEventListener("upgradeneeded",qt=>{Ae(Me(wt.result),qt.oldVersion,qt.newVersion,Me(wt.transaction))}),xe&&wt.addEventListener("blocked",()=>xe()),Dt.then(qt=>{Ve&&qt.addEventListener("close",()=>Ve()),Re&&qt.addEventListener("versionchange",()=>Re())}).catch(()=>{}),Dt}function lt($e,{blocked:Qe}={}){const xe=indexedDB.deleteDatabase($e);return Qe&&xe.addEventListener("blocked",()=>Qe()),Me(xe).then(()=>{})}const it=["get","getKey","getAll","getAllKeys","count"],We=["put","add","delete","clear"],ut=new Map;function Ce($e,Qe){if(!($e instanceof IDBDatabase)||Qe in $e||"string"!=typeof Qe)return;if(ut.get(Qe))return ut.get(Qe);const xe=Qe.replace(/FromIndex$/,""),Ae=Qe!==xe,Re=We.includes(xe);if(!(xe in(Ae?IDBIndex:IDBObjectStore).prototype)||!Re&&!it.includes(xe))return;const Ve=function(){var wt=(0,f.Z)(function*(Dt,...qt){const hn=this.transaction(Dt,Re?"readwrite":"readonly");let fn=hn.store;return Ae&&(fn=fn.index(qt.shift())),(yield Promise.all([fn[xe](...qt),Re&&hn.done]))[0]});return function(qt){return wt.apply(this,arguments)}}();return ut.set(Qe,Ve),Ve}!function Ge($e){Ue=$e(Ue)}($e=>({...$e,get:(Qe,xe,Ae)=>Ce(Qe,xe)||$e.get(Qe,xe,Ae),has:(Qe,xe)=>!!Ce(Qe,xe)||$e.has(Qe,xe)}))},5861:(Ie,ae,C)=>{"use strict";function f(M,Y,G,ee,Q,oe,ce){try{var X=M[oe](ce),ne=X.value}catch(de){return void G(de)}X.done?Y(ne):Promise.resolve(ne).then(ee,Q)}function m(M){return function(){var Y=this,G=arguments;return new Promise(function(ee,Q){var oe=M.apply(Y,G);function ce(ne){f(oe,ee,Q,ce,X,"next",ne)}function X(ne){f(oe,ee,Q,ce,X,"throw",ne)}ce(void 0)})}}C.d(ae,{Z:()=>m})}},Ie=>{Ie(Ie.s=4308)}]);