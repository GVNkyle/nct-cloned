(self.webpackChunknct_cloned=self.webpackChunknct_cloned||[]).push([[179],{2011:(Ie,ae,C)=>{"use strict";C.d(ae,{Dh:()=>re,GT:()=>ee,cc:()=>Ue,hO:()=>Ke,on:()=>Q,pX:()=>K,xv:()=>ue});var f=C(4650),m=C(127),A=C(6351);Ie=C.hmd(Ie);const Y=["ngOnDestroy"],K=(Me,Et,mt,ut={})=>new Proxy(Me,{get:(nt,We)=>mt.runOutsideAngular(()=>{var ot;if(Me[We])return!(null===(ot=ut?.spy)||void 0===ot)&&ot.get&&ut.spy.get(We,Me[We]),Me[We];if(Y.indexOf(We)>-1)return()=>{};const xe=Et.toPromise().then($e=>{const Ye=$e&&$e[We];return"function"==typeof Ye?Ye.bind($e):Ye&&Ye.then?Ye.then(Te=>mt.run(()=>Te)):mt.run(()=>Ye)});return new Proxy(()=>{},{get:($e,Ye)=>xe[Ye],apply:($e,Ye,Te)=>xe.then(Ae=>{var Re;const Ve=Ae&&Ae(...Te);return!(null===(Re=ut?.spy)||void 0===Re)&&Re.apply&&ut.spy.apply(We,Te,Ve),Ve})})})}),ee=(Me,Et)=>{Et.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(ut=>{Object.defineProperty(Me.prototype,ut,Object.getOwnPropertyDescriptor(mt.prototype||mt,ut))})})};class J{constructor(Et){return Et}}const re=new f.OlP("angularfire2.app.options"),ue=new f.OlP("angularfire2.app.name");function Q(Me,Et,mt){const nt="object"==typeof mt&&mt||{};nt.name=nt.name||"string"==typeof mt&&mt||"[DEFAULT]";const ot=m.Z.apps.filter(xe=>xe&&xe.name===nt.name)[0]||Et.runOutsideAngular(()=>m.Z.initializeApp(Me,nt));try{JSON.stringify(Me)!==JSON.stringify(ot.options)&&ne("error",`${ot.name} Firebase App already initialized with different options${Ie.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new J(ot)}const ne=(Me,...Et)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Me](...Et)},de={provide:J,useFactory:Q,deps:[re,f.R0b,[new f.FiY,ue]]};let Ke=(()=>{class Me{constructor(mt){m.Z.registerVersion("angularfire",A.q4.full,"core"),m.Z.registerVersion("angularfire",A.q4.full,"app-compat"),m.Z.registerVersion("angular",f.q4F.full,mt.toString())}static initializeApp(mt,ut){return{ngModule:Me,providers:[{provide:re,useValue:mt},{provide:ue,useValue:ut}]}}}return Me.\u0275fac=function(mt){return new(mt||Me)(f.LFG(f.Lbi))},Me.\u0275mod=f.oAB({type:Me}),Me.\u0275inj=f.cJS({providers:[de]}),Me})();function Ue(Me,Et,mt,ut,nt){const[,We,ot]=globalThis.\u0275AngularfireInstanceCache.find(xe=>xe[0]===Me)||[];if(We)return function Ge(Me,Et){try{return Me.toString()===Et.toString()}catch{return Me===Et}}(nt,ot)||(Qe("error",`${Et} was already initialized on the ${mt} Firebase App with different settings.${yt?" You may need to reload as Firebase is not HMR aware.":""}`),Qe("warn",{is:nt,was:ot})),We;{const xe=ut();return globalThis.\u0275AngularfireInstanceCache.push([Me,xe,nt]),xe}}const yt=!!Ie.hot,Qe=(Me,...Et)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Me](...Et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Ie,ae,C)=>{"use strict";C.d(ae,{q4:()=>ya,iC:()=>Js,HU:()=>$t,vb:()=>$,JM:()=>P});var f=C(4650),m=C(5867),A=C(5861),Y=C(9681),K=C(2090),ee=C(4859),J=C(1877),re=C(8766);const ue="@firebase/installations",Q="0.5.16",de=`w:${Q}`,Ke="FIS_v2",Et=new K.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function mt(k){return k instanceof K.ZR&&k.code.includes("request-failed")}function ut({projectId:k}){return`https://firebaseinstallations.googleapis.com/v1/projects/${k}/installations`}function nt(k){return{token:k.token,requestStatus:2,expiresIn:Ae(k.expiresIn),creationTime:Date.now()}}function We(k,L){return ot.apply(this,arguments)}function ot(){return(ot=(0,A.Z)(function*(k,L){const fe=(yield L.json()).error;return Et.create("request-failed",{requestName:k,serverCode:fe.code,serverMessage:fe.message,serverStatus:fe.status})})).apply(this,arguments)}function xe({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function $e(k,{refreshToken:L}){const G=xe(k);return G.append("Authorization",function Re(k){return`${Ke} ${k}`}(L)),G}function Ye(k){return Te.apply(this,arguments)}function Te(){return(Te=(0,A.Z)(function*(k){const L=yield k();return L.status>=500&&L.status<600?k():L})).apply(this,arguments)}function Ae(k){return Number(k.replace("s","000"))}function Ve(k,L){return _t.apply(this,arguments)}function _t(){return(_t=(0,A.Z)(function*({appConfig:k,heartbeatServiceProvider:L},{fid:G}){const fe=ut(k),Fe=xe(k),rt=L.getImmediate({optional:!0});if(rt){const Vn=yield rt.getHeartbeatsHeader();Vn&&Fe.append("x-firebase-client",Vn)}const Kt={method:"POST",headers:Fe,body:JSON.stringify({fid:G,authVersion:Ke,appId:k.appId,sdkVersion:de})},Cn=yield Ye(()=>fetch(fe,Kt));if(Cn.ok){const Vn=yield Cn.json();return{fid:Vn.fid||G,registrationStatus:2,refreshToken:Vn.refreshToken,authToken:nt(Vn.authToken)}}throw yield We("Create Installation",Cn)})).apply(this,arguments)}function It(k){return new Promise(L=>{setTimeout(L,k)})}const hn=/^[cdef][\w-]{21}$/;function Rt(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const G=function pn(k){return function Yt(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return hn.test(G)?G:""}catch{return""}}function kn(k){return`${k.appName}!${k.appId}`}const Rn=new Map;function Tn(k,L){const G=kn(k);tr(G,L),function qn(k,L){const G=function On(){return!dn&&"BroadcastChannel"in self&&(dn=new BroadcastChannel("[Firebase] FID Change"),dn.onmessage=k=>{tr(k.data.key,k.data.fid)}),dn}();G&&G.postMessage({key:k,fid:L}),function fr(){0===Rn.size&&dn&&(dn.close(),dn=null)}()}(G,L)}function tr(k,L){const G=Rn.get(k);if(G)for(const fe of G)fe(L)}let dn=null;const ve="firebase-installations-store";let Oe=null;function qe(){return Oe||(Oe=(0,re.X3)("firebase-installations-database",1,{upgrade:(k,L)=>{0===L&&k.createObjectStore(ve)}})),Oe}function st(k,L){return qt.apply(this,arguments)}function qt(){return(qt=(0,A.Z)(function*(k,L){const G=kn(k),Fe=(yield qe()).transaction(ve,"readwrite"),rt=Fe.objectStore(ve),Tt=yield rt.get(G);return yield rt.put(L,G),yield Fe.done,(!Tt||Tt.fid!==L.fid)&&Tn(k,L.fid),L})).apply(this,arguments)}function Ut(k){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,A.Z)(function*(k){const L=kn(k),fe=(yield qe()).transaction(ve,"readwrite");yield fe.objectStore(ve).delete(L),yield fe.done})).apply(this,arguments)}function St(k,L){return bn.apply(this,arguments)}function bn(){return(bn=(0,A.Z)(function*(k,L){const G=kn(k),Fe=(yield qe()).transaction(ve,"readwrite"),rt=Fe.objectStore(ve),Tt=yield rt.get(G),Kt=L(Tt);return void 0===Kt?yield rt.delete(G):yield rt.put(Kt,G),yield Fe.done,Kt&&(!Tt||Tt.fid!==Kt.fid)&&Tn(k,Kt.fid),Kt})).apply(this,arguments)}function Wt(k){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,A.Z)(function*(k){let L;const G=yield St(k.appConfig,fe=>{const Fe=me(fe),rt=oe(k,Fe);return L=rt.registrationPromise,rt.installationEntry});return""===G.fid?{installationEntry:yield L}:{installationEntry:G,registrationPromise:L}})).apply(this,arguments)}function me(k){return xt(k||{fid:Rt(),registrationStatus:0})}function oe(k,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(Et.create("app-offline"))};const G={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},fe=function ze(k,L){return Le.apply(this,arguments)}(k,G);return{installationEntry:G,registrationPromise:fe}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:Vt(k)}:{installationEntry:L}}function Le(){return(Le=(0,A.Z)(function*(k,L){try{const G=yield Ve(k,L);return st(k.appConfig,G)}catch(G){throw mt(G)&&409===G.customData.serverCode?yield Ut(k.appConfig):yield st(k.appConfig,{fid:L.fid,registrationStatus:0}),G}})).apply(this,arguments)}function Vt(k){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,A.Z)(function*(k){let L=yield gn(k.appConfig);for(;1===L.registrationStatus;)yield It(100),L=yield gn(k.appConfig);if(0===L.registrationStatus){const{installationEntry:G,registrationPromise:fe}=yield Wt(k);return fe||G}return L})).apply(this,arguments)}function gn(k){return St(k,L=>{if(!L)throw Et.create("installation-not-found");return xt(L)})}function xt(k){return function yn(k){return 1===k.registrationStatus&&k.registrationTime+1e4<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function en(k,L){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,A.Z)(function*({appConfig:k,heartbeatServiceProvider:L},G){const fe=ln(k,G),Fe=$e(k,G),rt=L.getImmediate({optional:!0});if(rt){const Vn=yield rt.getHeartbeatsHeader();Vn&&Fe.append("x-firebase-client",Vn)}const Kt={method:"POST",headers:Fe,body:JSON.stringify({installation:{sdkVersion:de,appId:k.appId}})},Cn=yield Ye(()=>fetch(fe,Kt));if(Cn.ok)return nt(yield Cn.json());throw yield We("Generate Auth Token",Cn)})).apply(this,arguments)}function ln(k,{fid:L}){return`${ut(k)}/${L}/authTokens:generate`}function Ft(k){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,A.Z)(function*(k,L=!1){let G;const fe=yield St(k.appConfig,rt=>{if(!_n(rt))throw Et.create("not-registered");const Tt=rt.authToken;if(!L&&be(Tt))return rt;if(1===Tt.requestStatus)return G=Pt(k,L),rt;{if(!navigator.onLine)throw Et.create("app-offline");const Kt=De(rt);return G=an(k,Kt),Kt}});return G?yield G:fe.authToken})).apply(this,arguments)}function Pt(k,L){return gt.apply(this,arguments)}function gt(){return(gt=(0,A.Z)(function*(k,L){let G=yield At(k.appConfig);for(;1===G.authToken.requestStatus;)yield It(100),G=yield At(k.appConfig);const fe=G.authToken;return 0===fe.requestStatus?Ft(k,L):fe})).apply(this,arguments)}function At(k){return St(k,L=>{if(!_n(L))throw Et.create("not-registered");return function pe(k){return 1===k.requestStatus&&k.requestTime+1e4<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function an(k,L){return un.apply(this,arguments)}function un(){return(un=(0,A.Z)(function*(k,L){try{const G=yield en(k,L),fe=Object.assign(Object.assign({},L),{authToken:G});return yield st(k.appConfig,fe),G}catch(G){if(!mt(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const fe=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield st(k.appConfig,fe)}else yield Ut(k.appConfig);throw G}})).apply(this,arguments)}function _n(k){return void 0!==k&&2===k.registrationStatus}function be(k){return 2===k.requestStatus&&!function ye(k){const L=Date.now();return L<k.creationTime||k.creationTime+k.expiresIn<L+36e5}(k)}function De(k){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:L})}function ie(){return(ie=(0,A.Z)(function*(k){const L=k,{installationEntry:G,registrationPromise:fe}=yield Wt(L);return fe?fe.catch(console.error):Ft(L).catch(console.error),G.fid})).apply(this,arguments)}function vt(){return(vt=(0,A.Z)(function*(k,L=!1){const G=k;return yield Lt(G),(yield Ft(G,L)).token})).apply(this,arguments)}function Lt(k){return jt.apply(this,arguments)}function jt(){return(jt=(0,A.Z)(function*(k){const{registrationPromise:L}=yield Wt(k);L&&(yield L)})).apply(this,arguments)}function dr(k){return Et.create("missing-app-config-values",{valueName:k})}const Br="installations",yi=k=>{const L=k.getProvider("app").getImmediate(),G=function An(k){if(!k||!k.options)throw dr("App Configuration");if(!k.name)throw dr("App Name");const L=["projectId","apiKey","appId"];for(const G of L)if(!k.options[G])throw dr(G);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(L);return{app:L,appConfig:G,heartbeatServiceProvider:(0,Y._getProvider)(L,"heartbeat"),_delete:()=>Promise.resolve()}},Mr=k=>{const L=k.getProvider("app").getImmediate(),G=(0,Y._getProvider)(L,Br).getImmediate();return{getId:()=>function H(k){return ie.apply(this,arguments)}(G),getToken:Fe=>function Be(k){return vt.apply(this,arguments)}(G,Fe)}};(function rs(){(0,Y._registerComponent)(new ee.wA(Br,yi,"PUBLIC")),(0,Y._registerComponent)(new ee.wA("installations-internal",Mr,"PRIVATE"))})(),(0,Y.registerVersion)(ue,Q),(0,Y.registerVersion)(ue,Q,"esm2017");const Li="@firebase/remote-config",_r=new K.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class He{constructor(L,G,fe,Fe){this.client=L,this.storage=G,this.storageCache=fe,this.logger=Fe}isCachedDataFresh(L,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-G,Fe=fe<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Fe}.`),Fe}fetch(L){var G=this;return(0,A.Z)(function*(){const[fe,Fe]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(Fe&&G.isCachedDataFresh(L.cacheMaxAgeMillis,fe))return Fe;L.eTag=Fe&&Fe.eTag;const rt=yield G.client.fetch(L),Tt=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===rt.status&&Tt.push(G.storage.setLastSuccessfulFetchResponse(rt)),yield Promise.all(Tt),rt})()}}function lt(k=navigator){return k.languages&&k.languages[0]||k.language}class Ht{constructor(L,G,fe,Fe,rt,Tt){this.firebaseInstallations=L,this.sdkVersion=G,this.namespace=fe,this.projectId=Fe,this.apiKey=rt,this.appId=Tt}fetch(L){var G=this;return(0,A.Z)(function*(){var fe,Fe,rt;const[Tt,Kt]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),Vn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,Hn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},xn={sdk_version:G.sdkVersion,app_instance_id:Tt,app_instance_id_token:Kt,app_id:G.appId,language_code:lt()},Pr={method:"POST",headers:Hn,body:JSON.stringify(xn)},mi=fetch(Vn,Pr),Uo=new Promise((ia,Ha)=>{L.signal.addEventListener(()=>{const sa=new Error("The operation was aborted.");sa.name="AbortError",Ha(sa)})});let Or;try{yield Promise.race([mi,Uo]),Or=yield mi}catch(ia){let Ha="fetch-client-network";throw"AbortError"===(null===(fe=ia)||void 0===fe?void 0:fe.name)&&(Ha="fetch-timeout"),_r.create(Ha,{originalErrorMessage:null===(Fe=ia)||void 0===Fe?void 0:Fe.message})}let Bo=Or.status;const Du=Or.headers.get("ETag")||void 0;let Ba,ja;if(200===Or.status){let ia;try{ia=yield Or.json()}catch(Ha){throw _r.create("fetch-client-parse",{originalErrorMessage:null===(rt=Ha)||void 0===rt?void 0:rt.message})}Ba=ia.entries,ja=ia.state}if("INSTANCE_STATE_UNSPECIFIED"===ja?Bo=500:"NO_CHANGE"===ja?Bo=304:("NO_TEMPLATE"===ja||"EMPTY_CONFIG"===ja)&&(Ba={}),304!==Bo&&200!==Bo)throw _r.create("fetch-status",{httpStatus:Bo});return{status:Bo,eTag:Du,config:Ba}})()}}class ar{constructor(L,G){this.client=L,this.storage=G}fetch(L){var G=this;return(0,A.Z)(function*(){const fe=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(L,fe)})()}attemptFetch(L,{throttleEndTimeMillis:G,backoffCount:fe}){var Fe=this;return(0,A.Z)(function*(){yield function Nt(k,L){return new Promise((G,fe)=>{const Fe=Math.max(L-Date.now(),0),rt=setTimeout(G,Fe);k.addEventListener(()=>{clearTimeout(rt),fe(_r.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,G);try{const rt=yield Fe.client.fetch(L);return yield Fe.storage.deleteThrottleMetadata(),rt}catch(rt){if(!function Qn(k){if(!(k instanceof K.ZR&&k.customData))return!1;const L=Number(k.customData.httpStatus);return 429===L||500===L||503===L||504===L}(rt))throw rt;const Tt={throttleEndTimeMillis:Date.now()+(0,K.$s)(fe),backoffCount:fe+1};return yield Fe.storage.setThrottleMetadata(Tt),Fe.attemptFetch(L,Tt)}})()}}class ur{constructor(L,G,fe,Fe,rt){this.app=L,this._client=G,this._storageCache=fe,this._storage=Fe,this._logger=rt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fr(k,L){var G;const fe=k.target.error||void 0;return _r.create(L,{originalErrorMessage:fe&&(null===(G=fe)||void 0===G?void 0:G.message)})}const Hi="app_namespace_store";class Ho{constructor(L,G,fe,Fe=function Aa(){return new Promise((k,L)=>{var G;try{const fe=indexedDB.open("firebase_remote_config",1);fe.onerror=Fe=>{L(Fr(Fe,"storage-open"))},fe.onsuccess=Fe=>{k(Fe.target.result)},fe.onupgradeneeded=Fe=>{0===Fe.oldVersion&&Fe.target.result.createObjectStore(Hi,{keyPath:"compositeKey"})}}catch(fe){L(_r.create("storage-open",{originalErrorMessage:null===(G=fe)||void 0===G?void 0:G.message}))}})}()){this.appId=L,this.appName=G,this.namespace=fe,this.openDbPromise=Fe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var G=this;return(0,A.Z)(function*(){const fe=yield G.openDbPromise;return new Promise((Fe,rt)=>{var Tt;const Cn=fe.transaction([Hi],"readonly").objectStore(Hi),Vn=G.createCompositeKey(L);try{const Hn=Cn.get(Vn);Hn.onerror=xn=>{rt(Fr(xn,"storage-get"))},Hn.onsuccess=xn=>{const Pr=xn.target.result;Fe(Pr?Pr.value:void 0)}}catch(Hn){rt(_r.create("storage-get",{originalErrorMessage:null===(Tt=Hn)||void 0===Tt?void 0:Tt.message}))}})})()}set(L,G){var fe=this;return(0,A.Z)(function*(){const Fe=yield fe.openDbPromise;return new Promise((rt,Tt)=>{var Kt;const Vn=Fe.transaction([Hi],"readwrite").objectStore(Hi),Hn=fe.createCompositeKey(L);try{const xn=Vn.put({compositeKey:Hn,value:G});xn.onerror=Pr=>{Tt(Fr(Pr,"storage-set"))},xn.onsuccess=()=>{rt()}}catch(xn){Tt(_r.create("storage-set",{originalErrorMessage:null===(Kt=xn)||void 0===Kt?void 0:Kt.message}))}})})()}delete(L){var G=this;return(0,A.Z)(function*(){const fe=yield G.openDbPromise;return new Promise((Fe,rt)=>{var Tt;const Cn=fe.transaction([Hi],"readwrite").objectStore(Hi),Vn=G.createCompositeKey(L);try{const Hn=Cn.delete(Vn);Hn.onerror=xn=>{rt(Fr(xn,"storage-delete"))},Hn.onsuccess=()=>{Fe()}}catch(Hn){rt(_r.create("storage-delete",{originalErrorMessage:null===(Tt=Hn)||void 0===Tt?void 0:Tt.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class Ms{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,A.Z)(function*(){const G=L.storage.getLastFetchStatus(),fe=L.storage.getLastSuccessfulFetchTimestampMillis(),Fe=L.storage.getActiveConfig(),rt=yield G;rt&&(L.lastFetchStatus=rt);const Tt=yield fe;Tt&&(L.lastSuccessfulFetchTimestampMillis=Tt);const Kt=yield Fe;Kt&&(L.activeConfig=Kt)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function $o(){return js.apply(this,arguments)}function js(){return(js=(0,A.Z)(function*(){if(!(0,K.hl)())return!1;try{return yield(0,K.eu)()}catch{return!1}})).apply(this,arguments)}!function Eo(){(0,Y._registerComponent)(new ee.wA("remote-config",function k(L,{instanceIdentifier:G}){const fe=L.getProvider("app").getImmediate(),Fe=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw _r.create("registration-window");if(!(0,K.hl)())throw _r.create("indexed-db-unavailable");const{projectId:rt,apiKey:Tt,appId:Kt}=fe.options;if(!rt)throw _r.create("registration-project-id");if(!Tt)throw _r.create("registration-api-key");if(!Kt)throw _r.create("registration-app-id");const Cn=new Ho(Kt,fe.name,G=G||"firebase"),Vn=new Ms(Cn),Hn=new J.Yd(Li);Hn.logLevel=J.in.ERROR;const xn=new Ht(Fe,Y.SDK_VERSION,G,rt,Tt,Kt),Pr=new ar(xn,Cn),mi=new He(Pr,Cn,Vn,Hn),Uo=new ur(fe,mi,Vn,Cn,Hn);return function wr(k){const L=(0,K.m9)(k);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Uo),Uo},"PUBLIC").setMultipleInstances(!0)),(0,Y.registerVersion)(Li,"0.3.15"),(0,Y.registerVersion)(Li,"0.3.15","esm2017")}();const Qr="/firebase-messaging-sw.js",ks="/firebase-cloud-messaging-push-scope",di="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zo="google.c.a.c_id",vs="google.c.a.c_l",Io="google.c.a.ts",os="google.c.a.e";var ni=(()=>{return(k=ni||(ni={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",ni;var k})();function vi(k){const L=new Uint8Array(k);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hi(k){const G=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(G),Fe=new Uint8Array(fe.length);for(let rt=0;rt<fe.length;++rt)Fe[rt]=fe.charCodeAt(rt);return Fe}const fi="fcm_token_details_db",as="fcm_token_object_Store";function Go(k){return Do.apply(this,arguments)}function Do(){return Do=(0,A.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(rt=>rt.name).includes(fi))return null;let L=null;return(yield(0,re.X3)(fi,5,{upgrade:(fe=(0,A.Z)(function*(Fe,rt,Tt,Kt){var Cn;if(rt<2||!Fe.objectStoreNames.contains(as))return;const Vn=Kt.objectStore(as),Hn=yield Vn.index("fcmSenderId").get(k);if(yield Vn.clear(),Hn)if(2===rt){const xn=Hn;if(!xn.auth||!xn.p256dh||!xn.endpoint)return;L={token:xn.fcmToken,createTime:null!==(Cn=xn.createTime)&&void 0!==Cn?Cn:Date.now(),subscriptionOptions:{auth:xn.auth,p256dh:xn.p256dh,endpoint:xn.endpoint,swScope:xn.swScope,vapidKey:"string"==typeof xn.vapidKey?xn.vapidKey:vi(xn.vapidKey)}}}else if(3===rt){const xn=Hn;L={token:xn.fcmToken,createTime:xn.createTime,subscriptionOptions:{auth:vi(xn.auth),p256dh:vi(xn.p256dh),endpoint:xn.endpoint,swScope:xn.swScope,vapidKey:vi(xn.vapidKey)}}}else if(4===rt){const xn=Hn;L={token:xn.fcmToken,createTime:xn.createTime,subscriptionOptions:{auth:vi(xn.auth),p256dh:vi(xn.p256dh),endpoint:xn.endpoint,swScope:xn.swScope,vapidKey:vi(xn.vapidKey)}}}}),function(rt,Tt,Kt,Cn){return fe.apply(this,arguments)})})).close(),yield(0,re.Lj)(fi),yield(0,re.Lj)("fcm_vapid_details_db"),yield(0,re.Lj)("undefined"),Un(L)?L:null;var fe}),Do.apply(this,arguments)}function Un(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:L}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}const Ai="firebase-messaging-store";let Tr=null;function wi(){return Tr||(Tr=(0,re.X3)("firebase-messaging-database",1,{upgrade:(k,L)=>{0===L&&k.createObjectStore(Ai)}})),Tr}function _s(k){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,A.Z)(function*(k){const L=bi(k),fe=yield(yield wi()).transaction(Ai).objectStore(Ai).get(L);if(fe)return fe;{const Fe=yield Go(k.appConfig.senderId);if(Fe)return yield Gn(k,Fe),Fe}})).apply(this,arguments)}function Gn(k,L){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,A.Z)(function*(k,L){const G=bi(k),Fe=(yield wi()).transaction(Ai,"readwrite");return yield Fe.objectStore(Ai).put(L,G),yield Fe.done,L})).apply(this,arguments)}function ws(k){return ha.apply(this,arguments)}function ha(){return(ha=(0,A.Z)(function*(k){const L=bi(k),fe=(yield wi()).transaction(Ai,"readwrite");yield fe.objectStore(Ai).delete(L),yield fe.done})).apply(this,arguments)}function bi({appConfig:k}){return k.appId}const Gt=new K.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function En(k,L){return In.apply(this,arguments)}function In(){return(In=(0,A.Z)(function*(k,L){var G;const fe=yield bs(k),Fe=Dt(L),rt={method:"POST",headers:fe,body:JSON.stringify(Fe)};let Tt;try{Tt=yield(yield fetch($i(k.appConfig),rt)).json()}catch(Kt){throw Gt.create("token-subscribe-failed",{errorInfo:null===(G=Kt)||void 0===G?void 0:G.toString()})}if(Tt.error)throw Gt.create("token-subscribe-failed",{errorInfo:Tt.error.message});if(!Tt.token)throw Gt.create("token-subscribe-no-token");return Tt.token})).apply(this,arguments)}function Co(k,L){return Es.apply(this,arguments)}function Es(){return(Es=(0,A.Z)(function*(k,L){var G;const fe=yield bs(k),Fe=Dt(L.subscriptionOptions),rt={method:"PATCH",headers:fe,body:JSON.stringify(Fe)};let Tt;try{Tt=yield(yield fetch(`${$i(k.appConfig)}/${L.token}`,rt)).json()}catch(Kt){throw Gt.create("token-update-failed",{errorInfo:null===(G=Kt)||void 0===G?void 0:G.toString()})}if(Tt.error)throw Gt.create("token-update-failed",{errorInfo:Tt.error.message});if(!Tt.token)throw Gt.create("token-update-no-token");return Tt.token})).apply(this,arguments)}function us(k,L){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,A.Z)(function*(k,L){var G;const Fe={method:"DELETE",headers:yield bs(k)};try{const Tt=yield(yield fetch(`${$i(k.appConfig)}/${L}`,Fe)).json();if(Tt.error)throw Gt.create("token-unsubscribe-failed",{errorInfo:Tt.error.message})}catch(rt){throw Gt.create("token-unsubscribe-failed",{errorInfo:null===(G=rt)||void 0===G?void 0:G.toString()})}})).apply(this,arguments)}function $i({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function bs(k){return io.apply(this,arguments)}function io(){return(io=(0,A.Z)(function*({appConfig:k,installations:L}){const G=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function Dt({p256dh:k,auth:L,endpoint:G,vapidKey:fe}){const Fe={web:{endpoint:G,auth:L,p256dh:k}};return fe!==di&&(Fe.web.applicationPubKey=fe),Fe}const mn=6048e5;function Rs(k){return kr.apply(this,arguments)}function kr(){return(kr=(0,A.Z)(function*(k){const L=yield To(k.swRegistration,k.vapidKey),G={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:L.endpoint,auth:vi(L.getKey("auth")),p256dh:vi(L.getKey("p256dh"))},fe=yield _s(k.firebaseDependencies);if(fe){if(F(fe.subscriptionOptions,G))return Date.now()>=fe.createTime+mn?Is(k,{token:fe.token,createTime:Date.now(),subscriptionOptions:G}):fe.token;try{yield us(k.firebaseDependencies,fe.token)}catch(Fe){console.warn(Fe)}return xo(k.firebaseDependencies,G)}return xo(k.firebaseDependencies,G)})).apply(this,arguments)}function yr(k){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,A.Z)(function*(k){const L=yield _s(k.firebaseDependencies);L&&(yield us(k.firebaseDependencies,L.token),yield ws(k.firebaseDependencies));const G=yield k.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()})).apply(this,arguments)}function Is(k,L){return ri.apply(this,arguments)}function ri(){return(ri=(0,A.Z)(function*(k,L){try{const G=yield Co(k.firebaseDependencies,L),fe=Object.assign(Object.assign({},L),{token:G,createTime:Date.now()});return yield Gn(k.firebaseDependencies,fe),G}catch(G){throw yield yr(k),G}})).apply(this,arguments)}function xo(k,L){return xr.apply(this,arguments)}function xr(){return(xr=(0,A.Z)(function*(k,L){const fe={token:yield En(k,L),createTime:Date.now(),subscriptionOptions:L};return yield Gn(k,fe),fe.token})).apply(this,arguments)}function To(k,L){return Os.apply(this,arguments)}function Os(){return(Os=(0,A.Z)(function*(k,L){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hi(L)})})).apply(this,arguments)}function F(k,L){return L.vapidKey===k.vapidKey&&L.endpoint===k.endpoint&&L.auth===k.auth&&L.p256dh===k.p256dh}function O(k){const L={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function M(k,L){if(!L.notification)return;k.notification={};const G=L.notification.title;G&&(k.notification.title=G);const fe=L.notification.body;fe&&(k.notification.body=fe);const Fe=L.notification.image;Fe&&(k.notification.image=Fe);const rt=L.notification.icon;rt&&(k.notification.icon=rt)}(L,k),function q(k,L){!L.data||(k.data=L.data)}(L,k),function at(k,L){var G,fe,Fe,rt,Tt;if(!(L.fcmOptions||null!==(G=L.notification)&&void 0!==G&&G.click_action))return;k.fcmOptions={};const Kt=null!==(Fe=null===(fe=L.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==Fe?Fe:null===(rt=L.notification)||void 0===rt?void 0:rt.click_action;Kt&&(k.fcmOptions.link=Kt);const Cn=null===(Tt=L.fcmOptions)||void 0===Tt?void 0:Tt.analytics_label;Cn&&(k.fcmOptions.analyticsLabel=Cn)}(L,k),L}function cn(k){return"object"==typeof k&&!!k&&zo in k}function nr(k,L){const G=[];for(let fe=0;fe<k.length;fe++)G.push(k.charAt(fe)),fe<L.length&&G.push(L.charAt(fe));return G.join("")}function Di(k){return Gt.create("missing-app-config-values",{valueName:k})}nr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pi{constructor(L,G,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Fe=function Vr(k){if(!k||!k.options)throw Di("App Configuration Object");if(!k.name)throw Di("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:G}=k;for(const fe of L)if(!G[fe])throw Di(fe);return{appName:k.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Fe,installations:G,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function so(k){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,A.Z)(function*(k){var L;try{k.swRegistration=yield navigator.serviceWorker.register(Qr,{scope:ks}),k.swRegistration.update().catch(()=>{})}catch(G){throw Gt.create("failed-service-worker-registration",{browserErrorMessage:null===(L=G)||void 0===L?void 0:L.message})}})).apply(this,arguments)}function So(k,L){return $s.apply(this,arguments)}function $s(){return($s=(0,A.Z)(function*(k,L){if(!L&&!k.swRegistration&&(yield so(k)),L||!k.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw Gt.create("invalid-sw-registration");k.swRegistration=L}})).apply(this,arguments)}function Ko(k,L){return oo.apply(this,arguments)}function oo(){return(oo=(0,A.Z)(function*(k,L){L?k.vapidKey=L:k.vapidKey||(k.vapidKey=di)})).apply(this,arguments)}function Ao(){return(Ao=(0,A.Z)(function*(k,L){if(!navigator)throw Gt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gt.create("permission-blocked");return yield Ko(k,L?.vapidKey),yield So(k,L?.serviceWorkerRegistration),Rs(k)})).apply(this,arguments)}function yu(k,L,G){return zs.apply(this,arguments)}function zs(){return(zs=(0,A.Z)(function*(k,L,G){const fe=Ya(L);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:G[zo],message_name:G[vs],message_time:G[Io],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ya(k){switch(k){case ni.NOTIFICATION_CLICKED:return"notification_open";case ni.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function B(){return(B=(0,A.Z)(function*(k,L){const G=L.data;if(!G.isFirebaseMessaging)return;k.onMessageHandler&&G.messageType===ni.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(O(G)):k.onMessageHandler.next(O(G)));const fe=G.data;cn(fe)&&"1"===fe[os]&&(yield yu(k,G.messageType,fe))})).apply(this,arguments)}const R="@firebase/messaging",W="0.11.0",we=k=>{const L=new pi(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function x(k,L){return B.apply(this,arguments)}(L,G)),L},tt=k=>{const L=k.getProvider("messaging").getImmediate();return{getToken:fe=>function fa(k,L){return Ao.apply(this,arguments)}(L,fe)}};function sn(){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,A.Z)(function*(){try{yield(0,K.eu)()}catch{return!1}return typeof window<"u"&&(0,K.hl)()&&(0,K.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ft(){(0,Y._registerComponent)(new ee.wA("messaging",we,"PUBLIC")),(0,Y._registerComponent)(new ee.wA("messaging-internal",tt,"PRIVATE")),(0,Y.registerVersion)(R,W),(0,Y.registerVersion)(R,W,"esm2017")}();const ds="analytics",ao="firebase_id",Ns="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vu="https://www.googletagmanager.com/gtag/js",Gr=new J.Yd("@firebase/analytics");function pa(k){return Promise.all(k.map(L=>L.catch(G=>G)))}function _u(k,L){const G=document.createElement("script");G.src=`${vu}?l=${k}&id=${L}`,G.async=!0,document.head.appendChild(G)}function ii(k,L,G,fe,Fe,rt){return gi.apply(this,arguments)}function gi(){return(gi=(0,A.Z)(function*(k,L,G,fe,Fe,rt){const Tt=fe[Fe];try{if(Tt)yield L[Tt];else{const Cn=(yield pa(G)).find(Vn=>Vn.measurementId===Fe);Cn&&(yield L[Cn.appId])}}catch(Kt){Gr.error(Kt)}k("config",Fe,rt)})).apply(this,arguments)}function Ps(k,L,G,fe,Fe){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,A.Z)(function*(k,L,G,fe,Fe){try{let rt=[];if(Fe&&Fe.send_to){let Tt=Fe.send_to;Array.isArray(Tt)||(Tt=[Tt]);const Kt=yield pa(G);for(const Cn of Tt){const Vn=Kt.find(xn=>xn.measurementId===Cn),Hn=Vn&&L[Vn.appId];if(!Hn){rt=[];break}rt.push(Hn)}}0===rt.length&&(rt=Object.values(L)),yield Promise.all(rt),k("event",fe,Fe||{})}catch(rt){Gr.error(rt)}})).apply(this,arguments)}function Qa(k){const L=window.document.getElementsByTagName("script");for(const G of Object.values(L))if(G.src&&G.src.includes(vu)&&G.src.includes(k))return G;return null}const Xr=new K.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),qo=new class Eu{constructor(L={},G=1e3){this.throttleMetadata=L,this.intervalMillis=G}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,G){this.throttleMetadata[L]=G}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function Ra(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function qu(k){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,A.Z)(function*(k){var L;const{appId:G,apiKey:fe}=k,Fe={method:"GET",headers:Ra(fe)},rt=Ns.replace("{app-id}",G),Tt=yield fetch(rt,Fe);if(200!==Tt.status&&304!==Tt.status){let Kt="";try{const Cn=yield Tt.json();null!==(L=Cn.error)&&void 0!==L&&L.message&&(Kt=Cn.error.message)}catch{}throw Xr.create("config-fetch-failed",{httpStatus:Tt.status,responseMessage:Kt})}return Tt.json()})).apply(this,arguments)}function Oa(k){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,A.Z)(function*(k,L=qo,G){const{appId:fe,apiKey:Fe,measurementId:rt}=k.options;if(!fe)throw Xr.create("no-app-id");if(!Fe){if(rt)return{measurementId:rt,appId:fe};throw Xr.create("no-api-key")}const Tt=L.getThrottleMetadata(fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Kt=new ga;return setTimeout((0,A.Z)(function*(){Kt.abort()}),void 0!==G?G:6e4),Ja({appId:fe,apiKey:Fe,measurementId:rt},Tt,Kt,L)})).apply(this,arguments)}function Ja(k,L,G){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,A.Z)(function*(k,{throttleEndTimeMillis:L,backoffCount:G},fe,Fe=qo){var rt,Tt;const{appId:Kt,measurementId:Cn}=k;try{yield Yo(fe,L)}catch(Vn){if(Cn)return Gr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Cn} provided in the "measurementId" field in the local Firebase config. [${null===(rt=Vn)||void 0===rt?void 0:rt.message}]`),{appId:Kt,measurementId:Cn};throw Vn}try{const Vn=yield qu(k);return Fe.deleteThrottleMetadata(Kt),Vn}catch(Vn){const Hn=Vn;if(!Xa(Hn)){if(Fe.deleteThrottleMetadata(Kt),Cn)return Gr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Cn} provided in the "measurementId" field in the local Firebase config. [${Hn?.message}]`),{appId:Kt,measurementId:Cn};throw Vn}const xn=503===Number(null===(Tt=Hn?.customData)||void 0===Tt?void 0:Tt.httpStatus)?(0,K.$s)(G,Fe.intervalMillis,30):(0,K.$s)(G,Fe.intervalMillis),Pr={throttleEndTimeMillis:Date.now()+xn,backoffCount:G+1};return Fe.setThrottleMetadata(Kt,Pr),Gr.debug(`Calling attemptFetch again in ${xn} millis`),Ja(k,Pr,fe,Fe)}})).apply(this,arguments)}function Yo(k,L){return new Promise((G,fe)=>{const Fe=Math.max(L-Date.now(),0),rt=setTimeout(G,Fe);k.addEventListener(()=>{clearTimeout(rt),fe(Xr.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}function Xa(k){if(!(k instanceof K.ZR&&k.customData))return!1;const L=Number(k.customData.httpStatus);return 429===L||500===L||503===L||504===L}class ga{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let Qo,uo;function ma(){return(ma=(0,A.Z)(function*(k,L,G,fe,Fe){if(Fe&&Fe.global)k("event",G,fe);else{const rt=yield L;k("event",G,Object.assign(Object.assign({},fe),{send_to:rt}))}})).apply(this,arguments)}function Ro(k){uo=k}function xi(k){Qo=k}function si(){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,A.Z)(function*(){var k;if(!(0,K.hl)())return Gr.warn(Xr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,K.eu)()}catch(L){return Gr.warn(Xr.create("indexeddb-unavailable",{errorInfo:null===(k=L)||void 0===k?void 0:k.toString()}).message),!1}return!0})).apply(this,arguments)}function Xo(){return(Xo=(0,A.Z)(function*(k,L,G,fe,Fe,rt,Tt){var Kt;const Cn=Oa(k);Cn.then(mi=>{G[mi.measurementId]=mi.appId,k.options.measurementId&&mi.measurementId!==k.options.measurementId&&Gr.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${mi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mi=>Gr.error(mi)),L.push(Cn);const Vn=si().then(mi=>{if(mi)return fe.getId()}),[Hn,xn]=yield Promise.all([Cn,Vn]);Qa(rt)||_u(rt,Hn.measurementId),uo&&(Fe("consent","default",uo),Ro(void 0)),Fe("js",new Date);const Pr=null!==(Kt=Tt?.config)&&void 0!==Kt?Kt:{};return Pr.origin="firebase",Pr.update=!0,null!=xn&&(Pr[ao]=xn),Fe("config",Hn.measurementId,Pr),Qo&&(Fe("set",Qo),xi(void 0)),Hn.measurementId})).apply(this,arguments)}class Oo{constructor(L){this.app=L}_delete(){return delete Ti[this.app.options.appId],Promise.resolve()}}let Ti={},No=[];const hs={};let lo,Ri,ea="dataLayer",Po=!1;function Fa(k,L,G){!function Pd(){const k=[];if((0,K.ru)()&&k.push("This is a browser extension environment."),(0,K.zI)()||k.push("Cookies are not available."),k.length>0){const L=k.map((fe,Fe)=>`(${Fe+1}) ${fe}`).join(" "),G=Xr.create("invalid-analytics-context",{errorInfo:L});Gr.warn(G.message)}}();const fe=k.options.appId;if(!fe)throw Xr.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw Xr.create("no-api-key");Gr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ti[fe])throw Xr.create("already-exists",{id:fe});if(!Po){!function Ma(k){let L=[];Array.isArray(window[k])?L=window[k]:window[k]=L}(ea);const{wrappedGtag:rt,gtagCore:Tt}=function ka(k,L,G,fe,Fe){let rt=function(...Tt){window[fe].push(arguments)};return window[Fe]&&"function"==typeof window[Fe]&&(rt=window[Fe]),window[Fe]=function wu(k,L,G,fe){function rt(){return(rt=(0,A.Z)(function*(Tt,Kt,Cn){try{"event"===Tt?yield Ps(k,L,G,Kt,Cn):"config"===Tt?yield ii(k,L,G,fe,Kt,Cn):"consent"===Tt?k("consent","update",Cn):k("set",Kt)}catch(Vn){Gr.error(Vn)}})).apply(this,arguments)}return function Fe(Tt,Kt,Cn){return rt.apply(this,arguments)}}(rt,k,L,G),{gtagCore:rt,wrappedGtag:window[Fe]}}(Ti,No,hs,ea,"gtag");Ri=rt,lo=Tt,Po=!0}return Ti[fe]=function Pa(k,L,G,fe,Fe,rt,Tt){return Xo.apply(this,arguments)}(k,No,hs,L,lo,ea,G),new Oo(k)}function Ec(){return nu.apply(this,arguments)}function nu(){return(nu=(0,A.Z)(function*(){if((0,K.ru)()||!(0,K.zI)()||!(0,K.hl)())return!1;try{return yield(0,K.eu)()}catch{return!1}})).apply(this,arguments)}const ru="@firebase/analytics";!function es(){(0,Y._registerComponent)(new ee.wA(ds,(L,{options:G})=>Fa(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,Y._registerComponent)(new ee.wA("analytics-internal",function k(L){try{const G=L.getProvider(ds).getImmediate();return{logEvent:(fe,Fe,rt)=>function qs(k,L,G,fe){k=(0,K.m9)(k),function Gs(k,L,G,fe,Fe){return ma.apply(this,arguments)}(Ri,Ti[k.app.options.appId],L,G,fe).catch(Fe=>Gr.error(Fe))}(G,fe,Fe,rt)}}catch(G){throw Xr.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,Y.registerVersion)(ru,"0.8.4"),(0,Y.registerVersion)(ru,"0.8.4","esm2017")}();var Ls=C(233),Ua=C(4986),ra=C(8505),fs=C(9468),Qs=C(5363);const ya=new f.GfV("7.4.1"),va="__angularfire_symbol__analyticsIsSupportedValue",co="__angularfire_symbol__analyticsIsSupported",Sr="__angularfire_symbol__remoteConfigIsSupportedValue",Lo="__angularfire_symbol__remoteConfigIsSupported",oi="__angularfire_symbol__messagingIsSupportedValue",Fo="__angularfire_symbol__messagingIsSupported";function P(k,L,G){if(L){if(1===L.length)return L[0];const rt=L.filter(Tt=>Tt.app===G);if(1===rt.length)return rt[0]}return G.container.getProvider(k).getImmediate({optional:!0})}globalThis[co]||(globalThis[co]=Ec().then(k=>globalThis[va]=k).catch(()=>globalThis[va]=!1)),globalThis[Fo]||(globalThis[Fo]=sn().then(k=>globalThis[oi]=k).catch(()=>globalThis[oi]=!1)),globalThis[Lo]||(globalThis[Lo]=$o().then(k=>globalThis[Sr]=k).catch(()=>globalThis[Sr]=!1));const $=(k,L)=>{const G=L?[L]:(0,m.C6)(),fe=[];return G.forEach(Fe=>{Fe.container.getProvider(k).instances.forEach(Tt=>{fe.includes(Tt)||fe.push(Tt)})}),fe};function ce(){}class _e{constructor(L,G=Ls.N){this.zone=L,this.delegate=G}now(){return this.delegate.now()}schedule(L,G,fe){const Fe=this.zone;return this.delegate.schedule(function(Tt){Fe.runGuarded(()=>{L.apply(this,[Tt])})},G,fe)}}class ct{constructor(L){this.zone=L,this.task=null}call(L,G){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ce,{},ce,ce)),G.pipe((0,ra.b)({next:fe,complete:fe,error:fe})).subscribe(L).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $t=(()=>{class k{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new _e(Zone.current)),this.insideAngular=G.run(()=>new _e(Zone.current,Ua.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(G){return new(G||k)(f.LFG(f.R0b))},k.\u0275prov=f.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function Dn(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function Js(k){return Dn(),function ns(k){return function(G){return(G=G.lift(new ct(k.ngZone))).pipe((0,fs.R)(k.outsideAngular),(0,Qs.Q)(k.insideAngular))}}(Dn())(k)}},8247:(Ie,ae,C)=>{"use strict";C.d(ae,{$:()=>$i,A:()=>ne,B:()=>Ue,G:()=>Mr,H:()=>Yr,J:()=>ar,L:()=>be,M:()=>js,N:()=>bo,P:()=>va,Q:()=>zo,R:()=>bc,T:()=>vs,U:()=>di,V:()=>ni,W:()=>vi,X:()=>Go,Y:()=>Ii,Z:()=>En,_:()=>Co,a:()=>Ws,a0:()=>Rs,a1:()=>yr,a2:()=>Is,a3:()=>xo,a4:()=>To,a5:()=>F,a6:()=>M,a7:()=>q,a8:()=>cn,a9:()=>nr,aA:()=>ye,aB:()=>mi,aC:()=>Vo,aD:()=>Iu,aE:()=>rn,aI:()=>Ra,aL:()=>os,aa:()=>so,ab:()=>So,ac:()=>Ko,af:()=>yu,ag:()=>Ya,ah:()=>x,ak:()=>Ai,al:()=>er,an:()=>vu,ao:()=>gi,ap:()=>Ye,aq:()=>te,ar:()=>Lt,as:()=>mt,at:()=>Cs,au:()=>sa,av:()=>se,aw:()=>ut,ax:()=>xe,ay:()=>Ba,az:()=>Ae,b:()=>Xr,c:()=>S,d:()=>_e,e:()=>$,f:()=>G,g:()=>Cn,h:()=>rt,i:()=>Zs,j:()=>xn,k:()=>nf,l:()=>Va,m:()=>su,o:()=>re,r:()=>Ls,s:()=>Ys,u:()=>Qs});var f=C(5861),m=C(2090),A=C(9681),Y=C(1877),K=C(655),ee=C(4859);const re={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ue=function de(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ge=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yt=new m.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Me=new Y.Yd("@firebase/auth");function Et(E,...d){Me.logLevel<=Y.in.ERROR&&Me.error(`Auth (${A.SDK_VERSION}): ${E}`,...d)}function mt(E,...d){throw ot(E,...d)}function ut(E,...d){return ot(E,...d)}function nt(E,d,g){const D=Object.assign(Object.assign({},Ge()),{[d]:g});return new m.LL("auth","Firebase",D).create(d,{appName:E.name})}function We(E,d,g){if(!(d instanceof g))throw g.name!==d.constructor.name&&mt(E,"argument-error"),nt(E,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ot(E,...d){if("string"!=typeof E){const g=d[0],D=[...d.slice(1)];return D[0]&&(D[0].appName=E.name),E._errorFactory.create(g,...D)}return yt.create(E,...d)}function xe(E,d,...g){if(!E)throw ot(d,...g)}function $e(E){const d="INTERNAL ASSERTION FAILED: "+E;throw Et(d),new Error(d)}function Ye(E,d){E||$e(d)}const Te=new Map;function Ae(E){Ye(E instanceof Function,"Expected a class definition");let d=Te.get(E);return d?(Ye(d instanceof E,"Instance stored in cache mismatched with class"),d):(d=new E,Te.set(E,d),d)}function _t(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function It(){return"http:"===Yt()||"https:"===Yt()}function Yt(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Rt{constructor(d,g){this.shortDelay=d,this.longDelay=g,Ye(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,m.uI)()||(0,m.b$)()}get(){return function hn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(It()||(0,m.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pn(E,d){Ye(E.emulator,"Emulator should always be set here");const{url:g}=E.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class kn{static initialize(d,g,D){this.fetchImpl=d,g&&(this.headersImpl=g),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Tn=new Rt(3e4,6e4);function Mn(E,d){return E.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:E.tenantId}):d}function ke(E,d,g,D){return tr.apply(this,arguments)}function tr(){return(tr=(0,f.Z)(function*(E,d,g,D,j={}){return qn(E,j,(0,f.Z)(function*(){let z={},Ce={};D&&("GET"===d?Ce=D:z={body:JSON.stringify(D)});const Ct=(0,m.xO)(Object.assign({key:E.config.apiKey},Ce)).slice(1),dt=yield E._getAdditionalHeaders();return dt["Content-Type"]="application/json",E.languageCode&&(dt["X-Firebase-Locale"]=E.languageCode),kn.fetch()(or(E,E.config.apiHost,g,Ct),Object.assign({method:d,headers:dt,referrerPolicy:"no-referrer"},z))}))})).apply(this,arguments)}function qn(E,d,g){return dn.apply(this,arguments)}function dn(){return(dn=(0,f.Z)(function*(E,d,g){E._canInitEmulator=!1;const D=Object.assign(Object.assign({},Rn),d);try{const j=new Zt(E),z=yield Promise.race([g(),j.promise]);j.clearNetworkTimeout();const Ce=yield z.json();if("needConfirmation"in Ce)throw ve(E,"account-exists-with-different-credential",Ce);if(z.ok&&!("errorMessage"in Ce))return Ce;{const Ct=z.ok?Ce.errorMessage:Ce.error.message,[dt,Ne]=Ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dt)throw ve(E,"credential-already-in-use",Ce);if("EMAIL_EXISTS"===dt)throw ve(E,"email-already-in-use",Ce);if("USER_DISABLED"===dt)throw ve(E,"user-disabled",Ce);const ht=D[dt]||dt.toLowerCase().replace(/[_\s]+/g,"-");if(Ne)throw nt(E,ht,Ne);mt(E,ht)}}catch(j){if(j instanceof m.ZR)throw j;mt(E,"network-request-failed")}})).apply(this,arguments)}function On(E,d,g,D){return fr.apply(this,arguments)}function fr(){return(fr=(0,f.Z)(function*(E,d,g,D,j={}){const z=yield ke(E,d,g,D,j);return"mfaPendingCredential"in z&&mt(E,"multi-factor-auth-required",{_serverResponse:z}),z})).apply(this,arguments)}function or(E,d,g,D){const j=`${d}${g}?${D}`;return E.config.emulator?pn(E.config,j):`${E.config.apiScheme}://${j}`}class Zt{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,D)=>{this.timer=setTimeout(()=>D(ut(this.auth,"network-request-failed")),Tn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ve(E,d,g){const D={appName:E.name};g.email&&(D.email=g.email),g.phoneNumber&&(D.phoneNumber=g.phoneNumber);const j=ut(E,d,D);return j.customData._tokenResponse=g,j}function qe(){return(qe=(0,f.Z)(function*(E,d){return ke(E,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function st(E,d){return qt.apply(this,arguments)}function qt(){return(qt=(0,f.Z)(function*(E,d){return ke(E,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ut(E,d){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,f.Z)(function*(E,d){return ke(E,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function St(E){if(E)try{const d=new Date(Number(E));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Pe(){return(Pe=(0,f.Z)(function*(E,d=!1){const g=(0,m.m9)(E),D=yield g.getIdToken(d),j=oe(D);xe(j&&j.exp&&j.auth_time&&j.iat,g.auth,"internal-error");const z="object"==typeof j.firebase?j.firebase:void 0,Ce=z?.sign_in_provider;return{claims:j,token:D,authTime:St(me(j.auth_time)),issuedAtTime:St(me(j.iat)),expirationTime:St(me(j.exp)),signInProvider:Ce||null,signInSecondFactor:z?.sign_in_second_factor||null}})).apply(this,arguments)}function me(E){return 1e3*Number(E)}function oe(E){var d;const[g,D,j]=E.split(".");if(void 0===g||void 0===D||void 0===j)return Et("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,m.tV)(D);return z?JSON.parse(z):(Et("Failed to decode base64 JWT payload"),null)}catch(z){return Et("Caught error parsing JWT payload as JSON",null===(d=z)||void 0===d?void 0:d.toString()),null}}function Le(E,d){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,f.Z)(function*(E,d,g=!1){if(g)return d;try{return yield d}catch(D){throw D instanceof m.ZR&&Ot(D)&&E.auth.currentUser===E&&(yield E.auth.signOut()),D}})).apply(this,arguments)}function Ot({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class gn{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const j=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const D=this.getInterval(d);this.timerId=setTimeout((0,f.Z)(function*(){yield g.iteration()}),D)}iteration(){var d=this;return(0,f.Z)(function*(){var g;try{yield d.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===(null===(g=D)||void 0===g?void 0:g.code)&&d.schedule(!0))}d.schedule()})()}}class xt{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=St(this.lastLoginAt),this.creationTime=St(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yn(E){return en.apply(this,arguments)}function en(){return(en=(0,f.Z)(function*(E){var d;const g=E.auth,D=yield E.getIdToken(),j=yield Le(E,Ut(g,{idToken:D}));xe(j?.users.length,g,"internal-error");const z=j.users[0];E._notifyReloadListener(z);const Ce=null!==(d=z.providerUserInfo)&&void 0!==d&&d.length?Mt(z.providerUserInfo):[],Ct=Ft(E.providerData,Ce),ht=!!E.isAnonymous&&!(E.email&&z.passwordHash||Ct?.length),$n={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:Ct,metadata:new xt(z.createdAt,z.lastLoginAt),isAnonymous:ht};Object.assign(E,$n)})).apply(this,arguments)}function ln(){return(ln=(0,f.Z)(function*(E){const d=(0,m.m9)(E);yield yn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Ft(E,d){return[...E.filter(D=>!d.some(j=>j.providerId===D.providerId)),...d]}function Mt(E){return E.map(d=>{var{providerId:g}=d,D=(0,K._T)(d,["providerId"]);return{providerId:g,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function gt(){return(gt=(0,f.Z)(function*(E,d){const g=yield qn(E,{},(0,f.Z)(function*(){const D=(0,m.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:j,apiKey:z}=E.config,Ce=or(E,j,"/v1/token",`key=${z}`),Ct=yield E._getAdditionalHeaders();return Ct["Content-Type"]="application/x-www-form-urlencoded",kn.fetch()(Ce,{method:"POST",headers:Ct,body:D})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class At{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){xe(d.idToken,"internal-error"),xe(typeof d.idToken<"u","internal-error"),xe(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function ze(E){const d=oe(E);return xe(d,"internal-error"),xe(typeof d.exp<"u","internal-error"),xe(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}getToken(d,g=!1){var D=this;return(0,f.Z)(function*(){return xe(!D.accessToken||D.refreshToken,d,"user-token-expired"),g||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(d,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var D=this;return(0,f.Z)(function*(){const{accessToken:j,refreshToken:z,expiresIn:Ce}=yield function Pt(E,d){return gt.apply(this,arguments)}(d,g);D.updateTokensAndExpiration(j,z,Number(Ce))})()}updateTokensAndExpiration(d,g,D){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(d,g){const{refreshToken:D,accessToken:j,expirationTime:z}=g,Ce=new At;return D&&(xe("string"==typeof D,"internal-error",{appName:d}),Ce.refreshToken=D),j&&(xe("string"==typeof j,"internal-error",{appName:d}),Ce.accessToken=j),z&&(xe("number"==typeof z,"internal-error",{appName:d}),Ce.expirationTime=z),Ce}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new At,this.toJSON())}_performRefresh(){return $e("not implemented")}}function an(E,d){xe("string"==typeof E||typeof E>"u","internal-error",{appName:d})}class un{constructor(d){var{uid:g,auth:D,stsTokenManager:j}=d,z=(0,K._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=D,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.emailVerified=z.emailVerified||!1,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.tenantId=z.tenantId||null,this.providerData=z.providerData?[...z.providerData]:[],this.metadata=new xt(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,f.Z)(function*(){const D=yield Le(g,g.stsTokenManager.getToken(g.auth,d));return xe(D,g.auth,"internal-error"),g.accessToken!==D&&(g.accessToken=D,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),D})()}getIdTokenResult(d){return function Wt(E){return Pe.apply(this,arguments)}(this,d)}reload(){return function Sn(E){return ln.apply(this,arguments)}(this)}_assign(d){this!==d&&(xe(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new un(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var D=this;return(0,f.Z)(function*(){let j=!1;d.idToken&&d.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(d),j=!0),g&&(yield yn(D)),yield D.auth._persistUserIfCurrent(D),j&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var d=this;return(0,f.Z)(function*(){const g=yield d.getIdToken();return yield Le(d,function Oe(E,d){return qe.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var D,j,z,Ce,Ct,dt,Ne,ht;const $n=null!==(D=g.displayName)&&void 0!==D?D:void 0,ho=null!==(j=g.email)&&void 0!==j?j:void 0,Tu=null!==(z=g.phoneNumber)&&void 0!==z?z:void 0,Wd=null!==(Ce=g.photoURL)&&void 0!==Ce?Ce:void 0,Gd=null!==(Ct=g.tenantId)&&void 0!==Ct?Ct:void 0,Kd=null!==(dt=g._redirectEventId)&&void 0!==dt?dt:void 0,sf=null!==(Ne=g.createdAt)&&void 0!==Ne?Ne:void 0,Zd=null!==(ht=g.lastLoginAt)&&void 0!==ht?ht:void 0,{uid:qd,emailVerified:af,isAnonymous:Ll,providerData:Sc,stsTokenManager:Ln}=g;xe(qd&&Ln,d,"internal-error");const nl=At.fromJSON(this.name,Ln);xe("string"==typeof qd,d,"internal-error"),an($n,d.name),an(ho,d.name),xe("boolean"==typeof af,d,"internal-error"),xe("boolean"==typeof Ll,d,"internal-error"),an(Tu,d.name),an(Wd,d.name),an(Gd,d.name),an(Kd,d.name),an(sf,d.name),an(Zd,d.name);const ai=new un({uid:qd,auth:d,email:ho,emailVerified:af,displayName:$n,isAnonymous:Ll,photoURL:Wd,phoneNumber:Tu,tenantId:Gd,stsTokenManager:nl,createdAt:sf,lastLoginAt:Zd});return Sc&&Array.isArray(Sc)&&(ai.providerData=Sc.map(Zr=>Object.assign({},Zr))),Kd&&(ai._redirectEventId=Kd),ai}static _fromIdTokenResponse(d,g,D=!1){return(0,f.Z)(function*(){const j=new At;j.updateFromServerResponse(g);const z=new un({uid:g.localId,auth:d,stsTokenManager:j,isAnonymous:D});return yield yn(z),z})()}}const be=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(g,D){var j=this;return(0,f.Z)(function*(){j.storage[g]=D})()}_get(g){var D=this;return(0,f.Z)(function*(){const j=D.storage[g];return void 0===j?null:j})()}_remove(g){var D=this;return(0,f.Z)(function*(){delete D.storage[g]})()}_addListener(g,D){}_removeListener(g,D){}}return E.type="NONE",E})();function ye(E,d,g){return`firebase:${E}:${d}:${g}`}class De{constructor(d,g,D){this.persistence=d,this.auth=g,this.userKey=D;const{config:j,name:z}=this.auth;this.fullUserKey=ye(this.userKey,j.apiKey,z),this.fullPersistenceKey=ye("persistence",j.apiKey,z),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,f.Z)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?un._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,f.Z)(function*(){if(g.persistence===d)return;const D=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,D?g.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,D="authUser"){return(0,f.Z)(function*(){if(!g.length)return new De(Ae(be),d,D);const j=(yield Promise.all(g.map(function(){var Ne=(0,f.Z)(function*(ht){if(yield ht._isAvailable())return ht});return function(ht){return Ne.apply(this,arguments)}}()))).filter(Ne=>Ne);let z=j[0]||Ae(be);const Ce=ye(D,d.config.apiKey,d.name);let Ct=null;for(const Ne of g)try{const ht=yield Ne._get(Ce);if(ht){const $n=un._fromJSON(d,ht);Ne!==z&&(Ct=$n),z=Ne;break}}catch{}const dt=j.filter(Ne=>Ne._shouldAllowMigration);return z._shouldAllowMigration&&dt.length?(z=dt[0],Ct&&(yield z._set(Ce,Ct.toJSON())),yield Promise.all(g.map(function(){var Ne=(0,f.Z)(function*(ht){if(ht!==z)try{yield ht._remove(Ce)}catch{}});return function(ht){return Ne.apply(this,arguments)}}())),new De(z,d,D)):new De(z,d,D)})()}}function pe(E){const d=E.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(vt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(H(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(jt(d))return"Blackberry";if(he(d))return"Webos";if(ie(d))return"Safari";if((d.includes("chrome/")||Be(d))&&!d.includes("edge/"))return"Chrome";if(Lt(d))return"Android";{const D=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function H(E=(0,m.z$)()){return/firefox\//i.test(E)}function ie(E=(0,m.z$)()){const d=E.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Be(E=(0,m.z$)()){return/crios\//i.test(E)}function vt(E=(0,m.z$)()){return/iemobile/i.test(E)}function Lt(E=(0,m.z$)()){return/android/i.test(E)}function jt(E=(0,m.z$)()){return/blackberry/i.test(E)}function he(E=(0,m.z$)()){return/webos/i.test(E)}function te(E=(0,m.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function se(E=(0,m.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function Qt(E=(0,m.z$)()){return te(E)||Lt(E)||he(E)||jt(E)||/windows phone/i.test(E)||vt(E)}function An(E,d=[]){let g;switch(E){case"Browser":g=pe((0,m.z$)());break;case"Worker":g=`${pe((0,m.z$)())}-${E}`;break;default:g=E}const D=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${A.SDK_VERSION}/${D}`}class dr{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const D=z=>new Promise((Ce,Ct)=>{try{Ce(d(z))}catch(dt){Ct(dt)}});D.onAbort=g,this.queue.push(D);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,f.Z)(function*(){var D;if(g.auth.currentUser===d)return;const j=[];try{for(const z of g.queue)yield z(d),z.onAbort&&j.push(z.onAbort)}catch(z){j.reverse();for(const Ce of j)try{Ce()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(D=z)||void 0===D?void 0:D.message})}})()}}class Br{constructor(d,g,D){this.app=d,this.heartbeatServiceProvider=g,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yi(this),this.idTokenSubscription=new yi(this),this.beforeStateQueue=new dr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(d,g){var D=this;return g&&(this._popupRedirectResolver=Ae(g)),this._initializationPromise=this.queue((0,f.Z)(function*(){var j,z;if(!D._deleted&&(D.persistenceManager=yield De.create(D,d),!D._deleted)){if(null!==(j=D._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(g),D.lastNotifiedUid=(null===(z=D.currentUser)||void 0===z?void 0:z.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,f.Z)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUser(d){var g=this;return(0,f.Z)(function*(){var D;const j=yield g.assertedPersistence.getCurrentUser();let z=j,Ce=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Ct=null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId,dt=z?._redirectEventId,Ne=yield g.tryRedirectSignIn(d);(!Ct||Ct===dt)&&Ne?.user&&(z=Ne.user,Ce=!0)}if(!z)return g.directlySetCurrentUser(null);if(!z._redirectEventId){if(Ce)try{yield g.beforeStateQueue.runMiddleware(z)}catch(Ct){z=j,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Ct))}return z?g.reloadAndSetCurrentUserOrClear(z):g.directlySetCurrentUser(null)}return xe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===z._redirectEventId?g.directlySetCurrentUser(z):g.reloadAndSetCurrentUserOrClear(z)})()}tryRedirectSignIn(d){var g=this;return(0,f.Z)(function*(){let D=null;try{D=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,f.Z)(function*(){var D;try{yield yn(d)}catch(j){if("auth/network-request-failed"!==(null===(D=j)||void 0===D?void 0:D.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function fn(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var d=this;return(0,f.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,f.Z)(function*(){const D=d?(0,m.m9)(d):null;return D&&xe(D.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(D&&D._clone(g))})()}_updateCurrentUser(d,g=!1){var D=this;return(0,f.Z)(function*(){if(!D._deleted)return d&&xe(D.tenantId===d.tenantId,D,"tenant-id-mismatch"),g||(yield D.beforeStateQueue.runMiddleware(d)),D.queue((0,f.Z)(function*(){yield D.directlySetCurrentUser(d),D.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,f.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var g=this;return this.queue((0,f.Z)(function*(){yield g.assertedPersistence.setPersistence(Ae(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new m.LL("auth","Firebase",d())}onAuthStateChanged(d,g,D){return this.registerStateListener(this.authStateSubscription,d,g,D)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,D){return this.registerStateListener(this.idTokenSubscription,d,g,D)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var D=this;return(0,f.Z)(function*(){const j=yield D.getOrInitRedirectPersistenceManager(g);return null===d?j.removeCurrentUser():j.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,f.Z)(function*(){if(!g.redirectPersistenceManager){const D=d&&Ae(d)||g._popupRedirectResolver;xe(D,g,"argument-error"),g.redirectPersistenceManager=yield De.create(g,[Ae(D._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,f.Z)(function*(){var D,j;return g._isInitialized&&(yield g.queue((0,f.Z)(function*(){}))),(null===(D=g._currentUser)||void 0===D?void 0:D._redirectEventId)===d?g._currentUser:(null===(j=g.redirectUser)||void 0===j?void 0:j._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,f.Z)(function*(){if(d===g.currentUser)return g.queue((0,f.Z)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,D,j){if(this._deleted)return()=>{};const z="function"==typeof g?g:g.next.bind(g),Ce=this._isInitialized?Promise.resolve():this._initializationPromise;return xe(Ce,this,"internal-error"),Ce.then(()=>z(this.currentUser)),"function"==typeof g?d.addObserver(g,D,j):d.addObserver(g)}directlySetCurrentUser(d){var g=this;return(0,f.Z)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=An(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,f.Z)(function*(){var g;const D={"X-Client-Version":d.clientVersion};d.app.options.appId&&(D["X-Firebase-gmpid"]=d.app.options.appId);const j=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return j&&(D["X-Firebase-Client"]=j),D})()}}function rn(E){return(0,m.m9)(E)}class yi{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,m.ne)(g=>this.observer=g)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Mr(E,d,g){const D=rn(E);xe(D._canInitEmulator,D,"emulator-config-failed"),xe(/^https?:\/\//.test(d),D,"invalid-emulator-scheme");const j=!!g?.disableWarnings,z=rs(d),{host:Ce,port:Ct}=function Li(E){const d=rs(E),g=/(\/\/)?([^?#/]+)/.exec(E.substr(d.length));if(!g)return{host:"",port:null};const D=g[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(D);if(j){const z=j[1];return{host:z,port:hr(D.substr(z.length+1))}}{const[z,Ce]=D.split(":");return{host:z,port:hr(Ce)}}}(d);D.config.emulator={url:`${z}//${Ce}${null===Ct?"":`:${Ct}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Ce,port:Ct,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function Ki(){function E(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function rs(E){const d=E.indexOf(":");return d<0?"":E.substr(0,d+1)}function hr(E){if(!E)return null;const d=Number(E);return isNaN(d)?null:d}class Yr{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return $e("not implemented")}_getIdTokenResponse(d){return $e("not implemented")}_linkToIdToken(d,g){return $e("not implemented")}_getReauthenticationResolver(d){return $e("not implemented")}}function Nr(E,d){return _r.apply(this,arguments)}function _r(){return(_r=(0,f.Z)(function*(E,d){return ke(E,"POST","/v1/accounts:resetPassword",Mn(E,d))})).apply(this,arguments)}function Zi(E,d){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,f.Z)(function*(E,d){return ke(E,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function jo(E,d){return qi.apply(this,arguments)}function qi(){return(qi=(0,f.Z)(function*(E,d){return ke(E,"POST","/v1/accounts:update",Mn(E,d))})).apply(this,arguments)}function Vi(){return(Vi=(0,f.Z)(function*(E,d){return On(E,"POST","/v1/accounts:signInWithPassword",Mn(E,d))})).apply(this,arguments)}function ti(E,d){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,f.Z)(function*(E,d){return ke(E,"POST","/v1/accounts:sendOobCode",Mn(E,d))})).apply(this,arguments)}function Yi(E,d){return wr.apply(this,arguments)}function wr(){return(wr=(0,f.Z)(function*(E,d){return ti(E,d)})).apply(this,arguments)}function Bi(E,d){return Er.apply(this,arguments)}function Er(){return(Er=(0,f.Z)(function*(E,d){return ti(E,d)})).apply(this,arguments)}function jr(E,d){return ji.apply(this,arguments)}function ji(){return(ji=(0,f.Z)(function*(E,d){return ti(E,d)})).apply(this,arguments)}function is(E,d){return ss.apply(this,arguments)}function ss(){return(ss=(0,f.Z)(function*(E,d){return ti(E,d)})).apply(this,arguments)}function ge(){return(ge=(0,f.Z)(function*(E,d){return On(E,"POST","/v1/accounts:signInWithEmailLink",Mn(E,d))})).apply(this,arguments)}function He(){return(He=(0,f.Z)(function*(E,d){return On(E,"POST","/v1/accounts:signInWithEmailLink",Mn(E,d))})).apply(this,arguments)}class lt extends Yr{constructor(d,g,D,j=null){super("password",D),this._email=d,this._password=g,this._tenantId=j}static _fromEmailAndPassword(d,g){return new lt(d,g,"password")}static _fromEmailAndCode(d,g,D=null){return new lt(d,g,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,f.Z)(function*(){switch(g.signInMethod){case"password":return function Fi(E,d){return Vi.apply(this,arguments)}(d,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Dr(E,d){return ge.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:mt(d,"internal-error")}})()}_linkToIdToken(d,g){var D=this;return(0,f.Z)(function*(){switch(D.signInMethod){case"password":return Zi(d,{idToken:g,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function et(E,d){return He.apply(this,arguments)}(d,{idToken:g,email:D._email,oobCode:D._password});default:mt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Ht(E,d){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,f.Z)(function*(E,d){return On(E,"POST","/v1/accounts:signInWithIdp",Mn(E,d))})).apply(this,arguments)}class ar extends Yr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const g=new ar(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(g.idToken=d.idToken),d.accessToken&&(g.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(g.nonce=d.nonce),d.pendingToken&&(g.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(g.accessToken=d.oauthToken,g.secret=d.oauthTokenSecret):mt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:D,signInMethod:j}=g,z=(0,K._T)(g,["providerId","signInMethod"]);if(!D||!j)return null;const Ce=new ar(D,j);return Ce.idToken=z.idToken||void 0,Ce.accessToken=z.accessToken||void 0,Ce.secret=z.secret,Ce.nonce=z.nonce,Ce.pendingToken=z.pendingToken||null,Ce}_getIdTokenResponse(d){return Ht(d,this.buildRequest())}_linkToIdToken(d,g){const D=this.buildRequest();return D.idToken=g,Ht(d,D)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,Ht(d,g)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),d.postBody=(0,m.xO)(g)}return d}}function Cr(E,d){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,f.Z)(function*(E,d){return ke(E,"POST","/v1/accounts:sendVerificationCode",Mn(E,d))})).apply(this,arguments)}function Fr(){return(Fr=(0,f.Z)(function*(E,d){return On(E,"POST","/v1/accounts:signInWithPhoneNumber",Mn(E,d))})).apply(this,arguments)}function no(){return(no=(0,f.Z)(function*(E,d){const g=yield On(E,"POST","/v1/accounts:signInWithPhoneNumber",Mn(E,d));if(g.temporaryProof)throw ve(E,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const wo={USER_NOT_FOUND:"user-not-found"};function Ho(){return(Ho=(0,f.Z)(function*(E,d){return On(E,"POST","/v1/accounts:signInWithPhoneNumber",Mn(E,Object.assign(Object.assign({},d),{operation:"REAUTH"})),wo)})).apply(this,arguments)}class Ms extends Yr{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,g){return new Ms({verificationId:d,verificationCode:g})}static _fromTokenResponse(d,g){return new Ms({phoneNumber:d,temporaryProof:g})}_getIdTokenResponse(d){return function ur(E,d){return Fr.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,g){return function Hi(E,d){return no.apply(this,arguments)}(d,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Aa(E,d){return Ho.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:g,verificationId:D,verificationCode:j}=this.params;return d&&g?{temporaryProof:d,phoneNumber:g}:{sessionInfo:D,code:j}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:g,verificationCode:D,phoneNumber:j,temporaryProof:z}=d;return D||g||j||z?new Ms({verificationId:g,verificationCode:D,phoneNumber:j,temporaryProof:z}):null}}class ci{constructor(d){var g,D,j,z,Ce,Ct;const dt=(0,m.zd)((0,m.pd)(d)),Ne=null!==(g=dt.apiKey)&&void 0!==g?g:null,ht=null!==(D=dt.oobCode)&&void 0!==D?D:null,$n=function Eo(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=dt.mode)&&void 0!==j?j:null);xe(Ne&&ht&&$n,"argument-error"),this.apiKey=Ne,this.operation=$n,this.code=ht,this.continueUrl=null!==(z=dt.continueUrl)&&void 0!==z?z:null,this.languageCode=null!==(Ce=dt.languageCode)&&void 0!==Ce?Ce:null,this.tenantId=null!==(Ct=dt.tenantId)&&void 0!==Ct?Ct:null}static parseLink(d){const g=function Bs(E){const d=(0,m.zd)((0,m.pd)(E)).link,g=d?(0,m.zd)((0,m.pd)(d)).deep_link_id:null,D=(0,m.zd)((0,m.pd)(E)).deep_link_id;return(D?(0,m.zd)((0,m.pd)(D)).link:null)||D||g||d||E}(d);try{return new ci(g)}catch{return null}}}let js=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(g,D){return lt._fromEmailAndPassword(g,D)}static credentialWithLink(g,D){const j=ci.parseLink(D);return xe(j,"argument-error"),lt._fromEmailAndCode(g,j.code,j.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Qr{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class ks extends Qr{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class di extends ks{static credentialFromJSON(d){const g="string"==typeof d?JSON.parse(d):d;return xe("providerId"in g&&"signInMethod"in g,"argument-error"),ar._fromParams(g)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return xe(d.idToken||d.accessToken,"argument-error"),ar._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return di.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return di.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:D,oauthTokenSecret:j,pendingToken:z,nonce:Ce,providerId:Ct}=d;if(!D&&!j&&!g&&!z||!Ct)return null;try{return new di(Ct)._credential({idToken:g,accessToken:D,nonce:Ce,pendingToken:z})}catch{return null}}}let bo=(()=>{class E extends ks{constructor(){super("facebook.com")}static credential(g){return ar._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return E.credential(g.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),zo=(()=>{class E extends ks{constructor(){super("google.com"),this.addScope("profile")}static credential(g,D){return ar._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:D})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:D,oauthAccessToken:j}=g;if(!D&&!j)return null;try{return E.credential(D,j)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),vs=(()=>{class E extends ks{constructor(){super("github.com")}static credential(g){return ar._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return E.credential(g.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class os extends Yr{constructor(d,g){super(d,d),this.pendingToken=g}_getIdTokenResponse(d){return Ht(d,this.buildRequest())}_linkToIdToken(d,g){const D=this.buildRequest();return D.idToken=g,Ht(d,D)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,Ht(d,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:D,signInMethod:j,pendingToken:z}=g;return D&&j&&z&&D===j?new os(D,z):null}static _create(d,g){return new os(d,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ni extends Qr{constructor(d){xe(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return ni.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return ni.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const g=os.fromJSON(d);return xe(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:g,providerId:D}=d;if(!g||!D)return null;try{return os._create(D,g)}catch{return null}}}let vi=(()=>{class E extends ks{constructor(){super("twitter.com")}static credential(g,D){return ar._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:D})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:D,oauthTokenSecret:j}=g;if(!D||!j)return null;try{return E.credential(D,j)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function hi(E,d){return fi.apply(this,arguments)}function fi(){return(fi=(0,f.Z)(function*(E,d){return On(E,"POST","/v1/accounts:signUp",Mn(E,d))})).apply(this,arguments)}class _i{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,D,j=!1){return(0,f.Z)(function*(){const z=yield un._fromIdTokenResponse(d,D,j),Ce=as(D);return new _i({user:z,providerId:Ce,_tokenResponse:D,operationType:g})})()}static _forOperation(d,g,D){return(0,f.Z)(function*(){yield d._updateTokensIfNecessary(D,!0);const j=as(D);return new _i({user:d,providerId:j,_tokenResponse:D,operationType:g})})()}}function as(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Go(E){return Do.apply(this,arguments)}function Do(){return(Do=(0,f.Z)(function*(E){var d;const g=rn(E);if(yield g._initializationPromise,null!==(d=g.currentUser)&&void 0!==d&&d.isAnonymous)return new _i({user:g.currentUser,providerId:null,operationType:"signIn"});const D=yield hi(g,{returnSecureToken:!0}),j=yield _i._fromIdTokenResponse(g,"signIn",D,!0);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}class Un extends m.ZR{constructor(d,g,D,j){var z;super(g.code,g.message),this.operationType=D,this.user=j,Object.setPrototypeOf(this,Un.prototype),this.customData={appName:d.name,tenantId:null!==(z=d.tenantId)&&void 0!==z?z:void 0,_serverResponse:g.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(d,g,D,j){return new Un(d,g,D,j)}}function ro(E,d,g,D){return("reauthenticate"===d?g._getReauthenticationResolver(E):g._getIdTokenResponse(E)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?Un._fromErrorAndOperation(E,z,d,D):z})}function da(E){return new Set(E.map(({providerId:d})=>d).filter(d=>!!d))}function Ai(E,d){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,f.Z)(function*(E,d){const g=(0,m.m9)(E);yield Ei(!0,g,d);const{providerUserInfo:D}=yield st(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[d]}),j=da(D||[]);return g.providerData=g.providerData.filter(z=>j.has(z.providerId)),j.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function wi(E,d){return _s.apply(this,arguments)}function _s(){return(_s=(0,f.Z)(function*(E,d,g=!1){const D=yield Le(E,d._linkToIdToken(E.auth,yield E.getIdToken()),g);return _i._forOperation(E,"link",D)})).apply(this,arguments)}function Ei(E,d,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,f.Z)(function*(E,d,g){yield yn(d);const j=!1===E?"provider-already-linked":"no-such-provider";xe(da(d.providerData).has(g)===E,d.auth,j)})).apply(this,arguments)}function Hs(E,d){return ws.apply(this,arguments)}function ws(){return(ws=(0,f.Z)(function*(E,d,g=!1){var D;const{auth:j}=E,z="reauthenticate";try{const Ce=yield Le(E,ro(j,z,d,E),g);xe(Ce.idToken,j,"internal-error");const Ct=oe(Ce.idToken);xe(Ct,j,"internal-error");const{sub:dt}=Ct;return xe(E.uid===dt,j,"user-mismatch"),_i._forOperation(E,z,Ce)}catch(Ce){throw"auth/user-not-found"===(null===(D=Ce)||void 0===D?void 0:D.code)&&mt(j,"user-mismatch"),Ce}})).apply(this,arguments)}function ha(E,d){return bi.apply(this,arguments)}function bi(){return(bi=(0,f.Z)(function*(E,d,g=!1){const D="signIn",j=yield ro(E,D,d),z=yield _i._fromIdTokenResponse(E,D,j);return g||(yield E._updateCurrentUser(z.user)),z})).apply(this,arguments)}function Ii(E,d){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,f.Z)(function*(E,d){return ha(rn(E),d)})).apply(this,arguments)}function En(E,d){return In.apply(this,arguments)}function In(){return(In=(0,f.Z)(function*(E,d){const g=(0,m.m9)(E);return yield Ei(!1,g,d.providerId),wi(g,d)})).apply(this,arguments)}function Co(E,d){return Es.apply(this,arguments)}function Es(){return(Es=(0,f.Z)(function*(E,d){return Hs((0,m.m9)(E),d)})).apply(this,arguments)}function us(E,d){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,f.Z)(function*(E,d){return On(E,"POST","/v1/accounts:signInWithCustomToken",Mn(E,d))})).apply(this,arguments)}function $i(E,d){return bs.apply(this,arguments)}function bs(){return(bs=(0,f.Z)(function*(E,d){const g=rn(E),D=yield us(g,{token:d,returnSecureToken:!0}),j=yield _i._fromIdTokenResponse(g,"signIn",D);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}class io{constructor(d,g){this.factorId=d,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(d,g){return"phoneInfo"in g?Dt._fromServerResponse(d,g):mt(d,"internal-error")}}class Dt extends io{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,g){return new Dt(g)}}function mn(E,d,g){var D;xe((null===(D=g.url)||void 0===D?void 0:D.length)>0,E,"invalid-continue-uri"),xe(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),d.continueUrl=g.url,d.dynamicLinkDomain=g.dynamicLinkDomain,d.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(xe(g.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),d.iOSBundleId=g.iOS.bundleId),g.android&&(xe(g.android.packageName.length>0,E,"missing-android-pkg-name"),d.androidInstallApp=g.android.installApp,d.androidMinimumVersionCode=g.android.minimumVersion,d.androidPackageName=g.android.packageName)}function Rs(E,d,g){return kr.apply(this,arguments)}function kr(){return(kr=(0,f.Z)(function*(E,d,g){const D=(0,m.m9)(E),j={requestType:"PASSWORD_RESET",email:d};g&&mn(D,j,g),yield Bi(D,j)})).apply(this,arguments)}function yr(E,d,g){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,f.Z)(function*(E,d,g){yield Nr((0,m.m9)(E),{oobCode:d,newPassword:g})})).apply(this,arguments)}function Is(E,d){return ri.apply(this,arguments)}function ri(){return(ri=(0,f.Z)(function*(E,d){yield jo((0,m.m9)(E),{oobCode:d})})).apply(this,arguments)}function xo(E,d){return xr.apply(this,arguments)}function xr(){return(xr=(0,f.Z)(function*(E,d){const g=(0,m.m9)(E),D=yield Nr(g,{oobCode:d}),j=D.requestType;switch(xe(j,g,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xe(D.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xe(D.mfaInfo,g,"internal-error");default:xe(D.email,g,"internal-error")}let z=null;return D.mfaInfo&&(z=io._fromServerResponse(rn(g),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:z},operation:j}})).apply(this,arguments)}function To(E,d){return Os.apply(this,arguments)}function Os(){return(Os=(0,f.Z)(function*(E,d){const{data:g}=yield xo((0,m.m9)(E),d);return g.email})).apply(this,arguments)}function F(E,d,g){return O.apply(this,arguments)}function O(){return(O=(0,f.Z)(function*(E,d,g){const D=rn(E),j=yield hi(D,{returnSecureToken:!0,email:d,password:g}),z=yield _i._fromIdTokenResponse(D,"signIn",j);return yield D._updateCurrentUser(z.user),z})).apply(this,arguments)}function M(E,d,g){return Ii((0,m.m9)(E),js.credential(d,g))}function q(E,d,g){return at.apply(this,arguments)}function at(){return(at=(0,f.Z)(function*(E,d,g){const D=(0,m.m9)(E),j={requestType:"EMAIL_SIGNIN",email:d};xe(g.handleCodeInApp,D,"argument-error"),g&&mn(D,j,g),yield jr(D,j)})).apply(this,arguments)}function cn(E,d){return"EMAIL_SIGNIN"===ci.parseLink(d)?.operation}function nr(E,d,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,f.Z)(function*(E,d,g){const D=(0,m.m9)(E),j=js.credentialWithLink(d,g||_t());return xe(j._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Ii(D,j)})).apply(this,arguments)}function Di(E,d){return pi.apply(this,arguments)}function pi(){return(pi=(0,f.Z)(function*(E,d){return ke(E,"POST","/v1/accounts:createAuthUri",Mn(E,d))})).apply(this,arguments)}function so(E,d){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,f.Z)(function*(E,d){const D={identifier:d,continueUri:It()?_t():"http://localhost"},{signinMethods:j}=yield Di((0,m.m9)(E),D);return j||[]})).apply(this,arguments)}function So(E,d){return $s.apply(this,arguments)}function $s(){return($s=(0,f.Z)(function*(E,d){const g=(0,m.m9)(E),j={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};d&&mn(g.auth,j,d);const{email:z}=yield Yi(g.auth,j);z!==E.email&&(yield E.reload())})).apply(this,arguments)}function Ko(E,d,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,f.Z)(function*(E,d,g){const D=(0,m.m9)(E),z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:d};g&&mn(D.auth,z,g);const{email:Ce}=yield is(D.auth,z);Ce!==E.email&&(yield E.reload())})).apply(this,arguments)}function fa(E,d){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,f.Z)(function*(E,d){return ke(E,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function yu(E,d){return zs.apply(this,arguments)}function zs(){return(zs=(0,f.Z)(function*(E,{displayName:d,photoURL:g}){if(void 0===d&&void 0===g)return;const D=(0,m.m9)(E),z={idToken:yield D.getIdToken(),displayName:d,photoUrl:g,returnSecureToken:!0},Ce=yield Le(D,fa(D.auth,z));D.displayName=Ce.displayName||null,D.photoURL=Ce.photoUrl||null;const Ct=D.providerData.find(({providerId:dt})=>"password"===dt);Ct&&(Ct.displayName=D.displayName,Ct.photoURL=D.photoURL),yield D._updateTokensIfNecessary(Ce)})).apply(this,arguments)}function Ya(E,d){return B((0,m.m9)(E),d,null)}function x(E,d){return B((0,m.m9)(E),null,d)}function B(E,d,g){return R.apply(this,arguments)}function R(){return(R=(0,f.Z)(function*(E,d,g){const{auth:D}=E,z={idToken:yield E.getIdToken(),returnSecureToken:!0};d&&(z.email=d),g&&(z.password=g);const Ce=yield Le(E,Zi(D,z));yield E._updateTokensIfNecessary(Ce,!0)})).apply(this,arguments)}class we{constructor(d,g,D={}){this.isNewUser=d,this.providerId=g,this.profile=D}}class tt extends we{constructor(d,g,D,j){super(d,g,D),this.username=j}}class ft extends we{constructor(d,g){super(d,"facebook.com",g)}}class sn extends tt{constructor(d,g){super(d,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Kn extends we{constructor(d,g){super(d,"google.com",g)}}class rr extends tt{constructor(d,g,D){super(d,"twitter.com",g,D)}}function er(E){const{user:d,_tokenResponse:g}=E;return d.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function W(E){var d,g;if(!E)return null;const{providerId:D}=E,j=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},z=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!D&&E?.idToken){const Ce=null===(g=null===(d=oe(E.idToken))||void 0===d?void 0:d.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ce)return new we(z,"anonymous"!==Ce&&"custom"!==Ce?Ce:null)}if(!D)return null;switch(D){case"facebook.com":return new ft(z,j);case"github.com":return new sn(z,j);case"google.com":return new Kn(z,j);case"twitter.com":return new rr(z,j,E.screenName||null);case"custom":case"anonymous":return new we(z,null);default:return new we(z,D,j)}}(g)}class ki{constructor(d,g,D){this.type=d,this.credential=g,this.auth=D}static _fromIdtoken(d,g){return new ki("enroll",d,g)}static _fromMfaPendingCredential(d){return new ki("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var g,D;if(d?.multiFactorSession){if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.pendingCredential)return ki._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(D=d.multiFactorSession)&&void 0!==D&&D.idToken)return ki._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Ns{constructor(d,g,D){this.session=d,this.hints=g,this.signInResolver=D}static _fromError(d,g){const D=rn(d),j=g.customData._serverResponse,z=(j.mfaInfo||[]).map(Ct=>io._fromServerResponse(D,Ct));xe(j.mfaPendingCredential,D,"internal-error");const Ce=ki._fromMfaPendingCredential(j.mfaPendingCredential);return new Ns(Ce,z,function(){var Ct=(0,f.Z)(function*(dt){const Ne=yield dt._process(D,Ce);delete j.mfaInfo,delete j.mfaPendingCredential;const ht=Object.assign(Object.assign({},j),{idToken:Ne.idToken,refreshToken:Ne.refreshToken});switch(g.operationType){case"signIn":const $n=yield _i._fromIdTokenResponse(D,g.operationType,ht);return yield D._updateCurrentUser($n.user),$n;case"reauthenticate":return xe(g.user,D,"internal-error"),_i._forOperation(g.user,g.operationType,ht);default:mt(D,"internal-error")}});return function(dt){return Ct.apply(this,arguments)}}())}resolveSignIn(d){var g=this;return(0,f.Z)(function*(){return g.signInResolver(d)})()}}function vu(E,d){var g;const D=(0,m.m9)(E),j=d;return xe(d.customData.operationType,D,"argument-error"),xe(null===(g=j.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,D,"argument-error"),Ns._fromError(D,j)}function Gr(E,d){return ke(E,"POST","/v2/accounts/mfaEnrollment:start",Mn(E,d))}class Ma{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(D=>io._fromServerResponse(d.auth,D)))})}static _fromUser(d){return new Ma(d)}getSession(){var d=this;return(0,f.Z)(function*(){return ki._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,g){var D=this;return(0,f.Z)(function*(){const j=d,z=yield D.getSession(),Ce=yield Le(D.user,j._process(D.user.auth,z,g));return yield D.user._updateTokensIfNecessary(Ce),D.user.reload()})()}unenroll(d){var g=this;return(0,f.Z)(function*(){var D;const j="string"==typeof d?d:d.uid,z=yield g.user.getIdToken(),Ce=yield Le(g.user,function _u(E,d){return ke(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Mn(E,d))}(g.user.auth,{idToken:z,mfaEnrollmentId:j}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ct})=>Ct!==j),yield g.user._updateTokensIfNecessary(Ce);try{yield g.user.reload()}catch(Ct){if("auth/user-token-expired"!==(null===(D=Ct)||void 0===D?void 0:D.code))throw Ct}})()}}const ii=new WeakMap;function gi(E){const d=(0,m.m9)(E);return ii.has(d)||ii.set(d,Ma._fromUser(d)),ii.get(d)}const Ps="__sak";class Zo{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ps,"1"),this.storage.removeItem(Ps),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xr=(()=>{class E extends Zo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,D)=>this.onStorageEvent(g,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wu(){const E=(0,m.z$)();return ie(E)||te(E)}()&&function wn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const D of Object.keys(this.listeners)){const j=this.storage.getItem(D),z=this.localCache[D];j!==z&&g(D,z,j)}}onStorageEvent(g,D=!1){if(!g.key)return void this.forAllChangedKeys((Ct,dt,Ne)=>{this.notifyListeners(Ct,Ne)});const j=g.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ct=this.storage.getItem(j);if(g.newValue!==Ct)null!==g.newValue?this.storage.setItem(j,g.newValue):this.storage.removeItem(j);else if(this.localCache[j]===g.newValue&&!D)return}const z=()=>{const Ct=this.storage.getItem(j);!D&&this.localCache[j]===Ct||this.notifyListeners(j,Ct)},Ce=this.storage.getItem(j);!function Xe(){return(0,m.w1)()&&10===document.documentMode}()||Ce===g.newValue||g.newValue===g.oldValue?z():setTimeout(z,10)}notifyListeners(g,D){this.localCache[g]=D;const j=this.listeners[g];if(j)for(const z of Array.from(j))z(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,D,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:D,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(D)}_removeListener(g,D){this.listeners[g]&&(this.listeners[g].delete(D),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,D){var j=()=>super._set,z=this;return(0,f.Z)(function*(){yield j().call(z,g,D),z.localCache[g]=JSON.stringify(D)})()}_get(g){var D=()=>super._get,j=this;return(0,f.Z)(function*(){const z=yield D().call(j,g);return j.localCache[g]=JSON.stringify(z),z})()}_remove(g){var D=()=>super._remove,j=this;return(0,f.Z)(function*(){yield D().call(j,g),delete j.localCache[g]})()}}return E.type="LOCAL",E})(),Ws=(()=>{class E extends Zo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,D){}_removeListener(g,D){}}return E.type="SESSION",E})();let qo=(()=>{class E{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const D=this.receivers.find(z=>z.isListeningto(g));if(D)return D;const j=new E(g);return this.receivers.push(j),j}isListeningto(g){return this.eventTarget===g}handleEvent(g){var D=this;return(0,f.Z)(function*(){const j=g,{eventId:z,eventType:Ce,data:Ct}=j.data,dt=D.handlersMap[Ce];if(!dt?.size)return;j.ports[0].postMessage({status:"ack",eventId:z,eventType:Ce});const Ne=Array.from(dt).map(function(){var $n=(0,f.Z)(function*(ho){return ho(j.origin,Ct)});return function(ho){return $n.apply(this,arguments)}}()),ht=yield function Eu(E){return Promise.all(E.map(function(){var d=(0,f.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(D){return{fulfilled:!1,reason:D}}});return function(g){return d.apply(this,arguments)}}()))}(Ne);j.ports[0].postMessage({status:"done",eventId:z,eventType:Ce,response:ht})})()}_subscribe(g,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(D)}_unsubscribe(g,D){this.handlersMap[g]&&D&&this.handlersMap[g].delete(D),(!D||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Ra(E="",d=10){let g="";for(let D=0;D<d;D++)g+=Math.floor(10*Math.random());return E+g}class qu{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,D=50){var j=this;return(0,f.Z)(function*(){const z=typeof MessageChannel<"u"?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let Ce,Ct;return new Promise((dt,Ne)=>{const ht=Ra("",20);z.port1.start();const $n=setTimeout(()=>{Ne(new Error("unsupported_event"))},D);Ct={messageChannel:z,onMessage(ho){const Tu=ho;if(Tu.data.eventId===ht)switch(Tu.data.status){case"ack":clearTimeout($n),Ce=setTimeout(()=>{Ne(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ce),dt(Tu.data.response);break;default:clearTimeout($n),clearTimeout(Ce),Ne(new Error("invalid_response"))}}},j.handlers.add(Ct),z.port1.addEventListener("message",Ct.onMessage),j.target.postMessage({eventType:d,eventId:ht,data:g},[z.port2])}).finally(()=>{Ct&&j.removeMessageHandler(Ct)})})()}}function Ar(){return window}function Ci(){return typeof Ar().WorkerGlobalScope<"u"&&"function"==typeof Ar().importScripts}function Mo(){return(Mo=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ga="firebaseLocalStorageDb",Gs="firebaseLocalStorage",ma="fbase_key";class ko{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ji(E,d){return E.transaction([Gs],d?"readwrite":"readonly").objectStore(Gs)}function Na(){const E=indexedDB.open(ga,1);return new Promise((d,g)=>{E.addEventListener("error",()=>{g(E.error)}),E.addEventListener("upgradeneeded",()=>{const D=E.result;try{D.createObjectStore(Gs,{keyPath:ma})}catch(j){g(j)}}),E.addEventListener("success",(0,f.Z)(function*(){const D=E.result;D.objectStoreNames.contains(Gs)?d(D):(D.close(),yield function Yu(){const E=indexedDB.deleteDatabase(ga);return new ko(E).toPromise()}(),d(yield Na()))}))})}function Xi(E,d,g){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,f.Z)(function*(E,d,g){const D=Ji(E,!0).put({[ma]:d,value:g});return new ko(D).toPromise()})).apply(this,arguments)}function Jo(){return(Jo=(0,f.Z)(function*(E,d){const g=Ji(E,!1).get(d),D=yield new ko(g).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function uo(E,d){const g=Ji(E,!0).delete(d);return new ko(g).toPromise()}const Zs=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,f.Z)(function*(){return g.db||(g.db=yield Na()),g.db})()}_withRetries(g){var D=this;return(0,f.Z)(function*(){let j=0;for(;;)try{const z=yield D._openDb();return yield g(z)}catch(z){if(j++>3)throw z;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,f.Z)(function*(){return Ci()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,f.Z)(function*(){g.receiver=qo._getInstance(function Xa(){return Ci()?self:null}()),g.receiver._subscribe("keyChanged",function(){var D=(0,f.Z)(function*(j,z){return{keyProcessed:(yield g._poll()).includes(z.key)}});return function(j,z){return D.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var D=(0,f.Z)(function*(j,z){return["keyChanged"]});return function(j,z){return D.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,f.Z)(function*(){var D,j;if(g.activeServiceWorker=yield function Ja(){return Mo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new qu(g.activeServiceWorker);const z=yield g.sender._send("ping",{},800);!z||(null===(D=z[0])||void 0===D?void 0:D.fulfilled)&&(null===(j=z[0])||void 0===j?void 0:j.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var D=this;return(0,f.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Yo(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:g},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Na();return yield Xi(g,Ps,"1"),yield uo(g,Ps),!0}catch{}return!1})()}_withPendingWrite(g){var D=this;return(0,f.Z)(function*(){D.pendingWrites++;try{yield g()}finally{D.pendingWrites--}})()}_set(g,D){var j=this;return(0,f.Z)(function*(){return j._withPendingWrite((0,f.Z)(function*(){return yield j._withRetries(z=>Xi(z,g,D)),j.localCache[g]=D,j.notifyServiceWorker(g)}))})()}_get(g){var D=this;return(0,f.Z)(function*(){const j=yield D._withRetries(z=>function eu(E,d){return Jo.apply(this,arguments)}(z,g));return D.localCache[g]=j,j})()}_remove(g){var D=this;return(0,f.Z)(function*(){return D._withPendingWrite((0,f.Z)(function*(){return yield D._withRetries(j=>uo(j,g)),delete D.localCache[g],D.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,f.Z)(function*(){const D=yield g._withRetries(Ce=>{const Ct=Ji(Ce,!1).getAll();return new ko(Ct).toPromise()});if(!D)return[];if(0!==g.pendingWrites)return[];const j=[],z=new Set;for(const{fbase_key:Ce,value:Ct}of D)z.add(Ce),JSON.stringify(g.localCache[Ce])!==JSON.stringify(Ct)&&(g.notifyListeners(Ce,Ct),j.push(Ce));for(const Ce of Object.keys(g.localCache))g.localCache[Ce]&&!z.has(Ce)&&(g.notifyListeners(Ce,null),j.push(Ce));return j})()}notifyListeners(g,D){this.localCache[g]=D;const j=this.listeners[g];if(j)for(const z of Array.from(j))z(D)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(D)}_removeListener(g,D){this.listeners[g]&&(this.listeners[g].delete(D),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function Pa(E,d){return ke(E,"POST","/v2/accounts/mfaSignIn:start",Mn(E,d))}function Ti(){return(Ti=(0,f.Z)(function*(E){return(yield ke(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hs(E){return new Promise((d,g)=>{const D=document.createElement("script");D.setAttribute("src",E),D.onload=d,D.onerror=j=>{const z=ut("internal-error");z.customData=j,g(z)},D.type="text/javascript",D.charset="UTF-8",function No(){var E,d;return null!==(d=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==d?d:document}().appendChild(D)})}function ea(E){return`__${E}${Math.floor(1e6*Math.random())}`}const Ri=1e12;class Po{constructor(d){this.auth=d,this.counter=Ri,this._widgets=new Map}render(d,g){const D=this.counter;return this._widgets.set(D,new vr(d,this.auth.name,g||{})),this.counter++,D}reset(d){var g;const D=d||Ri;null===(g=this._widgets.get(D))||void 0===g||g.delete(),this._widgets.delete(D)}getResponse(d){var g;return(null===(g=this._widgets.get(d||Ri))||void 0===g?void 0:g.getResponse())||""}execute(d){var g=this;return(0,f.Z)(function*(){var D;return null===(D=g._widgets.get(d||Ri))||void 0===D||D.execute(),""})()}}class vr{constructor(d,g,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof d?document.getElementById(d):d;xe(j,"argument-error",{appName:g}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Pd(E){const d=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<E;D++)d.push(g.charAt(Math.floor(Math.random()*g.length)));return d.join("")}(50);const{callback:d,"expired-callback":g}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fa=ea("rcb"),ta=new Rt(3e4,6e4);class Ec{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Ar().grecaptcha)||void 0===d||!d.render)}load(d,g=""){return xe(function nu(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(g),d,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Ar().grecaptcha):new Promise((D,j)=>{const z=Ar().setTimeout(()=>{j(ut(d,"network-request-failed"))},ta.get());Ar()[Fa]=()=>{Ar().clearTimeout(z),delete Ar()[Fa];const Ct=Ar().grecaptcha;if(!Ct)return void j(ut(d,"internal-error"));const dt=Ct.render;Ct.render=(Ne,ht)=>{const $n=dt(Ne,ht);return this.counter++,$n},this.hostLanguage=g,D(Ct)},hs(`https://www.google.com/recaptcha/api.js??${(0,m.xO)({onload:Fa,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(z),j(ut(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var g;return!(null===(g=Ar().grecaptcha)||void 0===g||!g.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ml{load(d){return(0,f.Z)(function*(){return new Po(d)})()}clearedOneInstance(){}}const na="recaptcha",bu={theme:"light",type:"image"};class bc{constructor(d,g=Object.assign({},bu),D){this.parameters=g,this.type=na,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rn(D),this.isInvisible="invisible"===this.parameters.size,xe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof d?document.getElementById(d):d;xe(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ml:new Ec,this.validateStartingState()}verify(){var d=this;return(0,f.Z)(function*(){d.assertNotDestroyed();const g=yield d.render(),D=d.getAssertedRecaptcha();return D.getResponse(g)||new Promise(z=>{const Ce=Ct=>{!Ct||(d.tokenChangeListeners.delete(Ce),z(Ct))};d.tokenChangeListeners.add(Ce),d.isInvisible&&D.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){xe(!this.parameters.sitekey,this.auth,"argument-error"),xe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return g=>{if(this.tokenChangeListeners.forEach(D=>D(g)),"function"==typeof d)d(g);else if("string"==typeof d){const D=Ar()[d];"function"==typeof D&&D(g)}}}assertNotDestroyed(){xe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,f.Z)(function*(){if(yield d.init(),!d.widgetId){let g=d.container;if(!d.isInvisible){const D=document.createElement("div");g.appendChild(D),g=D}d.widgetId=d.getAssertedRecaptcha().render(g,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,f.Z)(function*(){xe(It()&&!Ci(),d.auth,"internal-error"),yield function Kr(){let E=null;return new Promise(d=>{"complete"!==document.readyState?(E=()=>d(),window.addEventListener("load",E)):d()}).catch(d=>{throw E&&window.removeEventListener("load",E),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const g=yield function Oo(E){return Ti.apply(this,arguments)}(d.auth);xe(g,d.auth,"internal-error"),d.parameters.sitekey=g})()}getAssertedRecaptcha(){return xe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qs{constructor(d,g){this.verificationId=d,this.onConfirmation=g}confirm(d){const g=Ms._fromVerification(this.verificationId,d);return this.onConfirmation(g)}}function Ys(E,d,g){return ru.apply(this,arguments)}function ru(){return(ru=(0,f.Z)(function*(E,d,g){const D=rn(E),j=yield ra(D,d,(0,m.m9)(g));return new qs(j,z=>Ii(D,z))})).apply(this,arguments)}function Va(E,d,g){return es.apply(this,arguments)}function es(){return(es=(0,f.Z)(function*(E,d,g){const D=(0,m.m9)(E);yield Ei(!1,D,"phone");const j=yield ra(D.auth,d,(0,m.m9)(g));return new qs(j,z=>En(D,z))})).apply(this,arguments)}function Ls(E,d,g){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,f.Z)(function*(E,d,g){const D=(0,m.m9)(E),j=yield ra(D.auth,d,(0,m.m9)(g));return new qs(j,z=>Co(D,z))})).apply(this,arguments)}function ra(E,d,g){return fs.apply(this,arguments)}function fs(){return(fs=(0,f.Z)(function*(E,d,g){var D;const j=yield g.verify();try{let z;if(xe("string"==typeof j,E,"argument-error"),xe(g.type===na,E,"argument-error"),z="string"==typeof d?{phoneNumber:d}:d,"session"in z){const Ce=z.session;if("phoneNumber"in z)return xe("enroll"===Ce.type,E,"internal-error"),(yield Gr(E,{idToken:Ce.credential,phoneEnrollmentInfo:{phoneNumber:z.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{xe("signin"===Ce.type,E,"internal-error");const Ct=(null===(D=z.multiFactorHint)||void 0===D?void 0:D.uid)||z.multiFactorUid;return xe(Ct,E,"missing-multi-factor-info"),(yield Pa(E,{mfaPendingCredential:Ce.credential,mfaEnrollmentId:Ct,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ce}=yield Cr(E,{phoneNumber:z.phoneNumber,recaptchaToken:j});return Ce}}finally{g._reset()}})).apply(this,arguments)}function Qs(E,d){return ya.apply(this,arguments)}function ya(){return(ya=(0,f.Z)(function*(E,d){yield wi((0,m.m9)(E),d)})).apply(this,arguments)}let va=(()=>{class E{constructor(g){this.providerId=E.PROVIDER_ID,this.auth=rn(g)}verifyPhoneNumber(g,D){return ra(this.auth,g,(0,m.m9)(D))}static credential(g,D){return Ms._fromVerification(g,D)}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:D,temporaryProof:j}=g;return D&&j?Ms._fromTokenResponse(D,j):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function co(E,d){return d?Ae(d):(xe(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Sr extends Yr{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Ht(d,this._buildIdpRequest())}_linkToIdToken(d,g){return Ht(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return Ht(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function Lo(E){return ha(E.auth,new Sr(E),E.bypassAuthState)}function oi(E){const{auth:d,user:g}=E;return xe(g,d,"internal-error"),Hs(g,new Sr(E),E.bypassAuthState)}function Fo(E){return _.apply(this,arguments)}function _(){return(_=(0,f.Z)(function*(E){const{auth:d,user:g}=E;return xe(g,d,"internal-error"),wi(g,new Sr(E),E.bypassAuthState)})).apply(this,arguments)}class w{constructor(d,g,D,j,z=!1){this.auth=d,this.resolver=D,this.user=j,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,f.Z)(function*(D,j){d.pendingPromise={resolve:D,reject:j};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(z){d.reject(z)}});return function(D,j){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,f.Z)(function*(){const{urlResponse:D,sessionId:j,postBody:z,tenantId:Ce,error:Ct,type:dt}=d;if(Ct)return void g.reject(Ct);const Ne={auth:g.auth,requestUri:D,sessionId:j,tenantId:Ce||void 0,postBody:z||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(dt)(Ne))}catch(ht){g.reject(ht)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Lo;case"linkViaPopup":case"linkViaRedirect":return Fo;case"reauthViaPopup":case"reauthViaRedirect":return oi;default:mt(this.auth,"internal-error")}}resolve(d){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const v=new Rt(2e3,1e4);function S(E,d,g){return P.apply(this,arguments)}function P(){return(P=(0,f.Z)(function*(E,d,g){const D=rn(E);We(E,d,Qr);const j=co(D,g);return new $t(D,"signInViaPopup",d,j).executeNotNull()})).apply(this,arguments)}function $(E,d,g){return ce.apply(this,arguments)}function ce(){return(ce=(0,f.Z)(function*(E,d,g){const D=(0,m.m9)(E);We(D.auth,d,Qr);const j=co(D.auth,g);return new $t(D.auth,"reauthViaPopup",d,j,D).executeNotNull()})).apply(this,arguments)}function _e(E,d,g){return ct.apply(this,arguments)}function ct(){return(ct=(0,f.Z)(function*(E,d,g){const D=(0,m.m9)(E);We(D.auth,d,Qr);const j=co(D.auth,g);return new $t(D.auth,"linkViaPopup",d,j,D).executeNotNull()})).apply(this,arguments)}let $t=(()=>{class E extends w{constructor(g,D,j,z,Ce){super(g,D,z,Ce),this.provider=j,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var g=this;return(0,f.Z)(function*(){const D=yield g.execute();return xe(D,g.auth,"internal-error"),D})()}onExecution(){var g=this;return(0,f.Z)(function*(){Ye(1===g.filter.length,"Popup operations only handle one event");const D=Ra();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],D),g.authWindow.associatedEvent=D,g.resolver._originValidation(g.auth).catch(j=>{g.reject(j)}),g.resolver._isIframeWebStorageSupported(g.auth,j=>{j||g.reject(ut(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const g=()=>{var D,j;this.pollId=null!==(j=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==j&&j.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ut(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,v.get())};g()}}return E.currentPopupAction=null,E})();const Xt=new Map;class zn extends w{constructor(d,g,D=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,D),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,f.Z)(function*(){let D=Xt.get(g.auth._key());if(!D){try{const z=(yield function zi(E,d){return ts.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;D=()=>Promise.resolve(z)}catch(j){D=()=>Promise.reject(j)}Xt.set(g.auth._key(),D)}return g.bypassAuthState||Xt.set(g.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,D=this;return(0,f.Z)(function*(){if("signInViaRedirect"===d.type)return g().call(D,d);if("unknown"!==d.type){if(d.eventId){const j=yield D.auth._redirectUserForId(d.eventId);if(j)return D.user=j,g().call(D,d);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function ts(){return(ts=(0,f.Z)(function*(E,d){const g=L(d),D=k(E);if(!(yield D._isAvailable()))return!1;const j="true"===(yield D._get(g));return yield D._remove(g),j})).apply(this,arguments)}function Js(E,d){return ns.apply(this,arguments)}function ns(){return(ns=(0,f.Z)(function*(E,d){return k(E)._set(L(d),"true")})).apply(this,arguments)}function Iu(){Xt.clear()}function Vo(E,d){Xt.set(E._key(),d)}function k(E){return Ae(E._redirectPersistence)}function L(E){return ye("pendingRedirect",E.config.apiKey,E.name)}function G(E,d,g){return function fe(E,d,g){return Fe.apply(this,arguments)}(E,d,g)}function Fe(){return(Fe=(0,f.Z)(function*(E,d,g){const D=rn(E);We(E,d,Qr);const j=co(D,g);return yield Js(j,D),j._openRedirect(D,d,"signInViaRedirect")})).apply(this,arguments)}function rt(E,d,g){return function Tt(E,d,g){return Kt.apply(this,arguments)}(E,d,g)}function Kt(){return(Kt=(0,f.Z)(function*(E,d,g){const D=(0,m.m9)(E);We(D.auth,d,Qr);const j=co(D.auth,g);yield Js(j,D.auth);const z=yield Or(D);return j._openRedirect(D.auth,d,"reauthViaRedirect",z)})).apply(this,arguments)}function Cn(E,d,g){return function Vn(E,d,g){return Hn.apply(this,arguments)}(E,d,g)}function Hn(){return(Hn=(0,f.Z)(function*(E,d,g){const D=(0,m.m9)(E);We(D.auth,d,Qr);const j=co(D.auth,g);yield Ei(!1,D,d.providerId),yield Js(j,D.auth);const z=yield Or(D);return j._openRedirect(D.auth,d,"linkViaRedirect",z)})).apply(this,arguments)}function xn(E,d){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,f.Z)(function*(E,d){return yield rn(E)._initializationPromise,mi(E,d,!1)})).apply(this,arguments)}function mi(E,d){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,f.Z)(function*(E,d,g=!1){const D=rn(E),j=co(D,d),Ce=yield new zn(D,j,g).execute();return Ce&&!g&&(delete Ce.user._redirectEventId,yield D._persistUserIfCurrent(Ce.user),yield D._setRedirectUser(null,d)),Ce})).apply(this,arguments)}function Or(E){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,f.Z)(function*(E){const d=Ra(`${E.uid}:::`);return E._redirectEventId=d,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),d})).apply(this,arguments)}class Ba{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(d,D)&&(g=!0,this.sendToConsumer(d,D),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Ha(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ia(E);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var D;if(d.error&&!ia(d)){const j=(null===(D=d.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";g.onError(ut(this.auth,j))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const D=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&D}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ja(d))}saveEventToCache(d){this.cachedEventUids.add(ja(d)),this.lastProcessedEventTime=Date.now()}}function ja(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(d=>d).join("-")}function ia({type:E,error:d}){return"unknown"===E&&"auth/no-auth-event"===d?.code}function sa(E){return _a.apply(this,arguments)}function _a(){return(_a=(0,f.Z)(function*(E,d={}){return ke(E,"GET","/v1/projects",d)})).apply(this,arguments)}const Qh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iu=/^https?/;function Ic(){return(Ic=(0,f.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:d}=yield sa(E);for(const g of d)try{if(Jh(g))return}catch{}mt(E,"unauthorized-domain")})).apply(this,arguments)}function Jh(E){const d=_t(),{protocol:g,hostname:D}=new URL(d);if(E.startsWith("chrome-extension://")){const Ce=new URL(E);return""===Ce.hostname&&""===D?"chrome-extension:"===g&&E.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&Ce.hostname===D}if(!iu.test(g))return!1;if(Qh.test(E))return D===E;const j=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(D)}const kl=new Rt(3e4,6e4);function Fd(){const E=Ar().___jsl;if(E?.H)for(const d of Object.keys(E.H))if(E.H[d].r=E.H[d].r||[],E.H[d].L=E.H[d].L||[],E.H[d].r=[...E.H[d].L],E.CP)for(let g=0;g<E.CP.length;g++)E.CP[g]=null}let wa=null;function Ud(E){return wa=wa||function Vd(E){return new Promise((d,g)=>{var D,j,z;function Ce(){Fd(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Fd(),g(ut(E,"network-request-failed"))},timeout:kl.get()})}if(null!==(j=null===(D=Ar().gapi)||void 0===D?void 0:D.iframes)&&void 0!==j&&j.Iframe)d(gapi.iframes.getContext());else{if(null===(z=Ar().gapi)||void 0===z||!z.load){const Ct=ea("iframefcb");return Ar()[Ct]=()=>{gapi.load?Ce():g(ut(E,"network-request-failed"))},hs(`https://apis.google.com/js/api.js?onload=${Ct}`).catch(dt=>g(dt))}Ce()}}).catch(d=>{throw wa=null,d})}(E),wa}const Dc=new Rt(5e3,15e3),Qu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cc(E){const d=E.config;xe(d.authDomain,E,"auth-domain-config-required");const g=d.emulator?pn(d,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,D={apiKey:d.apiKey,appName:E.name,v:A.SDK_VERSION},j=Kp.get(E.config.apiHost);j&&(D.eid=j);const z=E._getFrameworks();return z.length&&(D.fw=z.join(",")),`${g}?${(0,m.xO)(D).slice(1)}`}function Ju(){return Ju=(0,f.Z)(function*(E){const d=yield Ud(E),g=Ar().gapi;return xe(g,E,"internal-error"),d.open({where:document.body,url:Cc(E),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qu,dontclear:!0},D=>new Promise(function(){var j=(0,f.Z)(function*(z,Ce){yield D.restyle({setHideOnLeave:!1});const Ct=ut(E,"network-request-failed"),dt=Ar().setTimeout(()=>{Ce(Ct)},Dc.get());function Ne(){Ar().clearTimeout(dt),z(D)}D.ping(Ne).then(Ne,()=>{Ce(Ct)})});return function(z,Ce){return j.apply(this,arguments)}}()))}),Ju.apply(this,arguments)}const Rl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tf{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cs(E,d,g,D,j,z){xe(E.config.authDomain,E,"auth-domain-config-required"),xe(E.config.apiKey,E,"invalid-api-key");const Ce={apiKey:E.config.apiKey,appName:E.name,authType:g,redirectUrl:D,v:A.SDK_VERSION,eventId:j};if(d instanceof Qr){d.setDefaultLanguage(E.languageCode),Ce.providerId=d.providerId||"",(0,m.xb)(d.getCustomParameters())||(Ce.customParameters=JSON.stringify(d.getCustomParameters()));for(const[dt,Ne]of Object.entries(z||{}))Ce[dt]=Ne}if(d instanceof ks){const dt=d.getScopes().filter(Ne=>""!==Ne);dt.length>0&&(Ce.scopes=dt.join(","))}E.tenantId&&(Ce.tid=E.tenantId);const Ct=Ce;for(const dt of Object.keys(Ct))void 0===Ct[dt]&&delete Ct[dt];return`${function Hd({config:E}){return E.emulator?pn(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,m.xO)(Ct).slice(1)}`}const Tc="webStorageSupport",nf=class el{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ws,this._completeRedirectFn=mi,this._overrideRedirectResult=Vo}_openPopup(d,g,D,j){var z=this;return(0,f.Z)(function*(){var Ce;Ye(null===(Ce=z.eventManagers[d._key()])||void 0===Ce?void 0:Ce.manager,"_initialize() not called before _openPopup()");const Ct=Cs(d,g,D,_t(),j);return function Ol(E,d,g,D=500,j=600){const z=Math.max((window.screen.availHeight-j)/2,0).toString(),Ce=Math.max((window.screen.availWidth-D)/2,0).toString();let Ct="";const dt=Object.assign(Object.assign({},Rl),{width:D.toString(),height:j.toString(),top:z,left:Ce}),Ne=(0,m.z$)().toLowerCase();g&&(Ct=Be(Ne)?"_blank":g),H(Ne)&&(d=d||"http://localhost",dt.scrollbars="yes");const ht=Object.entries(dt).reduce((ho,[Tu,Wd])=>`${ho}${Tu}=${Wd},`,"");if(function je(E=(0,m.z$)()){var d;return te(E)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Ne)&&"_self"!==Ct)return function xc(E,d){const g=document.createElement("a");g.href=E,g.target=d;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(D)}(d||"",Ct),new tf(null);const $n=window.open(d||"",Ct,ht);xe($n,E,"popup-blocked");try{$n.focus()}catch{}return new tf($n)}(d,Ct,Ra())})()}_openRedirect(d,g,D,j){var z=this;return(0,f.Z)(function*(){return yield z._originValidation(d),function Oa(E){Ar().location.href=E}(Cs(d,g,D,_t(),j)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:j,promise:z}=this.eventManagers[g];return j?Promise.resolve(j):(Ye(z,"If manager is not set, promise should be"),z)}const D=this.initAndGetManager(d);return this.eventManagers[g]={promise:D},D.catch(()=>{delete this.eventManagers[g]}),D}initAndGetManager(d){var g=this;return(0,f.Z)(function*(){const D=yield function Bd(E){return Ju.apply(this,arguments)}(d),j=new Ba(d);return D.register("authEvent",z=>(xe(z?.authEvent,d,"invalid-auth-event"),{status:j.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:j},g.iframes[d._key()]=D,j})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(Tc,{type:Tc},j=>{var z;const Ce=null===(z=j?.[0])||void 0===z?void 0:z[Tc];void 0!==Ce&&g(!!Ce),mt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ld(E){return Ic.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return Qt()||ie()||te()}};class Pl extends class Zp{constructor(d){this.factorId=d}_process(d,g,D){switch(g.type){case"enroll":return this._finalizeEnroll(d,g.credential,D);case"signin":return this._finalizeSignIn(d,g.credential);default:return $e("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Pl(d)}_finalizeEnroll(d,g,D){return function pa(E,d){return ke(E,"POST","/v2/accounts/mfaEnrollment:finalize",Mn(E,d))}(d,{idToken:g,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,g){return function Xo(E,d){return ke(E,"POST","/v2/accounts/mfaSignIn:finalize",Mn(E,d))}(d,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let su=(()=>{class E{constructor(){}static assertion(g){return Pl._fromCredential(g)}}return E.FACTOR_ID="phone",E})();var tl="@firebase/auth",$d="0.20.11";class Sy{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,f.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(D=>{var j;d((null===(j=D)||void 0===j?void 0:j.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);!g||(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,m.Pz)("authIdTokenMaxAge"),function Ay(E){(0,A._registerComponent)(new ee.wA("auth",(d,{options:g})=>{const D=d.getProvider("app").getImmediate(),j=d.getProvider("heartbeat"),{apiKey:z,authDomain:Ce}=D.options;return((Ct,dt)=>{xe(z&&!z.includes(":"),"invalid-api-key",{appName:Ct.name}),xe(!Ce?.includes(":"),"argument-error",{appName:Ct.name});const Ne={apiKey:z,authDomain:Ce,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:An(E)},ht=new Br(Ct,dt,Ne);return function Ve(E,d){const g=d?.persistence||[],D=(Array.isArray(g)?g:[g]).map(Ae);d?.errorMap&&E._updateErrorMap(d.errorMap),E._initializeWithPersistence(D,d?.popupRedirectResolver)}(ht,g),ht})(D,j)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,D)=>{d.getProvider("auth-internal").initialize()})),(0,A._registerComponent)(new ee.wA("auth-internal",d=>{const g=rn(d.getProvider("auth").getImmediate());return new Sy(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,A.registerVersion)(tl,$d,function zd(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,A.registerVersion)(tl,$d,"esm2017")}("Browser")},2090:(Ie,ae,C)=>{"use strict";C.d(ae,{$s:()=>At,BH:()=>fn,G6:()=>We,L:()=>re,LL:()=>Rn,Pz:()=>hn,Sg:()=>Rt,UG:()=>Ge,US:()=>ee,ZB:()=>ne,ZR:()=>kn,aH:()=>Yt,b$:()=>Me,eu:()=>xe,hl:()=>ot,jU:()=>yt,m9:()=>_n,ne:()=>Pe,pd:()=>bn,r3:()=>Zt,ru:()=>Qe,tV:()=>ue,uI:()=>Ue,vZ:()=>st,w1:()=>mt,xO:()=>Bt,xb:()=>Oe,z$:()=>Ke,zI:()=>$e,zd:()=>St});const Y=function(be){const ye=[];let De=0;for(let pe=0;pe<be.length;pe++){let H=be.charCodeAt(pe);H<128?ye[De++]=H:H<2048?(ye[De++]=H>>6|192,ye[De++]=63&H|128):55296==(64512&H)&&pe+1<be.length&&56320==(64512&be.charCodeAt(pe+1))?(H=65536+((1023&H)<<10)+(1023&be.charCodeAt(++pe)),ye[De++]=H>>18|240,ye[De++]=H>>12&63|128,ye[De++]=H>>6&63|128,ye[De++]=63&H|128):(ye[De++]=H>>12|224,ye[De++]=H>>6&63|128,ye[De++]=63&H|128)}return ye},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(be,ye){if(!Array.isArray(be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const De=ye?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let H=0;H<be.length;H+=3){const ie=be[H],Be=H+1<be.length,vt=Be?be[H+1]:0,Lt=H+2<be.length,jt=Lt?be[H+2]:0;let se=(15&vt)<<2|jt>>6,je=63&jt;Lt||(je=64,Be||(se=64)),pe.push(De[ie>>2],De[(3&ie)<<4|vt>>4],De[se],De[je])}return pe.join("")},encodeString(be,ye){return this.HAS_NATIVE_SUPPORT&&!ye?btoa(be):this.encodeByteArray(Y(be),ye)},decodeString(be,ye){return this.HAS_NATIVE_SUPPORT&&!ye?atob(be):function(be){const ye=[];let De=0,pe=0;for(;De<be.length;){const H=be[De++];if(H<128)ye[pe++]=String.fromCharCode(H);else if(H>191&&H<224){const ie=be[De++];ye[pe++]=String.fromCharCode((31&H)<<6|63&ie)}else if(H>239&&H<365){const Lt=((7&H)<<18|(63&be[De++])<<12|(63&be[De++])<<6|63&be[De++])-65536;ye[pe++]=String.fromCharCode(55296+(Lt>>10)),ye[pe++]=String.fromCharCode(56320+(1023&Lt))}else{const ie=be[De++],Be=be[De++];ye[pe++]=String.fromCharCode((15&H)<<12|(63&ie)<<6|63&Be)}}return ye.join("")}(this.decodeStringToByteArray(be,ye))},decodeStringToByteArray(be,ye){this.init_();const De=ye?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let H=0;H<be.length;){const ie=De[be.charAt(H++)],vt=H<be.length?De[be.charAt(H)]:0;++H;const jt=H<be.length?De[be.charAt(H)]:64;++H;const te=H<be.length?De[be.charAt(H)]:64;if(++H,null==ie||null==vt||null==jt||null==te)throw Error();pe.push(ie<<2|vt>>4),64!==jt&&(pe.push(vt<<4&240|jt>>2),64!==te&&pe.push(jt<<6&192|te))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let be=0;be<this.ENCODED_VALS.length;be++)this.byteToCharMap_[be]=this.ENCODED_VALS.charAt(be),this.charToByteMap_[this.byteToCharMap_[be]]=be,this.byteToCharMapWebSafe_[be]=this.ENCODED_VALS_WEBSAFE.charAt(be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[be]]=be,be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(be)]=be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(be)]=be)}}},re=function(be){return function(be){const ye=Y(be);return ee.encodeByteArray(ye,!0)}(be).replace(/\./g,"")},ue=function(be){try{return ee.decodeString(be,!0)}catch(ye){console.error("base64Decode failed: ",ye)}return null};function ne(be,ye){if(!(ye instanceof Object))return ye;switch(ye.constructor){case Date:return new Date(ye.getTime());case Object:void 0===be&&(be={});break;case Array:be=[];break;default:return ye}for(const De in ye)!ye.hasOwnProperty(De)||!de(De)||(be[De]=ne(be[De],ye[De]));return be}function de(be){return"__proto__"!==be}function Ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function Ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function yt(){return"object"==typeof self&&self.self===self}function Qe(){const be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof be&&void 0!==be.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mt(){const be=Ke();return be.indexOf("MSIE ")>=0||be.indexOf("Trident/")>=0}function We(){return!Ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ot(){return"object"==typeof indexedDB}function xe(){return new Promise((be,ye)=>{try{let De=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open(pe);H.onsuccess=()=>{H.result.close(),De||self.indexedDB.deleteDatabase(pe),be(!0)},H.onupgradeneeded=()=>{De=!1},H.onerror=()=>{var ie;ye((null===(ie=H.error)||void 0===ie?void 0:ie.message)||"")}}catch(De){ye(De)}})}function $e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Ve=()=>{try{return function Ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const be=process.env.__FIREBASE_DEFAULTS__;return be?JSON.parse(be):void 0})()||(()=>{if(typeof document>"u")return;let be;try{be=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ye=be&&ue(be[1]);return ye&&JSON.parse(ye)})()}catch(be){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${be}`)}},Yt=()=>{var be;return null===(be=Ve())||void 0===be?void 0:be.config},hn=be=>{var ye;return null===(ye=Ve())||void 0===ye?void 0:ye[`_${be}`]};class fn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ye,De)=>{this.resolve=ye,this.reject=De})}wrapCallback(ye){return(De,pe)=>{De?this.reject(De):this.resolve(pe),"function"==typeof ye&&(this.promise.catch(()=>{}),1===ye.length?ye(De):ye(De,pe))}}}function Rt(be,ye){if(be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=ye||"demo-project",H=be.iat||0,ie=be.sub||be.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Be=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:H,exp:H+3600,auth_time:H,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},be);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(Be)),""].join(".")}class kn extends Error{constructor(ye,De,pe){super(De),this.code=ye,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rn.prototype.create)}}class Rn{constructor(ye,De,pe){this.service=ye,this.serviceName=De,this.errors=pe}create(ye,...De){const pe=De[0]||{},H=`${this.service}/${ye}`,ie=this.errors[ye],Be=ie?function Tn(be,ye){return be.replace(Mn,(De,pe)=>{const H=ye[pe];return null!=H?String(H):`<${pe}?>`})}(ie,pe):"Error";return new kn(H,`${this.serviceName}: ${Be} (${H}).`,pe)}}const Mn=/\{\$([^}]+)}/g;function Zt(be,ye){return Object.prototype.hasOwnProperty.call(be,ye)}function Oe(be){for(const ye in be)if(Object.prototype.hasOwnProperty.call(be,ye))return!1;return!0}function st(be,ye){if(be===ye)return!0;const De=Object.keys(be),pe=Object.keys(ye);for(const H of De){if(!pe.includes(H))return!1;const ie=be[H],Be=ye[H];if(qt(ie)&&qt(Be)){if(!st(ie,Be))return!1}else if(ie!==Be)return!1}for(const H of pe)if(!De.includes(H))return!1;return!0}function qt(be){return null!==be&&"object"==typeof be}function Bt(be){const ye=[];for(const[De,pe]of Object.entries(be))Array.isArray(pe)?pe.forEach(H=>{ye.push(encodeURIComponent(De)+"="+encodeURIComponent(H))}):ye.push(encodeURIComponent(De)+"="+encodeURIComponent(pe));return ye.length?"&"+ye.join("&"):""}function St(be){const ye={};return be.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[H,ie]=pe.split("=");ye[decodeURIComponent(H)]=decodeURIComponent(ie)}}),ye}function bn(be){const ye=be.indexOf("?");if(!ye)return"";const De=be.indexOf("#",ye);return be.substring(ye,De>0?De:void 0)}function Pe(be,ye){const De=new me(be,ye);return De.subscribe.bind(De)}class me{constructor(ye,De){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=De,this.task.then(()=>{ye(this)}).catch(pe=>{this.error(pe)})}next(ye){this.forEachObserver(De=>{De.next(ye)})}error(ye){this.forEachObserver(De=>{De.error(ye)}),this.close(ye)}complete(){this.forEachObserver(ye=>{ye.complete()}),this.close()}subscribe(ye,De,pe){let H;if(void 0===ye&&void 0===De&&void 0===pe)throw new Error("Missing Observer.");H=function ze(be,ye){if("object"!=typeof be||null===be)return!1;for(const De of ye)if(De in be&&"function"==typeof be[De])return!0;return!1}(ye,["next","error","complete"])?ye:{next:ye,error:De,complete:pe},void 0===H.next&&(H.next=Le),void 0===H.error&&(H.error=Le),void 0===H.complete&&(H.complete=Le);const ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch{}}),this.observers.push(H),ie}unsubscribeOne(ye){void 0===this.observers||void 0===this.observers[ye]||(delete this.observers[ye],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ye){if(!this.finalized)for(let De=0;De<this.observers.length;De++)this.sendOne(De,ye)}sendOne(ye,De){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ye])try{De(this.observers[ye])}catch(pe){typeof console<"u"&&console.error&&console.error(pe)}})}close(ye){this.finalized||(this.finalized=!0,void 0!==ye&&(this.finalError=ye),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Le(){}function At(be,ye=1e3,De=2){const pe=ye*Math.pow(De,be),H=Math.round(.5*pe*(Math.random()-.5)*2);return Math.min(144e5,pe+H)}function _n(be){return be&&be._delegate?be._delegate:be}},6105:(Ie,ae,C)=>{"use strict";C.d(ae,{I:()=>m,UA:()=>Y,af:()=>f,vM:()=>A});const f="NCT_Current_Index",m="NCT_List_Song",A="NCT_Volume",Y="NCT_History_Music"},498:(Ie,ae,C)=>{"use strict";C.d(ae,{cO:()=>A,jE:()=>K,qi:()=>ee,qp:()=>m});var f=C(6105);const m="https://stc-id.nixcdn.com/v12/static/media/default_song_no_cover.a876da66.png",A="https://raw.githubusercontent.com/an678-mhg/NextComics/main/public/not-found.png",K=J=>{let re=JSON.parse(localStorage.getItem(f.UA))||[];re.some(Q=>Q.key===J.key)&&(re=re.filter(Q=>Q.key!==J.key)),re.unshift(J),localStorage.setItem(f.UA,JSON.stringify(re))},ee=()=>JSON.parse(localStorage.getItem(f.UA))||[]},9099:(Ie,ae,C)=>{"use strict";C.d(ae,{n:()=>m});var f=C(4650);let m=(()=>{class A{constructor(){}ngOnDestroy(){document.removeEventListener("window:resize",this.getScreenSize,!1)}ngOnInit(){this.getScreenSize()}getScreenSize(){this.width=window.innerWidth,this.isPC=this.width>1024,this.isTablet=this.width>768,this.isMobile=this.width>640}}return A.\u0275fac=function(K){return new(K||A)},A.\u0275dir=f.lG2({type:A,selectors:[["","appInnerWidth",""]],hostBindings:function(K,ee){1&K&&f.NdJ("resize",function(re){return ee.getScreenSize(re)},!1,f.Jf7)},exportAs:["windowWidth"],standalone:!0}),A})()},1177:(Ie,ae,C)=>{"use strict";C.d(ae,{c:()=>Y});var f=C(7550),A=C(4650);let Y=(()=>{class K{constructor(){this.okButton="OK",this.cancelButton="Cancel",this.loadingType="standard",this.loadingColor="#fff",this.loadingSvgUrl=null,this.init=J=>{this.okButton=J?.okButton||"OK",this.cancelButton=J?.cancelButton||"Cancel",this.loadingType=J?.loadingType||"standard",this.loadingColor=J?.loadingColor||"#fff",this.loadingSvgUrl=J?.loadingSvgUrl||null,f.Notify.init({pauseOnHover:!0,clickToClose:!0,fontSize:"16px",position:"center-top",success:{notiflixIconColor:"#fff"},failure:{notiflixIconColor:"#fff"},warning:{notiflixIconColor:"#000",textColor:"#000"},info:{notiflixIconColor:"#000",textColor:"#000"}}),f.Confirm.init({titleColor:"#ff5549",titleFontSize:"20px",messageFontSize:"16px",okButtonBackground:"#ff5549"}),f.Loading.init({customSvgUrl:this.loadingSvgUrl,svgColor:this.loadingColor,svgSize:"128px"}),f.Report.init({success:{backOverlayColor:"rgba(0,0,0,0.5)"},failure:{backOverlayColor:"rgba(0,0,0,0.5)"},warning:{backOverlayColor:"rgba(0,0,0,0.5)",buttonColor:"#000"},info:{backOverlayColor:"rgba(0,0,0,0.5)",buttonColor:"#000"}}),f.Block.init({svgSize:"128px"})},this.success=J=>{f.Notify.success(J)},this.error=J=>{f.Notify.failure(J)},this.warning=J=>{f.Notify.warning(J)},this.info=J=>{f.Notify.info(J)},this.confirm=(J,re,ue,Q)=>{f.Confirm.show(J,re,this.okButton,this.cancelButton,ue,Q)},this.ask=(J,re,ue,Q,ne)=>{f.Confirm.ask(J,re,ue,this.okButton,this.cancelButton,Q,ne)},this.prompt=(J,re,ue,Q,ne)=>{f.Confirm.prompt(J,re,ue,this.okButton,this.cancelButton,Q,ne)},this.showLoading=()=>{switch(this.loadingType){case"hourglass":f.Loading.hourglass();break;case"circle":f.Loading.circle();break;case"arrows":f.Loading.arrows();break;case"dots":f.Loading.dots();break;case"pulse":f.Loading.pulse();break;case"custom":f.Loading.custom();break;default:f.Loading.standard()}},this.hideLoading=()=>{f.Loading.remove()},this.successReport=(J,re,ue)=>{f.Report.success(J,re,this.okButton,ue)},this.errorReport=(J,re,ue)=>{f.Report.failure(J,re,this.okButton,ue)},this.infoReport=(J,re,ue)=>{f.Report.info(J,re,this.okButton,ue)},this.warningReport=(J,re,ue)=>{f.Report.warning(J,re,this.okButton,ue)},this.showBlock=J=>{switch(this.loadingType){case"hourglass":f.Block.hourglass(J);break;case"circle":f.Block.circle(J);break;case"arrows":f.Block.arrows(J);break;case"dots":f.Block.dots(J);break;case"pulse":f.Block.pulse(J);break;default:f.Block.standard(J)}},this.hideBlock=J=>{f.Block.remove(J)}}}return K.\u0275fac=function(J){return new(J||K)},K.\u0275prov=A.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})()},5766:(Ie,ae,C)=>{"use strict";C.d(ae,{o:()=>K});var f=C(529),m=C(2340),A=C(4004),Y=C(4650);let K=(()=>{class ee{constructor(re){this.http=re,this.apiUrl=m.N.apiUrl}getSong(re){let ue=(new f.LE).append("key",re);return this.http.get(`${this.apiUrl}song`,{params:ue}).pipe((0,A.U)(Q=>Q.song))}getLyric(re){let ue=(new f.LE).append("key",re);return this.http.get(`${this.apiUrl}lyric`,{params:ue}).pipe((0,A.U)(Q=>Q.lyric))}}return ee.\u0275fac=function(re){return new(re||ee)(Y.LFG(f.eN))},ee.\u0275prov=Y.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})()},1368:(Ie,ae,C)=>{"use strict";C.d(ae,{K0:()=>m,Sl:()=>A,xv:()=>Y});var f=C(9653);const m=(0,f.PH)("[Default Layout] SetMenu"),A=(0,f.PH)("[Default Layout] SetPlayer"),Y=(0,f.PH)("[Default Layout] Close")},653:(Ie,ae,C)=>{"use strict";C.d(ae,{At:()=>A,QN:()=>Y,aV:()=>m});var f=C(9653);const m=(0,f.PH)("[Player] SetSongId",(0,f.Ky)()),A=(0,f.PH)("[Player] SetCurrentIndex",(0,f.Ky)()),Y=(0,f.PH)("[Player] SetSongAndIndex",(0,f.Ky)())},2340:(Ie,ae,C)=>{"use strict";C.d(ae,{N:()=>K});const K={production:!0,apiUrl:`${window.location.protocol}//proxy-nct.vercel.app/`,firebaseConfig:{apiKey:"AIzaSyCd9Z-ZwSOEUBXDfwJpUHLV3TFWxc4ykAM",authDomain:"ntc-cloned.firebaseapp.com",projectId:"ntc-cloned",storageBucket:"ntc-cloned.appspot.com",messagingSenderId:"307187997369",appId:"1:307187997369:web:be4c86a038556391c11968"}}},4308:(Ie,ae,C)=>{"use strict";var f=C(1481),m=C(4650),A=C(9653),Y=C(433),K=C(529),ee=C(2011),J=C(7579),re=C(9646),ue=C(9751),Q=C(8996),ne=C(6451),de=C(5363),Ke=C(3900),Ue=C(4004),Ge=C(4707),yt=C(3099);function Qe(r,e,t){let s,a=!1;return r&&"object"==typeof r?({bufferSize:s=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:t}=r):s=r??1/0,(0,yt.B)({connector:()=>new Ge.t(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var Me=C(590),Et=C(576);function mt(r,e){return(0,Et.m)(e)?(0,Ke.w)(()=>r,e):(0,Ke.w)(()=>r)}var ut=C(9468),nt=C(9300),We=C(6351),ot=C(6895);C(5867);var ke=C(5861),tr=C(9681),qn=C(4859),dn=C(2090),On=C(1877);const fr=new Map,or={activated:!1,tokenObservers:[]},Zt={initialized:!1,enabled:!1};function ve(r){return fr.get(r)||Object.assign({},or)}function qe(){return Zt}class Wt{constructor(e,t,s,a,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ke.Z)(function*(){t.stop();try{t.pending=new dn.BH,yield function Pe(r){return new Promise(e=>{setTimeout(e,r)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new dn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const oe=new dn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Le(r){if(!ve(r).activated)throw oe.create("use-before-activation",{appName:r.name})}function gn(r,e){return xt.apply(this,arguments)}function xt(){return(xt=(0,ke.Z)(function*({url:r,body:e},t){var s,a;const c={"Content-Type":"application/json"},p=t.getImmediate({optional:!0});if(p){const pt=yield p.getHeartbeatsHeader();pt&&(c["X-Firebase-Client"]=pt)}const b={method:"POST",body:JSON.stringify(e),headers:c};let N,U;try{N=yield fetch(r,b)}catch(pt){throw oe.create("fetch-network-error",{originalErrorMessage:null===(s=pt)||void 0===s?void 0:s.message})}if(200!==N.status)throw oe.create("fetch-status-error",{httpStatus:N.status});try{U=yield N.json()}catch(pt){throw oe.create("fetch-parse-error",{originalErrorMessage:null===(a=pt)||void 0===a?void 0:a.message})}const X=U.ttl.match(/^([\d.]+)(s)$/);if(!X||!X[2]||isNaN(Number(X[1])))throw oe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${U.ttl}`});const Ee=1e3*Number(X[1]),Ze=Date.now();return{token:U.token,expireTimeMillis:Ze+Ee,issuedAtTimeMillis:Ze}})).apply(this,arguments)}function Sn(r,e){const{projectId:t,appId:s,apiKey:a}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Mt="firebase-app-check-store";let gt=null;function At(){return gt||(gt=new Promise((r,e)=>{var t;try{const s=indexedDB.open("firebase-app-check-database",1);s.onsuccess=a=>{r(a.target.result)},s.onerror=a=>{var c;e(oe.create("storage-open",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))},s.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(Mt,{keyPath:"compositeKey"})}}catch(s){e(oe.create("storage-open",{originalErrorMessage:null===(t=s)||void 0===t?void 0:t.message}))}}),gt)}function De(){return(De=(0,ke.Z)(function*(r,e){const s=(yield At()).transaction(Mt,"readwrite"),c=s.objectStore(Mt).put({compositeKey:r,value:e});return new Promise((p,b)=>{c.onsuccess=N=>{p()},s.onerror=N=>{var U;b(oe.create("storage-set",{originalErrorMessage:null===(U=N.target.error)||void 0===U?void 0:U.message}))}})})).apply(this,arguments)}const Be=new On.Yd("@firebase/app-check");function jt(r,e){return(0,dn.hl)()?function un(r,e){return function ye(r,e){return De.apply(this,arguments)}(function ie(r){return`${r.options.appId}-${r.name}`}(r),e)}(r,e).catch(t=>{Be.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function se(){return qe().enabled}function je(){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,ke.Z)(function*(){const r=qe();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const wn={error:"UNKNOWN_ERROR"};function An(r){return dn.US.encodeString(JSON.stringify(r),!1)}function dr(r){return Br.apply(this,arguments)}function Br(){return(Br=(0,ke.Z)(function*(r,e=!1){const t=r.app;Le(t);const s=ve(t);let c,a=s.token;if(a&&!hr(a)&&(s.token=void 0,a=void 0),!a){const N=yield s.cachedTokenPromise;N&&(hr(N)?a=N:yield jt(t,void 0))}if(!e&&a&&hr(a))return{token:a.token};let b,p=!1;if(se()){s.exchangeTokenPromise||(s.exchangeTokenPromise=gn(Sn(t,yield je()),r.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),p=!0);const N=yield s.exchangeTokenPromise;return yield jt(t,N),s.token=N,{token:N.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),p=!0),a=yield ve(t).exchangeTokenPromise}catch(N){"appCheck/throttled"===N.code?Be.warn(N.message):Be.error(N),c=N}return a?c?b=hr(a)?{token:a.token,internalError:c}:Ki(c):(b={token:a.token},s.token=a,yield jt(t,a)):b=Ki(c),p&&Li(t,b),b})).apply(this,arguments)}function yi(r,e){const t=ve(r),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=s}function Mr(r){const{app:e}=r,t=ve(e);let s=t.tokenRefresher;s||(s=function rs(r){const{app:e}=r;return new Wt((0,ke.Z)(function*(){let s;if(s=ve(e).token?yield dr(r,!0):yield dr(r),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const t=ve(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(r),t.tokenRefresher=s),!s.isRunning()&&t.isTokenAutoRefreshEnabled&&s.start()}function Li(r,e){const t=ve(r).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch{}}function hr(r){return r.expireTimeMillis-Date.now()>0}function Ki(r){return{token:An(wn),error:r}}class Yr{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ve(this.app);for(const t of e)yi(this.app,t.next);return Promise.resolve()}}const Cr="app-check-internal";!function Wr(){(0,tr._registerComponent)(new qn.wA("app-check",r=>function Nr(r,e){return new Yr(r,e)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,e,t)=>{r.getProvider(Cr).initialize()})),(0,tr._registerComponent)(new qn.wA(Cr,r=>function _r(r){return{getToken:e=>dr(r,e),addTokenListener:e=>function rn(r,e,t,s){const{app:a}=r,c=ve(a);if(c.tokenObservers=[...c.tokenObservers,{next:t,error:s,type:e}],c.token&&hr(c.token)){const b=c.token;Promise.resolve().then(()=>{t({token:b.token}),Mr(r)}).catch(()=>{})}c.cachedTokenPromise.then(()=>Mr(r))}(r,"INTERNAL",e),removeTokenListener:e=>yi(r.app,e)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,tr.registerVersion)("@firebase/app-check","0.5.17")}();class Hi{constructor(){return(0,We.vb)("app-check")}}typeof window<"u"&&window;var vs=C(127);const os=new m.OlP("angularfire2.auth.use-emulator"),Wo=new m.OlP("angularfire2.auth.settings"),ni=new m.OlP("angularfire2.auth.tenant-id"),vi=new m.OlP("angularfire2.auth.langugage-code"),hi=new m.OlP("angularfire2.auth.use-device-language"),fi=new m.OlP("angularfire.auth.persistence"),_i=(r,e,t,s,a,c,p,b)=>(0,ee.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const N=e.runOutsideAngular(()=>r.auth());if(t&&N.useEmulator(...t),s&&(N.tenantId=s),N.languageCode=a,c&&N.useDeviceLanguage(),p)for(const[U,X]of Object.entries(p))N.settings[U]=X;return b&&N.setPersistence(b),N},[t,s,a,c,p,b]);let as=(()=>{class r{constructor(t,s,a,c,p,b,N,U,X,Ee,Ze,pt){const bt=new J.x,Jt=(0,re.of)(void 0).pipe((0,de.Q)(p.outsideAngular),(0,Ke.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(C.bind(C,5881)))),(0,Ue.U)(()=>(0,ee.on)(t,c,s)),(0,Ue.U)(on=>_i(on,c,b,U,X,Ee,N,Ze)),Qe({bufferSize:1,refCount:!1}));if((0,ot.PM)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,re.of)(null);else{Jt.pipe((0,Me.P)()).subscribe();const gr=Jt.pipe((0,Ke.w)(sr=>sr.getRedirectResult().then(Xn=>Xn,()=>null)),We.iC,Qe({bufferSize:1,refCount:!1})),Lr=Jt.pipe((0,Ke.w)(sr=>new ue.y(Xn=>({unsubscribe:c.runOutsideAngular(()=>sr.onAuthStateChanged(cr=>Xn.next(cr),cr=>Xn.error(cr),()=>Xn.complete()))})))),mr=Jt.pipe((0,Ke.w)(sr=>new ue.y(Xn=>({unsubscribe:c.runOutsideAngular(()=>sr.onIdTokenChanged(cr=>Xn.next(cr),cr=>Xn.error(cr),()=>Xn.complete()))}))));this.authState=gr.pipe(mt(Lr),(0,ut.R)(p.outsideAngular),(0,de.Q)(p.insideAngular)),this.user=gr.pipe(mt(mr),(0,ut.R)(p.outsideAngular),(0,de.Q)(p.insideAngular)),this.idToken=this.user.pipe((0,Ke.w)(sr=>sr?(0,Q.D)(sr.getIdToken()):(0,re.of)(null))),this.idTokenResult=this.user.pipe((0,Ke.w)(sr=>sr?(0,Q.D)(sr.getIdTokenResult()):(0,re.of)(null))),this.credential=(0,ne.T)(gr,bt,this.authState.pipe((0,nt.h)(sr=>!sr))).pipe((0,Ue.U)(sr=>sr?.user?sr:null),(0,ut.R)(p.outsideAngular),(0,de.Q)(p.insideAngular))}return(0,ee.pX)(this,Jt,c,{spy:{apply:(on,gr,Lr)=>{(on.startsWith("signIn")||on.startsWith("createUser"))&&Lr.then(mr=>bt.next(mr))}}})}}return r.\u0275fac=function(t){return new(t||r)(m.LFG(ee.Dh),m.LFG(ee.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(We.HU),m.LFG(os,8),m.LFG(Wo,8),m.LFG(ni,8),m.LFG(vi,8),m.LFG(hi,8),m.LFG(fi,8),m.LFG(Hi,8))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Go=(()=>{class r{constructor(){vs.Z.registerVersion("angularfire",We.q4.full,"auth-compat")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({providers:[as]}),r})();var Do=C(825),Un=C(2607),ro=C(3905),da=C(8505),Ai=C(4986),Tr=C(8675),wi=C(4482),_s=C(5403);function Ei(){return(0,wi.e)((r,e)=>{let t,s=!1;r.subscribe((0,_s.x)(e,a=>{const c=t;t=a,s&&e.next([c,a]),s=!0}))})}var Gt,Gn=C(5026),Hs=C(1884),ha=(C(5881),C(3942)),bi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ii={},En=En||{},In=bi||self;function Co(){}function Es(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function us(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var $i="closure_uid_"+(1e9*Math.random()>>>0),bs=0;function io(r,e,t){return r.call.apply(r.bind,arguments)}function Dt(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function mn(r,e,t){return(mn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?io:Dt).apply(null,arguments)}function Rs(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function kr(r,e){function t(){}t.prototype=e.prototype,r.X=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Wb=function(s,a,c){for(var p=Array(arguments.length-2),b=2;b<arguments.length;b++)p[b-2]=arguments[b];return e.prototype[a].apply(s,p)}}function yr(){this.s=this.s,this.o=this.o}yr.prototype.s=!1,yr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Jr(r){Object.prototype.hasOwnProperty.call(r,$i)&&r[$i]||(r[$i]=++bs)}(this)},yr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Is=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function ri(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function xo(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Es(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let p=0;p<c;p++)r[a+p]=s[p]}else r.push(s)}}function xr(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}xr.prototype.h=function(){this.defaultPrevented=!0};var To=function(){if(!In.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{In.addEventListener("test",Co,e),In.removeEventListener("test",Co,e)}catch{}return r}();function Os(r){return/^[\s\xa0]*$/.test(r)}var F=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function O(r,e){return r<e?-1:r>e?1:0}function M(){var r=In.navigator;return r&&(r=r.userAgent)?r:""}function q(r){return-1!=M().indexOf(r)}function at(r){return at[" "](r),r}at[" "]=Co;var $s,r,nr=q("Opera"),Vr=q("Trident")||q("MSIE"),Di=q("Edge"),pi=Di||Vr,so=q("Gecko")&&!(-1!=M().toLowerCase().indexOf("webkit")&&!q("Edge"))&&!(q("Trident")||q("MSIE"))&&!q("Edge"),Ds=-1!=M().toLowerCase().indexOf("webkit")&&!q("Edge");function So(){var r=In.document;return r?r.documentMode:void 0}e:{var Ko="",oo=(r=M(),so?/rv:([^\);]+)(\)|;)/.exec(r):Di?/Edge\/([\d\.]+)/.exec(r):Vr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Ds?/WebKit\/(\S+)/.exec(r):nr?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(oo&&(Ko=oo?oo[1]:""),Vr){var fa=So();if(null!=fa&&fa>parseFloat(Ko)){$s=String(fa);break e}}$s=Ko}var Ao={};var x=In.document&&Vr&&(So()||parseInt($s,10))||void 0;function B(r,e){if(xr.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(so){e:{try{at(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:R[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&B.X.h.call(this)}}kr(B,xr);var R={2:"touch",3:"pen",4:"mouse"};B.prototype.h=function(){B.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),we=0;function tt(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=a,this.key=++we,this.ba=this.ea=!1}function ft(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function sn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Kn(r){const e={};for(const t in r)e[t]=r[t];return e}const rr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function er(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<rr.length;c++)t=rr[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function Bn(r){this.src=r,this.g={},this.h=0}function Rr(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=Is(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(ft(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function lr(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.ba&&c.listener==e&&c.capture==!!t&&c.ha==s)return a}return-1}Bn.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var p=lr(r,e,s,a);return-1<p?(e=r[p],t||(e.ea=!1)):((e=new tt(e,this.src,c,!!s,a)).ea=t,r.push(e)),e};var br="closure_lm_"+(1e6*Math.random()|0),ls={};function cs(r,e,t,s,a){if(s&&s.once)return Mi(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)cs(r,e[c],t,s,a);return null}return t=Ma(t),r&&r[W]?r.N(e,t,us(s)?!!s.capture:!!s,a):ds(r,e,t,!1,s,a)}function ds(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var p=us(a)?!!a.capture:!!a,b=pa(r);if(b||(r[br]=b=new Bn(r)),(t=b.add(e,t,s,p,c)).proxy)return t;if(s=function ao(){const e=Gr;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)To||(a=p),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(vu(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Mi(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Mi(r,e[c],t,s,a);return null}return t=Ma(t),r&&r[W]?r.O(e,t,us(s)?!!s.capture:!!s,a):ds(r,e,t,!0,s,a)}function ki(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)ki(r,e[c],t,s,a);else s=us(s)?!!s.capture:!!s,t=Ma(t),r&&r[W]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=lr(c=r.g[e],t,s,a))&&(ft(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=pa(r))&&(e=r.g[e.toString()],r=-1,e&&(r=lr(e,t,s,a)),(t=-1<r?e[r]:null)&&Ns(t))}function Ns(r){if("number"!=typeof r&&r&&!r.ba){var e=r.src;if(e&&e[W])Rr(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(vu(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=pa(e))?(Rr(t,r),0==t.h&&(t.src=null,e[br]=null)):ft(r)}}}function vu(r){return r in ls?ls[r]:ls[r]="on"+r}function Gr(r,e){if(r.ba)r=!0;else{e=new B(e,this);var t=r.listener,s=r.ha||r.src;r.ea&&Ns(r),r=t.call(s,e)}return r}function pa(r){return(r=r[br])instanceof Bn?r:null}var _u="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ma(r){return"function"==typeof r?r:(r[_u]||(r[_u]=function(e){return r.handleEvent(e)}),r[_u])}function ii(){yr.call(this),this.i=new Bn(this),this.P=this,this.I=null}function gi(r,e){var t,s=r.I;if(s)for(t=[];s;s=s.I)t.push(s);if(r=r.P,s=e.type||e,"string"==typeof e)e=new xr(e,r);else if(e instanceof xr)e.target=e.target||r;else{var a=e;er(e=new xr(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var p=e.g=t[c];a=Ps(p,s,!0,e)&&a}if(a=Ps(p=e.g=r,s,!0,e)&&a,a=Ps(p,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=Ps(p=e.g=t[c],s,!1,e)&&a}function Ps(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.ba&&p.capture==t){var b=p.listener,N=p.ha||p.src;p.ea&&Rr(r.i,p),a=!1!==b.call(N,s)&&a}}return a&&!s.defaultPrevented}kr(ii,yr),ii.prototype[W]=!0,ii.prototype.removeEventListener=function(r,e,t,s){ki(this,r,e,t,s)},ii.prototype.M=function(){if(ii.X.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)ft(t[s]);delete r.g[e],r.h--}}this.I=null},ii.prototype.N=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},ii.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var Zo=In.JSON.stringify;function wu(){var r=Ra;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Ws,Qa=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Zu,r=>r.reset());class Zu{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Xr(r){In.setTimeout(()=>{throw r},0)}function Al(r,e){Ws||function Eu(){var r=In.Promise.resolve(void 0);Ws=function(){r.then(qu)}}(),qo||(Ws(),qo=!0),Ra.add(r,e)}var qo=!1,Ra=new class ka{constructor(){this.h=this.g=null}add(e,t){const s=Qa.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function qu(){for(var r;r=wu();){try{r.h.call(r.g)}catch(t){Xr(t)}var e=Qa;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}qo=!1}function Ar(r,e){ii.call(this),this.h=r||1,this.g=e||In,this.j=mn(this.lb,this),this.l=Date.now()}function Oa(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function Ci(r,e,t){if("function"==typeof r)t&&(r=mn(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=mn(r.handleEvent,r)}return 2147483647<Number(e)?-1:In.setTimeout(r,e||0)}function Ja(r){r.g=Ci(()=>{r.g=null,r.i&&(r.i=!1,Ja(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}kr(Ar,ii),(Gt=Ar.prototype).ca=!1,Gt.R=null,Gt.lb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),gi(this,"tick"),this.ca&&(Oa(this),this.start()))}},Gt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Gt.M=function(){Ar.X.M.call(this),Oa(this),delete this.g};class Mo extends yr{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ja(this)}M(){super.M(),this.g&&(In.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yo(r){yr.call(this),this.h=r,this.g={}}kr(Yo,yr);var Xa=[];function ga(r,e,t,s){Array.isArray(t)||(t&&(Xa[0]=t.toString()),t=Xa);for(var a=0;a<t.length;a++){var c=cs(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function Qo(r){sn(r.g,function(e,t){this.g.hasOwnProperty(t)&&Ns(e)},r),r.g={}}function Gs(){this.g=!0}function Ji(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Na(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<a.length;p++)a[p]=""}}}return Zo(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Yo.prototype.M=function(){Yo.X.M.call(this),Qo(this)},Yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gs.prototype.Aa=function(){this.g=!1},Gs.prototype.info=function(){};var Xi={},Ks=null;function eu(){return Ks=Ks||new ii}function Jo(r){xr.call(this,Xi.Pa,r)}function uo(r){const e=eu();gi(e,new Jo(e))}function Ro(r,e){xr.call(this,Xi.STAT_EVENT,r),this.stat=e}function xi(r){const e=eu();gi(e,new Ro(e,r))}function si(r,e){xr.call(this,Xi.Qa,r),this.size=e}function Zs(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return In.setTimeout(function(){r()},e)}Xi.Pa="serverreachability",kr(Jo,xr),Xi.STAT_EVENT="statevent",kr(Ro,xr),Xi.Qa="timingevent",kr(si,xr);var Pa={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Xo={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Oo(){}function No(){}Oo.prototype.h=null;var lo,hs={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ea(){xr.call(this,"d")}function La(){xr.call(this,"c")}function Ri(){}function Po(r,e,t,s){this.l=r,this.j=e,this.m=t,this.U=s||1,this.S=new Yo(this),this.O=Pd,this.T=new Ar(r=pi?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new vr}function vr(){this.i=null,this.g="",this.h=!1}kr(ea,xr),kr(La,xr),kr(Ri,Oo),Ri.prototype.g=function(){return new XMLHttpRequest},Ri.prototype.i=function(){return{}},lo=new Ri;var Pd=45e3,Fa={},ta={};function tu(r,e,t){r.K=1,r.v=Lo(Qs(e)),r.s=t,r.P=!0,Ec(r,null)}function Ec(r,e){r.F=Date.now(),bu(r),r.A=Qs(r.v);var t=r.A,s=r.U;Array.isArray(s)||(s=[String(s)]),Dn(t.i,"t",s),r.C=0,t=r.l.H,r.h=new vr,r.g=xc(r.l,t?e:null,!r.s),0<r.N&&(r.L=new Mo(mn(r.La,r,r.g),r.N)),ga(r.S,r.g,"readystatechange",r.ib),e=r.H?Kn(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,e)):(r.u="GET",r.g.da(r.A,r.u,null,e)),uo(),function ma(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var p="",b=c.split("&"),N=0;N<b.length;N++){var U=b[N].split("=");if(1<U.length){var X=U[0];U=U[1];var Ee=X.split("_");p=2<=Ee.length&&"type"==Ee[1]?p+(X+"=")+U+"&":p+(X+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(r.j,r.u,r.A,r.m,r.U,r.s)}function nu(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function Ml(r,e,t){let a,s=!0;for(;!r.I&&r.C<t.length;){if(a=na(r,t),a==ta){4==e&&(r.o=4,xi(14),s=!1),Ji(r.j,r.m,null,"[Incomplete Response]");break}if(a==Fa){r.o=4,xi(15),Ji(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Ji(r.j,r.m,a,null),ru(r,a)}nu(r)&&a!=ta&&a!=Fa&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,xi(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.$&&(r.$=!0,(e=r.l).g==r&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ju(e),e.K=!0,xi(11))):(Ji(r.j,r.m,t,"[Invalid Chunked Response]"),Ys(r),qs(r))}function na(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?ta:(t=Number(e.substring(t,s)),isNaN(t)?Fa:(s+=1)+t>e.length?ta:(e=e.substr(s,t),r.C=s+t,e))}function bu(r){r.V=Date.now()+r.O,bc(r,r.O)}function bc(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Zs(mn(r.gb,r),e)}function Kr(r){r.B&&(In.clearTimeout(r.B),r.B=null)}function qs(r){0==r.l.G||r.I||Cu(r.l,r)}function Ys(r){Kr(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,Oa(r.T),Qo(r.S),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function ru(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||Vo(t.h,r)))if(!r.J&&Vo(t.h,r)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<r.F))break e;Xu(t),wa(t)}Bd(t),xi(18)}}else t.Ba=a[1],0<t.Ba-t.T&&37500>a[2]&&t.L&&0==t.A&&!t.v&&(t.v=Zs(mn(t.cb,t),6e3));if(1>=Iu(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else xu(t,11)}else if((r.J||t.g==r)&&Xu(t),!Os(e))for(a=t.Fa.g.parse(e),e=0;e<a.length;e++){let U=a[e];if(t.T=U[0],U=U[1],2==t.G)if("c"==U[0]){t.I=U[1],t.ka=U[2];const X=U[3];null!=X&&(t.ma=X,t.j.info("VER="+t.ma));const Ee=U[4];null!=Ee&&(t.Ca=Ee,t.j.info("SVER="+t.Ca));const Ze=U[5];null!=Ze&&"number"==typeof Ze&&0<Ze&&(t.J=s=1.5*Ze,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const pt=r.g;if(pt){const bt=pt.g?pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bt){var c=s.h;c.g||-1==bt.indexOf("spdy")&&-1==bt.indexOf("quic")&&-1==bt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(k(c,c.h),c.h=null))}if(s.D){const Jt=pt.g?pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Jt&&(s.za=Jt,Sr(s.F,s.D,Jt))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var p=r;if((s=t).sa=Ol(s,s.H?s.ka:null,s.V),p.J){L(s.h,p);var b=p,N=s.J;N&&b.setTimeout(N),b.B&&(Kr(b),bu(b)),s.g=p}else Cc(s);0<t.i.length&&Dc(t)}else"stop"!=U[0]&&"close"!=U[0]||xu(t,7);else 3==t.G&&("stop"==U[0]||"close"==U[0]?"stop"==U[0]?xu(t,7):Vd(t):"noop"!=U[0]&&t.l&&t.l.wa(U),t.A=0)}uo()}catch{}}function Ls(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Es(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function es(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Es(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Va(r){if(r.W&&"function"==typeof r.W)return r.W();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Es(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(Gt=Po.prototype).setTimeout=function(r){this.O=r},Gt.ib=function(r){r=r.target;const e=this.L;e&&3==iu(r)?e.l():this.La(r)},Gt.La=function(r){try{if(r==this.g)e:{const X=iu(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>X)&&(3!=X||pi||this.g&&(this.h.h||this.g.fa()||Ld(this.g)))){this.I||4!=X||7==e||uo(),Kr(this);var t=this.g.aa();this.Y=t;t:if(nu(this)){var s=Ld(this.g);r="";var a=s.length,c=4==iu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ys(this),qs(this);var p="";break t}this.h.i=new In.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,p=this.h.g}else p=this.g.fa();if(this.i=200==t,function ko(r,e,t,s,a,c,p){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.U,X,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var b,N=this.g;if((b=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Os(b)){var U=b;break t}}U=null}if(!(t=U)){this.i=!1,this.o=3,xi(12),Ys(this),qs(this);break e}Ji(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ru(this,t)}this.P?(Ml(this,X,p),pi&&this.i&&3==X&&(ga(this.S,this.T,"tick",this.hb),this.T.start())):(Ji(this.j,this.m,p,null),ru(this,p)),4==X&&Ys(this),this.i&&!this.I&&(4==X?Cu(this.l,this):(this.i=!1,bu(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,xi(12)):(this.o=0,xi(13)),Ys(this),qs(this)}}}catch{}},Gt.hb=function(){if(this.g){var r=iu(this.g),e=this.g.fa();this.C<e.length&&(Kr(this),Ml(this,r,e),this.i&&4!=r&&bu(this))}},Gt.cancel=function(){this.I=!0,Ys(this)},Gt.gb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function Yu(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(uo(),xi(17)),Ys(this),this.o=2,qs(this)):bc(this,this.V-r)};var Ua=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fs(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof fs){this.h=void 0!==e?e:r.h,ya(this,r.j),this.s=r.s,this.g=r.g,va(this,r.m),this.l=r.l,e=r.i;var t=new ce;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),co(this,t),this.o=r.o}else r&&(t=String(r).match(Ua))?(this.h=!!e,ya(this,t[1]||"",!0),this.s=oi(t[2]||""),this.g=oi(t[3]||"",!0),va(this,t[4]),this.l=oi(t[5]||"",!0),co(this,t[6]||"",!0),this.o=oi(t[7]||"")):(this.h=!!e,this.i=new ce(null,this.h))}function Qs(r){return new fs(r)}function ya(r,e,t){r.j=t?oi(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function va(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function co(r,e,t){e instanceof ce?(r.i=e,function zn(r,e){e&&!r.j&&(_e(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(ct(this,s),Dn(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Fo(e,P)),r.i=new ce(e,r.h))}function Sr(r,e,t){r.i.set(e,t)}function Lo(r){return Sr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function oi(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Fo(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,_),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function _(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}fs.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Fo(e,w,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Fo(e,w,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Fo(t,"/"==t.charAt(0)?S:v,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Fo(t,$)),r.join("")};var w=/[#\/\?@]/g,v=/[#\?:]/g,S=/[#\?]/g,P=/[#\?@]/g,$=/#/g;function ce(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function _e(r){r.g||(r.g=new Map,r.h=0,r.i&&function ra(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ct(r,e){_e(r),e=Xt(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function $t(r,e){return _e(r),e=Xt(r,e),r.g.has(e)}function Dn(r,e,t){ct(r,e),0<t.length&&(r.i=null,r.g.set(Xt(r,e),ri(t)),r.h+=t.length)}function Xt(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ts(r){this.l=r||Js,r=In.PerformanceNavigationTiming?0<(r=In.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(In.g&&In.g.Ga&&In.g.Ga()&&In.g.Ga().$b),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Gt=ce.prototype).add=function(r,e){_e(this),this.i=null,r=Xt(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Gt.forEach=function(r,e){_e(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},Gt.oa=function(){_e(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},Gt.W=function(r){_e(this);let e=[];if("string"==typeof r)$t(this,r)&&(e=e.concat(this.g.get(Xt(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Gt.set=function(r,e){return _e(this),this.i=null,$t(this,r=Xt(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Gt.get=function(r,e){return r&&0<(r=this.W(r)).length?String(r[0]):e},Gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),p=this.W(s);for(s=0;s<p.length;s++){var a=c;""!==p[s]&&(a+="="+encodeURIComponent(String(p[s]))),r.push(a)}}return this.i=r.join("&")};var Js=10;function ns(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Iu(r){return r.h?1:r.g?r.g.size:0}function Vo(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function k(r,e){r.g?r.g.add(e):r.h=e}function L(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function G(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return ri(r.i)}function fe(){}function Fe(){this.g=new fe}function rt(r,e,t){const s=t||"";try{Ls(r,function(a,c){let p=a;us(a)&&(p=Zo(a)),e.push(s+c+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Kt(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function Cn(r){this.l=r.ac||null,this.j=r.jb||!1}function Vn(r,e){ii.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=Hn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ts.prototype.cancel=function(){if(this.i=G(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},fe.prototype.stringify=function(r){return In.JSON.stringify(r,void 0)},fe.prototype.parse=function(r){return In.JSON.parse(r,void 0)},kr(Cn,Oo),Cn.prototype.g=function(){return new Vn(this.l,this.j)},Cn.prototype.i=function(r){return function(){return r}}({}),kr(Vn,ii);var Hn=0;function xn(r){r.j.read().then(r.Ta.bind(r)).catch(r.ga.bind(r))}function Pr(r){r.readyState=4,r.l=null,r.j=null,r.A=null,mi(r)}function mi(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Gt=Vn.prototype).open=function(r,e){if(this.readyState!=Hn)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,mi(this)},Gt.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||In).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pr(this)),this.readyState=Hn},Gt.Wa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof In.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xn(this)}else r.text().then(this.Va.bind(this),this.ga.bind(this))},Gt.Ta=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Pr(this):mi(this),3==this.readyState&&xn(this)}},Gt.Va=function(r){this.g&&(this.response=this.responseText=r,Pr(this))},Gt.Ua=function(r){this.g&&(this.response=r,Pr(this))},Gt.ga=function(){this.g&&Pr(this)},Gt.setRequestHeader=function(r,e){this.v.append(r,e)},Gt.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Gt.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Vn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Uo=In.JSON.parse;function Or(r){ii.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Bo,this.K=this.L=!1}kr(Or,ii);var Bo="",Du=/^https?$/i,Ba=["POST","PUT"];function ia(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Ha(r),_a(r)}function Ha(r){r.D||(r.D=!0,gi(r,"complete"),gi(r,"error"))}function sa(r){if(r.h&&typeof En<"u"&&(!r.C[1]||4!=iu(r)||2!=r.aa()))if(r.v&&4==iu(r))Ci(r.Ha,0,r);else if(gi(r,"readystatechange"),4==iu(r)){r.h=!1;try{const b=r.aa();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===b){var a=String(r.H).match(Ua)[1]||null;if(!a&&In.self&&In.self.location){var c=In.self.location.protocol;a=c.substr(0,c.length-1)}s=!Du.test(a?a.toLowerCase():"")}t=s}if(t)gi(r,"complete"),gi(r,"success");else{r.m=6;try{var p=2<iu(r)?r.g.statusText:""}catch{p=""}r.j=p+" ["+r.aa()+"]",Ha(r)}}finally{_a(r)}}}function _a(r,e){if(r.g){Qh(r);const t=r.g,s=r.C[0]?Co:null;r.g=null,r.C=null,e||gi(r,"ready");try{t.onreadystatechange=s}catch{}}}function Qh(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(In.clearTimeout(r.A),r.A=null)}function iu(r){return r.g?r.g.readyState:0}function Ld(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case Bo:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Ic(r){let e="";return sn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Jh(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Ic(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Sr(r,e,t))}function kl(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Fd(r){this.Ca=0,this.i=[],this.j=new Gs,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=kl("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=kl("baseRetryDelayMs",5e3,r),this.bb=kl("retryDelaySeedMs",1e4,r),this.$a=kl("forwardChannelMaxRetries",2,r),this.ta=kl("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Zb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new ts(r&&r.concurrentRequestLimit),this.Fa=new Fe,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=r&&r.Xb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Vd(r){if(Ud(r),3==r.G){var e=r.U++,t=Qs(r.F);Sr(t,"SID",r.I),Sr(t,"RID",e),Sr(t,"TYPE","terminate"),Qu(r,t),(e=new Po(r,r.j,e,void 0)).K=2,e.v=Lo(Qs(t)),t=!1,In.navigator&&In.navigator.sendBeacon&&(t=In.navigator.sendBeacon(e.v.toString(),"")),!t&&In.Image&&((new Image).src=e.v,t=!0),t||(e.g=xc(e.l,null),e.g.da(e.v)),e.F=Date.now(),bu(e)}tf(r)}function wa(r){r.g&&(Ju(r),r.g.cancel(),r.g=null)}function Ud(r){wa(r),r.u&&(In.clearTimeout(r.u),r.u=null),Xu(r),r.h.cancel(),r.m&&("number"==typeof r.m&&In.clearTimeout(r.m),r.m=null)}function Dc(r){ns(r.h)||r.m||(r.m=!0,Al(r.Ja,r),r.C=0)}function Gp(r,e){var t;t=e?e.m:r.U++;const s=Qs(r.F);Sr(s,"SID",r.I),Sr(s,"RID",t),Sr(s,"AID",r.T),Qu(r,s),r.o&&r.s&&Jh(s,r.o,r.s),t=new Po(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.i=e.D.concat(r.i)),e=Kp(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),k(r.h,t),tu(t,s,e)}function Qu(r,e){r.ia&&sn(r.ia,function(t,s){Sr(e,s,t)}),r.l&&Ls({},function(t,s){Sr(e,s,t)})}function Kp(r,e,t){t=Math.min(r.i.length,t);var s=r.l?mn(r.l.Ra,r.l,r):null;e:{var a=r.i;let c=-1;for(;;){const p=["count="+t];-1==c?0<t?(c=a[0].h,p.push("ofs="+c)):c=0:p.push("ofs="+c);let b=!0;for(let N=0;N<t;N++){let U=a[N].h;const X=a[N].g;if(U-=c,0>U)c=Math.max(0,a[N].h-100),b=!1;else try{rt(X,p,"req"+U+"_")}catch{s&&s(X)}}if(b){s=p.join("&");break e}}}return r=r.i.splice(0,t),e.D=r,s}function Cc(r){r.g||r.u||(r.Z=1,Al(r.Ia,r),r.A=0)}function Bd(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=Zs(mn(r.Ia,r),ef(r,r.A)),r.A++,0))}function Ju(r){null!=r.B&&(In.clearTimeout(r.B),r.B=null)}function Rl(r){r.g=new Po(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var e=Qs(r.sa);Sr(e,"RID","rpc"),Sr(e,"SID",r.I),Sr(e,"CI",r.L?"0":"1"),Sr(e,"AID",r.T),Sr(e,"TYPE","xmlhttp"),Qu(r,e),r.o&&r.s&&Jh(e,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=Lo(Qs(e)),t.s=null,t.P=!0,Ec(t,r)}function Xu(r){null!=r.v&&(In.clearTimeout(r.v),r.v=null)}function Cu(r,e){var t=null;if(r.g==e){Xu(r),Ju(r),r.g=null;var s=2}else{if(!Vo(r.h,e))return;t=e.D,L(r.h,e),s=1}if(0!=r.G)if(r.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=r.C;gi(s=eu(),new si(s,t)),Dc(r)}else Cc(r);else if(3==(a=e.o)||0==a&&0<r.pa||!(1==s&&function Xh(r,e){return!(Iu(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=Zs(mn(r.Ja,r,e),ef(r,r.C)),r.C++,0)))}(r,e)||2==s&&Bd(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),a){case 1:xu(r,5);break;case 4:xu(r,10);break;case 3:xu(r,6);break;default:xu(r,2)}}function ef(r,e){let t=r.Xa+Math.floor(Math.random()*r.bb);return r.l||(t*=2),t*e}function xu(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=mn(r.kb,r);t||(t=new fs("//www.google.com/images/cleardot.gif"),In.location&&"http"==In.location.protocol||ya(t,"https"),Lo(t)),function Tt(r,e){const t=new Gs;if(In.Image){const s=new Image;s.onload=Rs(Kt,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Rs(Kt,t,s,"TestLoadImage: error",!1,e),s.onabort=Rs(Kt,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Rs(Kt,t,s,"TestLoadImage: timeout",!1,e),In.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else xi(2);r.G=0,r.l&&r.l.va(e),tf(r),Ud(r)}function tf(r){if(r.G=0,r.la=[],r.l){const e=G(r.h);(0!=e.length||0!=r.i.length)&&(xo(r.la,e),xo(r.la,r.i),r.h.i.length=0,ri(r.i),r.i.length=0),r.l.ua()}}function Ol(r,e,t){var s=t instanceof fs?Qs(t):new fs(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),va(s,s.m);else{var a=In.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new fs(null,void 0);s&&ya(c,s),e&&(c.g=e),a&&va(c,a),t&&(c.l=t),s=c}return e=r.za,(t=r.D)&&e&&Sr(s,t,e),Sr(s,"VER",r.ma),Qu(r,s),s}function xc(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Or(t&&r.Da&&!r.ra?new Cn({jb:!0}):r.ra)).Ka(r.H),e}function jd(){}function Nl(){if(Vr&&!(10<=Number(x)))throw Error("Environmental error: no available transport.")}function Cs(r,e){ii.call(this),this.g=new Fd(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.S=r,(r=e&&e.Yb)&&!Os(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Os(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new el(this)}function Hd(r){ea.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Tc(){La.call(this),this.status=1}function el(r){this.g=r}(Gt=Or.prototype).Ka=function(r){this.L=r},Gt.da=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lo.g(),this.C=function Ti(r){return r.h||(r.h=r.i())}(this.u?this.u:lo),this.g.onreadystatechange=mn(this.Ha,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(c){return void ia(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=In.FormData&&r instanceof In.FormData,!(0<=Is(Ba,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,p]of t)this.g.setRequestHeader(c,p);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Qh(this),0<this.B&&((this.K=function ja(r){return Vr&&function yu(){return function cn(r){var e=Ao;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=F(String($s)).split("."),t=F("9").split("."),s=Math.max(e.length,t.length);for(let p=0;0==r&&p<s;p++){var a=e[p]||"",c=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;r=O(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||O(0==a[2].length,0==c[2].length)||O(a[2],c[2]),a=a[3],c=c[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mn(this.qa,this)):this.A=Ci(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){ia(this,c)}},Gt.qa=function(){typeof En<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gi(this,"timeout"),this.abort(8))},Gt.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,gi(this,"complete"),gi(this,"abort"),_a(this))},Gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_a(this,!0)),Or.X.M.call(this)},Gt.Ha=function(){this.s||(this.F||this.v||this.l?sa(this):this.fb())},Gt.fb=function(){sa(this)},Gt.aa=function(){try{return 2<iu(this)?this.g.status:-1}catch{return-1}},Gt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Gt.Sa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Uo(e)}},Gt.Ea=function(){return this.m},Gt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Gt=Fd.prototype).ma=8,Gt.G=1,Gt.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const a=new Po(this,this.j,r,void 0);let c=this.s;if(this.S&&(c?(c=Kn(c),er(c,this.S)):c=this.S),null!==this.o||this.N||(a.H=c,c=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Kp(this,a,e),Sr(t=Qs(this.F),"RID",r),Sr(t,"CVER",22),this.D&&Sr(t,"X-HTTP-Session-Id",this.D),Qu(this,t),c&&(this.N?e="headers="+encodeURIComponent(String(Ic(c)))+"&"+e:this.o&&Jh(t,this.o,c)),k(this.h,a),this.Ya&&Sr(t,"TYPE","init"),this.O?(Sr(t,"$req",e),Sr(t,"SID","null"),a.Z=!0,tu(a,t,null)):tu(a,t,e),this.G=2}}else 3==this.G&&(r?Gp(this,r):0==this.i.length||ns(this.h)||Gp(this))},Gt.Ia=function(){if(this.u=null,Rl(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=Zs(mn(this.eb,this),r)}},Gt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,xi(10),wa(this),Rl(this))},Gt.cb=function(){null!=this.v&&(this.v=null,wa(this),Bd(this),xi(19))},Gt.kb=function(r){r?(this.j.info("Successfully pinged google.com"),xi(2)):(this.j.info("Failed to ping google.com"),xi(1))},(Gt=jd.prototype).xa=function(){},Gt.wa=function(){},Gt.va=function(){},Gt.ua=function(){},Gt.Ra=function(){},Nl.prototype.g=function(r,e){return new Cs(r,e)},kr(Cs,ii),Cs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;xi(0),r.V=e,r.ia=t||{},r.L=r.Y,r.F=Ol(r,null,r.V),Dc(r)},Cs.prototype.close=function(){Vd(this.g)},Cs.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Zo(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.ab++,r)),3==e.G&&Dc(e)},Cs.prototype.M=function(){this.g.l=null,delete this.j,Vd(this.g),delete this.g,Cs.X.M.call(this)},kr(Hd,ea),kr(Tc,La),kr(el,jd),el.prototype.xa=function(){gi(this.g,"a")},el.prototype.wa=function(r){gi(this.g,new Hd(r))},el.prototype.va=function(r){gi(this.g,new Tc)},el.prototype.ua=function(){gi(this.g,"b")},Nl.prototype.createWebChannel=Nl.prototype.g,Cs.prototype.send=Cs.prototype.u,Cs.prototype.open=Cs.prototype.m,Cs.prototype.close=Cs.prototype.close,Pa.NO_ERROR=0,Pa.TIMEOUT=8,Pa.HTTP_ERROR=6,Xo.COMPLETE="complete",No.EventType=hs,hs.OPEN="a",hs.CLOSE="b",hs.ERROR="c",hs.MESSAGE="d",ii.prototype.listen=ii.prototype.N,Or.prototype.listenOnce=Or.prototype.O,Or.prototype.getLastError=Or.prototype.Oa,Or.prototype.getLastErrorCode=Or.prototype.Ea,Or.prototype.getStatus=Or.prototype.aa,Or.prototype.getResponseJson=Or.prototype.Sa,Or.prototype.getResponseText=Or.prototype.fa,Or.prototype.send=Or.prototype.da,Or.prototype.setWithCredentials=Or.prototype.Ka;var nf=Ii.createWebChannelTransport=function(){return new Nl},Zp=Ii.getStatEventTarget=function(){return eu()},Pl=Ii.ErrorCode=Pa,su=Ii.EventType=Xo,tl=Ii.Event=Xi,$d=Ii.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Sy=Ii.FetchXmlHttpFactory=Cn,zd=Ii.WebChannel=No,Ay=Ii.XhrIo=Or;const qp="@firebase/firestore";class ps{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ps.UNAUTHENTICATED=new ps(null),ps.GOOGLE_CREDENTIALS=new ps("google-credentials-uid"),ps.FIRST_PARTY=new ps("first-party-uid"),ps.MOCK_USER=new ps("mock-user");let ou="9.14.0";const au=new On.Yd("@firebase/firestore");function rf(){return au.logLevel}function d(r,...e){if(au.logLevel<=On.in.DEBUG){const t=e.map(j);au.debug(`Firestore (${ou}): ${r}`,...t)}}function g(r,...e){if(au.logLevel<=On.in.ERROR){const t=e.map(j);au.error(`Firestore (${ou}): ${r}`,...t)}}function D(r,...e){if(au.logLevel<=On.in.WARN){const t=e.map(j);au.warn(`Firestore (${ou}): ${r}`,...t)}}function j(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function z(r="Unexpected state"){const e=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: `+r;throw g(e),new Error(e)}function Ce(r,e){r||z()}function dt(r,e){return r}const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends dn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $n{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ho{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ps.UNAUTHENTICATED))}shutdown(){}}class Wd{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gd{constructor(e){this.t=e,this.currentUser=ps.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=U=>this.i!==a?(a=this.i,t(U)):Promise.resolve();let p=new $n;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new $n,e.enqueueRetryable(()=>c(this.currentUser))};const b=()=>{const U=p;e.enqueueRetryable((0,ke.Z)(function*(){yield U.promise,yield c(s.currentUser)}))},N=U=>{d("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(U=>N(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?N(U):(d("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new $n)}},0),b()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(d("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ce("string"==typeof s.accessToken),new ho(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ce(null===e||"string"==typeof e),new ps(e)}}class Kd{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a,this.type="FirstParty",this.user=ps.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ce(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class sf{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a}getToken(){return Promise.resolve(new Kd(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ps.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qd{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=c=>{null!=c.error&&d("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.A;return this.A=c.token,d("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{d("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.T.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.T.getImmediate({optional:!0});c?a(c):d("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ce("string"==typeof t.token),this.A=t.token,new Zd(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ll(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Sc{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Ll(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function Ln(r,e){return r<e?-1:r>e?1:0}function nl(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}function ai(r){return r+"\0"}class Zr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ht(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ht(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ht(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ht(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zr.fromMillis(Date.now())}static fromDate(e){return Zr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Zr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ln(this.nanoseconds,e.nanoseconds):Ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fn(e)}static min(){return new Fn(new Zr(0,0))}static max(){return new Fn(new Zr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fl{constructor(e,t,s){void 0===t?t=0:t>e.length&&z(),void 0===s?s=e.length-t:s>e.length-t&&z(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Fl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fl?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),p=t.get(a);if(c<p)return-1;if(c>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ir extends Fl{construct(e,t,s){return new Ir(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ht(Ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Ir(t)}static emptyPath(){return new Ir([])}}const _0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Oi extends Fl{construct(e,t,s){return new Oi(e,t,s)}static isValidIdentifier(e){return _0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Oi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Oi(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new ht(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const b=e[a];if("\\"===b){if(a+1===e.length)throw new ht(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[a+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new ht(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=N,a+=2}else"`"===b?(p=!p,a++):"."!==b||p?(s+=b,a++):(c(),a++)}if(c(),p)throw new ht(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Oi(t)}static emptyPath(){return new Oi([])}}class tn{constructor(e){this.path=e}static fromPath(e){return new tn(Ir.fromString(e))}static fromName(e){return new tn(Ir.fromString(e).popFirst(5))}static empty(){return new tn(Ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ir.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ir.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new Ir(e.slice()))}}class uf{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function Yp(r){return r.fields.find(e=>2===e.kind)}function Ac(r){return r.fields.filter(e=>2!==e.kind)}uf.UNKNOWN_ID=-1;class rl{constructor(e,t){this.fieldPath=e,this.kind=t}}class Mc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Mc(0,oa.min())}}function Jp(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Fn.fromTimestamp(1e9===s?new Zr(t+1,0):new Zr(t,s));return new oa(a,tn.empty(),e)}function Xp(r){return new oa(r.readTime,r.key,-1)}class oa{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new oa(Fn.min(),tn.empty(),-1)}static max(){return new oa(Fn.max(),tn.empty(),-1)}}function lf(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=tn.comparator(r.documentKey,e.documentKey),0!==t?t:Ln(r.largestBatchId,e.largestBatchId))}const eg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Vl(r){return tg.apply(this,arguments)}function tg(){return tg=(0,ke.Z)(function*(r){if(r.code!==Ne.FAILED_PRECONDITION||r.message!==eg)throw r;d("LocalStore","Unexpectedly lost primary lease")}),tg.apply(this,arguments)}class it{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new it((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof it?t:it.resolve(t)}catch(t){return it.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):it.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):it.reject(t)}static resolve(e){return new it((t,s)=>{t(e)})}static reject(e){return new it((t,s)=>{s(e)})}static waitFor(e){return new it((t,s)=>{let a=0,c=0,p=!1;e.forEach(b=>{++a,b.next(()=>{++c,p&&c===a&&t()},N=>s(N))}),p=!0,c===a&&t()})}static or(e){let t=it.resolve(!1);for(const s of e)t=t.next(a=>a?it.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new it((s,a)=>{const c=e.length,p=new Array(c);let b=0;for(let N=0;N<c;N++){const U=N;t(e[U]).next(X=>{p[U]=X,++b,b===c&&s(p)},X=>a(X))}})}static doWhile(e,t){return new it((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}class Yd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new $n,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Qd(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const a=kc(s.target.error);this.P.reject(new Qd(e,a))}}static open(e,t,s,a){try{return new Yd(t,e.transaction(a,s))}catch(c){throw new Qd(t,c)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(d("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new df(t)}}class Ea{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===Ea.D((0,dn.z$)())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return d("SimpleDb","Removing database:",e),Bl(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,dn.hl)())return!1;if(Ea.N())return!0;const e=(0,dn.z$)(),t=Ea.D(e),s=0<t&&t<10,a=Ea.k(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,ke.Z)(function*(){return t.db||(d("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=p=>{s(p.target.result)},c.onblocked=()=>{a(new Qd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=p=>{const b=p.target.error;a("VersionError"===b.name?new ht(Ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new ht(Ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new Qd(e,b))},c.onupgradeneeded=p=>{d("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.S.$(p.target.result,c.transaction,p.oldVersion,t.version).next(()=>{d("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var c=this;return(0,ke.Z)(function*(){const p="readonly"===t;let b=0;for(;;){++b;try{c.db=yield c.F(e);const N=Yd.open(c.db,e,p?"readonly":"readwrite",s),U=a(N).next(X=>(N.V(),X)).catch(X=>(N.abort(X),it.reject(X))).toPromise();return U.catch(()=>{}),yield N.v,U}catch(N){const U=N,X="FirebaseError"!==U.name&&b<3;if(d("SimpleDb","Transaction failed with error:",U.message,"Retrying:",X),c.close(),!X)return Promise.reject(U)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ul{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Bl(this.U.delete())}}class Qd extends ht{constructor(e,t){super(Ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function uu(r){return"IndexedDbTransactionError"===r.name}class df{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(d("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Bl(s)}add(e){return d("SimpleDb","ADD",this.store.name,e,e),Bl(this.store.add(e))}get(e){return Bl(this.store.get(e)).next(t=>(void 0===t&&(t=null),d("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return d("SimpleDb","DELETE",this.store.name,e),Bl(this.store.delete(e))}count(){return d("SimpleDb","COUNT",this.store.name),Bl(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),c=[];return this.H(a,(p,b)=>{c.push(b)}).next(()=>c)}{const a=this.store.getAll(s.range);return new it((c,p)=>{a.onerror=b=>{p(b.target.error)},a.onsuccess=b=>{c(b.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new it((a,c)=>{s.onerror=p=>{c(p.target.error)},s.onsuccess=p=>{a(p.target.result)}})}Y(e,t){d("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const a=this.cursor(s);return this.H(a,(c,p,b)=>b.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.H(a,t)}tt(e){const t=this.cursor({});return new it((s,a)=>{t.onerror=c=>{const p=kc(c.target.error);a(p)},t.onsuccess=c=>{const p=c.target.result;p?e(p.primaryKey,p.value).next(b=>{b?p.continue():s()}):s()}})}H(e,t){const s=[];return new it((a,c)=>{e.onerror=p=>{c(p.target.error)},e.onsuccess=p=>{const b=p.target.result;if(!b)return void a();const N=new Ul(b),U=t(b.primaryKey,b.value,N);if(U instanceof it){const X=U.catch(Ee=>(N.done(),it.reject(Ee)));s.push(X)}N.isDone?a():null===N.G?b.continue():b.continue(N.G)}}).next(()=>it.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Bl(r){return new it((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const a=kc(s.target.error);t(a)}})}let hf=!1;function kc(r){const e=Ea.D((0,dn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new ht("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hf||(hf=!0,setTimeout(()=>{throw s},0)),s}}return r}class jl{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;d("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ke.Z)(function*(){t.task=null;try{d("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){uu(s)?d("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Vl(s)}yield t.nt(6e4)}))}}class My{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ke.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let a=t,c=!0;return it.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!s.has(p))return d("IndexBackiller",`Processing collection: ${p}`),this.rt(e,p,a).next(b=>{a-=b,s.add(p)});c=!1})).next(()=>t-a)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(c=>{const p=c.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.ot(a,c)).next(b=>(d("IndexBackiller",`Updating offset: ${b}`),this.localStore.indexManager.updateCollectionGroup(e,t,b))).next(()=>p.size)}))}ot(e,t){let s=e;return t.changes.forEach((a,c)=>{const p=Xp(c);lf(p,s)>0&&(s=p)}),new oa(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Xs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>t.writeSequenceNumber(s))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function ky(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Hl(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function ng(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}Xs.at=-1;class qr{constructor(e,t){this.comparator=e,this.root=t||Fs.EMPTY}insert(e,t){return new qr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fs.BLACK,null,null))}remove(e){return new qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ff(this.root,e,this.comparator,!0)}}class ff{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fs{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Fs.RED,this.left=a??Fs.EMPTY,this.right=c??Fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Fs(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Fs.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();const e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}}Fs.EMPTY=null,Fs.RED=!0,Fs.BLACK=!1,Fs.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Fs(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hr{constructor(e){this.comparator=e,this.data=new qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ry(this.data.getIterator())}getIteratorFrom(e){return new Ry(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Hr)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hr(this.comparator);return t.data=e,t}}class Ry{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function il(r){return r.hasNext()?r.getNext():void 0}class aa{constructor(e){this.fields=e,e.sort(Oi.comparator)}static empty(){return new aa([])}unionWith(e){let t=new Hr(Oi.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new aa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class gs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new gs(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new gs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gs.EMPTY_BYTE_STRING=new gs("");const Ny=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $l(r){if(Ce(!!r),"string"==typeof r){let e=0;const t=Ny.exec(r);if(Ce(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ni(r.seconds),nanos:Ni(r.nanos)}}function Ni(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function $a(r){return"string"==typeof r?gs.fromBase64String(r):gs.fromUint8Array(r)}function rg(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function zl(r){const e=r.mapValue.fields.__previous_value__;return rg(e)?zl(e):e}function Su(r){const e=$l(r.mapValue.fields.__local_write_time__.timestampValue);return new Zr(e.seconds,e.nanos)}class w0{constructor(e,t,s,a,c,p,b,N){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.useFetchStreams=N}}class Wl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}function Rc(r){return null==r}function Jd(r){return 0===r&&1/r==-1/0}function Py(r){return"number"==typeof r&&Number.isInteger(r)&&!Jd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const sl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xd={nullValue:"NULL_VALUE"};function ol(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?rg(r)?4:sg(r)?9007199254740991:10:z()}function ba(r,e){if(r===e)return!0;const t=ol(r);if(t!==ol(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Su(r).isEqual(Su(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=$l(s.timestampValue),p=$l(a.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,$a(r.bytesValue).isEqual($a(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return Ni(s.geoPointValue.latitude)===Ni(a.geoPointValue.latitude)&&Ni(s.geoPointValue.longitude)===Ni(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Ni(s.integerValue)===Ni(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=Ni(s.doubleValue),p=Ni(a.doubleValue);return c===p?Jd(c)===Jd(p):isNaN(c)&&isNaN(p)}return!1}(r,e);case 9:return nl(r.arrayValue.values||[],e.arrayValue.values||[],ba);case 10:return function(s,a){const c=s.mapValue.fields||{},p=a.mapValue.fields||{};if(ky(c)!==ky(p))return!1;for(const b in c)if(c.hasOwnProperty(b)&&(void 0===p[b]||!ba(c[b],p[b])))return!1;return!0}(r,e);default:return z()}var a}function eh(r,e){return void 0!==(r.values||[]).find(t=>ba(t,e))}function al(r,e){if(r===e)return 0;const t=ol(r),s=ol(e);if(t!==s)return Ln(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ln(r.booleanValue,e.booleanValue);case 2:return function(a,c){const p=Ni(a.integerValue||a.doubleValue),b=Ni(c.integerValue||c.doubleValue);return p<b?-1:p>b?1:p===b?0:isNaN(p)?isNaN(b)?0:-1:1}(r,e);case 3:return pf(r.timestampValue,e.timestampValue);case 4:return pf(Su(r),Su(e));case 5:return Ln(r.stringValue,e.stringValue);case 6:return function(a,c){const p=$a(a),b=$a(c);return p.compareTo(b)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const p=a.split("/"),b=c.split("/");for(let N=0;N<p.length&&N<b.length;N++){const U=Ln(p[N],b[N]);if(0!==U)return U}return Ln(p.length,b.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const p=Ln(Ni(a.latitude),Ni(c.latitude));return 0!==p?p:Ln(Ni(a.longitude),Ni(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const p=a.values||[],b=c.values||[];for(let N=0;N<p.length&&N<b.length;++N){const U=al(p[N],b[N]);if(U)return U}return Ln(p.length,b.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===sl.mapValue&&c===sl.mapValue)return 0;if(a===sl.mapValue)return 1;if(c===sl.mapValue)return-1;const p=a.fields||{},b=Object.keys(p),N=c.fields||{},U=Object.keys(N);b.sort(),U.sort();for(let X=0;X<b.length&&X<U.length;++X){const Ee=Ln(b[X],U[X]);if(0!==Ee)return Ee;const Ze=al(p[b[X]],N[U[X]]);if(0!==Ze)return Ze}return Ln(b.length,U.length)}(r.mapValue,e.mapValue);default:throw z()}}function pf(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Ln(r,e);const t=$l(r),s=$l(e),a=Ln(t.seconds,s.seconds);return 0!==a?a:Ln(t.nanos,s.nanos)}function th(r){return Ly(r)}function Ly(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=$l(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?$a(r.bytesValue).toBase64():"referenceValue"in r?tn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const p of s.values||[])c?c=!1:a+=",",a+=Ly(p);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",p=!0;for(const b of a)p?p=!1:c+=",",c+=`${b}:${Ly(s.fields[b])}`;return c+"}"}(r.mapValue):z();var e}function Au(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Fy(r){return!!r&&"integerValue"in r}function gf(r){return!!r&&"arrayValue"in r}function E0(r){return!!r&&"nullValue"in r}function b0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ig(r){return!!r&&"mapValue"in r}function nh(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Hl(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=nh(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nh(r.arrayValue.values[t]);return e}return Object.assign({},r)}function sg(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function og(r){return"nullValue"in r?Xd:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Au(Wl.empty(),tn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:z()}function Vy(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Au(Wl.empty(),tn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?sl:z()}function ag(r,e){const t=al(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function ug(r,e){const t=al(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class ms{constructor(e){this.value=e}static empty(){return new ms({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ig(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nh(t)}setAll(e){let t=Oi.emptyPath(),s={},a=[];e.forEach((p,b)=>{if(!t.isImmediateParentOf(b)){const N=this.getFieldsMap(t);this.applyChanges(N,s,a),s={},a=[],t=b.popLast()}p?s[b.lastSegment()]=nh(p):a.push(b.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());ig(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ba(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ig(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Hl(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new ms(nh(this.value))}}function Uy(r){const e=[];return Hl(r.fields,(t,s)=>{const a=new Oi([t]);if(ig(s)){const c=Uy(s.mapValue).fields;if(0===c.length)e.push(a);else for(const p of c)e.push(a.child(p))}else e.push(a)}),new aa(e)}class $r{constructor(e,t,s,a,c,p){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.data=c,this.documentState=p}static newInvalidDocument(e){return new $r(e,0,Fn.min(),Fn.min(),ms.empty(),0)}static newFoundDocument(e,t,s){return new $r(e,1,t,Fn.min(),s,0)}static newNoDocument(e,t){return new $r(e,2,t,Fn.min(),ms.empty(),0)}static newUnknownDocument(e,t){return new $r(e,3,t,Fn.min(),ms.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ms.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $r(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(e,t=null,s=[],a=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=p,this.endAt=b,this.ht=null}}function By(r,e=null,t=[],s=[],a=null,c=null,p=null){return new rh(r,e,t,s,a,c,p)}function Gl(r){const e=dt(r);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(a=s).field.canonicalString()+a.op.toString()+th(a.value);var a}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Rc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>th(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>th(s)).join(",")),e.ht=t}return e.ht}function Oc(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<r.orderBy.length;a++)if(!eo(r.orderBy[a],e.orderBy[a]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let a=0;a<r.filters.length;a++)if((t=r.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!ba(t.value,s.value))return!1;var t,s;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!dg(r.startAt,e.startAt)&&dg(r.endAt,e.endAt)}function mf(r){return tn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function yf(r,e){return r.filters.filter(t=>t instanceof ys&&t.field.isEqual(e))}function jy(r,e,t){let s=Xd,a=!0;for(const c of yf(r,e)){let p=Xd,b=!0;switch(c.op){case"<":case"<=":p=og(c.value);break;case"==":case"in":case">=":p=c.value;break;case">":p=c.value,b=!1;break;case"!=":case"not-in":p=Xd}ag({value:s,inclusive:a},{value:p,inclusive:b})<0&&(s=p,a=b)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const p=t.position[c];ag({value:s,inclusive:a},{value:p,inclusive:t.inclusive})<0&&(s=p,a=t.inclusive);break}return{value:s,inclusive:a}}function Hy(r,e,t){let s=sl,a=!0;for(const c of yf(r,e)){let p=sl,b=!0;switch(c.op){case">=":case">":p=Vy(c.value),b=!1;break;case"==":case"in":case"<=":p=c.value;break;case"<":p=c.value,b=!1;break;case"!=":case"not-in":p=sl}ug({value:s,inclusive:a},{value:p,inclusive:b})>0&&(s=p,a=b)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const p=t.position[c];ug({value:s,inclusive:a},{value:p,inclusive:t.inclusive})>0&&(s=p,a=t.inclusive);break}return{value:s,inclusive:a}}class ys extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,s):new D0(e,t,s):"array-contains"===t?new T0(e,s):"in"===t?new S0(e,s):"not-in"===t?new fo(e,s):"array-contains-any"===t?new cg(e,s):new ys(e,t,s)}static lt(e,t,s){return"in"===t?new C0(e,s):new x0(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(al(t,this.value)):null!==t&&ol(this.value)===ol(t)&&this.ft(al(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return z()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class D0 extends ys{constructor(e,t,s){super(e,t,s),this.key=tn.fromName(s.referenceValue)}matches(e){const t=tn.comparator(e.key,this.key);return this.ft(t)}}class C0 extends ys{constructor(e,t){super(e,"in",t),this.keys=lg(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class x0 extends ys{constructor(e,t){super(e,"not-in",t),this.keys=lg(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lg(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>tn.fromName(s.referenceValue))}class T0 extends ys{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gf(t)&&eh(t.arrayValue,this.value)}}class S0 extends ys{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&eh(this.value.arrayValue,t)}}class fo extends ys{constructor(e,t){super(e,"not-in",t)}matches(e){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!eh(this.value.arrayValue,t)}}class cg extends ys{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>eh(this.value.arrayValue,s))}}class Mu{constructor(e,t){this.position=e,this.inclusive=t}}class ul{constructor(e,t="asc"){this.field=e,this.dir=t}}function eo(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function Nc(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],p=r.position[a];if(s=c.field.isKeyField()?tn.comparator(tn.fromName(p.referenceValue),t.key):al(p,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function dg(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ba(r.position[t],e.position[t]))return!1;return!0}class ku{constructor(e,t=null,s=[],a=[],c=null,p="F",b=null,N=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=N,this._t=null,this.wt=null}}function $y(r,e,t,s,a,c,p,b){return new ku(r,e,t,s,a,c,p,b)}function Kl(r){return new ku(r)}function zy(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function vf(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function hg(r){for(const e of r.filters)if(e.dt())return e.field;return null}function _f(r){return null!==r.collectionGroup}function Pc(r){const e=dt(r);if(null===e._t){e._t=[];const t=hg(e),s=vf(e);if(null!==t&&null===s)t.isKeyField()||e._t.push(new ul(t)),e._t.push(new ul(Oi.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e._t.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new ul(Oi.keyField(),c))}}}return e._t}function po(r){const e=dt(r);if(!e.wt)if("F"===e.limitType)e.wt=By(e.path,e.collectionGroup,Pc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Pc(e))t.push(new ul(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new Mu(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Mu(e.startAt.position,e.startAt.inclusive):null;e.wt=By(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.wt}function ih(r,e,t){return new ku(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function sh(r,e){return Oc(po(r),po(e))&&r.limitType===e.limitType}function Wy(r){return`${Gl(po(r))}|lt:${r.limitType}`}function ll(r){return`Query(target=${function I0(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${th(s.value)}`;var s}).join(", ")}]`),Rc(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(t=>th(t)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(t=>th(t)).join(",")),`Target(${e})`}(po(r))}; limitType=${r.limitType})`}function za(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):tn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,p){const b=Nc(a,c,p);return a.inclusive?b<=0:b<0}(t.startAt,Pc(t),s)||t.endAt&&!function(a,c,p){const b=Nc(a,c,p);return a.inclusive?b>=0:b>0}(t.endAt,Pc(t),s)));var t,s}function Gy(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ky(r){return(e,t)=>{let s=!1;for(const a of Pc(r)){const c=rb(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function rb(r,e,t){const s=r.field.isKeyField()?tn.comparator(e.key,t.key):function(a,c,p){const b=c.data.field(a),N=p.data.field(a);return null!==b&&null!==N?al(b,N):z()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return z()}}function A0(r,e){if(r.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function fg(r){return{integerValue:""+r}}function M0(r,e){return Py(e)?fg(e):A0(r,e)}class ua{constructor(){this._=void 0}}function pg(r,e,t){return r instanceof Zl?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof ql?Lc(r,e):r instanceof Yl?qy(r,e):function(s,a){const c=Zy(s,a),p=wf(c)+wf(s.yt);return Fy(c)&&Fy(s.yt)?fg(p):A0(s.It,p)}(r,e)}function gg(r,e,t){return r instanceof ql?Lc(r,e):r instanceof Yl?qy(r,e):t}function Zy(r,e){return r instanceof cl?Fy(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Zl extends ua{}class ql extends ua{constructor(e){super(),this.elements=e}}function Lc(r,e){const t=mg(e);for(const s of r.elements)t.some(a=>ba(a,s))||t.push(s);return{arrayValue:{values:t}}}class Yl extends ua{constructor(e){super(),this.elements=e}}function qy(r,e){let t=mg(e);for(const s of r.elements)t=t.filter(a=>!ba(a,s));return{arrayValue:{values:t}}}class cl extends ua{constructor(e,t){super(),this.It=e,this.yt=t}}function wf(r){return Ni(r.integerValue||r.doubleValue)}function mg(r){return gf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Ef{constructor(e,t){this.field=e,this.transform=t}}class yg{constructor(e,t){this.version=e,this.transformResults=t}}class ui{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bf(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Vc{}function Yy(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Bc(r.key,ui.none()):new Uc(r.key,r.data,ui.none());{const t=r.data,s=ms.empty();let a=new Hr(Oi.comparator);for(let c of e.fields)if(!a.has(c)){let p=t.field(c);null===p&&c.length>1&&(c=c.popLast(),p=t.field(c)),null===p?s.delete(c):s.set(c,p),a=a.add(c)}return new lu(r.key,s,new aa(a.toArray()),ui.none())}}function k0(r,e,t){r instanceof Uc?function(s,a,c){const p=s.value.clone(),b=vg(s.fieldTransforms,a,c.transformResults);p.setAll(b),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(r,e,t):r instanceof lu?function(s,a,c){if(!bf(s.precondition,a))return void a.convertToUnknownDocument(c.version);const p=vg(s.fieldTransforms,a,c.transformResults),b=a.data;b.setAll(If(s)),b.setAll(p),a.convertToFoundDocument(c.version,b).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function oh(r,e,t,s){return r instanceof Uc?function(a,c,p,b){if(!bf(a.precondition,c))return p;const N=a.value.clone(),U=Df(a.fieldTransforms,b,c);return N.setAll(U),c.convertToFoundDocument(c.version,N).setHasLocalMutations(),null}(r,e,t,s):r instanceof lu?function(a,c,p,b){if(!bf(a.precondition,c))return p;const N=Df(a.fieldTransforms,b,c),U=c.data;return U.setAll(If(a)),U.setAll(N),c.convertToFoundDocument(c.version,U).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(X=>X.field))}(r,e,t,s):(p=t,bf(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p);var c,p}function R0(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=Zy(s.transform,a||null);null!=c&&(null===t&&(t=ms.empty()),t.set(s.field,c))}return t||null}function Qy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&nl(t,s,(a,c)=>function Fc(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof ql&&s instanceof ql||t instanceof Yl&&s instanceof Yl?nl(t.elements,s.elements,ba):t instanceof cl&&s instanceof cl?ba(t.yt,s.yt):t instanceof Zl&&s instanceof Zl);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Uc extends Vc{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class lu extends Vc{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function If(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function vg(r,e,t){const s=new Map;Ce(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],p=c.transform,b=e.data.field(c.field);s.set(c.field,gg(p,b,t[a]))}return s}function Df(r,e,t){const s=new Map;for(const a of r){const c=a.transform,p=t.data.field(a.field);s.set(a.field,pg(c,p,e))}return s}class Bc extends Vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _g extends Vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jy{constructor(e){this.count=e}}var Wi,ir;function wg(r){switch(r){default:return z();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function Eg(r){if(void 0===r)return g("GRPC error has no .code"),Ne.UNKNOWN;switch(r){case Wi.OK:return Ne.OK;case Wi.CANCELLED:return Ne.CANCELLED;case Wi.UNKNOWN:return Ne.UNKNOWN;case Wi.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case Wi.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case Wi.INTERNAL:return Ne.INTERNAL;case Wi.UNAVAILABLE:return Ne.UNAVAILABLE;case Wi.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case Wi.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case Wi.NOT_FOUND:return Ne.NOT_FOUND;case Wi.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case Wi.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case Wi.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case Wi.ABORTED:return Ne.ABORTED;case Wi.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case Wi.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case Wi.DATA_LOSS:return Ne.DATA_LOSS;default:return z()}}(ir=Wi||(Wi={}))[ir.OK=0]="OK",ir[ir.CANCELLED=1]="CANCELLED",ir[ir.UNKNOWN=2]="UNKNOWN",ir[ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ir[ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ir[ir.NOT_FOUND=5]="NOT_FOUND",ir[ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",ir[ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",ir[ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",ir[ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ir[ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ir[ir.ABORTED=10]="ABORTED",ir[ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",ir[ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",ir[ir.INTERNAL=13]="INTERNAL",ir[ir.UNAVAILABLE=14]="UNAVAILABLE",ir[ir.DATA_LOSS=15]="DATA_LOSS";class dl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Hl(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return ng(this.inner)}size(){return this.innerSize}}const ib=new qr(tn.comparator);function Vs(){return ib}const Xy=new qr(tn.comparator);function jc(...r){let e=Xy;for(const t of r)e=e.insert(t.key,t);return e}function bg(r){let e=Xy;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Wa(){return Hc()}function Cf(){return Hc()}function Hc(){return new dl(r=>r.toString(),(r,e)=>r.isEqual(e))}const xf=new qr(tn.comparator),Tf=new Hr(tn.comparator);function Yn(...r){let e=Tf;for(const t of r)e=e.add(t);return e}const Ig=new Hr(Ln);function ah(){return Ig}class Ql{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Ql(Fn.min(),a,ah(),Vs(),Yn())}}class Ru{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ru(s,t,Yn(),Yn(),Yn())}}class Sf{constructor(e,t,s,a){this.Tt=e,this.removedTargetIds=t,this.key=s,this.Et=a}}class Dg{constructor(e,t){this.targetId=e,this.At=t}}class ev{constructor(e,t,s=gs.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class tv{constructor(){this.Rt=0,this.bt=Cg(),this.Pt=gs.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Yn(),t=Yn(),s=Yn();return this.bt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:z()}}),new Ru(this.Pt,this.vt,e,t,s)}Nt(){this.Vt=!1,this.bt=Cg()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class nv{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Vs(),this.qt=Af(),this.Kt=new Hr(Ln)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const s=this.zt(t);switch(e.state){case 0:this.Ht(t)&&s.Ct(e.resumeToken);break;case 1:s.Ft(),s.St||s.Nt(),s.Ct(e.resumeToken);break;case 2:s.Ft(),s.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(s.$t(),s.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),s.Ct(e.resumeToken));break;default:z()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((s,a)=>{this.Ht(a)&&t(a)})}Yt(e){const t=e.targetId,s=e.At.count,a=this.Xt(t);if(a){const c=a.target;if(mf(c))if(0===s){const p=new tn(c.path);this.jt(t,p,$r.newNoDocument(p,Fn.min()))}else Ce(1===s);else this.Zt(t)!==s&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((c,p)=>{const b=this.Xt(p);if(b){if(c.current&&mf(b.target)){const N=new tn(b.target.path);null!==this.Ut.get(N)||this.ee(p,N)||this.jt(p,N,$r.newNoDocument(N,e))}c.Dt&&(t.set(p,c.xt()),c.Nt())}});let s=Yn();this.qt.forEach((c,p)=>{let b=!0;p.forEachWhile(N=>{const U=this.Xt(N);return!U||2===U.purpose||(b=!1,!1)}),b&&(s=s.add(c))}),this.Ut.forEach((c,p)=>p.setReadTime(e));const a=new Ql(e,t,this.Kt,this.Ut,s);return this.Ut=Vs(),this.qt=Af(),this.Kt=new Hr(Ln),a}Qt(e,t){if(!this.Ht(e))return;const s=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,s),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,s){if(!this.Ht(e))return;const a=this.zt(e);this.ee(e,t)?a.kt(t,1):a.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),s&&(this.Ut=this.Ut.insert(t,s))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new tv,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Hr(Ln),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||d("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new tv),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Af(){return new qr(tn.comparator)}function Cg(){return new qr(tn.comparator)}const sb={asc:"ASCENDING",desc:"DESCENDING"},rv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class O0{constructor(e,t){this.databaseId=e,this.gt=t}}function $c(r,e){return r.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iv(r,e){return r.gt?e.toBase64():e.toUint8Array()}function N0(r,e){return $c(r,e.toTimestamp())}function zr(r){return Ce(!!r),Fn.fromTimestamp(function(e){const t=$l(e);return new Zr(t.seconds,t.nanos)}(r))}function xg(r,e){return(t=r,new Ir(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Tg(r){const e=Ir.fromString(r);return Ce(Rf(e)),e}function uh(r,e){return xg(r.databaseId,e.path)}function cu(r,e){const t=Tg(e);if(t.get(1)!==r.databaseId.projectId)throw new ht(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ht(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new tn(ov(t))}function Sg(r,e){return xg(r.databaseId,e)}function sv(r){const e=Tg(r);return 4===e.length?Ir.emptyPath():ov(e)}function zc(r){return new Ir(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ov(r){return Ce(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function av(r,e,t){return{name:uh(r,e),fields:t.value.mapValue.fields}}function uv(r,e,t){const s=cu(r,e.name),a=zr(e.updateTime),c=new ms({mapValue:{fields:e.fields}}),p=$r.newFoundDocument(s,a,c);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function Wc(r,e){let t;if(e instanceof Uc)t={update:av(r,e.key,e.value)};else if(e instanceof Bc)t={delete:uh(r,e.key)};else if(e instanceof lu)t={update:av(r,e.key,e.data),updateMask:Ag(e.fieldMask)};else{if(!(e instanceof _g))return z();t={verify:uh(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const p=c.transform;if(p instanceof Zl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ql)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Yl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof cl)return{fieldPath:c.field.canonicalString(),increment:p.yt};throw z()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:N0(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:z()),t;var a}function Mf(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?ui.updateTime(zr(a.updateTime)):void 0!==a.exists?ui.exists(a.exists):ui.none():ui.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(c,p){let b=null;"setToServerValue"in p?(Ce("REQUEST_TIME"===p.setToServerValue),b=new Zl):"appendMissingElements"in p?b=new ql(p.appendMissingElements.values||[]):"removeAllFromArray"in p?b=new Yl(p.removeAllFromArray.values||[]):"increment"in p?b=new cl(c,p.increment):z();const N=Oi.fromServerFormat(p.fieldPath);return new Ef(N,b)}(r,a)):[];var a;if(e.update){const a=cu(r,e.update.name),c=new ms({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new aa((e.updateMask.fieldPaths||[]).map(U=>Oi.fromServerFormat(U)));return new lu(a,c,p,t,s)}return new Uc(a,c,t,s)}if(e.delete){const a=cu(r,e.delete);return new Bc(a,t)}if(e.verify){const a=cu(r,e.verify);return new _g(a,t)}return z()}function cv(r,e){return{documents:[Sg(r,e.path)]}}function kf(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Sg(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Sg(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(N){if(0===N.length)return;const U=N.map(X=>function(Ee){if("=="===Ee.op){if(b0(Ee.value))return{unaryFilter:{field:Jl(Ee.field),op:"IS_NAN"}};if(E0(Ee.value))return{unaryFilter:{field:Jl(Ee.field),op:"IS_NULL"}}}else if("!="===Ee.op){if(b0(Ee.value))return{unaryFilter:{field:Jl(Ee.field),op:"IS_NOT_NAN"}};if(E0(Ee.value))return{unaryFilter:{field:Jl(Ee.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jl(Ee.field),op:ob(Ee.op),value:Ee.value}}}(X));return 1===U.length?U[0]:{compositeFilter:{op:"AND",filters:U}}}(e.filters);a&&(t.structuredQuery.where=a);const c=function(N){if(0!==N.length)return N.map(U=>{return{field:Jl((X=U).field),direction:L0(X.dir)};var X})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=(U=e.limit,r.gt||Rc(U)?U:{value:U});var U,b,N;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt={before:!(N=e.endAt).inclusive,values:N.position}),t}function dv(r){let e=sv(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Ce(1===s);const X=t.from[0];X.allDescendants?a=X.collectionId:e=e.child(X.collectionId)}let c=[];t.where&&(c=fv(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(X=>{return new ul(Xl((Ee=X).field),function(Ze){switch(Ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ee.direction));var Ee}));let b=null;t.limit&&(b=function(X){let Ee;return Ee="object"==typeof X?X.value:X,Rc(Ee)?null:Ee}(t.limit));let N=null;var X;t.startAt&&(N=new Mu((X=t.startAt).values||[],!!X.before));let U=null;return t.endAt&&(U=function(X){return new Mu(X.values||[],!X.before)}(t.endAt)),$y(e,a,p,c,b,"F",N,U)}function fv(r){return r?void 0!==r.unaryFilter?[F0(r)]:void 0!==r.fieldFilter?[ec(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>fv(e)).reduce((e,t)=>e.concat(t)):z():[]}function L0(r){return sb[r]}function ob(r){return rv[r]}function Jl(r){return{fieldPath:r.canonicalString()}}function Xl(r){return Oi.fromServerFormat(r.fieldPath)}function ec(r){return ys.create(Xl(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(r.fieldFilter.op),r.fieldFilter.value)}function F0(r){switch(r.unaryFilter.op){case"IS_NAN":const e=Xl(r.unaryFilter.field);return ys.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Xl(r.unaryFilter.field);return ys.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xl(r.unaryFilter.field);return ys.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Xl(r.unaryFilter.field);return ys.create(a,"!=",{nullValue:"NULL_VALUE"});default:return z()}}function Ag(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Rf(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function go(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=V0(e)),e=ab(r.get(t),e);return V0(e)}function ab(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const c=r.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function V0(r){return r+"\x01\x01"}function Ou(r){const e=r.length;if(Ce(e>=2),2===e)return Ce("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Ir.emptyPath();const t=e-2,s=[];let a="";for(let c=0;c<e;){const p=r.indexOf("\x01",c);switch((p<0||p>t)&&z(),r.charAt(p+1)){case"\x01":const b=r.substring(c,p);let N;0===a.length?N=b:(a+=b,N=a,a=""),s.push(N);break;case"\x10":a+=r.substring(c,p),a+="\0";break;case"\x11":a+=r.substring(c,p+1);break;default:z()}c=p+2}return new Ir(s)}const pv=["userId","batchId"];function lh(r,e){return[r,go(e)]}function U0(r,e,t){return[r,go(e),t]}const B0={},Gc=["prefixPath","collectionGroup","readTime","documentId"],j0=["prefixPath","collectionGroup","documentId"],gv=["collectionGroup","readTime","prefixPath","documentId"],Of=["canonicalId","targetId"],H0=["targetId","path"],mv=["path","targetId"],$0=["collectionId","parent"],z0=["indexId","uid"],W0=["uid","sequenceNumber"],G0=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],K0=["indexId","uid","orderedDocumentKey"],yv=["userId","collectionPath","documentId"],Z0=["userId","collectionPath","largestBatchId"],vv=["userId","collectionGroup","largestBatchId"],Mg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],kg=[...Mg,"documentOverlays"],q0=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Nf=q0,Y0=[...Nf,"indexConfiguration","indexState","indexEntries"];class _v extends cf{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Si(r,e){const t=dt(r);return Ea.M(t.ie,e)}class Pf{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&k0(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=oh(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=oh(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Cf();return this.mutations.forEach(a=>{const c=e.get(a.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=t.has(a.key)?null:b;const N=Yy(p,b);null!==N&&s.set(a.key,N),p.isValidDocument()||p.convertToNoDocument(Fn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yn())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(t,s)=>Qy(t,s))&&nl(this.baseMutations,e.baseMutations,(t,s)=>Qy(t,s))}}class Lf{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Ce(e.mutations.length===s.length);let a=xf;const c=e.mutations;for(let p=0;p<c.length;p++)a=a.insert(c[p].key,s[p].version);return new Lf(e,t,s,a)}}class Kc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xs{constructor(e,t,s,a,c=Fn.min(),p=Fn.min(),b=gs.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Rg{constructor(e){this.re=e}}function Ff(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ia(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:uh(a=r.re,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:$c(a,c.version.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Nu(e.version)};else{if(!e.isUnknownDocument())return z();s.unknownDocument={path:t.path.toArray(),version:Nu(e.version)}}var a,c;return s}function Ia(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Nu(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function hl(r){const e=new Zr(r.seconds,r.nanoseconds);return Fn.fromTimestamp(e)}function Pu(r,e){const t=(e.baseMutations||[]).map(c=>Mf(r.re,c));for(let c=0;c<e.mutations.length-1;++c){const p=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(p.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const s=e.mutations.map(c=>Mf(r.re,c)),a=Zr.fromMillis(e.localWriteTimeMs);return new Pf(e.batchId,a,t,s)}function Vf(r){const e=hl(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?hl(r.lastLimboFreeSnapshotVersion):Fn.min();let s;var a;return void 0!==r.query.documents?(Ce(1===(a=r.query).documents.length),s=po(Kl(sv(a.documents[0])))):s=po(dv(r.query)),new xs(s,r.targetId,0,r.lastListenSequenceNumber,e,t,gs.fromBase64String(r.resumeToken))}function Og(r,e){const t=Nu(e.snapshotVersion),s=Nu(e.lastLimboFreeSnapshotVersion);let a;a=mf(e.target)?cv(r.re,e.target):kf(r.re,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Gl(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function wv(r){const e=dv({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?ih(e,e.limit,"L"):e}function Zc(r,e){return new Kc(e.largestBatchId,Mf(r.re,e.overlayMutation))}function ch(r,e){const t=e.path.lastSegment();return[r,go(e.path.popLast()),t]}function Uf(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Nu(s.readTime),documentKey:go(s.documentKey.path),largestBatchId:s.largestBatchId}}class Ng{getBundleMetadata(e,t){return Bf(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:hl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Bf(e).put({bundleId:(s=t).id,createTime:Nu(zr(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return J0(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:wv(a.bundledQuery),readTime:hl(a.readTime)};var a})}saveNamedQuery(e,t){return J0(e).put({name:(s=t).name,readTime:Nu(zr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Bf(r){return Si(r,"bundles")}function J0(r){return Si(r,"namedQueries")}class jf{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new jf(e,t.uid||"")}getOverlay(e,t){return dh(e).get(ch(this.userId,t)).next(s=>s?Zc(this.It,s):null)}getOverlays(e,t){const s=Wa();return it.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((c,p)=>{const b=new Kc(t,p);a.push(this.ue(e,b))}),it.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(p=>a.add(go(p.getCollectionPath())));const c=[];return a.forEach(p=>{const b=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);c.push(dh(e).Y("collectionPathOverlayIndex",b))}),it.waitFor(c)}getOverlaysForCollection(e,t,s){const a=Wa(),c=go(t),p=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return dh(e).W("collectionPathOverlayIndex",p).next(b=>{for(const N of b){const U=Zc(this.It,N);a.set(U.getKey(),U)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const c=Wa();let p;const b=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return dh(e).Z({index:"collectionGroupOverlayIndex",range:b},(N,U,X)=>{const Ee=Zc(this.It,U);c.size()<a||Ee.largestBatchId===p?(c.set(Ee.getKey(),Ee),p=Ee.largestBatchId):X.done()}).next(()=>c)}ue(e,t){return dh(e).put(function(s,a,c){const[p,b,N]=ch(a,c.mutation.key);return{userId:a,collectionPath:b,documentId:N,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Wc(s.re,c.mutation)}}(this.It,this.userId,t))}}function dh(r){return Si(r,"documentOverlays")}class tc{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ni(e.integerValue));else if("doubleValue"in e){const s=Ni(e.doubleValue);isNaN(s)?this.le(t,13):(this.le(t,15),Jd(s)?t.fe(0):t.fe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.le(t,20),"string"==typeof s?t.de(s):(t.de(`${s.seconds||""}`),t.fe(s.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me($a(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.le(t,45),t.fe(s.latitude||0),t.fe(s.longitude||0)}else"mapValue"in e?sg(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):z()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const s=e.fields||{};this.le(t,55);for(const a of Object.keys(s))this._e(a,t),this.ae(s[a],t)}pe(e,t){const s=e.values||[];this.le(t,50);for(const a of s)this.ae(a,t)}ge(e,t){this.le(t,37),tn.fromName(e).path.forEach(s=>{this.le(t,60),this.Ie(s,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function X0(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function Pg(r){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const c=X0(255&t[a]);if(s+=c,8!==c)break}return s}(r);return Math.ceil(e/8)}tc.Te=new tc;class ub{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ae(s.value),s=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Pe(s.value),s=t.next();this.ve()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ae(s);else if(s<2048)this.Ae(960|s>>>6),this.Ae(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s);else{const a=t.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}this.Re()}Se(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Pe(s);else if(s<2048)this.Pe(960|s>>>6),this.Pe(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|s>>>12),this.Pe(128|63&s>>>6),this.Pe(128|63&s);else{const a=t.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}this.ve()}De(e){const t=this.Ce(e),s=Pg(t);this.xe(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Ne(e){const t=this.Ce(e),s=Pg(t);this.xe(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class ew{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class lb{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class qc{constructor(){this.Be=new ub,this.Le=new ew(this.Be),this.Ue=new lb(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class fl{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new fl(this.indexId,this.documentKey,this.arrayValue,s)}}function nc(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Hf(r.arrayValue,e.arrayValue),0!==t?t:(t=Hf(r.directionalValue,e.directionalValue),0!==t?t:tn.comparator(r.documentKey,e.documentKey)))}function Hf(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class cb{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const s=t;s.dt()?this.je=s:this.Qe.push(s)}}We(e){const t=Yp(e);if(void 0!==t&&!this.ze(t))return!1;const s=Ac(e);let a=0,c=0;for(;a<s.length&&this.ze(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.je){const p=s[a];if(!this.He(this.je,p)||!this.Je(this.Ge[c++],p))return!1;++a}for(;a<s.length;++a){const p=s[a];if(c>=this.Ge.length||!this.Je(this.Ge[c++],p))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class db{constructor(){this.Ye=new Ev}addToCollectionParentIndex(e,t){return this.Ye.add(t),it.resolve()}getCollectionParents(e,t){return it.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return it.resolve()}deleteFieldIndex(e,t){return it.resolve()}getDocumentsMatchingTarget(e,t){return it.resolve(null)}getIndexType(e,t){return it.resolve(0)}getFieldIndexes(e,t){return it.resolve([])}getNextCollectionGroupToUpdate(e){return it.resolve(null)}getMinOffset(e,t){return it.resolve(oa.min())}getMinOffsetFromCollectionGroup(e,t){return it.resolve(oa.min())}updateCollectionGroup(e,t,s){return it.resolve()}updateIndexEntries(e,t){return it.resolve()}}class Ev{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Hr(Ir.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Hr(Ir.comparator)).toArray()}}const Lg=new Uint8Array(0);class hb{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Ev,this.Ze=new dl(s=>Gl(s),(s,a)=>Oc(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const c={collectionId:s,parent:go(a)};return tw(e).put(c)}return it.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[ai(t),""],!1,!0);return tw(e).W(a).next(c=>{for(const p of c){if(p.collectionId!==t)break;s.push(Ou(p.parent))}return s})}addFieldIndex(e,t){const s=Fg(e),a={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(b=>[b.fieldPath.canonicalString(),b.kind])};var p;delete a.indexId;const c=s.add(a);if(t.indexState){const p=zf(e);return c.next(b=>{p.put(Uf(b,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const s=Fg(e),a=zf(e),c=$f(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=$f(e);let a=!0;const c=new Map;return it.forEach(this.tn(t),p=>this.en(e,p).next(b=>{a&&(a=!!b),c.set(p,b)})).next(()=>{if(a){let p=Yn();const b=[];return it.forEach(c,(N,U)=>{var X;d("IndexedDbIndexManager",`Using index ${X=N,`id=${X.indexId}|cg=${X.collectionGroup}|f=${X.fields.map(mr=>`${mr.fieldPath}:${mr.kind}`).join(",")}`} to execute ${Gl(t)}`);const Ee=function(mr,sr){const Xn=Yp(sr);if(void 0===Xn)return null;for(const cr of yf(mr,Xn.fieldPath))switch(cr.op){case"array-contains-any":return cr.value.arrayValue.values||[];case"array-contains":return[cr.value]}return null}(U,N),Ze=function(mr,sr){const Xn=new Map;for(const cr of Ac(sr))for(const As of yf(mr,cr.fieldPath))switch(As.op){case"==":case"in":Xn.set(cr.fieldPath.canonicalString(),As.value);break;case"not-in":case"!=":return Xn.set(cr.fieldPath.canonicalString(),As.value),Array.from(Xn.values())}return null}(U,N),pt=function(mr,sr){const Xn=[];let cr=!0;for(const As of Ac(sr)){const Sl=0===As.kind?jy(mr,As.fieldPath,mr.startAt):Hy(mr,As.fieldPath,mr.startAt);Xn.push(Sl.value),cr&&(cr=Sl.inclusive)}return new Mu(Xn,cr)}(U,N),bt=function(mr,sr){const Xn=[];let cr=!0;for(const As of Ac(sr)){const Sl=0===As.kind?Hy(mr,As.fieldPath,mr.endAt):jy(mr,As.fieldPath,mr.endAt);Xn.push(Sl.value),cr&&(cr=Sl.inclusive)}return new Mu(Xn,cr)}(U,N),Jt=this.nn(N,U,pt),on=this.nn(N,U,bt),gr=this.sn(N,U,Ze),Lr=this.rn(N.indexId,Ee,Jt,pt.inclusive,on,bt.inclusive,gr);return it.forEach(Lr,mr=>s.J(mr,t.limit).next(sr=>{sr.forEach(Xn=>{const cr=tn.fromSegments(Xn.documentKey);p.has(cr)||(p=p.add(cr),b.push(cr))})}))}).next(()=>b)}return it.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,s,a,c,p,b){const N=(null!=t?t.length:1)*Math.max(s.length,c.length),U=N/(null!=t?t.length:1),X=[];for(let Ee=0;Ee<N;++Ee){const Ze=t?this.on(t[Ee/U]):Lg,pt=this.un(e,Ze,s[Ee%U],a),bt=this.cn(e,Ze,c[Ee%U],p),Jt=b.map(on=>this.un(e,Ze,on,!0));X.push(...this.createRange(pt,bt,Jt))}return X}un(e,t,s,a){const c=new fl(e,tn.empty(),t,s);return a?c:c.Ke()}cn(e,t,s,a){const c=new fl(e,tn.empty(),t,s);return a?c.Ke():c}en(e,t){const s=new cb(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let p=null;for(const b of c)s.We(b)&&(!p||b.fields.length>p.fields.length)&&(p=b);return p})}getIndexType(e,t){let s=2;return it.forEach(this.tn(t),a=>this.en(e,a).next(c=>{c?0!==s&&c.fields.length<function(p){let b=new Hr(Oi.comparator),N=!1;for(const U of p.filters){const X=U;X.field.isKeyField()||("array-contains"===X.op||"array-contains-any"===X.op?N=!0:b=b.add(X.field))}for(const U of p.orderBy)U.field.isKeyField()||(b=b.add(U.field));return b.size+(N?1:0)}(a)&&(s=1):s=0})).next(()=>s)}an(e,t){const s=new qc;for(const a of Ac(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const p=s.qe(a.kind);tc.Te.ce(c,p)}return s.$e()}on(e){const t=new qc;return tc.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const s=new qc;return tc.Te.ce(Au(this.databaseId,t),s.qe(function(a){const c=Ac(a);return 0===c.length?0:c[c.length-1].kind}(e))),s.$e()}sn(e,t,s){if(null===s)return[];let a=[];a.push(new qc);let c=0;for(const p of Ac(e)){const b=s[c++];for(const N of a)if(this.ln(t,p.fieldPath)&&gf(b))a=this.fn(a,p,b);else{const U=N.qe(p.kind);tc.Te.ce(b,U)}}return this.dn(a)}nn(e,t,s){return this.sn(e,t,s.position)}dn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].$e();return t}fn(e,t,s){const a=[...e],c=[];for(const p of s.arrayValue.values||[])for(const b of a){const N=new qc;N.seed(b.$e()),tc.Te.ce(p,N.qe(t.kind)),c.push(N)}return c}ln(e,t){return!!e.filters.find(s=>s instanceof ys&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Fg(e),a=zf(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(c=>{const p=[];return it.forEach(c,b=>a.get([b.indexId,this.uid]).next(N=>{p.push(function(U,X){const Ee=X?new Mc(X.sequenceNumber,new oa(hl(X.readTime),new tn(Ou(X.documentKey)),X.largestBatchId)):Mc.empty(),Ze=U.fields.map(([pt,bt])=>new rl(Oi.fromServerFormat(pt),bt));return new uf(U.indexId,U.collectionGroup,Ze,Ee)}(b,N))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const c=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:Ln(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=Fg(e),c=zf(e);return this._n(e).next(p=>a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(b=>it.forEach(b,N=>c.put(Uf(N.indexId,this.user,p,s)))))}updateIndexEntries(e,t){const s=new Map;return it.forEach(t,(a,c)=>{const p=s.get(a.collectionGroup);return(p?it.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(b=>(s.set(a.collectionGroup,b),it.forEach(b,N=>this.wn(e,a,N).next(U=>{const X=this.mn(c,N);return U.isEqual(X)?it.resolve():this.gn(e,c,N,U,X)}))))})}yn(e,t,s,a){return $f(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.hn(s,t.key),documentKey:t.key.path.toArray()})}pn(e,t,s,a){return $f(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.hn(s,t.key),t.key.path.toArray()])}wn(e,t,s){const a=$f(e);let c=new Hr(nc);return a.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.hn(s,t)])},(p,b)=>{c=c.add(new fl(s.indexId,t,b.arrayValue,b.directionalValue))}).next(()=>c)}mn(e,t){let s=new Hr(nc);const a=this.an(t,e);if(null==a)return s;const c=Yp(t);if(null!=c){const p=e.data.field(c.fieldPath);if(gf(p))for(const b of p.arrayValue.values||[])s=s.add(new fl(t.indexId,e.key,this.on(b),a))}else s=s.add(new fl(t.indexId,e.key,Lg,a));return s}gn(e,t,s,a,c){d("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(b,N,U,X,Ee){const Ze=b.getIterator(),pt=N.getIterator();let bt=il(Ze),Jt=il(pt);for(;bt||Jt;){let on=!1,gr=!1;if(bt&&Jt){const Lr=U(bt,Jt);Lr<0?gr=!0:Lr>0&&(on=!0)}else null!=bt?gr=!0:on=!0;on?(X(Jt),Jt=il(pt)):gr?(Ee(bt),bt=il(Ze)):(bt=il(Ze),Jt=il(pt))}}(a,c,nc,b=>{p.push(this.yn(e,t,s,b))},b=>{p.push(this.pn(e,t,s,b))}),it.waitFor(p)}_n(e){let t=1;return zf(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((p,b)=>nc(p,b)).filter((p,b,N)=>!b||0!==nc(p,N[b-1]));const a=[];a.push(e);for(const p of s){const b=nc(p,e),N=nc(p,t);if(0===b)a[0]=e.Ke();else if(b>0&&N<0)a.push(p),a.push(p.Ke());else if(N>0)break}a.push(t);const c=[];for(let p=0;p<a.length;p+=2)c.push(IDBKeyRange.bound([a[p].indexId,this.uid,a[p].arrayValue,a[p].directionalValue,Lg,[]],[a[p+1].indexId,this.uid,a[p+1].arrayValue,a[p+1].directionalValue,Lg,[]]));return c}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(nw)}getMinOffset(e,t){return it.mapArray(this.tn(t),s=>this.en(e,s).next(a=>a||z())).next(nw)}}function tw(r){return Si(r,"collectionParents")}function $f(r){return Si(r,"indexEntries")}function Fg(r){return Si(r,"indexConfiguration")}function zf(r){return Si(r,"indexState")}function nw(r){Ce(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const a=r[s].indexState.offset;lf(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new oa(e.readTime,e.documentKey,t)}const Lu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class to{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new to(e,to.DEFAULT_COLLECTION_PERCENTILE,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bv(r,e,t){const s=r.store("mutations"),a=r.store("documentMutations"),c=[],p=IDBKeyRange.only(t.batchId);let b=0;const N=s.Z({range:p},(X,Ee,Ze)=>(b++,Ze.delete()));c.push(N.next(()=>{Ce(1===b)}));const U=[];for(const X of t.mutations){const Ee=U0(e,X.key.path,t.batchId);c.push(a.delete(Ee)),U.push(X.key)}return it.waitFor(c).next(()=>U)}function hh(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw z();e=r.noDocument}return JSON.stringify(e).length}to.DEFAULT_COLLECTION_PERCENTILE=10,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,to.DEFAULT=new to(41943040,to.DEFAULT_COLLECTION_PERCENTILE,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),to.DISABLED=new to(-1,0,0);class Yc{constructor(e,t,s,a){this.userId=e,this.It=t,this.indexManager=s,this.referenceDelegate=a,this.In={}}static oe(e,t,s,a){Ce(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Yc(c,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return du(e).Z({index:"userMutationsIndex",range:s},(a,c,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const c=Qc(e),p=du(e);return p.add({}).next(b=>{Ce("number"==typeof b);const N=new Pf(b,t,s,a),U=function(Ze,pt,bt){const Jt=bt.baseMutations.map(gr=>Wc(Ze.re,gr)),on=bt.mutations.map(gr=>Wc(Ze.re,gr));return{userId:pt,batchId:bt.batchId,localWriteTimeMs:bt.localWriteTime.toMillis(),baseMutations:Jt,mutations:on}}(this.It,this.userId,N),X=[];let Ee=new Hr((Ze,pt)=>Ln(Ze.canonicalString(),pt.canonicalString()));for(const Ze of a){const pt=U0(this.userId,Ze.key.path,b);Ee=Ee.add(Ze.key.path.popLast()),X.push(p.put(U)),X.push(c.put(pt,B0))}return Ee.forEach(Ze=>{X.push(this.indexManager.addToCollectionParentIndex(e,Ze))}),e.addOnCommittedListener(()=>{this.In[b]=N.keys()}),it.waitFor(X).next(()=>N)})}lookupMutationBatch(e,t){return du(e).get(t).next(s=>s?(Ce(s.userId===this.userId),Pu(this.It,s)):null)}Tn(e,t){return this.In[t]?it.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.In[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return du(e).Z({index:"userMutationsIndex",range:a},(p,b,N)=>{b.userId===this.userId&&(Ce(b.batchId>=s),c=Pu(this.It,b)),N.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return du(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(a,c,p)=>{s=c.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return du(e).W("userMutationsIndex",t).next(s=>s.map(a=>Pu(this.It,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=lh(this.userId,t.path),a=IDBKeyRange.lowerBound(s),c=[];return Qc(e).Z({range:a},(p,b,N)=>{const[U,X,Ee]=p,Ze=Ou(X);if(U===this.userId&&t.path.isEqual(Ze))return du(e).get(Ee).next(pt=>{if(!pt)throw z();Ce(pt.userId===this.userId),c.push(Pu(this.It,pt))});N.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Hr(Ln);const a=[];return t.forEach(c=>{const p=lh(this.userId,c.path),b=IDBKeyRange.lowerBound(p),N=Qc(e).Z({range:b},(U,X,Ee)=>{const[Ze,pt,bt]=U,Jt=Ou(pt);Ze===this.userId&&c.path.isEqual(Jt)?s=s.add(bt):Ee.done()});a.push(N)}),it.waitFor(a).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,c=lh(this.userId,s),p=IDBKeyRange.lowerBound(c);let b=new Hr(Ln);return Qc(e).Z({range:p},(N,U,X)=>{const[Ee,Ze,pt]=N,bt=Ou(Ze);Ee===this.userId&&s.isPrefixOf(bt)?bt.length===a&&(b=b.add(pt)):X.done()}).next(()=>this.En(e,b))}En(e,t){const s=[],a=[];return t.forEach(c=>{a.push(du(e).get(c).next(p=>{if(null===p)throw z();Ce(p.userId===this.userId),s.push(Pu(this.It,p))}))}),it.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return bv(e.ie,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),it.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return it.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return Qc(e).Z({range:s},(c,p,b)=>{if(c[0]===this.userId){const N=Ou(c[1]);a.push(N)}else b.done()}).next(()=>{Ce(0===a.length)})})}containsKey(e,t){return Vg(e,this.userId,t)}Rn(e){return Fu(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Vg(r,e,t){const s=lh(e,t.path),a=s[1],c=IDBKeyRange.lowerBound(s);let p=!1;return Qc(r).Z({range:c,X:!0},(b,N,U)=>{const[X,Ee,Ze]=b;X===e&&Ee===a&&(p=!0),U.done()}).next(()=>p)}function du(r){return Si(r,"mutations")}function Qc(r){return Si(r,"documentMutations")}function Fu(r){return Si(r,"mutationQueues")}class pl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new pl(0)}static vn(){return new pl(-1)}}class rw{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new pl(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Fn.fromTimestamp(new Zr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Sn(e,a)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Jc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(Ce(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let a=0;const c=[];return Jc(e).Z((p,b)=>{const N=Vf(b);N.sequenceNumber<=t&&null===s.get(N.targetId)&&(a++,c.push(this.removeTargetData(e,N)))}).next(()=>it.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Jc(e).Z((s,a)=>{const c=Vf(a);t(c)})}Vn(e){return Ug(e).get("targetGlobalKey").next(t=>(Ce(null!==t),t))}Sn(e,t){return Ug(e).put("targetGlobalKey",t)}Dn(e,t){return Jc(e).put(Og(this.It,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Gl(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Jc(e).Z({range:a,index:"queryTargetsIndex"},(p,b,N)=>{const U=Vf(b);Oc(t,U.target)&&(c=U,N.done())}).next(()=>c)}addMatchingKeys(e,t,s){const a=[],c=gl(e);return t.forEach(p=>{const b=go(p.path);a.push(c.put({targetId:s,path:b})),a.push(this.referenceDelegate.addReference(e,s,p))}),it.waitFor(a)}removeMatchingKeys(e,t,s){const a=gl(e);return it.forEach(t,c=>{const p=go(c.path);return it.waitFor([a.delete([s,p]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,t){const s=gl(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=gl(e);let c=Yn();return a.Z({range:s,X:!0},(p,b,N)=>{const U=Ou(p[1]),X=new tn(U);c=c.add(X)}).next(()=>c)}containsKey(e,t){const s=go(t.path),a=IDBKeyRange.bound([s],[ai(s)],!1,!0);let c=0;return gl(e).Z({index:"documentTargetsIndex",X:!0,range:a},([p,b],N,U)=>{0!==p&&(c++,U.done())}).next(()=>c>0)}se(e,t){return Jc(e).get(t).next(s=>s?Vf(s):null)}}function Jc(r){return Si(r,"targets")}function Ug(r){return Si(r,"targetGlobal")}function gl(r){return Si(r,"targetDocuments")}function Iv([r,e],[t,s]){const a=Ln(r,t);return 0===a?Ln(e,s):a}class Wf{constructor(e){this.xn=e,this.buffer=new Hr(Iv),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Iv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Xc{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;d("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ke.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){uu(s)?d("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Vl(s)}yield t.Fn(3e5)}))}}class Bg{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return it.resolve(Xs.at);const s=new Wf(t);return this.$n.forEachTarget(e,a=>s.On(a.sequenceNumber)).next(()=>this.$n.Ln(e,a=>s.On(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(d("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(Lu)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(d("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lu):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let s,a,c,p,b,N,U;const X=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ee=>(Ee>this.params.maximumSequenceNumbersToCollect?(d("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ee}`),a=this.params.maximumSequenceNumbersToCollect):a=Ee,p=Date.now(),this.nthSequenceNumber(e,a))).next(Ee=>(s=Ee,b=Date.now(),this.removeTargets(e,s,t))).next(Ee=>(c=Ee,N=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ee=>(U=Date.now(),rf()<=On.in.DEBUG&&d("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-X}ms\n\tDetermined least recently used ${a} in `+(b-p)+`ms\n\tRemoved ${c} targets in `+(N-b)+`ms\n\tRemoved ${Ee} documents in `+(U-N)+`ms\nTotal Duration: ${U-X}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:Ee})))}}class ed{constructor(e,t){this.db=e,this.garbageCollector=new Bg(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}qn(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,a)=>t(a))}addReference(e,t,s){return td(e,s)}removeReference(e,t,s){return td(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return td(e,t)}Gn(e,t){return function(s,a){let c=!1;return Fu(s).tt(p=>Vg(s,p,a).next(b=>(b&&(c=!0),it.resolve(!b)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Kn(e,(p,b)=>{if(b<=t){const N=this.Gn(e,p).next(U=>{if(!U)return c++,s.getEntry(e,p).next(()=>(s.removeEntry(p,Fn.min()),gl(e).delete([0,go(p.path)])))});a.push(N)}}).next(()=>it.waitFor(a)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return td(e,t)}Kn(e,t){const s=gl(e);let a,c=Xs.at;return s.Z({index:"documentTargetsIndex"},([p,b],{path:N,sequenceNumber:U})=>{0===p?(c!==Xs.at&&t(new tn(Ou(a)),c),c=U,a=N):c=Xs.at}).next(()=>{c!==Xs.at&&t(new tn(Ou(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function td(r,e){return gl(r).put((s=r.currentSequenceNumber,{targetId:0,path:go(e.path),sequenceNumber:s}));var s}class fh{constructor(){this.changes=new dl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$r.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?it.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dv{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return ml(e).put(s)}removeEntry(e,t,s){return ml(e).delete(function(a,c){const p=a.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],Ia(c),p[p.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=$r.newInvalidDocument(t);return ml(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(rc(t))},(a,c)=>{s=this.jn(t,c)}).next(()=>s)}Wn(e,t){let s={size:0,document:$r.newInvalidDocument(t)};return ml(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(rc(t))},(a,c)=>{s={document:this.jn(t,c),size:hh(c)}}).next(()=>s)}getEntries(e,t){let s=Vs();return this.zn(e,t,(a,c)=>{const p=this.jn(a,c);s=s.insert(a,p)}).next(()=>s)}Hn(e,t){let s=Vs(),a=new qr(tn.comparator);return this.zn(e,t,(c,p)=>{const b=this.jn(c,p);s=s.insert(c,b),a=a.insert(c,hh(p))}).next(()=>({documents:s,Jn:a}))}zn(e,t,s){if(t.isEmpty())return it.resolve();let a=new Hr(iw);t.forEach(N=>a=a.add(N));const c=IDBKeyRange.bound(rc(a.first()),rc(a.last())),p=a.getIterator();let b=p.getNext();return ml(e).Z({index:"documentKeyIndex",range:c},(N,U,X)=>{const Ee=tn.fromSegments([...U.prefixPath,U.collectionGroup,U.documentId]);for(;b&&iw(b,Ee)<0;)s(b,null),b=p.getNext();b&&b.isEqual(Ee)&&(s(b,U),b=p.hasNext()?p.getNext():null),b?X.j(rc(b)):X.done()}).next(()=>{for(;b;)s(b,null),b=p.hasNext()?p.getNext():null})}getAllFromCollection(e,t,s){const a=[t.popLast().toArray(),t.lastSegment(),Ia(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],c=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ml(e).W(IDBKeyRange.bound(a,c,!0)).next(p=>{let b=Vs();for(const N of p){const U=this.jn(tn.fromSegments(N.prefixPath.concat(N.collectionGroup,N.documentId)),N);b=b.insert(U.key,U)}return b})}getAllFromCollectionGroup(e,t,s,a){let c=Vs();const p=Cv(t,s),b=Cv(t,oa.max());return ml(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,b,!0)},(N,U,X)=>{const Ee=this.jn(tn.fromSegments(U.prefixPath.concat(U.collectionGroup,U.documentId)),U);c=c.insert(Ee.key,Ee),c.size===a&&X.done()}).next(()=>c)}newChangeBuffer(e){return new Hg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Gf(e).get("remoteDocumentGlobalKey").next(t=>(Ce(!!t),t))}Qn(e,t){return Gf(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function Q0(r,e){let t;if(e.document)t=uv(r.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=tn.fromSegments(e.noDocument.path),a=hl(e.noDocument.readTime);t=$r.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return z();{const s=tn.fromSegments(e.unknownDocument.path),a=hl(e.unknownDocument.version);t=$r.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Zr(s[0],s[1]);return Fn.fromTimestamp(a)}(e.readTime)),t}(this.It,t);if(!s.isNoDocument()||!s.version.isEqual(Fn.min()))return s}return $r.newInvalidDocument(e)}}function jg(r){return new Dv(r)}class Hg extends fh{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new dl(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Hr((c,p)=>Ln(c.canonicalString(),p.canonicalString()));return this.changes.forEach((c,p)=>{const b=this.Xn.get(c);if(t.push(this.Yn.removeEntry(e,c,b.readTime)),p.isValidDocument()){const N=Ff(this.Yn.It,p);a=a.add(c.path.popLast()),s+=hh(N)-b.size,t.push(this.Yn.addEntry(e,c,N))}else if(s-=b.size,this.trackRemovals){const N=Ff(this.Yn.It,p.convertToNoDocument(Fn.min()));t.push(this.Yn.addEntry(e,c,N))}}),a.forEach(c=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.Yn.updateMetadata(e,s)),it.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:a})=>(a.forEach((c,p)=>{this.Xn.set(c,{size:p,readTime:s.get(c).readTime})}),s))}}function Gf(r){return Si(r,"remoteDocumentGlobal")}function ml(r){return Si(r,"remoteDocumentsV14")}function rc(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Cv(r,e){const t=e.documentKey.path.toArray();return[r,Ia(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function iw(r,e){const t=r.path.toArray(),s=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<s.length-2;++c)if(a=Ln(t[c],s[c]),a)return a;return a=Ln(t.length,s.length),a||(a=Ln(t[t.length-2],s[s.length-2]),a||Ln(t[t.length-1],s[s.length-1]))}class sw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class $g{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.getBaseDocument(e,t,s))).next(a=>(null!==s&&oh(s.mutation,a,aa.empty(),Zr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Yn()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Yn()){const a=Wa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let p=jc();return c.forEach((b,N)=>{p=p.insert(b,N.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const s=Wa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Yn()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((p,b)=>{t.set(p,b)})})}computeViews(e,t,s,a){let c=Vs();const p=Hc(),b=Hc();return t.forEach((N,U)=>{const X=s.get(U.key);a.has(U.key)&&(void 0===X||X.mutation instanceof lu)?c=c.insert(U.key,U):void 0!==X&&(p.set(U.key,X.mutation.getFieldMask()),oh(X.mutation,U,X.mutation.getFieldMask(),Zr.now()))}),this.recalculateAndSaveOverlays(e,c).next(N=>(N.forEach((U,X)=>p.set(U,X)),t.forEach((U,X)=>{var Ee;return b.set(U,new sw(X,null!==(Ee=p.get(U))&&void 0!==Ee?Ee:null))}),b))}recalculateAndSaveOverlays(e,t){const s=Hc();let a=new qr((p,b)=>p-b),c=Yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const b of p)b.keys().forEach(N=>{const U=t.get(N);if(null===U)return;let X=s.get(N)||aa.empty();X=b.applyToLocalView(U,X),s.set(N,X);const Ee=(a.get(b.batchId)||Yn()).add(N);a=a.insert(b.batchId,Ee)})}).next(()=>{const p=[],b=a.getReverseIterator();for(;b.hasNext();){const N=b.getNext(),U=N.key,X=N.value,Ee=Cf();X.forEach(Ze=>{if(!c.has(Ze)){const pt=Yy(t.get(Ze),s.get(Ze));null!==pt&&Ee.set(Ze,pt),c=c.add(Ze)}}),p.push(this.documentOverlayCache.saveOverlays(e,U,Ee))}return it.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return tn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_f(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):it.resolve(Wa());let b=-1,N=c;return p.next(U=>it.forEach(U,(X,Ee)=>(b<Ee.largestBatchId&&(b=Ee.largestBatchId),c.get(X)?it.resolve():this.getBaseDocument(e,X,Ee).next(Ze=>{N=N.insert(X,Ze)}))).next(()=>this.populateOverlays(e,U,c)).next(()=>this.computeViews(e,N,U,Yn())).next(X=>({batchId:b,changes:bg(X)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tn(t)).next(s=>{let a=jc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=jc();return this.indexManager.getCollectionParents(e,a).next(p=>it.forEach(p,b=>{const N=(U=t,X=b.child(a),new ku(X,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt));var U,X;return this.getDocumentsMatchingCollectionQuery(e,N,s).next(U=>{U.forEach((X,Ee)=>{c=c.insert(X,Ee)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(c=>(a=c,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(c=>{c.forEach((b,N)=>{const U=N.getKey();null===a.get(U)&&(a=a.insert(U,$r.newInvalidDocument(U)))});let p=jc();return a.forEach((b,N)=>{const U=c.get(b);void 0!==U&&oh(U.mutation,N,aa.empty(),Zr.now()),za(t,N)&&(p=p.insert(b,N))}),p})}getBaseDocument(e,t,s){return null===s||1===s.mutation.type?this.remoteDocumentCache.getEntry(e,t):it.resolve($r.newInvalidDocument(t))}}class ow{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return it.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:zr(s.createTime)}),it.resolve()}getNamedQuery(e,t){return it.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:wv(s.bundledQuery),readTime:zr(s.readTime)}),it.resolve();var s}}class xv{constructor(){this.overlays=new qr(tn.comparator),this.es=new Map}getOverlay(e,t){return it.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Wa();return it.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.ue(e,t,c)}),it.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.es.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.es.delete(s)),it.resolve()}getOverlaysForCollection(e,t,s){const a=Wa(),c=t.length+1,p=new tn(t.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const N=b.getNext().value,U=N.getKey();if(!t.isPrefixOf(U.path))break;U.path.length===c&&N.largestBatchId>s&&a.set(N.getKey(),N)}return it.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new qr((U,X)=>U-X);const p=this.overlays.getIterator();for(;p.hasNext();){const U=p.getNext().value;if(U.getKey().getCollectionGroup()===t&&U.largestBatchId>s){let X=c.get(U.largestBatchId);null===X&&(X=Wa(),c=c.insert(U.largestBatchId,X)),X.set(U.getKey(),U)}}const b=Wa(),N=c.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((U,X)=>b.set(U,X)),!(b.size()>=a)););return it.resolve(b)}ue(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const p=this.es.get(a.largestBatchId).delete(s.key);this.es.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new Kc(t,s));let c=this.es.get(t);void 0===c&&(c=Yn(),this.es.set(t,c)),this.es.set(t,c.add(s.key))}}class Kf{constructor(){this.ns=new Hr(Ts.ss),this.rs=new Hr(Ts.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new Ts(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new Ts(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new tn(new Ir([])),s=new Ts(t,e),a=new Ts(t,e+1),c=[];return this.rs.forEachInRange([s,a],p=>{this.cs(p),c.push(p.key)}),c}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new tn(new Ir([])),s=new Ts(t,e),a=new Ts(t,e+1);let c=Yn();return this.rs.forEachInRange([s,a],p=>{c=c.add(p.key)}),c}containsKey(e){const t=new Ts(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Ts{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return tn.comparator(e.key,t.key)||Ln(e._s,t._s)}static os(e,t){return Ln(e._s,t._s)||tn.comparator(e.key,t.key)}}class la{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Hr(Ts.ss)}checkEmpty(e){return it.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.ws;this.ws++;const p=new Pf(c,t,s,a);this.mutationQueue.push(p);for(const b of a)this.gs=this.gs.add(new Ts(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return it.resolve(p)}lookupMutationBatch(e,t){return it.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.ps(t+1),c=a<0?0:a;return it.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ts(t,0),a=new Ts(t,Number.POSITIVE_INFINITY),c=[];return this.gs.forEachInRange([s,a],p=>{const b=this.ys(p._s);c.push(b)}),it.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Hr(Ln);return t.forEach(a=>{const c=new Ts(a,0),p=new Ts(a,Number.POSITIVE_INFINITY);this.gs.forEachInRange([c,p],b=>{s=s.add(b._s)})}),it.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;tn.isDocumentKey(c)||(c=c.child(""));const p=new Ts(new tn(c),0);let b=new Hr(Ln);return this.gs.forEachWhile(N=>{const U=N.key.path;return!!s.isPrefixOf(U)&&(U.length===a&&(b=b.add(N._s)),!0)},p),it.resolve(this.Is(b))}Is(e){const t=[];return e.forEach(s=>{const a=this.ys(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Ce(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return it.forEach(t.mutations,a=>{const c=new Ts(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new Ts(t,0),a=this.gs.firstAfterOrEqual(s);return it.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return it.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Tv{constructor(e){this.Es=e,this.docs=new qr(tn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,p=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return it.resolve(s?s.document.mutableCopy():$r.newInvalidDocument(t))}getEntries(e,t){let s=Vs();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():$r.newInvalidDocument(a))}),it.resolve(s)}getAllFromCollection(e,t,s){let a=Vs();const c=new tn(t.child("")),p=this.docs.getIteratorFrom(c);for(;p.hasNext();){const{key:b,value:{document:N}}=p.getNext();if(!t.isPrefixOf(b.path))break;b.path.length>t.length+1||lf(Xp(N),s)<=0||(a=a.insert(N.key,N.mutableCopy()))}return it.resolve(a)}getAllFromCollectionGroup(e,t,s,a){z()}As(e,t){return it.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new aw(this)}getSize(e){return it.resolve(this.size)}}class aw extends fh{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Yn.addEntry(e,a)):this.Yn.removeEntry(s)}),it.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class fb{constructor(e){this.persistence=e,this.Rs=new dl(t=>Gl(t),Oc),this.lastRemoteSnapshotVersion=Fn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Kf,this.targetCount=0,this.vs=pl.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,a)=>t(a)),it.resolve()}getLastRemoteSnapshotVersion(e){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return it.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),it.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new pl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,it.resolve()}updateTargetData(e,t){return this.Dn(t),it.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,it.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.Rs.forEach((p,b)=>{b.sequenceNumber<=t&&null===s.get(b.targetId)&&(this.Rs.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),a++)}),it.waitFor(c).next(()=>a)}getTargetCount(e){return it.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return it.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),it.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(p=>{c.push(a.markPotentiallyOrphaned(e,p))}),it.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),it.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return it.resolve(s)}containsKey(e,t){return it.resolve(this.Ps.containsKey(t))}}class Sv{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Xs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new fb(this),this.indexManager=new db,this.remoteDocumentCache=new Tv(s=>this.referenceDelegate.xs(s)),this.It=new Rg(t),this.Ns=new ow(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new la(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){d("MemoryPersistence","Starting transaction:",e);const a=new zg(this.Ss.next());return this.referenceDelegate.ks(),s(a).next(c=>this.referenceDelegate.Os(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ms(e,t){return it.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class zg extends cf{constructor(e){super(),this.currentSequenceNumber=e}}class ph{constructor(e){this.persistence=e,this.Fs=new Kf,this.$s=null}static Bs(e){return new ph(e)}get Ls(){if(this.$s)return this.$s;throw z()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),it.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),it.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),it.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(a=>this.Ls.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ls.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.Ls,s=>{const a=tn.fromPath(s);return this.Us(e,a).next(c=>{c||t.removeEntry(a,Fn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return it.or([()=>it.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class uw{constructor(e){this.It=e}$(e,t,s,a){const c=new Yd("createOrUpgrade",t);var b;s<1&&a>=1&&(e.createObjectStore("owner"),(b=e).createObjectStore("mutationQueues",{keyPath:"userId"}),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pv,{unique:!0}),b.createObjectStore("documentMutations"),Av(e),function(b){b.createObjectStore("remoteDocuments")}(e));let p=it.resolve();return s<3&&a>=3&&(0!==s&&(function(b){b.deleteObjectStore("targetDocuments"),b.deleteObjectStore("targets"),b.deleteObjectStore("targetGlobal")}(e),Av(e)),p=p.next(()=>function(b){const N=b.store("targetGlobal"),U={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fn.min().toTimestamp(),targetCount:0};return N.put("targetGlobalKey",U)}(c))),s<4&&a>=4&&(0!==s&&(p=p.next(()=>function(b,N){return N.store("mutations").W().next(U=>{b.deleteObjectStore("mutations"),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pv,{unique:!0});const X=N.store("mutations"),Ee=U.map(Ze=>X.put(Ze));return it.waitFor(Ee)})}(e,c))),p=p.next(()=>{!function(b){b.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(p=p.next(()=>this.qs(c))),s<6&&a>=6&&(p=p.next(()=>(function(b){b.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(c)))),s<7&&a>=7&&(p=p.next(()=>this.Gs(c))),s<8&&a>=8&&(p=p.next(()=>this.Qs(e,c))),s<9&&a>=9&&(p=p.next(()=>{!function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(p=p.next(()=>this.js(c))),s<11&&a>=11&&(p=p.next(()=>{(function(b){b.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(b){b.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(p=p.next(()=>{!function(b){const N=b.createObjectStore("documentOverlays",{keyPath:yv});N.createIndex("collectionPathOverlayIndex",Z0,{unique:!1}),N.createIndex("collectionGroupOverlayIndex",vv,{unique:!1})}(e)})),s<13&&a>=13&&(p=p.next(()=>function(b){const N=b.createObjectStore("remoteDocumentsV14",{keyPath:Gc});N.createIndex("documentKeyIndex",j0),N.createIndex("collectionGroupIndex",gv)}(e)).next(()=>this.Ws(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(p=p.next(()=>this.zs(e,c))),s<15&&a>=15&&(p=p.next(()=>function(b){b.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),b.createObjectStore("indexState",{keyPath:z0}).createIndex("sequenceNumberIndex",W0,{unique:!1}),b.createObjectStore("indexEntries",{keyPath:G0}).createIndex("documentKeyIndex",K0,{unique:!1})}(e))),p}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,a)=>{t+=hh(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}qs(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(a=>it.forEach(a,c=>{const p=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",p).next(b=>it.forEach(b,N=>{Ce(N.userId===c.userId);const U=Pu(this.It,N);return bv(e,c.userId,U).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return s.Z((p,b)=>{const N=new Ir(p),U=[0,go(N)];c.push(t.get(U).next(X=>X?it.resolve():t.put({targetId:0,path:go(N),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>it.waitFor(c))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:$0});const s=t.store("collectionParents"),a=new Ev,c=p=>{if(a.add(p)){const b=p.lastSegment(),N=p.popLast();return s.put({collectionId:b,parent:go(N)})}};return t.store("remoteDocuments").Z({X:!0},(p,b)=>{const N=new Ir(p);return c(N.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([p,b,N],U)=>{const X=Ou(b);return c(X.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,a)=>{const c=Vf(a),p=Og(this.It,c);return t.put(p)})}Ws(e,t){const s=t.store("remoteDocuments"),a=[];return s.Z((c,p)=>{const b=t.store("remoteDocumentsV14"),N=(U=p,U.document?new tn(Ir.fromString(U.document.name).popFirst(5)):U.noDocument?tn.fromSegments(U.noDocument.path):U.unknownDocument?tn.fromSegments(U.unknownDocument.path):z()).path.toArray();var U;const X={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};a.push(b.put(X))}).next(()=>it.waitFor(a))}zs(e,t){const s=t.store("mutations"),a=jg(this.It),c=new Sv(ph.Bs,this.It.re);return s.W().next(p=>{const b=new Map;return p.forEach(N=>{var U;let X=null!==(U=b.get(N.userId))&&void 0!==U?U:Yn();Pu(this.It,N).keys().forEach(Ee=>X=X.add(Ee)),b.set(N.userId,X)}),it.forEach(b,(N,U)=>{const X=new ps(U),Ee=jf.oe(this.It,X),Ze=c.getIndexManager(X),pt=Yc.oe(X,this.It,Ze,c.referenceDelegate);return new $g(a,pt,Ee,Ze).recalculateAndSaveOverlaysForDocumentKeys(new _v(t,Xs.at),N).next()})})}}function Av(r){r.createObjectStore("targetDocuments",{keyPath:H0}).createIndex("documentTargetsIndex",mv,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Of,{unique:!0}),r.createObjectStore("targetGlobal")}const Wg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Zf{constructor(e,t,s,a,c,p,b,N,U,X,Ee=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=c,this.window=p,this.document=b,this.Js=U,this.Ys=X,this.Xs=Ee,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Ze=>Promise.resolve(),!Zf.C())throw new ht(Ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ed(this,a),this.ii=t+"main",this.It=new Rg(N),this.ri=new Ea(this.ii,this.Xs,new uw(this.It)),this.Cs=new rw(this.referenceDelegate,this.It),this.remoteDocumentCache=jg(this.It),this.Ns=new Ng,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===X&&g("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ht(Ne.FAILED_PRECONDITION,Wg);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Xs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,ke.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ke.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ke.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>mh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(uu(e))return d("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return d("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return gh(e).get("owner").next(t=>it.resolve(this.mi(t)))}gi(e){return mh(e).delete(this.clientId)}yi(){var e=this;return(0,ke.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Si(s,"clientMetadata");return a.W().next(c=>{const p=e.Ii(c,18e5),b=c.filter(N=>-1===p.indexOf(N));return it.forEach(b,N=>a.delete(N.clientId)).next(()=>b)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?it.resolve(!0):gh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new ht(Ne.FAILED_PRECONDITION,Wg);return!1}}return!(!this.networkEnabled||!this.inForeground)||mh(e).W().next(s=>void 0===this.Ii(s,5e3).find(a=>{if(this.clientId!==a.clientId){const p=!this.inForeground&&a.inForeground,b=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||p&&b)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&d("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ke.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new _v(t,Xs.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>mh(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Yc.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hb(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return jf.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){d("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(p=this.Xs)?Y0:14===p?Nf:13===p?q0:12===p?kg:11===p?Mg:void z();var p;let b;return this.ri.runTransaction(e,a,c,N=>(b=new _v(N,this.Ss?this.Ss.next():Xs.at),"readwrite-primary"===t?this.fi(b).next(U=>!!U||this.di(b)).next(U=>{if(!U)throw g(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new ht(Ne.FAILED_PRECONDITION,eg);return s(b)}).next(U=>this.wi(b).next(()=>U)):this.Vi(b).next(()=>s(b)))).then(N=>(b.raiseOnCommittedEvent(),N))}Vi(e){return gh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ht(Ne.FAILED_PRECONDITION,Wg)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gh(e).put("owner",t)}static C(){return Ea.C()}_i(e){const t=gh(e);return t.get("owner").next(s=>this.mi(s)?(d("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):it.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(g(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,dn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return d("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return g("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){g("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gh(r){return Si(r,"owner")}function mh(r){return Si(r,"clientMetadata")}function Gg(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Kg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=a}static Ci(e,t){let s=Yn(),a=Yn();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Kg(e,t.fromCache,s,a)}}class Zg{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.ki(e,t).next(c=>c||this.Oi(e,t,a,s)).next(c=>c||this.Mi(e,t))}ki(e,t){if(zy(t))return it.resolve(null);let s=po(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=ih(t,null,"F"),s=po(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const p=Yn(...c);return this.Ni.getDocuments(e,p).next(b=>this.indexManager.getMinOffset(e,s).next(N=>{const U=this.Fi(t,b);return this.$i(t,U,p,N.readTime)?this.ki(e,ih(t,null,"F")):this.Bi(e,U,t,N)}))})))}Oi(e,t,s,a){return zy(t)||a.isEqual(Fn.min())?this.Mi(e,t):this.Ni.getDocuments(e,s).next(c=>{const p=this.Fi(t,c);return this.$i(t,p,s,a)?this.Mi(e,t):(rf()<=On.in.DEBUG&&d("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ll(t)),this.Bi(e,p,t,Jp(a,-1)))})}Fi(e,t){let s=new Hr(Ky(e));return t.forEach((a,c)=>{za(e,c)&&(s=s.add(c))}),s}$i(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Mi(e,t){return rf()<=On.in.DEBUG&&d("QueryEngine","Using full collection scan to execute query:",ll(t)),this.Ni.getDocumentsMatchingQuery(e,t,oa.min())}Bi(e,t,s,a){return this.Ni.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(p=>{c=c.insert(p.key,p)}),c))}}class Mv{constructor(e,t,s,a){this.persistence=e,this.Li=t,this.It=a,this.Ui=new qr(Ln),this.qi=new dl(c=>Gl(c),Oc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $g(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function kv(r,e,t,s){return new Mv(r,e,t,s)}function Ga(r,e){return yh.apply(this,arguments)}function yh(){return yh=(0,ke.Z)(function*(r,e){const t=dt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const p=[],b=[];let N=Yn();for(const U of a){p.push(U.batchId);for(const X of U.mutations)N=N.add(X.key)}for(const U of c){b.push(U.batchId);for(const X of U.mutations)N=N.add(X.key)}return t.localDocuments.getDocuments(s,N).next(U=>({ji:U,removedBatchIds:p,addedBatchIds:b}))})})}),yh.apply(this,arguments)}function lw(r,e){const t=dt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Gi.newChangeBuffer({trackRemovals:!0});return function(p,b,N,U){const X=N.batch,Ee=X.keys();let Ze=it.resolve();return Ee.forEach(pt=>{Ze=Ze.next(()=>U.getEntry(b,pt)).next(bt=>{const Jt=N.docVersions.get(pt);Ce(null!==Jt),bt.version.compareTo(Jt)<0&&(X.applyToRemoteDocument(bt,N),bt.isValidDocument()&&(bt.setReadTime(N.commitVersion),U.addEntry(bt)))})}),Ze.next(()=>p.mutationQueue.removeMutationBatch(b,X))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let b=Yn();for(let N=0;N<p.mutationResults.length;++N)p.mutationResults[N].transformResults.length>0&&(b=b.add(p.batch.mutations[N].key));return b}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function Rv(r){const e=dt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function pb(r,e){const t=dt(r),s=e.snapshotVersion;let a=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=t.Gi.newChangeBuffer({trackRemovals:!0});a=t.Ui;const b=[];e.targetChanges.forEach((X,Ee)=>{const Ze=a.get(Ee);if(!Ze)return;b.push(t.Cs.removeMatchingKeys(c,X.removedDocuments,Ee).next(()=>t.Cs.addMatchingKeys(c,X.addedDocuments,Ee)));let pt=Ze.withSequenceNumber(c.currentSequenceNumber);var bt,Jt,on;e.targetMismatches.has(Ee)?pt=pt.withResumeToken(gs.EMPTY_BYTE_STRING,Fn.min()).withLastLimboFreeSnapshotVersion(Fn.min()):X.resumeToken.approximateByteSize()>0&&(pt=pt.withResumeToken(X.resumeToken,s)),a=a.insert(Ee,pt),Jt=pt,on=X,(0===(bt=Ze).resumeToken.approximateByteSize()||Jt.snapshotVersion.toMicroseconds()-bt.snapshotVersion.toMicroseconds()>=3e8||on.addedDocuments.size+on.modifiedDocuments.size+on.removedDocuments.size>0)&&b.push(t.Cs.updateTargetData(c,pt))});let N=Vs(),U=Yn();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&b.push(t.persistence.referenceDelegate.updateLimboDocument(c,X))}),b.push(qg(c,p,e.documentUpdates).next(X=>{N=X.Wi,U=X.zi})),!s.isEqual(Fn.min())){const X=t.Cs.getLastRemoteSnapshotVersion(c).next(Ee=>t.Cs.setTargetsMetadata(c,c.currentSequenceNumber,s));b.push(X)}return it.waitFor(b).next(()=>p.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,N,U)).next(()=>N)}).then(c=>(t.Ui=a,c))}function qg(r,e,t){let s=Yn(),a=Yn();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let p=Vs();return t.forEach((b,N)=>{const U=c.get(b);N.isFoundDocument()!==U.isFoundDocument()&&(a=a.add(b)),N.isNoDocument()&&N.version.isEqual(Fn.min())?(e.removeEntry(b,N.readTime),p=p.insert(b,N)):!U.isValidDocument()||N.version.compareTo(U.version)>0||0===N.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(N),p=p.insert(b,N)):d("LocalStore","Ignoring outdated watch update for ",b,". Current version:",U.version," Watch version:",N.version)}),{Wi:p,zi:a}})}function cw(r,e){const t=dt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function nd(r,e){const t=dt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Cs.getTargetData(s,e).next(c=>c?(a=c,it.resolve(a)):t.Cs.allocateTargetId(s).next(p=>(a=new xs(e,p,0,s.currentSequenceNumber),t.Cs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ui.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(s.targetId,s),t.qi.set(e,s.targetId)),s})}function rd(r,e,t){return vh.apply(this,arguments)}function vh(){return vh=(0,ke.Z)(function*(r,e,t){const s=dt(r),a=s.Ui.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!uu(p))throw p;d("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ui=s.Ui.remove(e),s.qi.delete(a.target)}),vh.apply(this,arguments)}function qf(r,e,t){const s=dt(r);let a=Fn.min(),c=Yn();return s.persistence.runTransaction("Execute query","readonly",p=>function(b,N,U){const X=dt(b),Ee=X.qi.get(U);return void 0!==Ee?it.resolve(X.Ui.get(Ee)):X.Cs.getTargetData(N,U)}(s,p,po(e)).next(b=>{if(b)return a=b.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(p,b.targetId).next(N=>{c=N})}).next(()=>s.Li.getDocumentsMatchingQuery(p,e,t?a:Fn.min(),t?c:Yn())).next(b=>(Yf(s,Gy(e),b),{documents:b,Hi:c})))}function Ov(r,e){const t=dt(r),s=dt(t.Cs),a=t.Ui.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>s.se(c,e).next(p=>p?p.target:null))}function _h(r,e){const t=dt(r),s=t.Ki.get(e)||Fn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Gi.getAllFromCollectionGroup(a,e,Jp(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Yf(t,e,a),a))}function Yf(r,e,t){let s=r.Ki.get(e)||Fn.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Ki.set(e,s)}function Nv(){return Nv=(0,ke.Z)(function*(r,e,t,s){const a=dt(r);let c=Yn(),p=Vs();for(const U of t){const X=e.Ji(U.metadata.name);U.document&&(c=c.add(X));const Ee=e.Yi(U);Ee.setReadTime(e.Xi(U.metadata.readTime)),p=p.insert(X,Ee)}const b=a.Gi.newChangeBuffer({trackRemovals:!0}),N=yield nd(a,(U=s,po(Kl(Ir.fromString(`__bundle__/docs/${U}`)))));var U;return a.persistence.runTransaction("Apply bundle documents","readwrite",U=>qg(U,b,p).next(X=>(b.apply(U),X)).next(X=>a.Cs.removeMatchingKeysForTargetId(U,N.targetId).next(()=>a.Cs.addMatchingKeys(U,c,N.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(U,X.Wi,X.zi)).next(()=>X.Wi)))}),Nv.apply(this,arguments)}function Yg(r,e){return Pv.apply(this,arguments)}function Pv(){return Pv=(0,ke.Z)(function*(r,e,t=Yn()){const s=yield nd(r,po(wv(e.bundledQuery))),a=dt(r);return a.persistence.runTransaction("Save named query","readwrite",c=>{const p=zr(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return a.Ns.saveNamedQuery(c,e);const b=s.withResumeToken(gs.EMPTY_BYTE_STRING,p);return a.Ui=a.Ui.insert(b.targetId,b),a.Cs.updateTargetData(c,b).next(()=>a.Cs.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>a.Cs.addMatchingKeys(c,t,s.targetId)).next(()=>a.Ns.saveNamedQuery(c,e))})}),Pv.apply(this,arguments)}function Qg(r,e){return`firestore_clients_${r}_${e}`}function Jg(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Jf(r,e){return`firestore_targets_${r}_${e}`}class wh{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static Zi(e,t,s){const a=JSON.parse(s);let c,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(c=new ht(a.error.code,a.error.message))),p?new wh(e,t,a.state,c):(g("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ic{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let a,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(a=new ht(s.error.code,s.error.message))),c?new ic(e,s.state,a):(g("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Da{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,c=ah();for(let p=0;a&&p<s.activeTargetIds.length;++p)a=Py(s.activeTargetIds[p]),c=c.add(s.activeTargetIds[p]);return a?new Da(e,c):(g("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class id{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new id(t.clientId,t.onlineState):(g("SharedClientState",`Failed to parse online state: ${e}`),null)}}class sd{constructor(){this.activeTargetIds=ah()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sc{constructor(e,t,s,a,c){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new qr(Ln),this.started=!1,this.cr=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ar=Qg(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new sd),this.lr=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(b){return`firestore_bundle_loaded_v2_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ke.Z)(function*(){const t=yield e.syncEngine.vi();for(const a of t){if(a===e.sr)continue;const c=e.getItem(Qg(e.persistenceKey,a));if(c){const p=Da.Zi(a,c);p&&(e.ur=e.ur.insert(p.clientId,p))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const a=e.yr(s);a&&e.pr(a)}for(const a of e.cr)e.rr(a);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Jf(this.persistenceKey,e));if(s){const a=ic.Zi(e,s);a&&(t=a.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Jf(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Er(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return d("SharedClientState","READ",e,t),t}setItem(e,t){d("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){d("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(d("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ke.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const a=t.vr(s.key);return t.Vr(a,null)}{const a=t.Sr(s.key,s.newValue);if(a)return t.Vr(a.clientId,a)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const a=t.Dr(s.key,s.newValue);if(a)return t.Cr(a)}}else if(t._r.test(s.key)){if(null!==s.newValue){const a=t.Nr(s.key,s.newValue);if(a)return t.kr(a)}}else if(s.key===t.wr){if(null!==s.newValue){const a=t.yr(s.newValue);if(a)return t.pr(a)}}else if(s.key===t.hr){const a=function(c){let p=Xs.at;if(null!=c)try{const b=JSON.parse(c);Ce("number"==typeof b),p=b}catch(b){g("SharedClientState","Failed to read sequence number from WebStorage",b)}return p}(s.newValue);a!==Xs.at&&t.sequenceNumberHandler(a)}else if(s.key===t.mr){const a=t.Or(s.newValue);yield Promise.all(a.map(c=>t.syncEngine.Mr(c)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const a=new wh(this.currentUser,e,t,s),c=Jg(this.persistenceKey,this.currentUser,e);this.setItem(c,a.tr())}Er(e){const t=Jg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const a=Jf(this.persistenceKey,e),c=new ic(e,t,s);this.setItem(a,c.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return Da.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),a=Number(s[1]);return wh.Zi(new ps(void 0!==s[2]?s[2]:null),a,t)}Nr(e,t){const s=this._r.exec(e),a=Number(s[1]);return ic.Zi(a,t)}yr(e){return id.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ke.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);d("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),a=this.Ir(this.ur),c=this.Ir(s),p=[],b=[];return c.forEach(N=>{a.has(N)||p.push(N)}),a.forEach(N=>{c.has(N)||b.push(N)}),this.syncEngine.Br(p,b).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=ah();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Lv{constructor(){this.Lr=new sd,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,s){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new sd,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xg{qr(e){}shutdown(){}}class em{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const dw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hw{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Eh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,s,a,c){const p=this.ho(e,t);d("RestConnection","Sending: ",p,s);const b={};return this.lo(b,a,c),this.fo(e,p,b,s).then(N=>(d("RestConnection","Received: ",N),N),N=>{throw D("RestConnection",`${e} failed with error: `,N,"url: ",p,"request:",s),N})}_o(e,t,s,a,c,p){return this.ao(e,t,s,a,c)}lo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+ou,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}ho(e,t){return`${this.oo}/v1/${t}:${dw[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,s,a){return new Promise((c,p)=>{const b=new Ay;b.setWithCredentials(!0),b.listenOnce(su.COMPLETE,()=>{var U;try{switch(b.getLastErrorCode()){case Pl.NO_ERROR:const X=b.getResponseJson();d("Connection","XHR received:",JSON.stringify(X)),c(X);break;case Pl.TIMEOUT:d("Connection",'RPC "'+e+'" timed out'),p(new ht(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case Pl.HTTP_ERROR:const Ee=b.getStatus();if(d("Connection",'RPC "'+e+'" failed with status:',Ee,"response text:",b.getResponseText()),Ee>0){let Ze=b.getResponseJson();Array.isArray(Ze)&&(Ze=Ze[0]);const pt=null===(U=Ze)||void 0===U?void 0:U.error;if(pt&&pt.status&&pt.message){const bt=function(Jt){const on=Jt.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(on)>=0?on:Ne.UNKNOWN}(pt.status);p(new ht(bt,pt.message))}else p(new ht(Ne.UNKNOWN,"Server responded with status "+b.getStatus()))}else p(new ht(Ne.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{d("Connection",'RPC "'+e+'" completed.')}});const N=JSON.stringify(a);b.send(t,"POST",N,s,15)})}wo(e,t,s){const a=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=nf(),p=Zp(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(b.xmlHttpFactory=new Sy({})),this.lo(b.initMessageHeaders,t,s),b.encodeInitMessageHeaders=!0;const N=a.join("");d("Connection","Creating WebChannel: "+N,b);const U=c.createWebChannel(N,b);let X=!1,Ee=!1;const Ze=new hw({Hr:bt=>{Ee?d("Connection","Not sending because WebChannel is closed:",bt):(X||(d("Connection","Opening WebChannel transport."),U.open(),X=!0),d("Connection","WebChannel sending:",bt),U.send(bt))},Jr:()=>U.close()}),pt=(bt,Jt,on)=>{bt.listen(Jt,gr=>{try{on(gr)}catch(Lr){setTimeout(()=>{throw Lr},0)}})};return pt(U,zd.EventType.OPEN,()=>{Ee||d("Connection","WebChannel transport opened.")}),pt(U,zd.EventType.CLOSE,()=>{Ee||(Ee=!0,d("Connection","WebChannel transport closed"),Ze.io())}),pt(U,zd.EventType.ERROR,bt=>{Ee||(Ee=!0,D("Connection","WebChannel transport errored:",bt),Ze.io(new ht(Ne.UNAVAILABLE,"The operation could not be completed")))}),pt(U,zd.EventType.MESSAGE,bt=>{var Jt;if(!Ee){const on=bt.data[0];Ce(!!on);const gr=on,Lr=gr.error||(null===(Jt=gr[0])||void 0===Jt?void 0:Jt.error);if(Lr){d("Connection","WebChannel received error:",Lr);const mr=Lr.status;let sr=function(cr){const As=Wi[cr];if(void 0!==As)return Eg(As)}(mr),Xn=Lr.message;void 0===sr&&(sr=Ne.INTERNAL,Xn="Unknown error status: "+mr+" with message "+Lr.message),Ee=!0,Ze.io(new ht(sr,Xn)),U.close()}else d("Connection","WebChannel received:",on),Ze.ro(on)}}),pt(p,tl.STAT_EVENT,bt=>{bt.stat===$d.PROXY?d("Connection","Detected buffering proxy"):bt.stat===$d.NOPROXY&&d("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ze.so()},0),Ze}}function Fv(){return typeof window<"u"?window:null}function tm(){return typeof document<"u"?document:null}function bh(r){return new O0(r,!0)}class Vv{constructor(e,t,s=1e3,a=1.5,c=6e4){this.Hs=e,this.timerId=t,this.mo=s,this.yo=a,this.po=c,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),a=Math.max(0,t-s);a>0&&d("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,a,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Uv{constructor(e,t,s,a,c,p,b,N){this.Hs=e,this.vo=s,this.Vo=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=N,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Vv(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ke.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ke.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,ke.Z)(function*(){s.Lo(),s.Uo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===Ne.RESOURCE_EXHAUSTED?(g(t.toString()),g("Using maximum backoff delay to prevent overloading the backend."),s.xo.Ao()):t&&t.code===Ne.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.qo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.So===t&&this.Go(s,a)},s=>{e(()=>{const a=new ht(Ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(a)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(a=>{s(()=>this.Qo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ke.Z)(function*(){e.state=0,e.start()}))}Qo(e){return d("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fw extends Uv{constructor(e,t,s,a,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,p),this.It=c}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function lv(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(N=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===N?1:"REMOVE"===N?2:"CURRENT"===N?3:"RESET"===N?4:z(),a=e.targetChange.targetIds||[],c=function(N,U){return N.gt?(Ce(void 0===U||"string"==typeof U),gs.fromBase64String(U||"")):(Ce(void 0===U||U instanceof Uint8Array),gs.fromUint8Array(U||new Uint8Array))}(r,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&function(N){const U=void 0===N.code?Ne.UNKNOWN:Eg(N.code);return new ht(U,N.message||"")}(p);t=new ev(s,a,c,b||null)}else if("documentChange"in e){const s=e.documentChange,a=cu(r,s.document.name),c=zr(s.document.updateTime),p=new ms({mapValue:{fields:s.document.fields}}),b=$r.newFoundDocument(a,c,p);t=new Sf(s.targetIds||[],s.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const s=e.documentDelete,a=cu(r,s.document),c=s.readTime?zr(s.readTime):Fn.min(),p=$r.newNoDocument(a,c);t=new Sf([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=cu(r,s.document);t=new Sf([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return z();{const s=e.filter,c=new Jy(s.count||0);t=new Dg(s.targetId,c)}}var N;return t}(this.It,e),s=function(a){if(!("targetChange"in a))return Fn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Fn.min():c.readTime?zr(c.readTime):Fn.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=zc(this.It),t.addTarget=function(a,c){let p;const b=c.target;return p=mf(b)?{documents:cv(a,b)}:{query:kf(a,b)},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?p.resumeToken=iv(a,c.resumeToken):c.snapshotVersion.compareTo(Fn.min())>0&&(p.readTime=$c(a,c.snapshotVersion.toTimestamp())),p}(this.It,e);const s=function hv(r,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return z()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=zc(this.It),t.removeTarget=e,this.Bo(t)}}class pw extends Uv{constructor(e,t,s,a,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,p),this.It=c,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function P0(r,e){return r&&r.length>0?(Ce(void 0!==e),r.map(t=>function(s,a){let c=zr(s.updateTime?s.updateTime:a);return c.isEqual(Fn.min())&&(c=zr(a)),new yg(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=zr(e.commitTime);return this.listener.Zo(s,t)}return Ce(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=zc(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Wc(this.It,s))};this.Bo(t)}}class Bv extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.It=a,this.nu=!1}su(){if(this.nu)throw new ht(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.ao(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ht(Ne.UNKNOWN,a.toString())})}_o(e,t,s,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection._o(e,t,s,c,p,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(Ne.UNKNOWN,c.toString())})}terminate(){this.nu=!0}}class im{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(g(t),this.ou=!1):d("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class gw{constructor(e,t,s,a,c){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=c,this.mu.qr(b=>{s.enqueueAndForget((0,ke.Z)(function*(){var N;Uu(p)&&(d("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,ke.Z)(function*(U){const X=dt(U);X._u.add(4),yield od(X),X.gu.set("Unknown"),X._u.delete(4),yield Ih(X)}),function(U){return N.apply(this,arguments)})(p))}))}),this.gu=new im(s,a)}}function Ih(r){return sm.apply(this,arguments)}function sm(){return sm=(0,ke.Z)(function*(r){if(Uu(r))for(const e of r.wu)yield e(!0)}),sm.apply(this,arguments)}function od(r){return om.apply(this,arguments)}function om(){return om=(0,ke.Z)(function*(r){for(const e of r.wu)yield e(!1)}),om.apply(this,arguments)}function Xf(r,e){const t=dt(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),am(t)?oc(t):dd(t).ko()&&Vu(t,e))}function yl(r,e){const t=dt(r),s=dd(t);t.du.delete(e),s.ko()&&mw(t,e),0===t.du.size&&(s.ko()?s.Fo():Uu(t)&&t.gu.set("Unknown"))}function Vu(r,e){r.yu.Mt(e.targetId),dd(r).zo(e)}function mw(r,e){r.yu.Mt(e),dd(r).Ho(e)}function oc(r){r.yu=new nv({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),se:e=>r.du.get(e)||null}),dd(r).start(),r.gu.uu()}function am(r){return Uu(r)&&!dd(r).No()&&r.du.size>0}function Uu(r){return 0===dt(r)._u.size}function ep(r){r.yu=void 0}function yw(r){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,ke.Z)(function*(r){r.du.forEach((e,t)=>{Vu(r,e)})}),Ca.apply(this,arguments)}function Dh(r,e){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,ke.Z)(function*(r,e){ep(r),am(r)?(r.gu.hu(e),oc(r)):r.gu.set("Unknown")}),Ss.apply(this,arguments)}function ac(r,e,t){return ad.apply(this,arguments)}function ad(){return ad=(0,ke.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof ev&&2===e.state&&e.cause)try{yield(s=(0,ke.Z)(function*(a,c){const p=c.cause;for(const b of c.targetIds)a.du.has(b)&&(yield a.remoteSyncer.rejectListen(b,p),a.du.delete(b),a.yu.removeTarget(b))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){d("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield mo(r,s)}else if(e instanceof Sf?r.yu.Gt(e):e instanceof Dg?r.yu.Yt(e):r.yu.Wt(e),!t.isEqual(Fn.min()))try{const s=yield Rv(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const p=a.yu.te(c);return p.targetChanges.forEach((b,N)=>{if(b.resumeToken.approximateByteSize()>0){const U=a.du.get(N);U&&a.du.set(N,U.withResumeToken(b.resumeToken,c))}}),p.targetMismatches.forEach(b=>{const N=a.du.get(b);if(!N)return;a.du.set(b,N.withResumeToken(gs.EMPTY_BYTE_STRING,N.snapshotVersion)),mw(a,b);const U=new xs(N.target,b,1,N.sequenceNumber);Vu(a,U)}),a.remoteSyncer.applyRemoteEvent(p)}(r,t))}catch(s){d("RemoteStore","Failed to raise snapshot:",s),yield mo(r,s)}var s}),ad.apply(this,arguments)}function mo(r,e,t){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,ke.Z)(function*(r,e,t){if(!uu(e))throw e;r._u.add(1),yield od(r),r.gu.set("Offline"),t||(t=()=>Rv(r.localStore)),r.asyncQueue.enqueueRetryable((0,ke.Z)(function*(){d("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield Ih(r)}))}),Ch.apply(this,arguments)}function uc(r,e){return e().catch(t=>mo(r,t,e))}function Ka(r){return vl.apply(this,arguments)}function vl(){return vl=(0,ke.Z)(function*(r){const e=dt(r),t=Bu(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;ud(e);)try{const a=yield cw(e.localStore,s);if(null===a){0===e.fu.length&&t.Fo();break}s=a.batchId,ld(e,a)}catch(a){yield mo(e,a)}lc(e)&&cc(e)}),vl.apply(this,arguments)}function ud(r){return Uu(r)&&r.fu.length<10}function ld(r,e){r.fu.push(e);const t=Bu(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function lc(r){return Uu(r)&&!Bu(r).No()&&r.fu.length>0}function cc(r){Bu(r).start()}function cd(r){return _l.apply(this,arguments)}function _l(){return _l=(0,ke.Z)(function*(r){Bu(r).eu()}),_l.apply(this,arguments)}function jv(r){return tp.apply(this,arguments)}function tp(){return tp=(0,ke.Z)(function*(r){const e=Bu(r);for(const t of r.fu)e.Xo(t.mutations)}),tp.apply(this,arguments)}function Hv(r,e,t){return np.apply(this,arguments)}function np(){return np=(0,ke.Z)(function*(r,e,t){const s=r.fu.shift(),a=Lf.from(s,e,t);yield uc(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Ka(r)}),np.apply(this,arguments)}function $v(r,e){return rp.apply(this,arguments)}function rp(){return rp=(0,ke.Z)(function*(r,e){var t;e&&Bu(r).Yo&&(yield(t=(0,ke.Z)(function*(s,a){if(wg(c=a.code)&&c!==Ne.ABORTED){const p=s.fu.shift();Bu(s).Mo(),yield uc(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield Ka(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),lc(r)&&cc(r)}),rp.apply(this,arguments)}function um(r,e){return ip.apply(this,arguments)}function ip(){return ip=(0,ke.Z)(function*(r,e){const t=dt(r);t.asyncQueue.verifyOperationInProgress(),d("RemoteStore","RemoteStore received new credentials");const s=Uu(t);t._u.add(3),yield od(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Ih(t)}),ip.apply(this,arguments)}function sp(r,e){return lm.apply(this,arguments)}function lm(){return lm=(0,ke.Z)(function*(r,e){const t=dt(r);e?(t._u.delete(2),yield Ih(t)):e||(t._u.add(2),yield od(t),t.gu.set("Unknown"))}),lm.apply(this,arguments)}function dd(r){return r.pu||(r.pu=function(e,t,s){const a=dt(e);return a.su(),new fw(t,a.connection,a.authCredentials,a.appCheckCredentials,a.It,s)}(r.datastore,r.asyncQueue,{Yr:yw.bind(null,r),Zr:Dh.bind(null,r),Wo:ac.bind(null,r)}),r.wu.push(function(){var e=(0,ke.Z)(function*(t){t?(r.pu.Mo(),am(r)?oc(r):r.gu.set("Unknown")):(yield r.pu.stop(),ep(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function Bu(r){return r.Iu||(r.Iu=function(e,t,s){const a=dt(e);return a.su(),new pw(t,a.connection,a.authCredentials,a.appCheckCredentials,a.It,s)}(r.datastore,r.asyncQueue,{Yr:cd.bind(null,r),Zr:$v.bind(null,r),tu:jv.bind(null,r),Zo:Hv.bind(null,r)}),r.wu.push(function(){var e=(0,ke.Z)(function*(t){t?(r.Iu.Mo(),yield Ka(r)):(yield r.Iu.stop(),r.fu.length>0&&(d("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class cm{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new $n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,c){const p=Date.now()+s,b=new cm(e,t,p,a,c);return b.start(s),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ht(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dc(r,e){if(g("AsyncQueue",`${e}: ${r}`),uu(r))return new ht(Ne.UNAVAILABLE,`${e}: ${r}`);throw r}class wl{constructor(e){this.comparator=e?(t,s)=>e(t,s)||tn.comparator(t.key,s.key):(t,s)=>tn.comparator(t.key,s.key),this.keyedMap=jc(),this.sortedSet=new qr(this.comparator)}static emptySet(e){return new wl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new wl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class op{constructor(){this.Tu=new qr(tn.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):z():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class hd{constructor(e,t,s,a,c,p,b,N,U){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=N,this.hasCachedResults=U}static fromInitialDocuments(e,t,s,a,c){const p=[];return t.forEach(b=>{p.push({type:0,doc:b})}),new hd(e,t,wl.emptySet(t),p,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class ap{constructor(){this.Au=void 0,this.listeners=[]}}class up{constructor(){this.queries=new dl(e=>Wy(e),sh),this.onlineState="Unknown",this.Ru=new Set}}function xh(r,e){return dm.apply(this,arguments)}function dm(){return dm=(0,ke.Z)(function*(r,e){const t=dt(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new ap),a)try{c.Au=yield t.onListen(s)}catch(p){const b=dc(p,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(b)}t.queries.set(s,c),c.listeners.push(e),e.bu(t.onlineState),c.Au&&e.Pu(c.Au)&&Th(t)}),dm.apply(this,arguments)}function fd(r,e){return pd.apply(this,arguments)}function pd(){return pd=(0,ke.Z)(function*(r,e){const t=dt(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const p=c.listeners.indexOf(e);p>=0&&(c.listeners.splice(p,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),pd.apply(this,arguments)}function zv(r,e){const t=dt(r);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const b of p.listeners)b.Pu(a)&&(s=!0);p.Au=a}}s&&Th(t)}function Wv(r,e,t){const s=dt(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Th(r){r.Ru.forEach(e=>{e.next()})}class lp{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new hd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=hd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Gv{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class cp{constructor(e){this.It=e}Ji(e){return cu(this.It,e)}Yi(e){return e.metadata.exists?uv(this.It,e.document,!1):$r.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return zr(e)}}class Kv{constructor(e,t,s){this.Mu=e,this.localStore=t,this.It=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Zv(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const s=Ir.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,s=new cp(this.It);for(const a of e)if(a.metadata.queries){const c=s.Ji(a.metadata.name);for(const p of a.metadata.queries){const b=(t.get(p)||Yn()).add(c);t.set(p,b)}}return t}complete(){var e=this;return(0,ke.Z)(function*(){const t=yield function Qf(r,e,t,s){return Nv.apply(this,arguments)}(e.localStore,new cp(e.It),e.documents,e.Mu.id),s=e.$u(e.documents);for(const a of e.queries)yield Yg(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Zv(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class hm{constructor(e){this.key=e}}class fm{constructor(e){this.key=e}}class pm{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Yn(),this.mutatedKeys=Yn(),this.Gu=Ky(e),this.Qu=new wl(this.Gu)}get ju(){return this.Uu}Wu(e,t){const s=t?t.zu:new op,a=t?t.Qu:this.Qu;let c=t?t.mutatedKeys:this.mutatedKeys,p=a,b=!1;const N="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,U="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((X,Ee)=>{const Ze=a.get(X),pt=za(this.query,Ee)?Ee:null,bt=!!Ze&&this.mutatedKeys.has(Ze.key),Jt=!!pt&&(pt.hasLocalMutations||this.mutatedKeys.has(pt.key)&&pt.hasCommittedMutations);let on=!1;Ze&&pt?Ze.data.isEqual(pt.data)?bt!==Jt&&(s.track({type:3,doc:pt}),on=!0):this.Hu(Ze,pt)||(s.track({type:2,doc:pt}),on=!0,(N&&this.Gu(pt,N)>0||U&&this.Gu(pt,U)<0)&&(b=!0)):!Ze&&pt?(s.track({type:0,doc:pt}),on=!0):Ze&&!pt&&(s.track({type:1,doc:Ze}),on=!0,(N||U)&&(b=!0)),on&&(pt?(p=p.add(pt),c=Jt?c.add(X):c.delete(X)):(p=p.delete(X),c=c.delete(X)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const X="F"===this.query.limitType?p.last():p.first();p=p.delete(X.key),c=c.delete(X.key),s.track({type:1,doc:X})}return{Qu:p,zu:s,$i:b,mutatedKeys:c}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const c=e.zu.Eu();c.sort((U,X)=>function(Ee,Ze){const pt=bt=>{switch(bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return pt(Ee)-pt(Ze)}(U.type,X.type)||this.Gu(U.doc,X.doc)),this.Ju(s);const p=t?this.Yu():[],b=0===this.Ku.size&&this.current?1:0,N=b!==this.qu;return this.qu=b,0!==c.length||N?{snapshot:new hd(this.query,e.Qu,a,c,e.mutatedKeys,0===b,N,!1,!!s&&s.resumeToken.approximateByteSize()>0),Xu:p}:{Xu:p}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new op,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Yn(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const t=[];return e.forEach(s=>{this.Ku.has(s)||t.push(new fm(s))}),this.Ku.forEach(s=>{e.has(s)||t.push(new hm(s))}),t}tc(e){this.Uu=e.Hi,this.Ku=Yn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return hd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class qv{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class vw{constructor(e){this.key=e,this.nc=!1}}class Yv{constructor(e,t,s,a,c,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.sc={},this.ic=new dl(b=>Wy(b),sh),this.rc=new Map,this.oc=new Set,this.uc=new qr(tn.comparator),this.cc=new Map,this.ac=new Kf,this.hc={},this.lc=new Map,this.fc=pl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Qv(r,e){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,ke.Z)(function*(r,e){const t=Tm(r);let s,a;const c=t.ic.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.ec();else{const p=yield nd(t.localStore,po(e));t.isPrimaryClient&&Xf(t.remoteStore,p);const b=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield Ah(t,e,s,"current"===b,p.resumeToken)}return a}),Sh.apply(this,arguments)}function Ah(r,e,t,s,a){return dp.apply(this,arguments)}function dp(){return dp=(0,ke.Z)(function*(r,e,t,s,a){r._c=(Ee,Ze,pt)=>{return(bt=(0,ke.Z)(function*(Jt,on,gr,Lr){let mr=on.view.Wu(gr);mr.$i&&(mr=yield qf(Jt.localStore,on.query,!1).then(({documents:cr})=>on.view.Wu(cr,mr)));const sr=Lr&&Lr.targetChanges.get(on.targetId),Xn=on.view.applyChanges(mr,Jt.isPrimaryClient,sr);return yp(Jt,on.targetId,Xn.Xu),Xn.snapshot}),function(Jt,on,gr,Lr){return bt.apply(this,arguments)})(r,Ee,Ze,pt);var bt};const c=yield qf(r.localStore,e,!0),p=new pm(e,c.Hi),b=p.Wu(c.documents),N=Ru.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),U=p.applyChanges(b,r.isPrimaryClient,N);yp(r,t,U.Xu);const X=new qv(e,t,p);return r.ic.set(e,X),r.rc.has(t)?r.rc.get(t).push(e):r.rc.set(t,[e]),U.snapshot}),dp.apply(this,arguments)}function Jv(r,e){return hp.apply(this,arguments)}function hp(){return hp=(0,ke.Z)(function*(r,e){const t=dt(r),s=t.ic.get(e),a=t.rc.get(s.targetId);if(a.length>1)return t.rc.set(s.targetId,a.filter(c=>!sh(c,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield rd(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),yl(t.remoteStore,s.targetId),gd(t,s.targetId)}).catch(Vl))):(gd(t,s.targetId),yield rd(t.localStore,s.targetId,!0))}),hp.apply(this,arguments)}function fp(){return fp=(0,ke.Z)(function*(r,e,t){const s=Ep(r);try{const a=yield function(c,p){const b=dt(c),N=Zr.now(),U=p.reduce((Ze,pt)=>Ze.add(pt.key),Yn());let X,Ee;return b.persistence.runTransaction("Locally write mutations","readwrite",Ze=>{let pt=Vs(),bt=Yn();return b.Gi.getEntries(Ze,U).next(Jt=>{pt=Jt,pt.forEach((on,gr)=>{gr.isValidDocument()||(bt=bt.add(on))})}).next(()=>b.localDocuments.getOverlayedDocuments(Ze,pt)).next(Jt=>{X=Jt;const on=[];for(const gr of p){const Lr=R0(gr,X.get(gr.key).overlayedDocument);null!=Lr&&on.push(new lu(gr.key,Lr,Uy(Lr.value.mapValue),ui.exists(!0)))}return b.mutationQueue.addMutationBatch(Ze,N,on,p)}).next(Jt=>{Ee=Jt;const on=Jt.applyToLocalDocumentSet(X,bt);return b.documentOverlayCache.saveOverlays(Ze,Jt.batchId,on)})}).then(()=>({batchId:Ee.batchId,changes:bg(X)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,p,b){let N=c.hc[c.currentUser.toKey()];N||(N=new qr(Ln)),N=N.insert(p,b),c.hc[c.currentUser.toKey()]=N}(s,a.batchId,t),yield ju(s,a.changes),yield Ka(s.remoteStore)}catch(a){const c=dc(a,"Failed to persist write");t.reject(c)}}),fp.apply(this,arguments)}function gm(r,e){return pp.apply(this,arguments)}function pp(){return pp=(0,ke.Z)(function*(r,e){const t=dt(r);try{const s=yield pb(t.localStore,e);e.targetChanges.forEach((a,c)=>{const p=t.cc.get(c);p&&(Ce(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.nc=!0:a.modifiedDocuments.size>0?Ce(p.nc):a.removedDocuments.size>0&&(Ce(p.nc),p.nc=!1))}),yield ju(t,s,e)}catch(s){yield Vl(s)}}),pp.apply(this,arguments)}function mm(r,e,t){const s=dt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.ic.forEach((c,p)=>{const b=p.view.bu(e);b.snapshot&&a.push(b.snapshot)}),function(c,p){const b=dt(c);b.onlineState=p;let N=!1;b.queries.forEach((U,X)=>{for(const Ee of X.listeners)Ee.bu(p)&&(N=!0)}),N&&Th(b)}(s.eventManager,e),a.length&&s.sc.Wo(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function gb(r,e,t){return ym.apply(this,arguments)}function ym(){return ym=(0,ke.Z)(function*(r,e,t){const s=dt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.cc.get(e),c=a&&a.key;if(c){let p=new qr(tn.comparator);p=p.insert(c,$r.newNoDocument(c,Fn.min()));const b=Yn().add(c),N=new Ql(Fn.min(),new Map,new Hr(Ln),p,b);yield gm(s,N),s.uc=s.uc.remove(c),s.cc.delete(e),Em(s)}else yield rd(s.localStore,e,!1).then(()=>gd(s,e,t)).catch(Vl)}),ym.apply(this,arguments)}function _w(r,e){return gp.apply(this,arguments)}function gp(){return gp=(0,ke.Z)(function*(r,e){const t=dt(r),s=e.batch.batchId;try{const a=yield lw(t.localStore,e);mp(t,s,null),_m(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield ju(t,a)}catch(a){yield Vl(a)}}),gp.apply(this,arguments)}function ww(r,e,t){return Gi.apply(this,arguments)}function Gi(){return Gi=(0,ke.Z)(function*(r,e,t){const s=dt(r);try{const a=yield function(c,p){const b=dt(c);return b.persistence.runTransaction("Reject batch","readwrite-primary",N=>{let U;return b.mutationQueue.lookupMutationBatch(N,p).next(X=>(Ce(null!==X),U=X.keys(),b.mutationQueue.removeMutationBatch(N,X))).next(()=>b.mutationQueue.performConsistencyCheck(N)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(N,U,p)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(N,U)).next(()=>b.localDocuments.getDocuments(N,U))})}(s.localStore,e);mp(s,e,t),_m(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield ju(s,a)}catch(a){yield Vl(a)}}),Gi.apply(this,arguments)}function vm(){return vm=(0,ke.Z)(function*(r,e){const t=dt(r);Uu(t.remoteStore)||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(c){const p=dt(c);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>p.mutationQueue.getHighestUnacknowledgedBatchId(b))}(t.localStore);if(-1===s)return void e.resolve();const a=t.lc.get(s)||[];a.push(e),t.lc.set(s,a)}catch(s){const a=dc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),vm.apply(this,arguments)}function _m(r,e){(r.lc.get(e)||[]).forEach(t=>{t.resolve()}),r.lc.delete(e)}function mp(r,e,t){const s=dt(r);let a=s.hc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.hc[s.currentUser.toKey()]=a}}function gd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.rc.get(e))r.ic.delete(s),t&&r.sc.wc(s,t);r.rc.delete(e),r.isPrimaryClient&&r.ac.ls(e).forEach(s=>{r.ac.containsKey(s)||wm(r,s)})}function wm(r,e){r.oc.delete(e.path.canonicalString());const t=r.uc.get(e);null!==t&&(yl(r.remoteStore,t),r.uc=r.uc.remove(e),r.cc.delete(t),Em(r))}function yp(r,e,t){for(const s of t)s instanceof hm?(r.ac.addReference(s.key,e),md(r,s)):s instanceof fm?(d("SyncEngine","Document no longer in limbo: "+s.key),r.ac.removeReference(s.key,e),r.ac.containsKey(s.key)||wm(r,s.key)):z()}function md(r,e){const t=e.key,s=t.path.canonicalString();r.uc.get(t)||r.oc.has(s)||(d("SyncEngine","New document in limbo: "+t),r.oc.add(s),Em(r))}function Em(r){for(;r.oc.size>0&&r.uc.size<r.maxConcurrentLimboResolutions;){const e=r.oc.values().next().value;r.oc.delete(e);const t=new tn(Ir.fromString(e)),s=r.fc.next();r.cc.set(s,new vw(t)),r.uc=r.uc.insert(t,s),Xf(r.remoteStore,new xs(po(Kl(t.path)),s,2,Xs.at))}}function ju(r,e,t){return vp.apply(this,arguments)}function vp(){return vp=(0,ke.Z)(function*(r,e,t){const s=dt(r),a=[],c=[],p=[];var b;s.ic.isEmpty()||(s.ic.forEach((b,N)=>{p.push(s._c(N,e,t).then(U=>{if((U||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(N.targetId,U?.fromCache?"not-current":"current"),U){a.push(U);const X=Kg.Ci(N.targetId,U);c.push(X)}}))}),yield Promise.all(p),s.sc.Wo(a),yield(b=(0,ke.Z)(function*(N,U){const X=dt(N);try{yield X.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ee=>it.forEach(U,Ze=>it.forEach(Ze.Si,pt=>X.persistence.referenceDelegate.addReference(Ee,Ze.targetId,pt)).next(()=>it.forEach(Ze.Di,pt=>X.persistence.referenceDelegate.removeReference(Ee,Ze.targetId,pt)))))}catch(Ee){if(!uu(Ee))throw Ee;d("LocalStore","Failed to update sequence numbers: "+Ee)}for(const Ee of U){const Ze=Ee.targetId;if(!Ee.fromCache){const pt=X.Ui.get(Ze),Jt=pt.withLastLimboFreeSnapshotVersion(pt.snapshotVersion);X.Ui=X.Ui.insert(Ze,Jt)}}}),function(N,U){return b.apply(this,arguments)})(s.localStore,c))}),vp.apply(this,arguments)}function Ew(r,e){return _p.apply(this,arguments)}function _p(){return _p=(0,ke.Z)(function*(r,e){const t=dt(r);if(!t.currentUser.isEqual(e)){d("SyncEngine","User change. New user:",e.toKey());const s=yield Ga(t.localStore,e);t.currentUser=e,(a=t).lc.forEach(p=>{p.forEach(b=>{b.reject(new ht(Ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.lc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield ju(t,s.ji)}var a}),_p.apply(this,arguments)}function mb(r,e){const t=dt(r),s=t.cc.get(e);if(s&&s.nc)return Yn().add(s.key);{let a=Yn();const c=t.rc.get(e);if(!c)return a;for(const p of c){const b=t.ic.get(p);a=a.unionWith(b.view.ju)}return a}}function bm(r,e){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,ke.Z)(function*(r,e){const t=dt(r),s=yield qf(t.localStore,e.query,!0),a=e.view.tc(s);return t.isPrimaryClient&&yp(t,e.targetId,a.Xu),a}),Mh.apply(this,arguments)}function Za(r,e){return Im.apply(this,arguments)}function Im(){return Im=(0,ke.Z)(function*(r,e){const t=dt(r);return _h(t.localStore,e).then(s=>ju(t,s))}),Im.apply(this,arguments)}function t_(r,e,t,s){return xa.apply(this,arguments)}function xa(){return xa=(0,ke.Z)(function*(r,e,t,s){const a=dt(r),c=yield function(p,b){const N=dt(p),U=dt(N.mutationQueue);return N.persistence.runTransaction("Lookup mutation documents","readonly",X=>U.Tn(X,b).next(Ee=>Ee?N.localDocuments.getDocuments(X,Ee):it.resolve(null)))}(a.localStore,e);var b;null!==c?("pending"===t?yield Ka(a.remoteStore):"acknowledged"===t||"rejected"===t?(mp(a,e,s||null),_m(a,e),b=e,dt(dt(a.localStore).mutationQueue).An(b)):z(),yield ju(a,c)):d("SyncEngine","Cannot apply mutation batch with id: "+e)}),xa.apply(this,arguments)}function ca(){return ca=(0,ke.Z)(function*(r,e){const t=dt(r);if(Tm(t),Ep(t),!0===e&&!0!==t.dc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield Dm(t,s.toArray());t.dc=!0,yield sp(t.remoteStore,!0);for(const c of a)Xf(t.remoteStore,c)}else if(!1===e&&!1!==t.dc){const s=[];let a=Promise.resolve();t.rc.forEach((c,p)=>{t.sharedClientState.isLocalQueryTarget(p)?s.push(p):a=a.then(()=>(gd(t,p),rd(t.localStore,p,!0))),yl(t.remoteStore,p)}),yield a,yield Dm(t,s),function(c){const p=dt(c);p.cc.forEach((b,N)=>{yl(p.remoteStore,N)}),p.ac.fs(),p.cc=new Map,p.uc=new qr(tn.comparator)}(t),t.dc=!1,yield sp(t.remoteStore,!1)}}),ca.apply(this,arguments)}function Dm(r,e,t){return wp.apply(this,arguments)}function wp(){return wp=(0,ke.Z)(function*(r,e,t){const s=dt(r),a=[],c=[];for(const p of e){let b;const N=s.rc.get(p);if(N&&0!==N.length){b=yield nd(s.localStore,po(N[0]));for(const U of N){const X=s.ic.get(U),Ee=yield bm(s,X);Ee.snapshot&&c.push(Ee.snapshot)}}else{const U=yield Ov(s.localStore,p);b=yield nd(s.localStore,U),yield Ah(s,n_(U),p,!1,b.resumeToken)}a.push(b)}return s.sc.Wo(c),a}),wp.apply(this,arguments)}function n_(r){return $y(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function bw(r){const e=dt(r);return dt(dt(e.localStore).persistence).vi()}function Iw(r,e,t,s){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,ke.Z)(function*(r,e,t,s){const a=dt(r);if(a.dc)return void d("SyncEngine","Ignoring unexpected query state notification.");const c=a.rc.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const p=yield _h(a.localStore,Gy(c[0])),b=Ql.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,gs.EMPTY_BYTE_STRING);yield ju(a,p,b);break}case"rejected":yield rd(a.localStore,e,!0),gd(a,e,s);break;default:z()}}),Cm.apply(this,arguments)}function xm(r,e,t){return hc.apply(this,arguments)}function hc(){return hc=(0,ke.Z)(function*(r,e,t){const s=Tm(r);if(s.dc){for(const a of e){if(s.rc.has(a)){d("SyncEngine","Adding an already active target "+a);continue}const c=yield Ov(s.localStore,a),p=yield nd(s.localStore,c);yield Ah(s,n_(c),p.targetId,!1,p.resumeToken),Xf(s.remoteStore,p)}for(const a of t)s.rc.has(a)&&(yield rd(s.localStore,a,!1).then(()=>{yl(s.remoteStore,a),gd(s,a)}).catch(Vl))}}),hc.apply(this,arguments)}function Tm(r){const e=dt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=gm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gb.bind(null,e),e.sc.Wo=zv.bind(null,e.eventManager),e.sc.wc=Wv.bind(null,e.eventManager),e}function Ep(r){const e=dt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_w.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ww.bind(null,e),e}class Sm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ke.Z)(function*(){t.It=bh(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return kv(this.persistence,new Zg,e.initialUser,this.It)}yc(e){return new Sv(ph.Bs,this.It)}gc(e){return new Lv}terminate(){var e=this;return(0,ke.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Am extends Sm{constructor(e,t,s){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,ke.Z)(function*(){yield t().call(s,e),yield s.Ac.initialize(s,e),yield Ep(s.Ac.syncEngine),yield Ka(s.Ac.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return kv(this.persistence,new Zg,e.initialUser,this.It)}Tc(e,t){return new Xc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const s=new My(t,this.persistence);return new jl(e.asyncQueue,s)}yc(e){const t=Gg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?to.withCacheSize(this.cacheSizeBytes):to.DEFAULT;return new Zf(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Fv(),tm(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Lv}}class bp extends Am{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,ke.Z)(function*(){yield t().call(s,e);const a=s.Ac.syncEngine;s.sharedClientState instanceof sc&&(s.sharedClientState.syncEngine={Fr:t_.bind(null,a),$r:Iw.bind(null,a),Br:xm.bind(null,a),vi:bw.bind(null,a),Mr:Za.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var c=(0,ke.Z)(function*(p){yield function qa(r,e){return ca.apply(this,arguments)}(s.Ac.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start():p||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(p&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():p||s.indexBackfillerScheduler.stop())});return function(p){return c.apply(this,arguments)}}())})()}gc(e){const t=Fv();if(!sc.C(t))throw new ht(Ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Gg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sc(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Mm{initialize(e,t){var s=this;return(0,ke.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>mm(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Ew.bind(null,s.syncEngine),yield sp(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new up}createDatastore(e){const t=bh(e.databaseInfo.databaseId),s=new Eh(e.databaseInfo);return new Bv(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=b=>mm(this.syncEngine,b,0),p=em.C()?new em:new Xg,new gw(t,s,a,c,p);var t,s,a,c,p}createSyncEngine(e,t){return function(s,a,c,p,b,N,U){const X=new Yv(s,a,c,p,b,N);return U&&(X.dc=!0),X}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ke.Z)(function*(t){const s=dt(t);d("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield od(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ip(r,e,t){if(!t)throw new ht(Ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function km(r,e,t,s){if(!0===e&&!0===s)throw new ht(Ne.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Dp(r){if(!tn.isDocumentKey(r))throw new ht(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function kh(r){if(tn.isDocumentKey(r))throw new ht(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function yd(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":z()}function pr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ht(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yd(r);throw new ht(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Rm(r,e){if(e<=0)throw new ht(Ne.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}const Om=new Map;class Nm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ht(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ht(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,km("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ht(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ht(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Tu;switch(t.type){case"gapi":return new sf(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ht(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Om.get(e);t&&(d("ComponentProvider","Removing Datastore"),Om.delete(e),t.terminate())}(this),Promise.resolve()}}class ei{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ei(this.firestore,e,this._key)}}class Us{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class hu extends Us{constructor(e,t,s){super(e,t,Kl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ei(this.firestore,null,new tn(e))}withConverter(e){return new hu(this.firestore,e,this._path)}}function r_(r,e,...t){if(r=(0,dn.m9)(r),Ip("collection","path",e),r instanceof vd){const s=Ir.fromString(e,...t);return kh(s),new hu(r,null,s)}{if(!(r instanceof ei||r instanceof hu))throw new ht(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ir.fromString(e,...t));return kh(s),new hu(r.firestore,null,s)}}function Cp(r,e,...t){if(r=(0,dn.m9)(r),1===arguments.length&&(e=Sc.R()),Ip("doc","path",e),r instanceof vd){const s=Ir.fromString(e,...t);return Dp(s),new ei(r,null,new tn(s))}{if(!(r instanceof ei||r instanceof hu))throw new ht(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ir.fromString(e,...t));return Dp(s),new ei(r.firestore,r instanceof hu?r.converter:null,new tn(s))}}function i_(r,e){return r=(0,dn.m9)(r),e=(0,dn.m9)(e),(r instanceof ei||r instanceof hu)&&(e instanceof ei||e instanceof hu)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Lm(r,e){return r=(0,dn.m9)(r),e=(0,dn.m9)(e),r instanceof Us&&e instanceof Us&&r.firestore===e.firestore&&sh(r._query,e._query)&&r.converter===e.converter}function s_(r,e=10240){let t=0;return{read:()=>(0,ke.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,ke.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class xp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):g("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class xw{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new $n,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(s=>{s&&s.Ou()?this.metadata.resolve(s.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ku)}`))},s=>this.metadata.reject(s))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ke.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ke.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ke.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const s=e.vc.decode(t),a=Number(s);isNaN(a)&&e.Dc(`length string (${s}) is not valid number`);const c=yield e.Cc(a);return new Gv(JSON.parse(c),t.length+a)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ke.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Cc(e){var t=this;return(0,ke.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const s=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ke.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Aw{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ke.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ht(Ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,ke.Z)(function*(c,p){const b=dt(c),N=zc(b.It)+"/documents",U={documents:p.map(pt=>uh(b.It,pt))},X=yield b._o("BatchGetDocuments",N,U,p.length),Ee=new Map;X.forEach(pt=>{const bt=function Zn(r,e){return"found"in e?function(t,s){Ce(!!s.found);const a=cu(t,s.found.name),c=zr(s.found.updateTime),p=new ms({mapValue:{fields:s.found.fields}});return $r.newFoundDocument(a,c,p)}(r,e):"missing"in e?function(t,s){Ce(!!s.missing),Ce(!!s.readTime);const a=cu(t,s.missing),c=zr(s.readTime);return $r.newNoDocument(a,c)}(r,e):z()}(b.It,pt);Ee.set(bt.key.toString(),bt)});const Ze=[];return p.forEach(pt=>{const bt=Ee.get(pt.toString());Ce(!!bt),Ze.push(bt)}),Ze}),function(c,p){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Bc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ke.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const c=tn.fromPath(a);e.mutations.push(new _g(c,e.precondition(c)))}),yield(s=(0,ke.Z)(function*(a,c){const p=dt(a),b=zc(p.It)+"/documents",N={writes:c.map(U=>Wc(p.It,U))};yield p.ao("Commit",b,N)}),function(a,c){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw z();t=Fn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new ht(Ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Fn.min())?ui.exists(!1):ui.updateTime(t):ui.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Fn.min()))throw new ht(Ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ui.updateTime(t)}return ui.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Mw{constructor(e,t,s,a,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=c,this.kc=s.maxAttempts,this.xo=new Vv(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ke.Z)(function*(){const t=new Aw(e.datastore),s=e.Mc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.Fc(c)}))}).catch(a=>{e.Fc(a)})}))}Mc(e){try{const t=this.updateFunction(e);return!Rc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!wg(t)}return!1}}class kw{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=ps.UNAUTHENTICATED,this.clientId=Sc.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,ke.Z)(function*(b){d("FirestoreClient","Received user=",b.uid),yield c.authCredentialListener(b),c.user=b});return function(b){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(d("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,ke.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ht(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new $n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=dc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function o_(r,e){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,ke.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),d("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,ke.Z)(function*(c){s.isEqual(c)||(yield Ga(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),Fm.apply(this,arguments)}function Vm(r,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,ke.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield Sp(r);d("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>um(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>um(e.remoteStore,c)),r.onlineComponents=e}),Tp.apply(this,arguments)}function Sp(r){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,ke.Z)(function*(r){return r.offlineComponents||(d("FirestoreClient","Using default OfflineComponentProvider"),yield o_(r,new Sm)),r.offlineComponents}),Ap.apply(this,arguments)}function Rh(r){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,ke.Z)(function*(r){return r.onlineComponents||(d("FirestoreClient","Using default OnlineComponentProvider"),yield Vm(r,new Mm)),r.onlineComponents}),Mp.apply(this,arguments)}function Um(r){return Sp(r).then(e=>e.persistence)}function Oh(r){return Sp(r).then(e=>e.localStore)}function kp(r){return Rh(r).then(e=>e.remoteStore)}function Rp(r){return Rh(r).then(e=>e.syncEngine)}function Ta(r){return jm.apply(this,arguments)}function jm(){return jm=(0,ke.Z)(function*(r){const e=yield Rh(r),t=e.eventManager;return t.onListen=Qv.bind(null,e.syncEngine),t.onUnlisten=Jv.bind(null,e.syncEngine),t}),jm.apply(this,arguments)}function Op(r,e,t={}){const s=new $n;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(a,c,p,b,N){const U=new xp({next:Ee=>{c.enqueueAndForget(()=>fd(a,X));const Ze=Ee.docs.has(p);!Ze&&Ee.fromCache?N.reject(new ht(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):Ze&&Ee.fromCache&&b&&"server"===b.source?N.reject(new ht(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):N.resolve(Ee)},error:Ee=>N.reject(Ee)}),X=new lp(Kl(p.path),U,{includeMetadataChanges:!0,Nu:!0});return xh(a,X)}(yield Ta(r),r.asyncQueue,e,t,s)})),s.promise}function Hm(r,e,t={}){const s=new $n;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(a,c,p,b,N){const U=new xp({next:Ee=>{c.enqueueAndForget(()=>fd(a,X)),Ee.fromCache&&"server"===b.source?N.reject(new ht(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):N.resolve(Ee)},error:Ee=>N.reject(Ee)}),X=new lp(p,U,{includeMetadataChanges:!0,Nu:!0});return xh(a,X)}(yield Ta(r),r.asyncQueue,e,t,s)})),s.promise}class Ow{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Vv(this,"async_queue_retry"),this.Wc=()=>{const t=tm();t&&d("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=tm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=tm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new $n;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ke.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!uu(t))throw t;d("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(s=>{throw this.Kc=s,this.Gc=!1,g("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(s)),s}).then(s=>(this.Gc=!1,s))));return this.Bc=t,t}enqueueAfterDelay(e,t,s){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const a=cm.createAndSchedule(this,e,t,s,c=>this.Yc(c));return this.qc.push(a),a}zc(){this.Kc&&z()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ke.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function $m(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Nw{constructor(){this._progressObserver={},this._taskCompletionResolver=new $n,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class li extends vd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Ow,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Pw(this),this._firestoreClient.terminate()}}function Jn(r){return r._firestoreClient||Pw(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Pw(r){var e;const t=r._freezeSettings(),s=(c=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new w0(r._databaseId,c,r._persistenceKey,(b=t).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var c,b;r._firestoreClient=new kw(r._authCredentials,r._appCheckCredentials,r._queue,s)}function c_(r,e,t){const s=new $n;return r.asyncQueue.enqueue((0,ke.Z)(function*(){try{yield o_(r,t),yield Vm(r,e),s.resolve()}catch(a){const c=a;if(!("FirebaseError"===(p=c).name?p.code===Ne.FAILED_PRECONDITION||p.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw c;D("Error enabling offline persistence. Falling back to persistence disabled: "+c),s.reject(c)}var p})).then(()=>s.promise)}function Ed(r){if(r._initialized||r._terminated)throw new ht(Ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fu(gs.fromBase64String(e))}catch(t){throw new ht(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fu(gs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ht(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pu{constructor(e){this._methodName=e}}class Nh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ht(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ht(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ln(this._lat,e._lat)||Ln(this._long,e._long)}}const g_=/^__.*__$/;class m_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new lu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uc(e,this.data,t,this.fieldTransforms)}}class y_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new lu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bd(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}class El{constructor(e,t,s,a,c,p){this.settings=e,this.databaseId=t,this.It=s,this.ignoreUndefinedProperties=a,void 0===c&&this.na(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new El(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ia({path:s,oa:!1});return a.ua(e),a}ca(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ia({path:s,oa:!1});return a.na(),a}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return bl(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(bd(this.sa)&&g_.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Vw{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=s||bh(e)}da(e,t,s,a=!1){return new El({sa:e,methodName:t,fa:s,path:Oi.emptyPath(),oa:!1,la:a},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function fc(r){const e=r._freezeSettings(),t=bh(r._databaseId);return new Vw(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Np(r,e,t,s,a,c={}){const p=r.da(c.merge||c.mergeFields?2:0,e,t,a);Cd("Data must be an object, but it was:",p,s);const b=Hw(s,p);let N,U;if(c.merge)N=new aa(p.fieldMask),U=p.fieldTransforms;else if(c.mergeFields){const X=[];for(const Ee of c.mergeFields){const Ze=qm(e,Ee,t);if(!p.contains(Ze))throw new ht(Ne.INVALID_ARGUMENT,`Field '${Ze}' is specified in your field mask but missing from your input data.`);w_(X,Ze)||X.push(Ze)}N=new aa(X),U=p.fieldTransforms.filter(Ee=>N.covers(Ee.field))}else N=null,U=p.fieldTransforms;return new m_(new ms(b),N,U)}class Id extends pu{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Id}}function Gm(r,e,t){return new El({sa:3,fa:e.settings.fa,methodName:r._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Pp extends pu{_toFieldTransform(e){return new Ef(e.path,new Zl)}isEqual(e){return e instanceof Pp}}class Uw extends pu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Gm(this,e,!0),s=this._a.map(c=>Dd(c,t)),a=new ql(s);return new Ef(e.path,a)}isEqual(e){return this===e}}class v_ extends pu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Gm(this,e,!0),s=this._a.map(c=>Dd(c,t)),a=new Yl(s);return new Ef(e.path,a)}isEqual(e){return this===e}}class Bw extends pu{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new cl(e.It,M0(e.It,this.wa));return new Ef(e.path,t)}isEqual(e){return this===e}}function Km(r,e,t,s){const a=r.da(1,e,t);Cd("Data must be an object, but it was:",a,s);const c=[],p=ms.empty();Hl(s,(N,U)=>{const X=Ph(e,N,t);U=(0,dn.m9)(U);const Ee=a.ca(X);if(U instanceof Id)c.push(X);else{const Ze=Dd(U,Ee);null!=Ze&&(c.push(X),p.set(X,Ze))}});const b=new aa(c);return new y_(p,b,a.fieldTransforms)}function __(r,e,t,s,a,c){const p=r.da(1,e,t),b=[qm(e,s,t)],N=[a];if(c.length%2!=0)throw new ht(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ze=0;Ze<c.length;Ze+=2)b.push(qm(e,c[Ze])),N.push(c[Ze+1]);const U=[],X=ms.empty();for(let Ze=b.length-1;Ze>=0;--Ze)if(!w_(U,b[Ze])){const pt=b[Ze];let bt=N[Ze];bt=(0,dn.m9)(bt);const Jt=p.ca(pt);if(bt instanceof Id)U.push(pt);else{const on=Dd(bt,Jt);null!=on&&(U.push(pt),X.set(pt,on))}}const Ee=new aa(U);return new y_(X,Ee,p.fieldTransforms)}function jw(r,e,t,s=!1){return Dd(t,r.da(s?4:3,e))}function Dd(r,e){if(Zm(r=(0,dn.m9)(r)))return Cd("Unsupported field value:",e,r),Hw(r,e);if(r instanceof pu)return function(t,s){if(!bd(s.sa))throw s.ha(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ha(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const p of t){let b=Dd(p,s.aa(c));null==b&&(b={nullValue:"NULL_VALUE"}),a.push(b),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,dn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return M0(s.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Zr.fromDate(t);return{timestampValue:$c(s.It,a)}}if(t instanceof Zr){const a=new Zr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$c(s.It,a)}}if(t instanceof Nh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fu)return{bytesValue:iv(s.It,t._byteString)};if(t instanceof ei){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s.ha(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:xg(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ha(`Unsupported field value: ${yd(t)}`)}(r,e)}function Hw(r,e){const t={};return ng(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hl(r,(s,a)=>{const c=Dd(a,e.ra(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function Zm(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Zr||r instanceof Nh||r instanceof fu||r instanceof ei||r instanceof pu)}function Cd(r,e,t){if(!Zm(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=yd(t);throw e.ha("an object"===s?r+" a custom object":r+" "+s)}var s}function qm(r,e,t){if((e=(0,dn.m9)(e))instanceof Hu)return e._internalPath;if("string"==typeof e)return Ph(r,e);throw bl("Field path arguments must be of type string or ",r,!1,void 0,t)}const $w=new RegExp("[~\\*/\\[\\]]");function Ph(r,e,t){if(e.search($w)>=0)throw bl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Hu(...e.split("."))._internalPath}catch{throw bl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function bl(r,e,t,s,a){const c=s&&!s.isEmpty(),p=void 0!==a;let b=`Function ${e}() called with invalid data`;t&&(b+=" (via `toFirestore()`)"),b+=". ";let N="";return(c||p)&&(N+=" (found",c&&(N+=` in field ${s}`),p&&(N+=` in document ${a}`),N+=")"),new ht(Ne.INVALID_ARGUMENT,b+r+N)}function w_(r,e){return r.some(t=>t.isEqual(e))}class Lh{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zw extends Lh{data(){return super.data()}}function Lp(r,e){return"string"==typeof e?Ph(r,e):e instanceof Hu?e._internalPath:e._delegate._internalPath}function E_(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new ht(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xd{}function Il(r,...e){for(const t of e)r=t._apply(r);return r}class Ww extends xd{constructor(e,t,s){super(),this.ma=e,this.ga=t,this.ya=s,this.type="where"}_apply(e){const t=fc(e.firestore),s=function(a,c,p,b,N,U,X){let Ee;if(N.isKeyField()){if("array-contains"===U||"array-contains-any"===U)throw new ht(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${U}' queries on documentId().`);if("in"===U||"not-in"===U){M_(X,U);const pt=[];for(const bt of X)pt.push(A_(b,a,bt));Ee={arrayValue:{values:pt}}}else Ee=A_(b,a,X)}else"in"!==U&&"not-in"!==U&&"array-contains-any"!==U||M_(X,U),Ee=jw(p,"where",X,"in"===U||"not-in"===U);const Ze=ys.create(N,U,Ee);return function(pt,bt){if(bt.dt()){const on=hg(pt);if(null!==on&&!on.isEqual(bt.field))throw new ht(Ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${on.toString()}' and '${bt.field.toString()}'`);const gr=vf(pt);null!==gr&&Fp(0,bt.field,gr)}const Jt=function(on,gr){for(const Lr of on.filters)if(gr.indexOf(Lr.op)>=0)return Lr.op;return null}(pt,function(on){switch(on){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(bt.op));if(null!==Jt)throw new ht(Ne.INVALID_ARGUMENT,Jt===bt.op?`Invalid query. You cannot use more than one '${bt.op.toString()}' filter.`:`Invalid query. You cannot use '${bt.op.toString()}' filters with '${Jt.toString()}' filters.`)}(a,Ze),Ze}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Us(e.firestore,e.converter,function(a,c){const p=a.filters.concat([c]);return new ku(a.path,a.collectionGroup,a.explicitOrderBy.slice(),p,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class Gw extends xd{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new ht(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new ht(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new ul(a,c);return function(b,N){if(null===vf(b)){const U=hg(b);null!==U&&Fp(0,U,N.field)}}(s,p),p}(e._query,this.ma,this.pa);return new Us(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new ku(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class I_ extends xd{constructor(e,t,s){super(),this.type=e,this.Ia=t,this.Ta=s}_apply(e){return new Us(e.firestore,e.converter,ih(e._query,this.Ia,this.Ta))}}class Ym extends xd{constructor(e,t,s){super(),this.type=e,this.Ea=t,this.Aa=s}_apply(e){const t=S_(e,this.type,this.Ea,this.Aa);return new Us(e.firestore,e.converter,(a=t,new ku((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class C_ extends xd{constructor(e,t,s){super(),this.type=e,this.Ea=t,this.Aa=s}_apply(e){const t=S_(e,this.type,this.Ea,this.Aa);return new Us(e.firestore,e.converter,(a=t,new ku((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function S_(r,e,t,s){if(t[0]=(0,dn.m9)(t[0]),t[0]instanceof Lh)return function(a,c,p,b,N){if(!b)throw new ht(Ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const U=[];for(const X of Pc(a))if(X.field.isKeyField())U.push(Au(c,b.key));else{const Ee=b.data.field(X.field);if(rg(Ee))throw new ht(Ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+X.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ee){const Ze=X.field.canonicalString();throw new ht(Ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ze}' (used as the orderBy) does not exist.`)}U.push(Ee)}return new Mu(U,N)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const a=fc(r.firestore);return function(c,p,b,N,U,X){const Ee=c.explicitOrderBy;if(U.length>Ee.length)throw new ht(Ne.INVALID_ARGUMENT,`Too many arguments provided to ${N}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ze=[];for(let pt=0;pt<U.length;pt++){const bt=U[pt];if(Ee[pt].field.isKeyField()){if("string"!=typeof bt)throw new ht(Ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${N}(), but got a ${typeof bt}`);if(!_f(c)&&-1!==bt.indexOf("/"))throw new ht(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${N}() must be a plain document ID, but '${bt}' contains a slash.`);const Jt=c.path.child(Ir.fromString(bt));if(!tn.isDocumentKey(Jt))throw new ht(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${N}() must result in a valid document path, but '${Jt}' is not because it contains an odd number of segments.`);const on=new tn(Jt);Ze.push(Au(p,on))}else{const Jt=jw(b,N,bt);Ze.push(Jt)}}return new Mu(Ze,X)}(r._query,r.firestore._databaseId,a,e,t,s)}}function A_(r,e,t){if("string"==typeof(t=(0,dn.m9)(t))){if(""===t)throw new ht(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_f(e)&&-1!==t.indexOf("/"))throw new ht(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ir.fromString(t));if(!tn.isDocumentKey(s))throw new ht(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Au(r,new tn(s))}if(t instanceof ei)return Au(r,t._key);throw new ht(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yd(t)}.`)}function M_(r,e){if(!Array.isArray(r)||0===r.length)throw new ht(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new ht(Ne.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Fp(r,e,t){if(!t.isEqual(e))throw new ht(Ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Jm{convertValue(e,t="none"){switch(ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ni(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw z()}}convertObject(e,t){const s={};return Hl(e.fields,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Nh(Ni(e.latitude),Ni(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=zl(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const t=$l(e);return new Zr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ir.fromString(e);Ce(Rf(s));const a=new Wl(s.get(1),s.get(3)),c=new tn(s.popFirst(5));return a.isEqual(t)||g(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Vh(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class qw extends Jm{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,t)}}class pc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $u extends Lh{constructor(e,t,s,a,c,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Lp("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Uh extends $u{data(e={}){return super.data(e)}}class Dl{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new pc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Uh(this._firestore,this._userDataWriter,s.key,s,new pc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ht(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new Uh(s._firestore,s._userDataWriter,p.doc.key,p.doc,new pc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const b=new Uh(s._firestore,s._userDataWriter,p.doc.key,p.doc,new pc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let N=-1,U=-1;return 0!==p.type&&(N=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),1!==p.type&&(c=c.add(p.doc),U=c.indexOf(p.doc.key)),{type:Yw(p.type),doc:b,oldIndex:N,newIndex:U}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Yw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}function k_(r,e){return r instanceof $u&&e instanceof $u?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Dl&&e instanceof Dl&&r._firestore===e._firestore&&Lm(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class zu extends Jm{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,t)}}function N_(r,e,t){r=pr(r,ei);const s=pr(r.firestore,li),a=Vh(r.converter,e,t);return Td(s,[Np(fc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,ui.none())])}function P_(r,e,t,...s){r=pr(r,ei);const a=pr(r.firestore,li),c=fc(a);let p;return p="string"==typeof(e=(0,dn.m9)(e))||e instanceof Hu?__(c,"updateDoc",r._key,e,t,s):Km(c,"updateDoc",r._key,e),Td(a,[p.toMutation(r._key,ui.exists(!0))])}function ty(r,...e){var t,s,a;r=(0,dn.m9)(r);let c={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||$m(e[p])||(c=e[p],p++);const b={includeMetadataChanges:c.includeMetadataChanges};if($m(e[p])){const Ee=e[p];e[p]=null===(t=Ee.next)||void 0===t?void 0:t.bind(Ee),e[p+1]=null===(s=Ee.error)||void 0===s?void 0:s.bind(Ee),e[p+2]=null===(a=Ee.complete)||void 0===a?void 0:a.bind(Ee)}let N,U,X;if(r instanceof ei)U=pr(r.firestore,li),X=Kl(r._key.path),N={next:Ee=>{e[p]&&e[p](ry(U,r,Ee))},error:e[p+1],complete:e[p+2]};else{const Ee=pr(r,Us);U=pr(Ee.firestore,li),X=Ee._query;const Ze=new zu(U);N={next:pt=>{e[p]&&e[p](new Dl(U,Ze,Ee,pt))},error:e[p+1],complete:e[p+2]},E_(r._query)}return function(Ee,Ze,pt,bt){const Jt=new xp(bt),on=new lp(Ze,Jt,pt);return Ee.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return xh(yield Ta(Ee),on)})),()=>{Jt.bc(),Ee.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return fd(yield Ta(Ee),on)}))}}(Jn(U),X,b,N)}function Td(r,e){return function(t,s){const a=new $n;return t.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function Xv(r,e,t){return fp.apply(this,arguments)}(yield Rp(t),s,a)})),a.promise}(Jn(r),e)}function ry(r,e,t){const s=t.docs.get(e._key),a=new zu(r);return new $u(r,a,e._key,s,new pc(t.hasPendingWrites,t.fromCache),e.converter)}const F_={maxAttempts:5};class gc{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=fc(e)}set(e,t,s){this._verifyNotCommitted();const a=Wu(e,this._firestore),c=Vh(a.converter,t,s),p=Np(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,s);return this._mutations.push(p.toMutation(a._key,ui.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const c=Wu(e,this._firestore);let p;return p="string"==typeof(t=(0,dn.m9)(t))||t instanceof Hu?__(this._dataReader,"WriteBatch.update",c._key,t,s,a):Km(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(p.toMutation(c._key,ui.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Wu(e,this._firestore);return this._mutations=this._mutations.concat(new Bc(t._key,ui.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ht(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wu(r,e){if((r=(0,dn.m9)(r)).firestore!==e)throw new ht(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class tE extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=fc(e)}get(e){const t=Wu(e,this._firestore),s=new qw(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return z();const c=a[0];if(c.isFoundDocument())return new Lh(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new Lh(this._firestore,s,t._key,null,t.converter);throw z()})}set(e,t,s){const a=Wu(e,this._firestore),c=Vh(a.converter,t,s),p=Np(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,s);return this._transaction.set(a._key,p),this}update(e,t,s,...a){const c=Wu(e,this._firestore);let p;return p="string"==typeof(t=(0,dn.m9)(t))||t instanceof Hu?__(this._dataReader,"Transaction.update",c._key,t,s,a):Km(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,p),this}delete(e){const t=Wu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Wu(e,this._firestore),s=new zu(this._firestore);return super.get(e).then(a=>new $u(this._firestore,s,t._key,a._document,new pc(!1,!1),t.converter))}}function Vp(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ht("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function H_(){if(typeof Uint8Array>"u")throw new ht("unimplemented","Uint8Arrays are not available in this environment.")}function $_(){if(!function Oy(){return typeof atob<"u"}())throw new ht("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){ou=tr.SDK_VERSION,(0,tr._registerComponent)(new qn.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),p=new li(new Gd(t.getProvider("auth-internal")),new qd(t.getProvider("app-check-internal")),function(b,N){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new ht(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(b.options.projectId,N)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,tr.registerVersion)(qp,"3.7.3",r),(0,tr.registerVersion)(qp,"3.7.3","esm2017")}();class Bh{constructor(e){this._delegate=e}static fromBase64String(e){return $_(),new Bh(fu.fromBase64String(e))}static fromUint8Array(e){return H_(),new Bh(fu.fromUint8Array(e))}toBase64(){return $_(),this._delegate.toBase64()}toUint8Array(){return H_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ay(r){return function z_(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class Cb{enableIndexedDbPersistence(e,t){return function u_(r,e){Ed(r=pr(r,li));const t=Jn(r),s=r._freezeSettings(),a=new Mm;return c_(t,a,new Am(a,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function l_(r){Ed(r=pr(r,li));const e=Jn(r),t=r._freezeSettings(),s=new Mm;return c_(e,s,new bp(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function d_(r){if(r._initialized&&!r._terminated)throw new ht(Ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new $n;return r._queue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{yield(t=(0,ke.Z)(function*(s){if(!Ea.C())return Promise.resolve();const a=s+"main";yield Ea.delete(a)}),function(s){return t.apply(this,arguments)})(Gg(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class uy{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&D("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Pm(r,e,t,s={}){var a;const c=(r=pr(r,vd))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&D("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let p,b;if("string"==typeof s.mockUserToken)p=s.mockUserToken,b=ps.MOCK_USER;else{p=(0,dn.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new ht(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new ps(N)}r._authCredentials=new Wd(new ho(p,b))}}(this._delegate,e,t,s)}enableNetwork(){return function f_(r){return function Rw(r){return r.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield Um(r),t=yield kp(r);return e.setNetworkEnabled(!0),function(s){const a=dt(s);return a._u.delete(0),Ih(a)}(t)}))}(Jn(r=pr(r,li)))}(this._delegate)}disableNetwork(){return function p_(r){return function _d(r){return r.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield Um(r),t=yield kp(r);return e.setNetworkEnabled(!1),(s=(0,ke.Z)(function*(a){const c=dt(a);c._u.add(0),yield od(c),c.gu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(Jn(r=pr(r,li)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,km("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function h_(r){return function(e){const t=new $n;return e.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function e_(r,e){return vm.apply(this,arguments)}(yield Rp(e),t)})),t.promise}(Jn(r=pr(r,li)))}(this._delegate)}onSnapshotsInSync(e){return function ny(r,e){return function a_(r,e){const t=new xp(e);return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return s=yield Ta(r),a=t,dt(s).Ru.add(a),void a.next();var s,a})),()=>{t.bc(),r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return s=yield Ta(r),a=t,void dt(s).Ru.delete(a);var s,a}))}}(Jn(r=pr(r,li)),$m(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ht("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Sd(this,r_(this._delegate,e))}catch(t){throw yo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Sa(this,Cp(this._delegate,e))}catch(t){throw yo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new vo(this,function Cw(r,e){if(r=pr(r,vd),Ip("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ht(Ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Us(r,null,(t=e,new ku(Ir.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw yo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Db(r,e,t){r=pr(r,li);const s=Object.assign(Object.assign({},F_),t);return function(a){if(a.maxAttempts<1)throw new ht(Ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,c,p){const b=new $n;return a.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){const N=yield function Bm(r){return Rh(r).then(e=>e.datastore)}(a);new Mw(a.asyncQueue,N,p,c,b).run()})),b.promise}(Jn(r),a=>e(new tE(r,a)),s)}(this._delegate,t=>e(new oE(this,t)))}batch(){return Jn(this._delegate),new aE(new gc(this._delegate,e=>Td(this._delegate,e)))}loadBundle(e){return function Lw(r,e){const t=Jn(r=pr(r,li)),s=new Nw;return function wb(r,e,t,s){const a=function(c,p){let b;return b="string"==typeof c?(new TextEncoder).encode(c):c,N=function(N,U){if(N instanceof Uint8Array)return s_(N,U);if(N instanceof ArrayBuffer)return s_(new Uint8Array(N),U);if(N instanceof ReadableStream)return N.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new xw(N,p);var N}(t,bh(e));r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){!function Dw(r,e,t){const s=dt(r);var a;(a=(0,ke.Z)(function*(c,p,b){try{const N=yield p.getMetadata();if(yield function(Ze,pt){const bt=dt(Ze),Jt=zr(pt.createTime);return bt.persistence.runTransaction("hasNewerBundle","readonly",on=>bt.Ns.getBundleMetadata(on,pt.id)).then(on=>!!on&&on.createTime.compareTo(Jt)>=0)}(c.localStore,N))return yield p.close(),b._completeWith({taskState:"Success",documentsLoaded:(Ze=N).totalDocuments,bytesLoaded:Ze.totalBytes,totalDocuments:Ze.totalDocuments,totalBytes:Ze.totalBytes}),Promise.resolve(new Set);b._updateProgress(Zv(N));const U=new Kv(N,c.localStore,p.It);let X=yield p.mc();for(;X;){const Ze=yield U.Fu(X);Ze&&b._updateProgress(Ze),X=yield p.mc()}const Ee=yield U.complete();return yield ju(c,Ee.Lu,void 0),yield function(Ze,pt){const bt=dt(Ze);return bt.persistence.runTransaction("Save bundle","readwrite",Jt=>bt.Ns.saveBundleMetadata(Jt,pt))}(c.localStore,N),b._completeWith(Ee.progress),Promise.resolve(Ee.Bu)}catch(N){return D("SyncEngine",`Loading bundle failed with ${N}`),b._failWith(N),Promise.resolve(new Set)}var Ze}),function(c,p,b){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Rp(r),a,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Fw(r,e){return function Nn(r,e){return r.asyncQueue.enqueue((0,ke.Z)(function*(){return function(t,s){const a=dt(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.Ns.getNamedQuery(c,s))}(yield Oh(r),e)}))}(Jn(r=pr(r,li)),e).then(t=>t?new Us(r,null,t.query):null)}(this._delegate,e).then(t=>t?new vo(this,t):null)}}class Up extends Jm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bh(new fu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Sa.forKey(t,this.firestore,null)}}class oE{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Up(e)}get(e){const t=yc(e);return this._delegate.get(t).then(s=>new jh(this._firestore,new $u(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=yc(e);return s?(Vp("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const c=yc(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,s,...a),this}delete(e){const t=yc(e);return this._delegate.delete(t),this}}class aE{constructor(e){this._delegate=e}set(e,t,s){const a=yc(e);return s?(Vp("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const c=yc(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,s,...a),this}delete(e){const t=yc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class mc{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Uh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Hh(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=mc.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let c=a.get(t);return c||(c=new mc(e,new Up(e),t),a.set(t,c)),c}}mc.INSTANCES=new WeakMap;class Sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Up(e)}static forPath(e,t,s){if(e.length%2!=0)throw new ht("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Sa(t,new ei(t._delegate,s,new tn(e)))}static forKey(e,t,s){return new Sa(t,new ei(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Sd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Sd(this.firestore,r_(this._delegate,e))}catch(t){throw yo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,dn.m9)(e))instanceof ei&&i_(this._delegate,e)}set(e,t){t=Vp("DocumentReference.set",t);try{return t?N_(this._delegate,e,t):N_(this._delegate,e)}catch(s){throw yo(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?P_(this._delegate,e):P_(this._delegate,e,t,...s)}catch(a){throw yo(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Xm(r){return Td(pr(r.firestore,li),[new Bc(r._key,ui.none())])}(this._delegate)}onSnapshot(...e){const t=ly(e),s=cy(e,a=>new jh(this.firestore,new $u(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return ty(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function R_(r){r=pr(r,ei);const e=pr(r.firestore,li),t=Jn(e),s=new zu(e);return function vb(r,e){const t=new $n;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(s=(0,ke.Z)(function*(a,c,p){try{const b=yield function(N,U){const X=dt(N);return X.persistence.runTransaction("read document","readonly",Ee=>X.localDocuments.getDocument(Ee,U))}(a,c);b.isFoundDocument()?p.resolve(b):b.isNoDocument()?p.resolve(null):p.reject(new ht(Ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const N=dc(b,`Failed to get document '${c} from cache`);p.reject(N)}}),function(a,c,p){return s.apply(this,arguments)})(yield Oh(r),e,t);var s})),t.promise}(t,r._key).then(a=>new $u(e,s,r._key,a,new pc(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function Jw(r){r=pr(r,ei);const e=pr(r.firestore,li);return Op(Jn(e),r._key,{source:"server"}).then(t=>ry(e,r,t))}(this._delegate):function Qw(r){r=pr(r,ei);const e=pr(r.firestore,li);return Op(Jn(e),r._key).then(t=>ry(e,r,t))}(this._delegate),t.then(s=>new jh(this.firestore,new $u(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Sa(this.firestore,this._delegate.withConverter(e?mc.getInstance(this.firestore,e):null))}}function yo(r,e,t){return r.message=r.message.replace(e,t),r}function ly(r){for(const e of r)if("object"==typeof e&&!ay(e))return e;return{}}function cy(r,e){var t,s;let a;return a=ay(r[0])?r[0]:ay(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class jh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return k_(this._delegate,e._delegate)}}class Hh extends jh{data(e){const t=this._delegate.data(e);return function Ct(r,e){r||z()}(void 0!==t),t}}class vo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Up(e)}where(e,t,s){try{return new vo(this.firestore,Il(this._delegate,function Fh(r,e,t){const s=e,a=Lp("where",r);return new Ww(a,s,t)}(e,t,s)))}catch(a){throw yo(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new vo(this.firestore,Il(this._delegate,function b_(r,e="asc"){const t=e,s=Lp("orderBy",r);return new Gw(s,t)}(e,t)))}catch(s){throw yo(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new vo(this.firestore,Il(this._delegate,function D_(r){return Rm("limit",r),new I_("limit",r,"F")}(e)))}catch(t){throw yo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new vo(this.firestore,Il(this._delegate,function Kw(r){return Rm("limitToLast",r),new I_("limitToLast",r,"L")}(e)))}catch(t){throw yo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new vo(this.firestore,Il(this._delegate,function Zw(...r){return new Ym("startAt",r,!0)}(...e)))}catch(t){throw yo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new vo(this.firestore,Il(this._delegate,function Qm(...r){return new Ym("startAfter",r,!1)}(...e)))}catch(t){throw yo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new vo(this.firestore,Il(this._delegate,function x_(...r){return new C_("endBefore",r,!1)}(...e)))}catch(t){throw yo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new vo(this.firestore,Il(this._delegate,function T_(...r){return new C_("endAt",r,!0)}(...e)))}catch(t){throw yo(t,"endAt()","Query.endAt()")}}isEqual(e){return Lm(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function O_(r){r=pr(r,Us);const e=pr(r.firestore,li),t=Jn(e),s=new zu(e);return function _b(r,e){const t=new $n;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(s=(0,ke.Z)(function*(a,c,p){try{const b=yield qf(a,c,!0),N=new pm(c,b.Hi),U=N.Wu(b.documents),X=N.applyChanges(U,!1);p.resolve(X.snapshot)}catch(b){const N=dc(b,`Failed to execute query '${c} against cache`);p.reject(N)}}),function(a,c,p){return s.apply(this,arguments)})(yield Oh(r),e,t);var s})),t.promise}(t,r._query).then(a=>new Dl(e,s,r,a))}(this._delegate):"server"===e?.source?function eE(r){r=pr(r,Us);const e=pr(r.firestore,li),t=Jn(e),s=new zu(e);return Hm(t,r._query,{source:"server"}).then(a=>new Dl(e,s,r,a))}(this._delegate):function Xw(r){r=pr(r,Us);const e=pr(r.firestore,li),t=Jn(e),s=new zu(e);return E_(r._query),Hm(t,r._query).then(a=>new Dl(e,s,r,a))}(this._delegate),t.then(s=>new dy(this.firestore,new Dl(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=ly(e),s=cy(e,a=>new dy(this.firestore,new Dl(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return ty(this._delegate,t,s)}withConverter(e){return new vo(this.firestore,this._delegate.withConverter(e?mc.getInstance(this.firestore,e):null))}}class uE{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Hh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dy{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new vo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Hh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new uE(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Hh(this._firestore,s))})}isEqual(e){return k_(this._delegate,e._delegate)}}class Sd extends vo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Sa(this.firestore,e):null}doc(e){try{return new Sa(this.firestore,void 0===e?Cp(this._delegate):Cp(this._delegate,e))}catch(t){throw yo(t,"doc()","CollectionReference.doc()")}}add(e){return function ey(r,e){const t=pr(r.firestore,li),s=Cp(r),a=Vh(r.converter,e);return Td(t,[Np(fc(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,ui.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Sa(this.firestore,t))}isEqual(e){return i_(this._delegate,e._delegate)}withConverter(e){return new Sd(this.firestore,this._delegate.withConverter(e?mc.getInstance(this.firestore,e):null))}}function yc(r){return pr(r,ei)}class vc{constructor(...e){this._delegate=new Hu(...e)}static documentId(){return new vc(Oi.keyField().canonicalString())}isEqual(e){return(e=(0,dn.m9)(e))instanceof Hu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Cl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function iy(){return new Pp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Cl(e)}static delete(){const e=function V_(){return new Id("deleteField")}();return e._methodName="FieldValue.delete",new Cl(e)}static arrayUnion(...e){const t=function nE(...r){return new Uw("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Cl(t)}static arrayRemove(...e){const t=function sy(...r){return new v_("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Cl(t)}static increment(e){const t=function rE(r){return new Bw("increment",r)}(e);return t._methodName="FieldValue.increment",new Cl(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const W_={Firestore:uy,GeoPoint:Nh,Timestamp:Zr,Blob:Bh,Transaction:oE,WriteBatch:aE,DocumentReference:Sa,DocumentSnapshot:jh,Query:vo,QueryDocumentSnapshot:Hh,QuerySnapshot:dy,CollectionReference:Sd,FieldPath:vc,FieldValue:Cl,setLogLevel:function sE(r){!function E(r){au.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};function hy(r,e){return function Z_(r,e=Ai.z){return new ue.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(r,e)}function q_(r,e){return hy(r,e).pipe((0,Ue.U)(t=>({payload:t,type:"query"})))}function $h(r,e){return q_(r,e).pipe((0,Tr.O)(void 0),Ei(),(0,Ue.U)(([t,s])=>{const a=s.payload.docChanges(),c=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((p,b)=>{const N=a.find(X=>X.doc.ref.isEqual(p.ref)),U=t?.payload.docs.find(X=>X.ref.isEqual(p.ref));N&&JSON.stringify(N.doc.metadata)===JSON.stringify(p.metadata)||!N&&U&&JSON.stringify(U.metadata)===JSON.stringify(p.metadata)||c.push({type:"modified",payload:{oldIndex:b,newIndex:b,type:"modified",doc:p}})}),c}))}function fy(r,e,t){return $h(r,t).pipe((0,Gn.R)((s,a)=>function cE(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function dE(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return py(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return py(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return py(r,e.oldIndex,1)}return r}(r,s))}),r}(s,a.map(c=>c.payload),e),[]),(0,Hs.x)(),(0,Ue.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function py(r,e,t,...s){const a=r.slice();return a.splice(e,t,...s),a}function Ad(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}!function K_(r){(function G_(r,e){r.INTERNAL.registerComponent(new qn.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(s,a)},"PUBLIC").setServiceProps(Object.assign({},W_)))})(r,(e,t)=>new uy(e,t,new Cb)),r.registerVersion("@firebase/firestore-compat","0.2.3")}(ha.Z);class Y_{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=$h(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ue.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,Tr.O)(void 0),Ei(),(0,nt.h)(([s,a])=>a.length>0||!s),(0,Ue.U)(([s,a])=>a),We.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Gn.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Ad(e);return fy(this.query,t,this.afs.schedulers.outsideAngular).pipe(We.iC)}valueChanges(e={}){return q_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),We.iC)}get(e){return(0,Q.D)(this.query.get(e)).pipe(We.iC)}add(e){return this.ref.add(e)}doc(e){return new Bp(this.ref.doc(e),this.afs)}}class Bp{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:c}=Q_(s,t);return new Y_(a,c,this.afs)}snapshotChanges(){return function lE(r,e){return hy(r,e).pipe((0,Tr.O)(void 0),Ei(),(0,Ue.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(We.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ue.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Q.D)(this.ref.get(e)).pipe(We.iC)}}class gu{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?$h(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,nt.h)(t=>t.length>0),We.iC):$h(this.query,this.afs.schedulers.outsideAngular).pipe(We.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Gn.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Ad(e);return fy(this.query,t,this.afs.schedulers.outsideAngular).pipe(We.iC)}valueChanges(e={}){return q_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),We.iC)}get(e){return(0,Q.D)(this.query.get(e)).pipe(We.iC)}}const hE=new m.OlP("angularfire2.enableFirestorePersistence"),gy=new m.OlP("angularfire2.firestore.persistenceSettings"),zh=new m.OlP("angularfire2.firestore.settings"),fE=new m.OlP("angularfire2.firestore.use-emulator");function Q_(r,e=(t=>t)){return{query:e(r),ref:r}}let J_=(()=>{class r{constructor(t,s,a,c,p,b,N,U,X,Ee,Ze,pt,bt,Jt,on,gr,Lr){this.schedulers=N;const mr=(0,ee.on)(t,b,s),sr=X;Ee&&_i(mr,b,Ze,bt,Jt,on,pt,gr),[this.firestore,this.persistenceEnabled$]=(0,ee.cc)(`${mr.name}.firestore`,"AngularFirestore",mr.name,()=>{const Xn=b.runOutsideAngular(()=>mr.firestore());if(c&&Xn.settings(c),sr&&Xn.useEmulator(...sr),a&&!(0,ot.PM)(p)){const cr=()=>{try{return(0,Q.D)(Xn.enablePersistence(U||void 0).then(()=>!0,()=>!1))}catch(As){return typeof console<"u"&&console.warn(As),(0,re.of)(!1)}};return[Xn,b.runOutsideAngular(cr)]}return[Xn,(0,re.of)(!1)]},[c,sr,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:p}=Q_(a,s),b=this.schedulers.ngZone.run(()=>c);return new Y_(b,p,this)}collectionGroup(t,s){const a=s||(p=>p),c=this.firestore.collectionGroup(t);return new gu(a(c),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new Bp(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(m.LFG(ee.Dh),m.LFG(ee.xv,8),m.LFG(hE,8),m.LFG(zh,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(We.HU),m.LFG(gy,8),m.LFG(fE,8),m.LFG(as,8),m.LFG(os,8),m.LFG(Wo,8),m.LFG(ni,8),m.LFG(vi,8),m.LFG(hi,8),m.LFG(fi,8),m.LFG(Hi,8))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();var _c=C(1177);let X_=(()=>{class r{constructor(t,s,a,c,p,b){this.afs=t,this.afAuth=s,this.router=a,this.ngZone=c,this.notiflixService=p,this.store=b}signOut(){var t=this;return(0,ke.Z)(function*(){yield t.afAuth.signOut()})()}isLogin(){var t=this;return(0,ke.Z)(function*(){let s;return yield(0,ro.z)(t.store.select("auth").pipe((0,da.b)(a=>s=a.currentUser))),!!s})()}setUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL},{merge:!0})}AuthLogin(t){var s=this;return(0,ke.Z)(function*(){try{const a=yield s.afAuth.signInWithPopup(t);s.setUserData(a.user)}catch(a){s.notiflixService.error(a.message)}})()}}return r.\u0275fac=function(t){return new(t||r)(m.LFG(J_),m.LFG(as),m.LFG(Un.F0),m.LFG(m.R0b),m.LFG(_c.c),m.LFG(A.yh))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),pE=(()=>{class r{constructor(t,s){this.authService=t,this.router=s}canActivate(){var t=this;return(0,ke.Z)(function*(){return!!(yield t.authService.isLogin())||(t.router.navigate(["/error"]),!1)})()}}return r.\u0275fac=function(t){return new(t||r)(m.LFG(X_),m.LFG(Un.F0))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Wh=(()=>{class r{constructor(t,s){this.fontSize=t,this.el=s}ngOnInit(){this.el.nativeElement.style.fontSize=this.fontSize+"px"}}return r.\u0275fac=function(t){return new(t||r)(m.$8M("fontSize"),m.Y36(m.SBq))},r.\u0275dir=m.lG2({type:r,selectors:[["","fontSize",""]],standalone:!0}),r})(),yy=(()=>{class r{constructor(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-footer"]],decls:12,vars:0,consts:[[1,"p-4","bg-gray-200","flex","items-center","justify-between"],[1,"font-semibold"],[1,"flex","items-center","gap-3"],[1,"hidden","md:block"],["href","#","target","_blank","rel","noopener noreferrer",1,"hover:text-black","transition","duration-300"],["fontSize","25",1,"fa-brands","fa-github","text-black"],["href","#","target","_blank","rel","noopener noreferrer",1,"hover:text-blue-500","transition","duration-300"],["fontSize","25",1,"fa-brands","fa-facebook","text-blue-500"],["fontSize","25",1,"fa-brands","fa-skype","text-blue-500"]],template:function(t,s){1&t&&(m.TgZ(0,"div",0)(1,"h1",1),m._uU(2,"Dang Ngoc Khoa \xa9"),m.qZA(),m.TgZ(3,"div",2)(4,"p",3),m._uU(5,"Contact me: "),m.qZA(),m.TgZ(6,"a",4),m._UZ(7,"i",5),m.qZA(),m.TgZ(8,"a",6),m._UZ(9,"i",7),m.qZA(),m.TgZ(10,"a",6),m._UZ(11,"i",8),m.qZA()()())},dependencies:[Wh]}),r})();var Gh=C(8247),Gu=C(1368);const gE=[{name:"T\xecm Ki\u1ebfm",path:"/search",icon:"fa-solid fa-magnifying-glass",background:"#2ecc71",child:null},{name:"Trang Ch\u1ee7",path:"/",icon:"fa-solid fa-house",child:null,background:"#3498db"},{name:"Kh\xe1m Ph\xe1",path:null,icon:"fa-regular fa-compass",child:[{name:"B\xe0i H\xe1t",path:"/song"},{name:"Playlist",path:"/playlist"},{name:"Video",path:"/video"},{name:"Ngh\u1ec7 S\u0129",path:"/artist"}],background:"#f1c40f"},{name:"Ch\u1ee7 \u0111\u1ec1",path:"/topics",icon:"fa-solid fa-headphones-simple",background:"#9b59b6"},{name:"BXH",path:"/bxh",icon:"fa-solid fa-square-poll-vertical",child:null,background:"#e67e22"},{name:"L\u1ecbch s\u1eed",path:"/history",icon:"fa-solid fa-clock-rotate-left"}];let Md=(()=>{class r{constructor(){this.destroys$=new J.x}ngOnDestroy(){this.destroys$.next(),this.destroys$.complete()}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var kd=C(2722);let Kh=(()=>{class r{constructor(){}ngOnDestroy(){document.removeEventListener("click",this.onClick,!1)}onClick(t){t.stopPropagation()}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=m.lG2({type:r,selectors:[["","appClickStopPropagation",""]],hostBindings:function(t,s){1&t&&m.NdJ("click",function(c){return s.onClick(c)})},standalone:!0}),r})();function vy(r,e){if(1&r){const t=m.EpF();m.ynx(0),m.TgZ(1,"div",9)(2,"a",10)(3,"div",11)(4,"div",12),m._UZ(5,"img",13),m.qZA(),m.TgZ(6,"p",14),m._uU(7),m.qZA()()(),m.TgZ(8,"i",15),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.signOut())}),m.qZA()(),m.BQk()}if(2&r){const t=m.oxw();m.xp6(5),m.Q6J("src",null==t.currentUser?null:t.currentUser.photoURL,m.LSH)("alt",null==t.currentUser?null:t.currentUser.displayName),m.xp6(2),m.Oqu(null==t.currentUser?null:t.currentUser.displayName)}}function e0(r,e){if(1&r){const t=m.EpF();m.TgZ(0,"button",16),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.handleLoginForm())}),m._uU(1,"\u0110\u0103ng Nh\u1eadp"),m.qZA()}}function _y(r,e){1&r&&(m.TgZ(0,"span"),m._UZ(1,"i",22),m.qZA())}const jp=function(r){return{"bg-gray-200 rounded-sm":r}};function mE(r,e){if(1&r&&(m.TgZ(0,"ul",24)(1,"li",25)(2,"a",26),m._uU(3),m.qZA()()()),2&r){const t=e.$implicit,s=m.oxw(3);m.xp6(1),m.Q6J("ngClass",m.VKq(3,jp,t.path===s.pathname)),m.xp6(1),m.Q6J("routerLink",t.path),m.xp6(1),m.Oqu(t.name)}}function yE(r,e){if(1&r&&(m.ynx(0),m.YNc(1,mE,4,5,"ul",23),m.BQk()),2&r){const t=m.oxw().$implicit;m.xp6(1),m.Q6J("ngForOf",t.child)}}function vE(r,e){if(1&r){const t=m.EpF();m.ynx(0),m.TgZ(1,"li",17),m.NdJ("click",function(a){const p=m.CHM(t).$implicit,b=m.oxw();return m.KtG(b.handleShowChildMenu(a,p))}),m.TgZ(2,"a",18)(3,"div",19),m._UZ(4,"i",20),m.TgZ(5,"span",21),m._uU(6),m.qZA()(),m.YNc(7,_y,2,0,"span",8),m.qZA(),m.YNc(8,yE,2,1,"ng-container",8),m.qZA(),m.BQk()}if(2&r){const t=e.$implicit,s=m.oxw();m.xp6(1),m.Q6J("ngClass",m.VKq(10,jp,t.path===s.pathname)),m.xp6(1),m.Q6J("routerLink",t.path?t.path:null),m.xp6(1),m.Udp("color",t.background),m.xp6(1),m.Gre("",t.icon," w-5 h-5 mr-2"),m.xp6(2),m.Oqu(t.name),m.xp6(1),m.Q6J("ngIf",t.child),m.xp6(1),m.Q6J("ngIf",t.child)}}function _E(r,e){if(1&r){const t=m.EpF();m.ynx(0),m.TgZ(1,"div",27),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.handleClose())}),m.TgZ(2,"div",28)(3,"div",29)(4,"div",30)(5,"h1",31),m._uU(6,"\u0110\u0103ng nh\u1eadp"),m.qZA(),m.TgZ(7,"button",32),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.handleClose())}),m._UZ(8,"i",33),m.qZA()(),m.TgZ(9,"div")(10,"div")(11,"button",34),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.handleSignIn("google"))}),m._UZ(12,"i",35),m._uU(13," \u0110\u0103ng nh\u1eadp v\u1edbi Google "),m.qZA()(),m.TgZ(14,"div")(15,"button",36),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.handleSignIn("github"))}),m._UZ(16,"i",37),m._uU(17," \u0110\u0103ng nh\u1eadp v\u1edbi Github "),m.qZA()(),m.TgZ(18,"div")(19,"button",38),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.handleSignIn("facebook"))}),m._UZ(20,"i",39),m._uU(21," \u0110\u0103ng nh\u1eadp v\u1edbi Facebook "),m.qZA()()()()()(),m.BQk()}}let wy=(()=>{class r{constructor(t,s,a,c,p){this.store=t,this.notiflixService=s,this.router=a,this.authService=c,this.destroyService=p,this.isShowFormLogin=!1,this.sidebarList=gE,this.pathname="",t.select("menu").pipe((0,kd.R)(this.destroyService.destroys$)).subscribe(b=>this.player=b.player),t.select("auth").pipe((0,kd.R)(this.destroyService.destroys$)).subscribe(b=>this.currentUser=b.currentUser)}ngOnInit(){this.router.events.subscribe(t=>{t instanceof Un.m2&&(this.pathname=t.url)})}setPlayer(){this.player&&this.store.dispatch((0,Gu.Sl)())}handleLoginForm(){this.isShowFormLogin=!0}handleClose(){this.isShowFormLogin=!1}handleSignIn(t){var s=this;return(0,ke.Z)(function*(){let a;switch(t){case"google":a=new Gh.Q;break;case"github":a=new Gh.T;break;case"facebook":a=new Gh.N;break;default:throw new Error("Error: no login provider")}yield s.authService.AuthLogin(a),yield s.handleClose()})()}signOut(){var t=this;return(0,ke.Z)(function*(){t.notiflixService.confirm("Logout","Are you sure you want to Logout?",(0,ke.Z)(function*(){yield t.authService.signOut()}))})()}handleShowChildMenu(t,s){s.child&&(t.currentTarget.classList.contains("active")?t.currentTarget.classList.remove("active"):t.currentTarget.classList.add("active"))}}return r.\u0275fac=function(t){return new(t||r)(m.Y36(A.yh),m.Y36(_c.c),m.Y36(Un.F0),m.Y36(X_),m.Y36(Md))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-sidebar"]],features:[m._Bn([Md])],decls:12,vars:4,consts:[["appClickStopPropagation","",1,"h-full",3,"click"],["routerLink","/home",1,"w-full","px-4","block"],[1,"p-1","rounded-md","bg-blue-500","flex","items-center","justify-center","logo"],[1,"font-semibold","text-white"],[4,"ngIf","ngIfElse"],["button",""],[1,"mt-4","text-[rgba(28,30,32,0.88)]","text-xs"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mt-5","py-2","text-sm","bg-gray-200","w-full","text-gray-600","rounded-sm","flex","px-4","items-center","justify-between"],["routerLink","/profile"],[1,"flex","items-center"],[1,"w-6","h-6","rounded-full","overflow-hidden"],["loading","eager",3,"src","alt"],[1,"text-sm","ml-2","line-clamp-1"],[1,"fa-solid","fa-right-from-bracket","w-4","h-4","cursor-pointer",3,"click"],[1,"mt-5","px-4","py-2","text-sm","bg-gray-200","w-full","text-gray-600",3,"click"],[1,"py-2","pl-4","sidebar-parent",3,"ngClass","click"],[1,"flex","items-center","justify-between",3,"routerLink"],[1,"flex","items-center","font-semibold"],["fontSize","18"],[1,"text-black","font-normal"],[1,"fa-solid","fa-chevron-down","w-5","h-5","mr-4","text-[rgba(28,30,32,0.88)]"],["class","mt-2 sidebar-child","appClickStopPropagation","",4,"ngFor","ngForOf"],["appClickStopPropagation","",1,"mt-2","sidebar-child"],["appClickStopPropagation","",1,"pl-7",3,"ngClass"],[1,"py-2","block",3,"routerLink"],[1,"fixed","inset-0","flex","items-center","justify-center","z-[9999]","bg-opacity-50","bg-black","modalOpacity",3,"click"],["appClickStopPropagation","",1,"w-[400px]","max-w-[calc(100%-32px)]"],[1,"w-[400px]","max-w-full","bg-[#F0F2F5]","p-4","rounded-md","modalFadeIn"],[1,"flex","items-center","justify-between","mb-4"],[1,"font-semibold","text-2xl","text-text-color"],["title","Quay l\u1ea1i trang ch\u1ee7",3,"click"],[1,"fa-solid","fa-arrow-left","w-6","h-6","text-blue-500"],[1,"flex","items-center","text-black","bg-white","p-2","rounded-md","w-full","mb-4",3,"click"],["fontSize","24",1,"fa-brands","fa-google","w-6","h-6","mr-5"],[1,"flex","items-center","text-white","bg-black","p-2","rounded-md","w-full","mb-4",3,"click"],["fontSize","24",1,"fa-brands","fa-github","w-6","h-6","mr-5"],[1,"flex","items-center","text-white","bg-blue-500","p-2","rounded-md","w-full",3,"click"],["fontSize","24",1,"fa-brands","fa-facebook","w-6","h-6","mr-5"]],template:function(t,s){if(1&t&&(m.TgZ(0,"div",0),m.NdJ("click",function(){return s.setPlayer()}),m.TgZ(1,"div")(2,"a",1)(3,"div",2)(4,"h1",3),m._uU(5,"NCA"),m.qZA()()(),m.YNc(6,vy,9,3,"ng-container",4),m.YNc(7,e0,2,0,"ng-template",null,5,m.W1O),m.qZA(),m.TgZ(9,"ul",6),m.YNc(10,vE,9,12,"ng-container",7),m.qZA(),m.YNc(11,_E,22,0,"ng-container",8),m.qZA()),2&t){const a=m.MAs(8);m.xp6(6),m.Q6J("ngIf",s.currentUser)("ngIfElse",a),m.xp6(4),m.Q6J("ngForOf",s.sidebarList),m.xp6(1),m.Q6J("ngIf",s.isShowFormLogin)}},dependencies:[ot.mk,ot.sg,ot.O5,Un.yS,Kh,Wh],styles:[".logo[_ngcontent-%COMP%]{width:48px;height:25px}.fa-google[_ngcontent-%COMP%]{background:conic-gradient(from -45deg,#ea4335 110deg,#4285f4 90deg 180deg,#34a853 180deg 270deg,#fbbc05 270deg) 73% 55%/150% 150% no-repeat;-webkit-background-clip:text;background-clip:text;color:transparent;-webkit-text-fill-color:transparent}"]}),r})();var Hp=C(498),xl=C(653);const Ey=(0,A.PH)("[Music] AddSong",(0,A.Ky)()),by=(0,A.PH)("[Music] SetSongs",(0,A.Ky)()),Iy=(0,A.PH)("[Music] DeleteSong",(0,A.Ky)());var Rd=C(6105),t0=C(5766),Dy=C(9099);let wE=(()=>{class r{transform(t,...s){try{const a=new Date(0);a.setSeconds(t);const c=a.toISOString().slice(11,19);return c.startsWith("00:0")?c.slice(4):c.startsWith("00")?c.slice(3):8===c.length&&c.startsWith("0")?c.slice(1):c}catch{return"0:00"}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=m.Yjl({name:"formatTime",type:r,pure:!0,standalone:!0}),r})();const n0=["audioRef"],r0=["progressRef"],_o=function(r){return{"song-is-play":r}};function Od(r,e){if(1&r){const t=m.EpF();m.ynx(0),m.TgZ(1,"div",36),m.NdJ("click",function(){const c=m.CHM(t).index,p=m.oxw(2);return m.KtG(p.setCurrentIndex(c))}),m.TgZ(2,"div",37),m._UZ(3,"img",38),m.qZA(),m.TgZ(4,"div",39)(5,"p",40),m._uU(6),m.ALo(7,"titlecase"),m.qZA(),m.TgZ(8,"p",41),m._uU(9),m.ALo(10,"titlecase"),m.qZA()()(),m.BQk()}if(2&r){const t=e.$implicit,s=e.index,a=m.oxw(2);m.xp6(1),m.Q6J("ngClass",m.VKq(9,_o,a.currentIndex===s)),m.xp6(2),m.s9C("src",t.thumbnail||a.imgNotFound,m.LSH),m.s9C("alt",t.title),m.xp6(3),m.Oqu(m.lcZ(7,5,t.title)),m.xp6(3),m.Oqu(m.lcZ(10,7,t.artistName))}}function EE(r,e){if(1&r&&(m.ynx(0),m.TgZ(1,"div",33)(2,"h1",34),m._uU(3,"Danh s\xe1ch ph\xe1t"),m.qZA(),m.YNc(4,Od,11,11,"ng-container",35),m.qZA(),m.BQk()),2&r){const t=m.oxw();m.xp6(4),m.Q6J("ngForOf",t.songIds)}}const bE=function(r){return[r]};function xb(r,e){if(1&r&&(m.ynx(0),m.TgZ(1,"a",48),m._uU(2," Xem l\u1eddi b\xe0i h\xe1t "),m.qZA(),m.BQk()),2&r){const t=m.oxw(2);m.xp6(1),m.Q6J("routerLink",m.VKq(1,bE,"/song/"+(null==t.data?null:t.data.key)))}}function Tb(r,e){if(1&r&&(m.TgZ(0,"div")(1,"div",42)(2,"div",43),m._UZ(3,"img",44),m.qZA(),m.TgZ(4,"div",45)(5,"h1",46),m._uU(6),m.ALo(7,"titlecase"),m.qZA(),m.TgZ(8,"p",47),m._uU(9),m.qZA(),m.YNc(10,xb,3,3,"ng-container",32),m.qZA()()()),2&r){const t=m.oxw();m.xp6(3),m.s9C("src",(null==t.data?null:t.data.thumbnail)||t.imgNotFound,m.LSH),m.xp6(3),m.Oqu(m.lcZ(7,4,null==t.data?null:t.data.title)),m.xp6(3),m.hij(" ",t.artist," "),m.xp6(1),m.Q6J("ngIf",(null==t.data?null:t.data.title)&&t.artist)}}function s0(r,e){1&r&&(m.ynx(0),m._UZ(1,"i",49),m.BQk())}function o0(r,e){1&r&&m._UZ(0,"i",50)}function Zh(r,e){1&r&&(m.ynx(0),m._UZ(1,"i",51),m.BQk())}function IE(r,e){1&r&&m._UZ(0,"i",52)}function Cy(r,e){1&r&&(m.ynx(0),m._UZ(1,"i",53),m.BQk())}function DE(r,e){1&r&&m._UZ(0,"i",54)}const a0=function(r,e){return{hidden:r,block:e}};function CE(r,e){if(1&r){const t=m.EpF();m.ynx(0),m.TgZ(1,"div",55),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.onClickSetPlayer())}),m.TgZ(2,"div",56),m._UZ(3,"i",57),m.TgZ(4,"p",58),m._uU(5),m.ALo(6,"titlecase"),m.qZA()()(),m.BQk()}if(2&r){const t=m.oxw();m.xp6(1),m.Q6J("ngClass",m.WLB(4,a0,t.player,!t.player)),m.xp6(4),m.Oqu(m.lcZ(6,2,null==t.data?null:t.data.title))}}const xE=function(r){return{active:r}},TE=function(r){return{"h-full":r}};let $p=(()=>{class r{constructor(t,s,a,c,p){this.store=t,this.songService=s,this.destroyService=a,this.notiflixService=c,this.afs=p,this.songIds=[],this.currentIndex=0,this.artist="",this.data=null,this.imgNotFound=Hp.qp,this.songs=[],this.isShowListSong=!1,this.isPlaying=!1,this.isFavorite=!1,this.currentTime=0,this.duration=0,this.volume=Number(JSON.parse(localStorage.getItem(Rd.vM)))||100,this.volumePrev=0,this.handleSeekTime=b=>{const N=b.clientX,U=this.progressRef.nativeElement?.getBoundingClientRect().left,X=this.progressRef.nativeElement?.getBoundingClientRect().width,Ee=X+U,Ze=U;if(N>=Ee&&(this.audioRef.nativeElement.currentTime=this.audioRef.nativeElement.duration,this.currentTime=this.audioRef.nativeElement.duration),N<=Ze&&(this.audioRef.nativeElement.currentTime=0,this.currentTime=0),N<=Ee&&N>=Ze){const pt=(N-U)/X;this.audioRef.nativeElement.currentTime=this.audioRef.nativeElement.duration*pt,this.currentTime=this.audioRef.nativeElement.duration*pt}}}ngOnInit(){this.initPlayer(),this.getFavoriteSong()}initPlayer(){this.store.select("music").subscribe(t=>{this.songs=t.songs,this.isFavorite=this.songs?.some(s=>s.key===this.songIds[this.currentIndex].key)}),this.store.select("player").pipe((0,kd.R)(this.destroyService.destroys$)).subscribe(t=>{this.currentIndex=t.currentIndex,this.songIds=t.songIds,this.songIds=this.songIds.map(s=>({...s,artistName:s.artists.map(a=>a.name).join(", ")})),localStorage.setItem(Rd.af,JSON.stringify(this.currentIndex)),localStorage.setItem(Rd.I,JSON.stringify(this.songIds)),this.getSong(),this.isFavorite=this.songs?.some(s=>s.key===this.songIds[this.currentIndex].key)}),this.store.select("menu").pipe((0,kd.R)(this.destroyService.destroys$)).subscribe(t=>this.player=t.player),this.store.select("auth").pipe((0,kd.R)(this.destroyService.destroys$)).subscribe(t=>this.currentUser=t.currentUser)}getSong(){const t=this.songIds&&this.songIds[this.currentIndex]?.key;this.songIds&&t&&this.songService.getSong(t).subscribe(s=>{this.data=s,this.data||this.audioRef.nativeElement.pause(),this.artist=this.data?.artists?.map(a=>a.name).join(", "),this.checkSong()})}checkSong(){0===this.data?.streamUrls?.length?(this.notiflixService.error("Kh\xf4ng t\xecm th\u1ea5y b\xe0i h\xe1t!"),this.currentIndex!==this.songIds.length-1&&this.store.dispatch((0,xl.At)({currentIndex:this.currentIndex+1}))):(this.autoPlaySong(),this.addMusicFromLocal())}autoPlaySong(){this.audioRef.nativeElement&&this.songIds&&this.data?.streamUrls&&(this.audioRef.nativeElement.src=this.data?.streamUrls[0]?.streamUrl,this.audioRef.nativeElement.play(),this.audioRef.nativeElement.addEventListener("canplaythrough",()=>{this.duration=this.audioRef.nativeElement.duration}))}addMusicFromLocal(){this.songIds[this.currentIndex]&&this.songIds[this.currentIndex].key&&(0,Hp.jE)(this.songIds[this.currentIndex])}onClickSetPlayer(){this.player||this.setPlayer()}setPlayer(){this.store.dispatch((0,Gu.Sl)())}setCurrentIndex(t){this.store.dispatch((0,xl.At)({currentIndex:t}))}handlePrevSong(){this.store.dispatch((0,xl.At)({currentIndex:this.currentIndex<=0?this.songIds.length-1:this.currentIndex-1}))}handlePlayPause(){this.isPlaying?(this.audioRef.nativeElement.pause(),this.isPlaying=!1):(this.audioRef.nativeElement.play(),this.isPlaying=!0)}handleNextSong(){this.store.dispatch((0,xl.At)({currentIndex:this.currentIndex>=this.songIds.length-1?0:this.currentIndex+1}))}setVolume(){0===Number(this.volume)?this.volumePrev&&(this.volume=this.volumePrev):(this.volumePrev=this.volume,this.volume=0),this.changeVolume()}changeVolume(){this.audioRef.nativeElement&&(this.audioRef.nativeElement.volume=Number(this.volume)/100,localStorage.setItem(Rd.vM,JSON.stringify(this.volume)))}toggleListSong(){this.isShowListSong=!this.isShowListSong}setPlaying(t){this.isPlaying=t}handleAddSongFavorite(){var t=this;return(0,ke.Z)(function*(){if(!t.currentUser)return t.notiflixService.error("C\u1ea7n \u0111\u0103ng nh\u1eadp \u0111\u1ec3 d\xf9ng t\xednh n\u0103ng n\xe0y!");const s=t.songs.find(a=>a.key===t.songIds[t.currentIndex].key);if(s)t.afs.doc(`favorite/${s.key}`).delete().then(()=>t.store.dispatch(Iy({song:s})));else try{yield t.afs.doc(`favorite/${t.songIds[t.currentIndex].key}`).set({...t.songIds[t.currentIndex],uid:t.currentUser.uid}),t.store.dispatch(Ey({song:{...t.songIds[t.currentIndex],uid:t.currentUser.uid}}))}catch{t.notiflixService.error("Th\xeam b\xe0i h\xe1t v\xe0o danh s\xe1ch y\xeau th\xedch th\u1ea5t b\u1ea1i!")}})()}handleAudioEnded(){this.handleNextSong()}handleAudioUpdate(){this.audioRef.nativeElement&&(this.currentTime=this.audioRef.nativeElement.currentTime)}registerEvent(t){window.addEventListener("mousemove",this.handleSeekTime,!1)}removeMouseMove(t){window.removeEventListener("mousemove",this.handleSeekTime,!1)}getFavoriteSong(){let t=this.afs.collection("favorite").valueChanges();0===this.songs.length&&t.pipe((0,kd.R)(this.destroyService.destroys$)).subscribe(s=>{s&&this.store.dispatch(by({newSong:s}))})}ngOnDestroy(){window.removeEventListener("mouseup",()=>{window.removeEventListener("mousemove",this.handleSeekTime,!1)})}}return r.\u0275fac=function(t){return new(t||r)(m.Y36(A.yh),m.Y36(t0.o),m.Y36(Md),m.Y36(_c.c),m.Y36(J_))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-player"]],viewQuery:function(t,s){if(1&t&&(m.Gf(n0,5),m.Gf(r0,5)),2&t){let a;m.iGM(a=m.CRH())&&(s.audioRef=a.first),m.iGM(a=m.CRH())&&(s.progressRef=a.first)}},hostBindings:function(t,s){1&t&&m.NdJ("mouseup",function(c){return s.removeMouseMove(c)})},features:[m._Bn([Md])],decls:48,vars:29,consts:[["appInnerWidth","",1,"scroll-none","overflow-y-scroll","md:w-[300px]","w-full","max-w-full","border-l","border-r","[rgba(28,30,32,0.05)]","px-4","h-screen","pt-4","fixed","top-0","bottom-0","z-[9998]","bg-white","player-wrapper",3,"ngClass"],["widthDirective","windowWidth"],["appClickStopPropagation","",1,"flex-col","justify-between","h-full","flex"],[1,"bg-[rgba(28,30,32,0.02)]","rounded-md","mb-5","relative",3,"ngClass"],[1,"w-full","flex","justify-center","md:hidden"],["type","button",1,"w-5","h-5","rounded-full","bg-red-500","flex","items-center","justify-center","my-1",3,"click"],[1,"fa-solid","fa-xmark","text-white"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"pb-5"],[1,"flex","items-center","justify-between","relative"],["appClickStopPropagation","",1,"cursor-pointer","volume-icon",3,"click"],["volumeUpIcon",""],["appClickStopPropagation","",1,"volume-control","absolute","left-[-65px]","top-[-75px]","bg-gray-200","flex","items-center","justify-center","p-2","rounded-md","rotate-[-90deg]"],["type","range","name","slider","id","slider",3,"ngModel","ngModelChange"],[1,"bg-[rgba(28,30,32,0.02)]","px-6","py-2","rounded-full","text-xs","text-gray-400",3,"click"],[3,"click"],["heartIcon",""],[1,"mt-8"],[1,"flex","items-center","justify-between","text-gray-400","text-xs","font-normal"],[1,"flex-1","py-2","mx-[10px]","cursor-pointer",3,"click","pointerdown"],["progressRef",""],[1,"w-full","bg-gray-300","h-[3px]","relative"],[1,"absolute","top-0","bottom-0","bg-blue-500"],[1,"flex","items-center","justify-between","mt-5","ml-2","text-[rgba(28,30,32,0.5)]"],[1,"flex","items-center","cursor-pointer"],["fontSize","24",1,"fa-solid","fa-backward-step","w-8","h-8",3,"click"],[1,"flex","items-center","cursor-pointer",3,"click"],["elseButton",""],["fontSize","24",1,"fa-solid","fa-forward-step","w-8","h-8",3,"click"],[3,"play","pause","ended","timeupdate"],["audioRef",""],[4,"ngIf"],[1,"absolute","top-0","w-full","bg-white","h-full","overflow-auto","scroll-none"],[1,"font-semibold","mb-2"],[4,"ngFor","ngForOf"],[1,"my-2","p-2","flex","cursor-pointer",3,"ngClass","click"],[1,"w-10","h-10","rounded-md","overflow-hidden"],[3,"src","alt"],[1,"ml-2","flex-1"],[1,"line-clamp-1","text-sm","mb-1"],[1,"line-clamp-1","text-xs"],[1,"pr-4","pl-4","pb-4"],[1,"w-full","aspect-[1/1]"],["alt","",3,"src"],[1,"mt-5"],[1,"font-semibold","line-clamp-1"],[1,"text-sm","text-gray-400","font-normal","line-clamp-1"],[1,"text-blue-500","text-sm","mt-2",3,"routerLink"],[1,"fa-solid","fa-volume-xmark","lg:w-5","lg:h-5","w-6","h-6","text-gray-500"],[1,"fa-solid","fa-volume-high","lg:w-5","lg:h-5","w-6","h-6","text-gray-500"],[1,"fa-solid","fa-heart","text-red-500","lg:w-5","lg:h-5","w-6","h-6","cursor-pointer"],[1,"fa-regular","fa-heart","lg:w-5","lg:h-5","w-6","h-6","cursor-pointer"],["fontSize","40",1,"fa-solid","fa-pause","w-12","h-14"],["fontSize","40",1,"fa-solid","fa-play","w-12","h-14"],[1,"fixed","right-0","bottom-0","bg-white","p-2","rounded-md","mb-14","mr-5","shadow-md","lg:hidden","z-[99999]","cursor-pointer",3,"ngClass","click"],[1,"flex","items-center","font-semibold","text-sm"],[1,"fa-solid","fa-music","w-5","text-pink-500"],[1,"line-clamp-1"]],template:function(t,s){if(1&t&&(m.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),m.NdJ("click",function(){return s.setPlayer()}),m._UZ(6,"i",6),m.qZA()(),m.YNc(7,EE,5,1,"ng-container",7),m.YNc(8,Tb,11,6,"ng-template",null,8,m.W1O),m.qZA(),m.TgZ(10,"div",9)(11,"div",10)(12,"div",11),m.NdJ("click",function(){return s.setVolume()}),m.YNc(13,s0,2,0,"ng-container",7),m.YNc(14,o0,1,0,"ng-template",null,12,m.W1O),m.TgZ(16,"div",13)(17,"input",14),m.NdJ("ngModelChange",function(){return s.changeVolume()})("ngModelChange",function(c){return s.volume=c}),m.qZA()()(),m.TgZ(18,"button",15),m.NdJ("click",function(){return s.toggleListSong()}),m._uU(19),m.qZA(),m.TgZ(20,"button",16),m.NdJ("click",function(){return s.handleAddSongFavorite()}),m.YNc(21,Zh,2,0,"ng-container",7),m.YNc(22,IE,1,0,"ng-template",null,17,m.W1O),m.qZA()(),m.TgZ(24,"div",18)(25,"div",19)(26,"p"),m._uU(27),m.ALo(28,"formatTime"),m.qZA(),m.TgZ(29,"div",20,21),m.NdJ("click",function(c){return s.handleSeekTime(c)})("pointerdown",function(c){return s.registerEvent(c)}),m.TgZ(31,"div",22),m._UZ(32,"p",23),m.qZA()(),m.TgZ(33,"p"),m._uU(34),m.ALo(35,"formatTime"),m.qZA()(),m.TgZ(36,"div",24)(37,"div",25)(38,"i",26),m.NdJ("click",function(){return s.handlePrevSong()}),m.qZA()(),m.TgZ(39,"div",27),m.NdJ("click",function(){return s.handlePlayPause()}),m.YNc(40,Cy,2,0,"ng-container",7),m.YNc(41,DE,1,0,"ng-template",null,28,m.W1O),m.qZA(),m.TgZ(43,"div",25)(44,"i",29),m.NdJ("click",function(){return s.handleNextSong()}),m.qZA()()()()(),m.TgZ(45,"audio",30,31),m.NdJ("play",function(){return s.setPlaying(!0)})("pause",function(){return s.setPlaying(!1)})("ended",function(){return s.handleAudioEnded()})("timeupdate",function(){return s.handleAudioUpdate()}),m.qZA(),m.YNc(47,CE,7,7,"ng-container",32),m.qZA()()),2&t){const a=m.MAs(1),c=m.MAs(9),p=m.MAs(15),b=m.MAs(23),N=m.MAs(42),U=m.MAs(46);m.Q6J("ngClass",m.VKq(25,xE,a.isPC||s.player)),m.xp6(3),m.Q6J("ngClass",m.VKq(27,TE,s.isShowListSong)),m.xp6(4),m.Q6J("ngIf",s.isShowListSong)("ngIfElse",c),m.xp6(6),m.Q6J("ngIf",0===s.volume)("ngIfElse",p),m.xp6(4),m.Q6J("ngModel",s.volume),m.xp6(2),m.hij(" ",s.isShowListSong?"T\u1eaft Danh S\xe1ch Ph\xe1t":"M\u1edf Danh S\xe1ch Ph\xe1t"," "),m.xp6(2),m.Q6J("ngIf",s.isFavorite)("ngIfElse",b),m.xp6(5),m.Udp("user-select","none"),m.xp6(1),m.Oqu(m.lcZ(28,21,s.currentTime)),m.xp6(5),m.Udp("width",(100*s.currentTime/(null==U?null:U.duration)||0)+"%"),m.xp6(1),m.Udp("user-select","none"),m.xp6(1),m.Oqu(m.lcZ(35,23,s.duration)),m.xp6(6),m.Q6J("ngIf",s.isPlaying)("ngIfElse",N),m.xp6(7),m.Q6J("ngIf",s.data)}},dependencies:[ot.mk,ot.sg,ot.O5,Un.yS,Y.Fj,Y.eT,Y.JJ,Y.On,Dy.n,Kh,Wh,ot.rS,wE],styles:[".player-wrapper[_ngcontent-%COMP%]{right:-100%;transition:all linear .3s}.player-wrapper.active[_ngcontent-%COMP%]{right:0}"]}),r})();const zp=(0,A.PH)("[FirebaseAuth] SetUser",(0,A.Ky)());function u0(r,e){if(1&r){const t=m.EpF();m.ynx(0),m.TgZ(1,"div",9),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.setMenu())}),m.qZA(),m.BQk()}}const Wp=function(r){return{active:r}},xy=function(r,e){return{pc:r,tablet:e}};let SE=(()=>{class r{constructor(t,s,a){this.store=t,this.afAuth=s,this.destroyService=a,t.select("menu").pipe((0,kd.R)(this.destroyService.destroys$)).subscribe(c=>this.menu=c.menu)}ngOnInit(){this.afAuth.user.subscribe(t=>{if(t){let s=JSON.parse(JSON.stringify(t));this.store.dispatch(zp({payload:s}))}else this.store.dispatch(zp({payload:null}))})}setMenu(){this.store.dispatch((0,Gu.K0)())}setPlayer(){this.store.dispatch((0,Gu.Sl)())}close(){this.store.dispatch((0,Gu.xv)())}}return r.\u0275fac=function(t){return new(t||r)(m.Y36(A.yh),m.Y36(as),m.Y36(Md))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-default-layout"]],features:[m._Bn([Md])],decls:14,vars:8,consts:[[1,"flex","w-full","overflow-auto"],[1,"w-[200px]","max-w-full","z-[9999]","h-screen","pt-6","border-r","border-[rgba(28,30,32,0.05)]","fixed","top-0","bottom-0","left-0","bg-white","sidebar-wrapper",3,"ngClass"],[4,"ngIf"],["appInnerWidth","",1,"relative","content-wrapper",3,"ngClass"],["widthDirective","windowWidth"],["appClickStopPropagation","",1,"px-4","py-3","shadow-md","w-full","flex","items-center","fixed","top-0","z-[999]","justify-between","lg:hidden","bg-white"],["fontSize","32",1,"fa-solid","fa-bars","w-8","h-8","md:hidden","block",3,"click"],["fontSize","32",1,"fa-solid","fa-play","w-8","h-8",3,"click"],[1,"min-h-screen","py-6","lg:mt-0","mt-[60px]"],[1,"fixed","inset-0","bg-black","opacity-50","z-[9998]","transition-opacity",3,"click"]],template:function(t,s){if(1&t&&(m.TgZ(0,"div")(1,"div",0)(2,"div",1),m._UZ(3,"app-sidebar"),m.qZA(),m.YNc(4,u0,2,0,"ng-container",2),m.TgZ(5,"div",3,4)(7,"div",5)(8,"i",6),m.NdJ("click",function(){return s.setMenu()}),m.qZA(),m.TgZ(9,"i",7),m.NdJ("click",function(){return s.setPlayer()}),m.qZA()(),m.TgZ(10,"div",8),m._UZ(11,"router-outlet"),m.qZA(),m._UZ(12,"app-footer"),m.qZA()()(),m._UZ(13,"app-player")),2&t){const a=m.MAs(6);m.xp6(2),m.Q6J("ngClass",m.VKq(3,Wp,a.isTablet||s.menu)),m.xp6(2),m.Q6J("ngIf",s.menu),m.xp6(1),m.Q6J("ngClass",m.WLB(5,xy,a.isPC,!a.isPC&&a.isTablet))}},dependencies:[ot.mk,ot.O5,Un.lC,Dy.n,Kh,Wh,yy,wy,$p],styles:[".sidebar-wrapper[_ngcontent-%COMP%]{left:-200px;transition:all linear .3s}.sidebar-wrapper.active[_ngcontent-%COMP%]{left:0}.content-wrapper[_ngcontent-%COMP%]{width:100%;margin-left:0;margin-right:0}.content-wrapper.pc[_ngcontent-%COMP%]{width:calc(100% - 500px);margin-right:300px;margin-left:200px}.content-wrapper.tablet[_ngcontent-%COMP%]{width:calc(100% - 200px);margin-left:200px}"]}),r})();const l0=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"",component:SE,data:{title:"NCT-Cloned"},children:[{path:"home",loadComponent:()=>Promise.all([C.e(362),C.e(592),C.e(237)]).then(C.bind(C,237)).then(r=>r.HomeComponent)},{path:"playlist",loadChildren:()=>Promise.all([C.e(574),C.e(677)]).then(C.bind(C,6677)).then(r=>r.PlaylistModule)},{path:"song",loadChildren:()=>Promise.all([C.e(574),C.e(791)]).then(C.bind(C,3791)).then(r=>r.SongModule)},{path:"video",loadChildren:()=>Promise.all([C.e(574),C.e(456)]).then(C.bind(C,8456)).then(r=>r.VideoModule)},{path:"artist",loadChildren:()=>Promise.all([C.e(362),C.e(592),C.e(861)]).then(C.bind(C,4861)).then(r=>r.ArtistModule)},{path:"topics",loadChildren:()=>Promise.all([C.e(592),C.e(81)]).then(C.bind(C,9081)).then(r=>r.TopicsModule)},{path:"bxh",loadComponent:()=>C.e(94).then(C.bind(C,9094)).then(r=>r.ChartComponent)},{path:"profile",canActivate:[pE],loadComponent:()=>C.e(939).then(C.bind(C,9939)).then(r=>r.ProfileComponent)},{path:"history",loadComponent:()=>C.e(529).then(C.bind(C,6798)).then(r=>r.HistoryComponent)},{path:"search",loadChildren:()=>Promise.all([C.e(362),C.e(592),C.e(408)]).then(C.bind(C,6408)).then(r=>r.SearchModule)},{path:"**",loadComponent:()=>C.e(380).then(C.bind(C,5380)).then(r=>r.ErrorComponent)}]}];let AE=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({imports:[Un.Bz.forRoot(l0),Un.Bz]}),r})(),c0=(()=>{class r{constructor(t,s){this.router=t,this.notiflixService=s}ngOnInit(){this.notiflixService.init({loadingSvgUrl:"assets/loading.svg",loadingType:"custom",okButton:"Okie"}),this.router.events.subscribe(t=>{this.navigationInterceptor(t),t instanceof Un.m2&&window.scrollTo(0,0)})}navigationInterceptor(t){t instanceof Un.OD&&this.notiflixService.showLoading(),(t instanceof Un.m2||t instanceof Un.gk||t instanceof Un.Q3)&&this.notiflixService.hideLoading(),t instanceof Un.Q3&&this.router.navigate(["/error"])}}return r.\u0275fac=function(t){return new(t||r)(m.Y36(Un.F0),m.Y36(_c.c))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(t,s){1&t&&m._UZ(0,"router-outlet")},dependencies:[Un.lC]}),r})();var Tl=C(2340);const d0=(0,A.Lq)({player:!1,menu:!1},(0,A.on)(Gu.K0,r=>r.player?{menu:!r.menu,player:!1}:{...r,menu:!r.menu}),(0,A.on)(Gu.Sl,r=>r.menu?{menu:!1,player:!r.player}:{...r,player:!r.player}),(0,A.on)(Gu.xv,r=>({menu:!1,player:!1}))),Sb=(0,A.Lq)({currentUser:null},(0,A.on)(zp,(r,{payload:e})=>({...r,currentUser:e}))),Ab=(0,A.Lq)({songs:[]},(0,A.on)(Ey,(r,{song:e})=>({songs:[...r.songs,e]})),(0,A.on)(by,(r,{newSong:e})=>({songs:e})),(0,A.on)(Iy,(r,{song:e})=>({songs:r.songs.filter(t=>t.key!==e.key)}))),RE={songIds:JSON.parse(localStorage.getItem(Rd.I))||[],currentIndex:JSON.parse(localStorage.getItem(Rd.af))||0},OE=(0,A.Lq)(RE,(0,A.on)(xl.aV,(r,{songIds:e})=>({...r,songIds:e})),(0,A.on)(xl.At,(r,{currentIndex:e})=>({...r,currentIndex:e})),(0,A.on)(xl.QN,(r,{currentIndex:e,songIds:t})=>({...r,currentIndex:e,songIds:t})));let h0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=m.oAB({type:r,bootstrap:[c0]}),r.\u0275inj=m.cJS({imports:[K.JF,f.b2,AE,Y.u5,A.Aw.forRoot({menu:d0,auth:Sb,music:Ab,player:OE}),Do.FT.instrument({maxAge:25,logOnly:Tl.N.production,autoPause:!0}),ee.hO.initializeApp(Tl.N.firebaseConfig),Go]}),r})();Tl.N.production&&(0,m.G48)(),f.q6().bootstrapModule(h0).catch(r=>console.error(r))},5867:(Ie,ae,C)=>{"use strict";C.d(ae,{C6:()=>f.getApps,Mq:()=>f.getApp});var f=C(9681);(0,f.registerVersion)("firebase","9.14.0","app")},127:(Ie,ae,C)=>{"use strict";C.d(ae,{Z:()=>f.Z});var f=C(3942);f.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(Ie,ae,C)=>{"use strict";C.r(ae);var f=C(5861),m=C(3942),A=C(8247),Y=C(2090),J=(C(9681),C(1877),C(4859));function re(){return window}function ne(){return(ne=(0,f.Z)(function*(pe,H,ie){var Be;const{BuildInfo:vt}=re();(0,A.ap)(H.sessionId,"AuthEvent did not contain a session ID");const Lt=yield Me(H.sessionId),jt={};return(0,A.aq)()?jt.ibi=vt.packageName:(0,A.ar)()?jt.apn=vt.packageName:(0,A.as)(pe,"operation-not-supported-in-this-environment"),vt.displayName&&(jt.appDisplayName=vt.displayName),jt.sessionId=Lt,(0,A.at)(pe,ie,H.type,void 0,null!==(Be=H.eventId)&&void 0!==Be?Be:void 0,jt)})).apply(this,arguments)}function Ke(){return(Ke=(0,f.Z)(function*(pe){const{BuildInfo:H}=re(),ie={};(0,A.aq)()?ie.iosBundleId=H.packageName:(0,A.ar)()?ie.androidPackageName=H.packageName:(0,A.as)(pe,"operation-not-supported-in-this-environment"),yield(0,A.au)(pe,ie)})).apply(this,arguments)}function yt(){return(yt=(0,f.Z)(function*(pe,H,ie){const{cordova:Be}=re();let vt=()=>{};try{yield new Promise((Lt,jt)=>{let he=null;function te(){var Xe;Lt();const Qt=null===(Xe=Be.plugins.browsertab)||void 0===Xe?void 0:Xe.close;"function"==typeof Qt&&Qt(),"function"==typeof ie?.close&&ie.close()}function se(){he||(he=window.setTimeout(()=>{jt((0,A.aw)(pe,"redirect-cancelled-by-user"))},2e3))}function je(){"visible"===document?.visibilityState&&se()}H.addPassiveListener(te),document.addEventListener("resume",se,!1),(0,A.ar)()&&document.addEventListener("visibilitychange",je,!1),vt=()=>{H.removePassiveListener(te),document.removeEventListener("resume",se,!1),document.removeEventListener("visibilitychange",je,!1),he&&window.clearTimeout(he)}})}finally{vt()}})).apply(this,arguments)}function Me(pe){return Et.apply(this,arguments)}function Et(){return(Et=(0,f.Z)(function*(pe){const H=mt(pe),ie=yield crypto.subtle.digest("SHA-256",H);return Array.from(new Uint8Array(ie)).map(vt=>vt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function mt(pe){if((0,A.ap)(/[0-9a-zA-Z]+/.test(pe),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(pe);const H=new ArrayBuffer(pe.length),ie=new Uint8Array(H);for(let Be=0;Be<pe.length;Be++)ie[Be]=pe.charCodeAt(Be);return ie}class nt extends A.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(H=>{this.resolveInialized=H})}addPassiveListener(H){this.passiveListeners.add(H)}removePassiveListener(H){this.passiveListeners.delete(H)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(H){return this.resolveInialized(),this.passiveListeners.forEach(ie=>ie(H)),super.onEvent(H)}initialized(){var H=this;return(0,f.Z)(function*(){yield H.initPromise})()}}function xe(pe){return $e.apply(this,arguments)}function $e(){return($e=(0,f.Z)(function*(pe){const H=yield Ae()._get(Re(pe));return H&&(yield Ae()._remove(Re(pe))),H})).apply(this,arguments)}function Te(){const pe=[],H="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ie=0;ie<20;ie++){const Be=Math.floor(Math.random()*H.length);pe.push(H.charAt(Be))}return pe.join("")}function Ae(){return(0,A.az)(A.b)}function Re(pe){return(0,A.aA)("authEvent",pe.config.apiKey,pe.name)}function It(pe){if(!pe?.includes("?"))return{};const[H,...ie]=pe.split("?");return(0,Y.zd)(ie.join("?"))}function Rt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,A.aw)("no-auth-event")}}function Mn(){var pe;return(null===(pe=self?.location)||void 0===pe?void 0:pe.protocol)||null}function tr(pe=(0,Y.z$)()){return!("file:"!==Mn()&&"ionic:"!==Mn()&&"capacitor:"!==Mn()||!pe.toLowerCase().match(/iphone|ipad|ipod|android/))}function or(){try{const pe=self.localStorage,H=A.aI();if(pe)return pe.setItem(H,"1"),pe.removeItem(H),!function fr(pe=(0,Y.z$)()){return function dn(){return(0,Y.w1)()&&11===document?.documentMode}()||function On(pe=(0,Y.z$)()){return/Edge\/\d+/.test(pe)}(pe)}()||(0,Y.hl)()}catch{return Zt()&&(0,Y.hl)()}return!1}function Zt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ve(){return(function ke(){return"http:"===Mn()||"https:"===Mn()}()||(0,Y.ru)()||tr())&&!function qn(){return(0,Y.b$)()||(0,Y.UG)()}()&&or()&&!Zt()}function Oe(){return tr()&&typeof document<"u"}function st(){return(st=(0,f.Z)(function*(){return!!Oe()&&new Promise(pe=>{const H=setTimeout(()=>{pe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(H),pe(!0)})})})).apply(this,arguments)}const Ut={LOCAL:"local",NONE:"none",SESSION:"session"},Bt=A.ax,St="persistence";function Wt(pe){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,f.Z)(function*(pe){yield pe._initializationPromise;const H=oe(),ie=A.aA(St,pe.config.apiKey,pe.name);H&&H.setItem(ie,pe._getPersistence())})).apply(this,arguments)}function oe(){var pe;try{return(null===(pe=function qt(){return typeof window<"u"?window:null}())||void 0===pe?void 0:pe.sessionStorage)||null}catch{return null}}const ze=A.ax;class Le{constructor(){this.browserResolver=A.az(A.k),this.cordovaResolver=A.az(class hn{constructor(){this._redirectPersistence=A.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=A.aB,this._overrideRedirectResult=A.aC}_initialize(H){var ie=this;return(0,f.Z)(function*(){const Be=H._key();let vt=ie.eventManagers.get(Be);return vt||(vt=new nt(H),ie.eventManagers.set(Be,vt),ie.attachCallbackListeners(H,vt)),vt})()}_openPopup(H){(0,A.as)(H,"operation-not-supported-in-this-environment")}_openRedirect(H,ie,Be,vt){var Lt=this;return(0,f.Z)(function*(){!function Qe(pe){var H,ie,Be,vt,Lt,jt,he,te,se,je;const Xe=re();(0,A.ax)("function"==typeof(null===(H=Xe?.universalLinks)||void 0===H?void 0:H.subscribe),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,A.ax)(typeof(null===(ie=Xe?.BuildInfo)||void 0===ie?void 0:ie.packageName)<"u",pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,A.ax)("function"==typeof(null===(Lt=null===(vt=null===(Be=Xe?.cordova)||void 0===Be?void 0:Be.plugins)||void 0===vt?void 0:vt.browsertab)||void 0===Lt?void 0:Lt.openUrl),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,A.ax)("function"==typeof(null===(te=null===(he=null===(jt=Xe?.cordova)||void 0===jt?void 0:jt.plugins)||void 0===he?void 0:he.browsertab)||void 0===te?void 0:te.isAvailable),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,A.ax)("function"==typeof(null===(je=null===(se=Xe?.cordova)||void 0===se?void 0:se.InAppBrowser)||void 0===je?void 0:je.open),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(H);const jt=yield Lt._initialize(H);yield jt.initialized(),jt.resetRedirect(),(0,A.aD)(),yield Lt._originValidation(H);const he=function We(pe,H,ie=null){return{type:H,eventId:ie,urlResponse:null,sessionId:Te(),postBody:null,tenantId:pe.tenantId,error:(0,A.aw)(pe,"no-auth-event")}}(H,Be,vt);yield function ot(pe,H){return Ae()._set(Re(pe),H)}(H,he);const te=yield function Q(pe,H,ie){return ne.apply(this,arguments)}(H,he,ie),se=yield function Ue(pe){const{cordova:H}=re();return new Promise(ie=>{H.plugins.browsertab.isAvailable(Be=>{let vt=null;Be?H.plugins.browsertab.openUrl(pe):vt=H.InAppBrowser.open(pe,(0,A.av)()?"_blank":"_system","location=yes"),ie(vt)})})}(te);return function Ge(pe,H,ie){return yt.apply(this,arguments)}(H,jt,se)})()}_isIframeWebStorageSupported(H,ie){throw new Error("Method not implemented.")}_originValidation(H){const ie=H._key();return this.originValidationPromises[ie]||(this.originValidationPromises[ie]=function de(pe){return Ke.apply(this,arguments)}(H)),this.originValidationPromises[ie]}attachCallbackListeners(H,ie){const{universalLinks:Be,handleOpenURL:vt,BuildInfo:Lt}=re(),jt=setTimeout((0,f.Z)(function*(){yield xe(H),ie.onEvent(Rt())}),500),he=function(){var je=(0,f.Z)(function*(Xe){clearTimeout(jt);const Qt=yield xe(H);let wn=null;Qt&&Xe?.url&&(wn=function Ye(pe,H){var ie,Be;const vt=function _t(pe){const H=It(pe),ie=H.link?decodeURIComponent(H.link):void 0,Be=It(ie).link,vt=H.deep_link_id?decodeURIComponent(H.deep_link_id):void 0;return It(vt).link||vt||Be||ie||pe}(H);if(vt.includes("/__/auth/callback")){const Lt=It(vt),jt=Lt.firebaseError?function Ve(pe){try{return JSON.parse(pe)}catch{return null}}(decodeURIComponent(Lt.firebaseError)):null,he=null===(Be=null===(ie=jt?.code)||void 0===ie?void 0:ie.split("auth/"))||void 0===Be?void 0:Be[1],te=he?(0,A.aw)(he):null;return te?{type:pe.type,eventId:pe.eventId,tenantId:pe.tenantId,error:te,urlResponse:null,sessionId:null,postBody:null}:{type:pe.type,eventId:pe.eventId,tenantId:pe.tenantId,sessionId:pe.sessionId,urlResponse:vt,postBody:null}}return null}(Qt,Xe.url)),ie.onEvent(wn||Rt())});return function(Qt){return je.apply(this,arguments)}}();typeof Be<"u"&&"function"==typeof Be.subscribe&&Be.subscribe(null,he);const te=vt,se=`${Lt.packageName.toLowerCase()}://`;re().handleOpenURL=function(){var je=(0,f.Z)(function*(Xe){if(Xe.toLowerCase().startsWith(se)&&he({url:Xe}),"function"==typeof te)try{te(Xe)}catch(Qt){console.error(Qt)}});return function(Xe){return je.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=A.a,this._completeRedirectFn=A.aB,this._overrideRedirectResult=A.aC}_initialize(H){var ie=this;return(0,f.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._initialize(H)})()}_openPopup(H,ie,Be,vt){var Lt=this;return(0,f.Z)(function*(){return yield Lt.selectUnderlyingResolver(),Lt.assertedUnderlyingResolver._openPopup(H,ie,Be,vt)})()}_openRedirect(H,ie,Be,vt){var Lt=this;return(0,f.Z)(function*(){return yield Lt.selectUnderlyingResolver(),Lt.assertedUnderlyingResolver._openRedirect(H,ie,Be,vt)})()}_isIframeWebStorageSupported(H,ie){this.assertedUnderlyingResolver._isIframeWebStorageSupported(H,ie)}_originValidation(H){return this.assertedUnderlyingResolver._originValidation(H)}get _shouldInitProactively(){return Oe()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ze(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var H=this;return(0,f.Z)(function*(){if(H.underlyingResolver)return;const ie=yield function qe(){return st.apply(this,arguments)}();H.underlyingResolver=ie?H.cordovaResolver:H.browserResolver})()}}function Vt(pe){return pe.unwrap()}function gn(pe){return yn(pe)}function yn(pe){const{_tokenResponse:H}=pe instanceof Y.ZR?pe.customData:pe;if(!H)return null;if(!(pe instanceof Y.ZR)&&"temporaryProof"in H&&"phoneNumber"in H)return A.P.credentialFromResult(pe);const ie=H.providerId;if(!ie||ie===A.o.PASSWORD)return null;let Be;switch(ie){case A.o.GOOGLE:Be=A.Q;break;case A.o.FACEBOOK:Be=A.N;break;case A.o.GITHUB:Be=A.T;break;case A.o.TWITTER:Be=A.W;break;default:const{oauthIdToken:vt,oauthAccessToken:Lt,oauthTokenSecret:jt,pendingToken:he,nonce:te}=H;return Lt||jt||vt||he?he?ie.startsWith("saml.")?A.aL._create(ie,he):A.J._fromParams({providerId:ie,signInMethod:ie,pendingToken:he,idToken:vt,accessToken:Lt}):new A.U(ie).credential({idToken:vt,accessToken:Lt,rawNonce:te}):null}return pe instanceof Y.ZR?Be.credentialFromError(pe):Be.credentialFromResult(pe)}function en(pe,H){return H.catch(ie=>{throw ie instanceof Y.ZR&&function xt(pe,H){var ie,Be;const vt=null===(ie=H.customData)||void 0===ie?void 0:ie._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Be=H)||void 0===Be?void 0:Be.code))H.resolver=new Ft(pe,A.an(pe,H));else if(vt){const Lt=yn(H),jt=H;Lt&&(jt.credential=Lt,jt.tenantId=vt.tenantId||void 0,jt.email=vt.email||void 0,jt.phoneNumber=vt.phoneNumber||void 0)}}(pe,ie),ie}).then(ie=>{const vt=ie.user;return{operationType:ie.operationType,credential:gn(ie),additionalUserInfo:A.al(ie),user:Mt.getOrCreate(vt)}})}function Sn(pe,H){return ln.apply(this,arguments)}function ln(){return(ln=(0,f.Z)(function*(pe,H){const ie=yield H;return{verificationId:ie.verificationId,confirm:Be=>en(pe,ie.confirm(Be))}})).apply(this,arguments)}class Ft{constructor(H,ie){this.resolver=ie,this.auth=function Ot(pe){return pe.wrapped()}(H)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(H){return en(Vt(this.auth),this.resolver.resolveSignIn(H))}}class Mt{constructor(H){this._delegate=H,this.multiFactor=A.ao(H)}static getOrCreate(H){return Mt.USER_MAP.has(H)||Mt.USER_MAP.set(H,new Mt(H)),Mt.USER_MAP.get(H)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(H){return this._delegate.getIdTokenResult(H)}getIdToken(H){return this._delegate.getIdToken(H)}linkAndRetrieveDataWithCredential(H){return this.linkWithCredential(H)}linkWithCredential(H){var ie=this;return(0,f.Z)(function*(){return en(ie.auth,A.Z(ie._delegate,H))})()}linkWithPhoneNumber(H,ie){var Be=this;return(0,f.Z)(function*(){return Sn(Be.auth,A.l(Be._delegate,H,ie))})()}linkWithPopup(H){var ie=this;return(0,f.Z)(function*(){return en(ie.auth,A.d(ie._delegate,H,Le))})()}linkWithRedirect(H){var ie=this;return(0,f.Z)(function*(){return yield Wt(A.aE(ie.auth)),A.g(ie._delegate,H,Le)})()}reauthenticateAndRetrieveDataWithCredential(H){return this.reauthenticateWithCredential(H)}reauthenticateWithCredential(H){var ie=this;return(0,f.Z)(function*(){return en(ie.auth,A._(ie._delegate,H))})()}reauthenticateWithPhoneNumber(H,ie){return Sn(this.auth,A.r(this._delegate,H,ie))}reauthenticateWithPopup(H){return en(this.auth,A.e(this._delegate,H,Le))}reauthenticateWithRedirect(H){var ie=this;return(0,f.Z)(function*(){return yield Wt(A.aE(ie.auth)),A.h(ie._delegate,H,Le)})()}sendEmailVerification(H){return A.ab(this._delegate,H)}unlink(H){var ie=this;return(0,f.Z)(function*(){return yield A.ak(ie._delegate,H),ie})()}updateEmail(H){return A.ag(this._delegate,H)}updatePassword(H){return A.ah(this._delegate,H)}updatePhoneNumber(H){return A.u(this._delegate,H)}updateProfile(H){return A.af(this._delegate,H)}verifyBeforeUpdateEmail(H,ie){return A.ac(this._delegate,H,ie)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mt.USER_MAP=new WeakMap;const Pt=A.ax;let gt=(()=>{class pe{constructor(ie,Be){if(this.app=ie,Be.isInitialized())return this._delegate=Be.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:vt}=ie.options;Pt(vt,"invalid-api-key",{appName:ie.name}),Pt(vt,"invalid-api-key",{appName:ie.name});const Lt=typeof window<"u"?Le:void 0;this._delegate=Be.initialize({options:{persistence:an(vt,ie.name),popupRedirectResolver:Lt}}),this._delegate._updateErrorMap(A.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ie){this._delegate.languageCode=ie}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ie){this._delegate.tenantId=ie}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ie,Be){A.G(this._delegate,ie,Be)}applyActionCode(ie){return A.a2(this._delegate,ie)}checkActionCode(ie){return A.a3(this._delegate,ie)}confirmPasswordReset(ie,Be){return A.a1(this._delegate,ie,Be)}createUserWithEmailAndPassword(ie,Be){var vt=this;return(0,f.Z)(function*(){return en(vt._delegate,A.a5(vt._delegate,ie,Be))})()}fetchProvidersForEmail(ie){return this.fetchSignInMethodsForEmail(ie)}fetchSignInMethodsForEmail(ie){return A.aa(this._delegate,ie)}isSignInWithEmailLink(ie){return A.a8(this._delegate,ie)}getRedirectResult(){var ie=this;return(0,f.Z)(function*(){Pt(ve(),ie._delegate,"operation-not-supported-in-this-environment");const Be=yield A.j(ie._delegate,Le);return Be?en(ie._delegate,Promise.resolve(Be)):{credential:null,user:null}})()}addFrameworkForLogging(ie){!function pn(pe,H){(0,A.aE)(pe)._logFramework(H)}(this._delegate,ie)}onAuthStateChanged(ie,Be,vt){const{next:Lt,error:jt,complete:he}=At(ie,Be,vt);return this._delegate.onAuthStateChanged(Lt,jt,he)}onIdTokenChanged(ie,Be,vt){const{next:Lt,error:jt,complete:he}=At(ie,Be,vt);return this._delegate.onIdTokenChanged(Lt,jt,he)}sendSignInLinkToEmail(ie,Be){return A.a7(this._delegate,ie,Be)}sendPasswordResetEmail(ie,Be){return A.a0(this._delegate,ie,Be||void 0)}setPersistence(ie){var Be=this;return(0,f.Z)(function*(){let vt;switch(function bn(pe,H){Bt(Object.values(Ut).includes(H),pe,"invalid-persistence-type"),(0,Y.b$)()?Bt(H!==Ut.SESSION,pe,"unsupported-persistence-type"):(0,Y.UG)()?Bt(H===Ut.NONE,pe,"unsupported-persistence-type"):Zt()?Bt(H===Ut.NONE||H===Ut.LOCAL&&(0,Y.hl)(),pe,"unsupported-persistence-type"):Bt(H===Ut.NONE||or(),pe,"unsupported-persistence-type")}(Be._delegate,ie),ie){case Ut.SESSION:vt=A.a;break;case Ut.LOCAL:vt=(yield A.az(A.i)._isAvailable())?A.i:A.b;break;case Ut.NONE:vt=A.L;break;default:return A.as("argument-error",{appName:Be._delegate.name})}return Be._delegate.setPersistence(vt)})()}signInAndRetrieveDataWithCredential(ie){return this.signInWithCredential(ie)}signInAnonymously(){return en(this._delegate,A.X(this._delegate))}signInWithCredential(ie){return en(this._delegate,A.Y(this._delegate,ie))}signInWithCustomToken(ie){return en(this._delegate,A.$(this._delegate,ie))}signInWithEmailAndPassword(ie,Be){return en(this._delegate,A.a6(this._delegate,ie,Be))}signInWithEmailLink(ie,Be){return en(this._delegate,A.a9(this._delegate,ie,Be))}signInWithPhoneNumber(ie,Be){return Sn(this._delegate,A.s(this._delegate,ie,Be))}signInWithPopup(ie){var Be=this;return(0,f.Z)(function*(){return Pt(ve(),Be._delegate,"operation-not-supported-in-this-environment"),en(Be._delegate,A.c(Be._delegate,ie,Le))})()}signInWithRedirect(ie){var Be=this;return(0,f.Z)(function*(){return Pt(ve(),Be._delegate,"operation-not-supported-in-this-environment"),yield Wt(Be._delegate),A.f(Be._delegate,ie,Le)})()}updateCurrentUser(ie){return this._delegate.updateCurrentUser(ie)}verifyPasswordResetCode(ie){return A.a4(this._delegate,ie)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return pe.Persistence=Ut,pe})();function At(pe,H,ie){let Be=pe;"function"!=typeof pe&&({next:Be,error:H,complete:ie}=pe);const vt=Be;return{next:jt=>vt(jt&&Mt.getOrCreate(jt)),error:H,complete:ie}}function an(pe,H){const ie=function me(pe,H){const ie=oe();if(!ie)return[];const Be=A.aA(St,pe,H);switch(ie.getItem(Be)){case Ut.NONE:return[A.L];case Ut.LOCAL:return[A.i,A.a];case Ut.SESSION:return[A.a];default:return[]}}(pe,H);if(typeof self<"u"&&!ie.includes(A.i)&&ie.push(A.i),typeof window<"u")for(const Be of[A.b,A.a])ie.includes(Be)||ie.push(Be);return ie.includes(A.L)||ie.push(A.L),ie}class un{constructor(){this.providerId="phone",this._delegate=new A.P(Vt(m.Z.auth()))}static credential(H,ie){return A.P.credential(H,ie)}verifyPhoneNumber(H,ie){return this._delegate.verifyPhoneNumber(H,ie)}unwrap(){return this._delegate}}un.PHONE_SIGN_IN_METHOD=A.P.PHONE_SIGN_IN_METHOD,un.PROVIDER_ID=A.P.PROVIDER_ID;const _n=A.ax;class be{constructor(H,ie,Be=m.Z.app()){var vt;_n(null===(vt=Be.options)||void 0===vt?void 0:vt.apiKey,"invalid-api-key",{appName:Be.name}),this._delegate=new A.R(H,ie,Be.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function De(pe){pe.INTERNAL.registerComponent(new J.wA("auth-compat",H=>{const ie=H.getProvider("app-compat").getImmediate(),Be=H.getProvider("auth");return new gt(ie,Be)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:A.A.EMAIL_SIGNIN,PASSWORD_RESET:A.A.PASSWORD_RESET,RECOVER_EMAIL:A.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:A.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:A.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:A.A.VERIFY_EMAIL}},EmailAuthProvider:A.M,FacebookAuthProvider:A.N,GithubAuthProvider:A.T,GoogleAuthProvider:A.Q,OAuthProvider:A.U,SAMLAuthProvider:A.V,PhoneAuthProvider:un,PhoneMultiFactorGenerator:A.m,RecaptchaVerifier:be,TwitterAuthProvider:A.W,Auth:gt,AuthCredential:A.H,Error:Y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),pe.registerVersion("@firebase/auth-compat","0.2.24")}(m.Z)},7550:function(Ie,ae){var f,m;m=typeof global>"u"?typeof window>"u"?this:window:global,f=function(){return function(m){"use strict";if(typeof m>"u"&&typeof m.document>"u")return!1;var A,Y,K,ee,J,re="\n\nVisit documentation page to learn more: https://notiflix.github.io/documentation",ue='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',Q_Success="Success",Q_Failure="Failure",Q_Warning="Warning",Q_Info="Info",ne={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},de_Success="Success",de_Failure="Failure",de_Warning="Warning",de_Info="Info",Ke={ID:"NotiflixReportWrap",className:"notiflix-report",width:"320px",backgroundColor:"#f8f8f8",borderRadius:"25px",rtl:!1,zindex:4002,backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",backOverlayClickToClose:!1,fontFamily:"Quicksand",svgSize:"110px",plainText:!0,titleFontSize:"16px",titleMaxLength:34,messageFontSize:"13px",messageMaxLength:400,buttonFontSize:"14px",buttonMaxLength:34,cssAnimation:!0,cssAnimationDuration:360,cssAnimationStyle:"fade",success:{svgColor:"#32c682",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#32c682",buttonColor:"#fff",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{svgColor:"#ff5549",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#ff5549",buttonColor:"#fff",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{svgColor:"#eebf31",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#eebf31",buttonColor:"#fff",backOverlayColor:"rgba(238,191,49,0.2)"},info:{svgColor:"#26c0d3",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#26c0d3",buttonColor:"#fff",backOverlayColor:"rgba(38,192,211,0.2)"}},Ue_Show="Show",Ue_Ask="Ask",Ue_Prompt="Prompt",Ge={ID:"NotiflixConfirmWrap",className:"notiflix-confirm",width:"300px",zindex:4003,position:"center",distance:"10px",backgroundColor:"#f8f8f8",borderRadius:"25px",backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:"fade",plainText:!0,titleColor:"#32c682",titleFontSize:"16px",titleMaxLength:34,messageColor:"#1e1e1e",messageFontSize:"14px",messageMaxLength:110,buttonsFontSize:"15px",buttonsMaxLength:34,okButtonColor:"#f8f8f8",okButtonBackground:"#32c682",cancelButtonColor:"#f8f8f8",cancelButtonBackground:"#a9a9a9"},yt_Standard="Standard",yt_Hourglass="Hourglass",yt_Circle="Circle",yt_Arrows="Arrows",yt_Dots="Dots",yt_Pulse="Pulse",yt_Custom="Custom",yt_Notiflix="Notiflix",Qe={ID:"NotiflixLoadingWrap",className:"notiflix-loading",zindex:4e3,backgroundColor:"rgba(0,0,0,0.8)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:"80px",svgColor:"#32c682",messageID:"NotiflixLoadingMessage",messageFontSize:"15px",messageMaxLength:34,messageColor:"#dcdcdc"},Me_Standard="Standard",Me_Hourglass="Hourglass",Me_Circle="Circle",Me_Arrows="Arrows",Me_Dots="Dots",Me_Pulse="Pulse",Et={ID:"NotiflixBlockWrap",querySelectorLimit:200,className:"notiflix-block",position:"absolute",zindex:1e3,backgroundColor:"rgba(255,255,255,0.9)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,svgSize:"45px",svgColor:"#383838",messageFontSize:"14px",messageMaxLength:34,messageColor:"#383838"},mt=function(ve){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549","\n"+ve+re)},nt=function(ve){return ve||(ve="head"),null!==m.document[ve]||(mt('\nNotiflix needs to be appended to the "<'+ve+'>" element, but you called it before the "<'+ve+'>" element has been created.'),!1)},We=function(ve,Oe){if(!nt("head"))return!1;if(null!==ve()&&!m.document.getElementById(Oe)){var qe=m.document.createElement("style");qe.id=Oe,qe.innerHTML=ve(),m.document.head.appendChild(qe)}},ot=function(){var ve={},Oe=!1,qe=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(Oe=arguments[0],qe++);for(var st=function(qt){for(var Ut in qt)Object.prototype.hasOwnProperty.call(qt,Ut)&&(ve[Ut]=Oe&&"[object Object]"===Object.prototype.toString.call(qt[Ut])?ot(ve[Ut],qt[Ut]):qt[Ut])};qe<arguments.length;qe++)st(arguments[qe]);return ve},xe=function(ve){var Oe=m.document.createElement("div");return Oe.innerHTML=ve,Oe.textContent||Oe.innerText||""},Re=function(ve,Oe){return ve||(ve="60px"),Oe||(Oe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" stroke="'+Oe+'" width="'+ve+'" height="'+ve+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>'},Ve=function(ve,Oe){return ve||(ve="60px"),Oe||(Oe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+Oe+'" width="'+ve+'" height="'+ve+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>'},_t=function(ve,Oe){return ve||(ve="60px"),Oe||(Oe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" width="'+ve+'" height="'+ve+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+ve+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+ve+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+Oe+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>'},It=function(ve,Oe){return ve||(ve="60px"),Oe||(Oe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" fill="'+Oe+'" width="'+ve+'" height="'+ve+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>'},Yt=function(ve,Oe){return ve||(ve="60px"),Oe||(Oe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" fill="'+Oe+'" width="'+ve+'" height="'+ve+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>'},hn=function(ve,Oe){return ve||(ve="60px"),Oe||(Oe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" stroke="'+Oe+'" width="'+ve+'" height="'+ve+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>'},Rt=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},pn=0,kn=function(ve,Oe,qe,st){if(!nt("body"))return!1;A||Zt.Notify.init({});var qt=ot(!0,A,{});if("object"==typeof qe&&!Array.isArray(qe)||"object"==typeof st&&!Array.isArray(st)){var Ut={};"object"==typeof qe?Ut=qe:"object"==typeof st&&(Ut=st),A=ot(!0,A,Ut)}var Bt=A[ve.toLocaleLowerCase("en")];pn++,"string"!=typeof Oe&&(Oe="Notiflix "+ve),A.plainText&&(Oe=xe(Oe)),!A.plainText&&Oe.length>A.messageMaxLength&&(A=ot(!0,A,{closeButton:!0,messageMaxLength:150}),Oe='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),Oe.length>A.messageMaxLength&&(Oe=Oe.substring(0,A.messageMaxLength)+"..."),"shadow"===A.fontAwesomeIconStyle&&(Bt.fontAwesomeIconColor=Bt.background),A.cssAnimation||(A.cssAnimationDuration=0);var St=m.document.getElementById(ne.wrapID)||m.document.createElement("div");if(St.id=ne.wrapID,St.style.width=A.width,St.style.zIndex=A.zindex,St.style.opacity=A.opacity,"center-center"===A.position?(St.style.left=A.distance,St.style.top=A.distance,St.style.right=A.distance,St.style.bottom=A.distance,St.style.margin="auto",St.classList.add("nx-flex-center-center"),St.style.maxHeight="calc((100vh - "+A.distance+") - "+A.distance+")",St.style.display="flex",St.style.flexWrap="wrap",St.style.flexDirection="column",St.style.justifyContent="center",St.style.alignItems="center",St.style.pointerEvents="none"):"center-top"===A.position?(St.style.left=A.distance,St.style.right=A.distance,St.style.top=A.distance,St.style.bottom="auto",St.style.margin="auto"):"center-bottom"===A.position?(St.style.left=A.distance,St.style.right=A.distance,St.style.bottom=A.distance,St.style.top="auto",St.style.margin="auto"):"right-bottom"===A.position?(St.style.right=A.distance,St.style.bottom=A.distance,St.style.top="auto",St.style.left="auto"):"left-top"===A.position?(St.style.left=A.distance,St.style.top=A.distance,St.style.right="auto",St.style.bottom="auto"):"left-bottom"===A.position?(St.style.left=A.distance,St.style.bottom=A.distance,St.style.top="auto",St.style.right="auto"):(St.style.right=A.distance,St.style.top=A.distance,St.style.left="auto",St.style.bottom="auto"),A.backOverlay){var bn=m.document.getElementById(ne.overlayID)||m.document.createElement("div");bn.id=ne.overlayID,bn.style.width="100%",bn.style.height="100%",bn.style.position="fixed",bn.style.zIndex=A.zindex-1,bn.style.left=0,bn.style.top=0,bn.style.right=0,bn.style.bottom=0,bn.style.background=Bt.backOverlayColor||A.backOverlayColor,bn.className=A.cssAnimation?"nx-with-animation":"",bn.style.animationDuration=A.cssAnimation?A.cssAnimationDuration+"ms":"",m.document.getElementById(ne.overlayID)||m.document.body.appendChild(bn)}m.document.getElementById(ne.wrapID)||m.document.body.appendChild(St);var Wt=m.document.createElement("div");Wt.id=A.ID+"-"+pn,Wt.className=A.className+" "+Bt.childClassName+" "+(A.cssAnimation?"nx-with-animation":"")+" "+(A.useIcon?"nx-with-icon":"")+" nx-"+A.cssAnimationStyle+" "+(A.closeButton&&"function"!=typeof qe?"nx-with-close-button":"")+" "+("function"==typeof qe?"nx-with-callback":"")+" "+(A.clickToClose?"nx-notify-click-to-close":""),Wt.style.fontSize=A.fontSize,Wt.style.color=Bt.textColor,Wt.style.background=Bt.background,Wt.style.borderRadius=A.borderRadius,Wt.style.pointerEvents="all",A.rtl&&(Wt.setAttribute("dir","rtl"),Wt.classList.add("nx-rtl-on")),Wt.style.fontFamily='"'+A.fontFamily+'", '+ue,A.cssAnimation&&(Wt.style.animationDuration=A.cssAnimationDuration+"ms");var Pe="";if(A.closeButton&&"function"!=typeof qe&&(Pe='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+Bt.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),A.useIcon)if(A.useFontAwesome)Wt.innerHTML='<i style="color:'+Bt.fontAwesomeIconColor+"; font-size:"+A.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+Bt.fontAwesomeClassName+" "+("shadow"===A.fontAwesomeIconStyle?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+Oe+"</span>"+(A.closeButton?Pe:"");else{var me="";ve===Q_Success?me='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+Bt.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':ve===Q_Failure?me='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+Bt.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':ve===Q_Warning?me='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+Bt.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':ve===Q_Info&&(me='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+Bt.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),Wt.innerHTML=me+'<span class="nx-message nx-with-icon">'+Oe+"</span>"+(A.closeButton?Pe:"")}else Wt.innerHTML='<span class="nx-message">'+Oe+"</span>"+(A.closeButton?Pe:"");if("left-bottom"===A.position||"right-bottom"===A.position){var oe=m.document.getElementById(ne.wrapID);oe.insertBefore(Wt,oe.firstChild)}else m.document.getElementById(ne.wrapID).appendChild(Wt);var ze=m.document.getElementById(Wt.id);if(ze){var Le,Vt,Ot=function(){ze.classList.add("nx-remove");var Ft=m.document.getElementById(ne.overlayID);Ft&&0>=St.childElementCount&&Ft.classList.add("nx-remove"),clearTimeout(Le)},gn=function(){if(ze&&null!==ze.parentNode&&ze.parentNode.removeChild(ze),0>=St.childElementCount&&null!==St.parentNode){St.parentNode.removeChild(St);var Ft=m.document.getElementById(ne.overlayID);Ft&&null!==Ft.parentNode&&Ft.parentNode.removeChild(Ft)}clearTimeout(Vt)};if(A.closeButton&&"function"!=typeof qe&&m.document.getElementById(Wt.id).querySelector("span.nx-close-button").addEventListener("click",function(){Ot();var Ft=setTimeout(function(){gn(),clearTimeout(Ft)},A.cssAnimationDuration)}),("function"==typeof qe||A.clickToClose)&&ze.addEventListener("click",function(){"function"==typeof qe&&qe(),Ot();var Ft=setTimeout(function(){gn(),clearTimeout(Ft)},A.cssAnimationDuration)}),!A.closeButton&&"function"!=typeof qe){var yn=function(){Le=setTimeout(function(){Ot()},A.timeout),Vt=setTimeout(function(){gn()},A.timeout+A.cssAnimationDuration)};yn(),A.pauseOnHover&&(ze.addEventListener("mouseenter",function(){ze.classList.add("nx-paused"),clearTimeout(Le),clearTimeout(Vt)}),ze.addEventListener("mouseleave",function(){ze.classList.remove("nx-paused"),yn()}))}}if(A.showOnlyTheLastOne&&0<pn)for(var en,Sn=m.document.querySelectorAll("[id^="+A.ID+"-]:not([id="+A.ID+"-"+pn+"])"),ln=0;ln<Sn.length;ln++)null!==(en=Sn[ln]).parentNode&&en.parentNode.removeChild(en);A=ot(!0,A,qt)},Rn=function(){return'[id^=NotiflixReportWrap]{position:fixed;z-index:4002;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;left:0;top:0;padding:10px;color:#1e1e1e;border-radius:25px;background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixReportWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixReportWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixReportWrap]>div.nx-report-click-to-close{cursor:pointer}[id^=NotiflixReportWrap]>div[class*="-content"]{width:320px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:inherit;padding:10px;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));border:1px solid rgba(0,0,0,.03);background:#f8f8f8;position:relative;z-index:1}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:110px;height:110px;display:block;margin:6px auto 12px}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"] svg{min-width:100%;max-width:100%;height:auto}[id^=NotiflixReportWrap]>*>h5{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:16px;font-weight:500;line-height:1.4;margin:0 0 10px;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);float:left;width:100%;text-align:center}[id^=NotiflixReportWrap]>*>p{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:13px;line-height:1.4;font-weight:normal;float:left;width:100%;padding:0 10px;margin:0 0 10px}[id^=NotiflixReportWrap] a#NXReportButton{word-break:break-all;word-break:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;cursor:pointer;float:right;padding:7px 17px;background:#32c682;font-size:14px;line-height:1.4;font-weight:500;border-radius:inherit!important;color:#fff}[id^=NotiflixReportWrap] a#NXReportButton:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixReportWrap].nx-rtl-on a#NXReportButton{float:left}[id^=NotiflixReportWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:report-overlay-animation .3s ease-in-out 0s normal;animation:report-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-fade{-webkit-animation:report-animation-fade .3s ease-in-out 0s normal;animation:report-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-zoom{-webkit-animation:report-animation-zoom .3s ease-in-out 0s normal;animation:report-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixReportWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:report-overlay-animation-remove .3s ease-in-out 0s normal;animation:report-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-fade{opacity:0;-webkit-animation:report-animation-fade-remove .3s ease-in-out 0s normal;animation:report-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-zoom{opacity:0;-webkit-animation:report-animation-zoom-remove .3s ease-in-out 0s normal;animation:report-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},Tn=function(ve,Oe,qe,st,qt,Ut){if(!nt("body"))return!1;Y||Zt.Report.init({});var Bt={};if("object"==typeof qt&&!Array.isArray(qt)||"object"==typeof Ut&&!Array.isArray(Ut)){var St={};"object"==typeof qt?St=qt:"object"==typeof Ut&&(St=Ut),Bt=ot(!0,Y,{}),Y=ot(!0,Y,St)}var bn=Y[ve.toLocaleLowerCase("en")];"string"!=typeof Oe&&(Oe="Notiflix "+ve),"string"!=typeof qe&&(ve===de_Success?qe='"Do not try to become a person of success but try to become a person of value." <br><br>- Albert Einstein':ve===de_Failure?qe='"Failure is simply the opportunity to begin again, this time more intelligently." <br><br>- Henry Ford':ve===de_Warning?qe='"The peoples who want to live comfortably without producing and fatigue; they are doomed to lose their dignity, then liberty, and then independence and destiny." <br><br>- Mustafa Kemal Ataturk':ve===de_Info&&(qe='"Knowledge rests not upon truth alone, but upon error also." <br><br>- Carl Gustav Jung')),"string"!=typeof st&&(st="Okay"),Y.plainText&&(Oe=xe(Oe),qe=xe(qe),st=xe(st)),Y.plainText||(Oe.length>Y.titleMaxLength&&(Oe="Possible HTML Tags Error",qe='The "plainText" option is "false" and the title content length is more than the "titleMaxLength" option.',st="Okay"),qe.length>Y.messageMaxLength&&(Oe="Possible HTML Tags Error",qe='The "plainText" option is "false" and the message content length is more than the "messageMaxLength" option.',st="Okay"),st.length>Y.buttonMaxLength&&(Oe="Possible HTML Tags Error",qe='The "plainText" option is "false" and the button content length is more than the "buttonMaxLength" option.',st="Okay")),Oe.length>Y.titleMaxLength&&(Oe=Oe.substring(0,Y.titleMaxLength)+"..."),qe.length>Y.messageMaxLength&&(qe=qe.substring(0,Y.messageMaxLength)+"..."),st.length>Y.buttonMaxLength&&(st=st.substring(0,Y.buttonMaxLength)+"..."),Y.cssAnimation||(Y.cssAnimationDuration=0);var Wt=m.document.createElement("div");Wt.id=Ke.ID,Wt.className=Y.className,Wt.style.zIndex=Y.zindex,Wt.style.borderRadius=Y.borderRadius,Wt.style.fontFamily='"'+Y.fontFamily+'", '+ue,Y.rtl&&(Wt.setAttribute("dir","rtl"),Wt.classList.add("nx-rtl-on")),Wt.style.display="flex",Wt.style.flexWrap="wrap",Wt.style.flexDirection="column",Wt.style.alignItems="center",Wt.style.justifyContent="center";var Pe="",me=!0===Y.backOverlayClickToClose;Y.backOverlay&&(Pe='<div class="'+Y.className+"-overlay"+(Y.cssAnimation?" nx-with-animation":"")+(me?" nx-report-click-to-close":"")+'" style="background:'+(bn.backOverlayColor||Y.backOverlayColor)+";animation-duration:"+Y.cssAnimationDuration+'ms;"></div>');var oe="";if(ve===de_Success?oe=function(ve,Oe){return ve||(ve="110px"),Oe||(Oe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXReportSuccess" width="'+ve+'" height="'+ve+'" fill="'+Oe+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@-webkit-keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportSuccess *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportSuccess2-animation;animation-name:NXReportSuccess2-animation;-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportSuccess3-animation;animation-name:NXReportSuccess3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportSuccess1-animation;animation-name:NXReportSuccess1-animation;-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M88.27 35.39L52.8 75.29 31.43 58.2c-.98-.81-2.44-.63-3.24.36-.79.99-.63 2.44.36 3.24l23.08 18.46c.43.34.93.51 1.44.51.64 0 1.27-.26 1.74-.78l36.91-41.53a2.3 2.3 0 0 0-.19-3.26c-.95-.86-2.41-.77-3.26.19z" style="-webkit-animation-name:NXReportSuccess4-animation;animation-name:NXReportSuccess4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'}(Y.svgSize,bn.svgColor):ve===de_Failure?oe=function(ve,Oe){return ve||(ve="110px"),Oe||(Oe="#ff5549"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXReportFailure" width="'+ve+'" height="'+ve+'" fill="'+Oe+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportFailure *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportFailure1-animation;animation-name:NXReportFailure1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M4.35 34.95c0-16.82 13.78-30.6 30.6-30.6h50.1c16.82 0 30.6 13.78 30.6 30.6v50.1c0 16.82-13.78 30.6-30.6 30.6h-50.1c-16.82 0-30.6-13.78-30.6-30.6v-50.1zM34.95 120h50.1c19.22 0 34.95-15.73 34.95-34.95v-50.1C120 15.73 104.27 0 85.05 0h-50.1C15.73 0 0 15.73 0 34.95v50.1C0 104.27 15.73 120 34.95 120z" style="-webkit-animation-name:NXReportFailure2-animation;animation-name:NXReportFailure2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportFailure3-animation;animation-name:NXReportFailure3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M82.4 37.6c-.9-.9-2.37-.9-3.27 0L60 56.73 40.86 37.6a2.306 2.306 0 0 0-3.26 3.26L56.73 60 37.6 79.13c-.9.9-.9 2.37 0 3.27.45.45 1.04.68 1.63.68.59 0 1.18-.23 1.63-.68L60 63.26 79.13 82.4c.45.45 1.05.68 1.64.68.58 0 1.18-.23 1.63-.68.9-.9.9-2.37 0-3.27L63.26 60 82.4 40.86c.9-.91.9-2.36 0-3.26z" style="-webkit-animation-name:NXReportFailure4-animation;animation-name:NXReportFailure4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'}(Y.svgSize,bn.svgColor):ve===de_Warning?oe=function(ve,Oe){return ve||(ve="110px"),Oe||(Oe="#eebf31"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXReportWarning" width="'+ve+'" height="'+ve+'" fill="'+Oe+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@-webkit-keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportWarning *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportWarning1-animation;animation-name:NXReportWarning1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M115.46 106.15l-54.04-93.8c-.61-1.06-2.23-1.06-2.84 0l-54.04 93.8c-.62 1.07.21 2.29 1.42 2.29h108.08c1.21 0 2.04-1.22 1.42-2.29zM65.17 10.2l54.04 93.8c2.28 3.96-.65 8.78-5.17 8.78H5.96c-4.52 0-7.45-4.82-5.17-8.78l54.04-93.8c2.28-3.95 8.03-4 10.34 0z" style="-webkit-animation-name:NXReportWarning2-animation;animation-name:NXReportWarning2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportWarning3-animation;animation-name:NXReportWarning3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)"><path d="M57.83 94.01c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17v-3.2c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v3.2zm0-14.15c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17V39.21c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v40.65z" style="-webkit-animation-name:NXReportWarning4-animation;animation-name:NXReportWarning4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'}(Y.svgSize,bn.svgColor):ve===de_Info&&(oe=function(ve,Oe){return ve||(ve="110px"),Oe||(Oe="#26c0d3"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXReportInfo" width="'+ve+'" height="'+ve+'" fill="'+Oe+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportInfo *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportInfo1-animation;animation-name:NXReportInfo1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportInfo2-animation;animation-name:NXReportInfo2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportInfo3-animation;animation-name:NXReportInfo3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M57.75 43.85c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v48.18c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V43.85zm0-15.88c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v3.32c0 1.25-1.01 2.25-2.25 2.25s-2.25-1-2.25-2.25v-3.32z" style="-webkit-animation-name:NXReportInfo4-animation;animation-name:NXReportInfo4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'}(Y.svgSize,bn.svgColor)),Wt.innerHTML=Pe+'<div class="'+Y.className+"-content"+(Y.cssAnimation?" nx-with-animation ":"")+" nx-"+Y.cssAnimationStyle+'" style="width:'+Y.width+"; background:"+Y.backgroundColor+"; animation-duration:"+Y.cssAnimationDuration+'ms;"><div style="width:'+Y.svgSize+"; height:"+Y.svgSize+';" class="'+Y.className+'-icon">'+oe+'</div><h5 class="'+Y.className+'-title" style="font-weight:500; font-size:'+Y.titleFontSize+"; color:"+bn.titleColor+';">'+Oe+'</h5><p class="'+Y.className+'-message" style="font-size:'+Y.messageFontSize+"; color:"+bn.messageColor+';">'+qe+'</p><a id="NXReportButton" class="'+Y.className+'-button" style="font-weight:500; font-size:'+Y.buttonFontSize+"; background:"+bn.buttonBackground+"; color:"+bn.buttonColor+';">'+st+"</a></div>",!m.document.getElementById(Wt.id)){m.document.body.appendChild(Wt);var ze=function(){var Ot=m.document.getElementById(Wt.id);Ot.classList.add("nx-remove");var gn=setTimeout(function(){null!==Ot.parentNode&&Ot.parentNode.removeChild(Ot),clearTimeout(gn)},Y.cssAnimationDuration)};m.document.getElementById("NXReportButton").addEventListener("click",function(){"function"==typeof qt&&qt(),ze()}),Pe&&me&&m.document.querySelector(".nx-report-click-to-close").addEventListener("click",function(){ze()})}Y=ot(!0,Y,Bt)},Mn=function(){return'[id^=NotiflixConfirmWrap]{position:fixed;z-index:4003;width:100%;height:100%;left:0;top:0;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixConfirmWrap].nx-position-center-top{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-center-bottom{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-left-top{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-center{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-bottom{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-top{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-right-center{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-bottom{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixConfirmWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixConfirmWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:confirm-overlay-animation .3s ease-in-out 0s normal;animation:confirm-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal;animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap]>div[class*="-content"]{width:300px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:25px;padding:10px;margin:0;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));background:#f8f8f8;color:#1e1e1e;position:relative;z-index:1;text-align:center}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]{float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>h5{float:left;width:100%;margin:0;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);color:#32c682;font-family:inherit!important;font-size:16px;line-height:1.4;font-weight:500;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div{font-family:inherit!important;margin:15px 0 20px;padding:0 10px;float:left;width:100%;font-size:14px;line-height:1.4;font-weight:normal;color:inherit;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div{font-family:inherit!important;float:left;width:100%;margin:15px 0 0;padding:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input{font-family:inherit!important;float:left;width:100%;height:40px;margin:0;padding:0 15px;border:1px solid rgba(0,0,0,.1);border-radius:25px;font-size:14px;font-weight:normal;line-height:1;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;text-align:left}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-head"]>div>div>input{text-align:right}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:hover{border-color:rgba(0,0,0,.1)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:focus{border-color:rgba(0,0,0,.3)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-failure{border-color:#ff5549}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-success{border-color:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:inherit;float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a{cursor:pointer;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;float:left;width:48%;padding:9px 5px;border-radius:inherit!important;font-weight:500;font-size:15px;line-height:1.4;color:#f8f8f8;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-ok{margin:0 2% 0 0;background:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-cancel{margin:0 0 0 2%;background:#a9a9a9}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-full{margin:0;width:100%}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"],[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"]>a{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade>div[class*="-content"]{-webkit-animation:confirm-animation-fade .3s ease-in-out 0s normal;animation:confirm-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom>div[class*="-content"]{-webkit-animation:confirm-animation-zoom .3s ease-in-out 0s normal;animation:confirm-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-fade-remove .3s ease-in-out 0s normal;animation:confirm-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal;animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},ke=function(ve,Oe,qe,st,qt,Ut,Bt,St,bn){if(!nt("body"))return!1;K||Zt.Confirm.init({});var Wt=ot(!0,K,{});"object"!=typeof bn||Array.isArray(bn)||(K=ot(!0,K,bn)),"string"!=typeof Oe&&(Oe="Notiflix Confirm"),"string"!=typeof qe&&(qe="Do you agree with me?"),"string"!=typeof qt&&(qt="Yes"),"string"!=typeof Ut&&(Ut="No"),"function"!=typeof Bt&&(Bt=void 0),"function"!=typeof St&&(St=void 0),K.plainText&&(Oe=xe(Oe),qe=xe(qe),qt=xe(qt),Ut=xe(Ut)),K.plainText||(Oe.length>K.titleMaxLength&&(Oe="Possible HTML Tags Error",qe='The "plainText" option is "false" and the title content length is more than "titleMaxLength" option.',qt="Okay",Ut="..."),qe.length>K.messageMaxLength&&(Oe="Possible HTML Tags Error",qe='The "plainText" option is "false" and the message content length is more than "messageMaxLength" option.',qt="Okay",Ut="..."),(qt.length||Ut.length)>K.buttonsMaxLength&&(Oe="Possible HTML Tags Error",qe='The "plainText" option is "false" and the buttons content length is more than "buttonsMaxLength" option.',qt="Okay",Ut="...")),Oe.length>K.titleMaxLength&&(Oe=Oe.substring(0,K.titleMaxLength)+"..."),qe.length>K.messageMaxLength&&(qe=qe.substring(0,K.messageMaxLength)+"..."),qt.length>K.buttonsMaxLength&&(qt=qt.substring(0,K.buttonsMaxLength)+"..."),Ut.length>K.buttonsMaxLength&&(Ut=Ut.substring(0,K.buttonsMaxLength)+"..."),K.cssAnimation||(K.cssAnimationDuration=0);var Pe=m.document.createElement("div");Pe.id=Ge.ID,Pe.className=K.className+(K.cssAnimation?" nx-with-animation nx-"+K.cssAnimationStyle:""),Pe.style.zIndex=K.zindex,Pe.style.padding=K.distance,K.rtl&&(Pe.setAttribute("dir","rtl"),Pe.classList.add("nx-rtl-on"));var me="string"==typeof K.position?K.position.trim():"center";Pe.classList.add("nx-position-"+me),Pe.style.fontFamily='"'+K.fontFamily+'", '+ue;var oe="";K.backOverlay&&(oe='<div class="'+K.className+"-overlay"+(K.cssAnimation?" nx-with-animation":"")+'" style="background:'+K.backOverlayColor+";animation-duration:"+K.cssAnimationDuration+'ms;"></div>');var ze="";"function"==typeof Bt&&(ze='<a id="NXConfirmButtonCancel" class="nx-confirm-button-cancel" style="color:'+K.cancelButtonColor+";background:"+K.cancelButtonBackground+";font-size:"+K.buttonsFontSize+';">'+Ut+"</a>");var Le="",Vt=null,Ot=void 0;if(ve===Ue_Ask||ve===Ue_Prompt){Vt=st||"";var gn=ve===Ue_Ask||200<Vt.length?Math.ceil(1.5*Vt.length):250;Le='<div><input id="NXConfirmValidationInput" type="text" '+(ve===Ue_Prompt?'value="'+Vt+'"':"")+' maxlength="'+gn+'" style="font-size:'+K.messageFontSize+";border-radius: "+K.borderRadius+';" autocomplete="off" spellcheck="false" autocapitalize="none" /></div>'}if(Pe.innerHTML=oe+'<div class="'+K.className+'-content" style="width:'+K.width+"; background:"+K.backgroundColor+"; animation-duration:"+K.cssAnimationDuration+"ms; border-radius: "+K.borderRadius+';"><div class="'+K.className+'-head"><h5 style="color:'+K.titleColor+";font-size:"+K.titleFontSize+';">'+Oe+'</h5><div style="color:'+K.messageColor+";font-size:"+K.messageFontSize+';">'+qe+Le+'</div></div><div class="'+K.className+'-buttons"><a id="NXConfirmButtonOk" class="nx-confirm-button-ok'+("function"==typeof Bt?"":" nx-full")+'" style="color:'+K.okButtonColor+";background:"+K.okButtonBackground+";font-size:"+K.buttonsFontSize+';">'+qt+"</a>"+ze+"</div></div>",!m.document.getElementById(Pe.id)){m.document.body.appendChild(Pe);var yn=m.document.getElementById(Pe.id),en=m.document.getElementById("NXConfirmButtonOk"),Sn=m.document.getElementById("NXConfirmValidationInput");Sn&&(Sn.focus(),Sn.setSelectionRange(0,(Sn.value||"").length),Sn.addEventListener("keyup",function(Ft){ve===Ue_Ask&&Ft.target.value!==Vt?(Ft.preventDefault(),Sn.classList.add("nx-validation-failure"),Sn.classList.remove("nx-validation-success")):(ve===Ue_Ask&&(Sn.classList.remove("nx-validation-failure"),Sn.classList.add("nx-validation-success")),("enter"===(Ft.key||"").toLocaleLowerCase("en")||13===Ft.keyCode)&&en.dispatchEvent(new Event("click")))})),en.addEventListener("click",function(Ft){if(ve===Ue_Ask&&Vt&&Sn){if((Sn.value||"").toString()!==Vt)return Sn.focus(),Sn.classList.add("nx-validation-failure"),Ft.stopPropagation(),Ft.preventDefault(),Ft.returnValue=!1,Ft.cancelBubble=!0,!1;Sn.classList.remove("nx-validation-failure")}"function"==typeof Bt&&(ve===Ue_Prompt&&Sn&&(Ot=Sn.value||""),Bt(Ot)),yn.classList.add("nx-remove");var Pt=setTimeout(function(){null!==yn.parentNode&&(yn.parentNode.removeChild(yn),clearTimeout(Pt))},K.cssAnimationDuration)}),"function"==typeof Bt&&m.document.getElementById("NXConfirmButtonCancel").addEventListener("click",function(){"function"==typeof St&&(ve===Ue_Prompt&&Sn&&(Ot=Sn.value||""),St(Ot)),yn.classList.add("nx-remove");var Ft=setTimeout(function(){null!==yn.parentNode&&(yn.parentNode.removeChild(yn),clearTimeout(Ft))},K.cssAnimationDuration)})}K=ot(!0,K,Wt)},tr=function(){return'[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*="-icon"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*="-icon"] img,[id^=NotiflixLoadingWrap]>div[class*="-icon"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}'},qn=function(ve,Oe,qe,st,qt){if(!nt("body"))return!1;ee||Zt.Loading.init({});var Ut=ot(!0,ee,{});if("object"==typeof Oe&&!Array.isArray(Oe)||"object"==typeof qe&&!Array.isArray(qe)){var Bt={};"object"==typeof Oe?Bt=Oe:"object"==typeof qe&&(Bt=qe),ee=ot(!0,ee,Bt)}var St="";if("string"==typeof Oe&&0<Oe.length&&(St=Oe),st){var bn="";0<(St=St.length>ee.messageMaxLength?xe(St).toString().substring(0,ee.messageMaxLength)+"...":xe(St).toString()).length&&(bn='<p id="'+ee.messageID+'" class="nx-loading-message" style="color:'+ee.messageColor+";font-size:"+ee.messageFontSize+';">'+St+"</p>"),ee.cssAnimation||(ee.cssAnimationDuration=0);var Wt="";if(ve===yt_Standard)Wt=Re(ee.svgSize,ee.svgColor);else if(ve===yt_Hourglass)Wt=Ve(ee.svgSize,ee.svgColor);else if(ve===yt_Circle)Wt=_t(ee.svgSize,ee.svgColor);else if(ve===yt_Arrows)Wt=It(ee.svgSize,ee.svgColor);else if(ve===yt_Dots)Wt=Yt(ee.svgSize,ee.svgColor);else if(ve===yt_Pulse)Wt=hn(ee.svgSize,ee.svgColor);else if(ve===yt_Custom&&null!==ee.customSvgCode&&null===ee.customSvgUrl)Wt=ee.customSvgCode||"";else if(ve===yt_Custom&&null!==ee.customSvgUrl&&null===ee.customSvgCode)Wt='<img class="nx-custom-loading-icon" width="'+ee.svgSize+'" height="'+ee.svgSize+'" src="'+ee.customSvgUrl+'" alt="Notiflix">';else{if(ve===yt_Custom&&(null===ee.customSvgUrl||null===ee.customSvgCode))return mt('You have to set a static SVG url to "customSvgUrl" option to use Loading Custom.'),!1;Wt=function(ve,Oe,qe){return ve||(ve="60px"),Oe||(Oe="#f8f8f8"),qe||(qe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingNotiflixLib" width="'+ve+'" height="'+ve+'" viewBox="0 0 200 200"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:'+Oe+';stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d="M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z" style="animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal" fill="'+qe+'" stroke="'+qe+'" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="22" stroke-width="12"/><path class="nx-icon-line" d="M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21" style="animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/><path class="nx-icon-line" d="M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75" style="animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/></svg>'}(ee.svgSize,"#f8f8f8","#32c682")}var Pe=parseInt((ee.svgSize||"").replace(/[^0-9]/g,"")),me=m.innerWidth,oe=Pe>=me?me-40+"px":Pe+"px",ze='<div style="width:'+oe+"; height:"+oe+';" class="'+ee.className+"-icon"+(0<St.length?" nx-with-message":"")+'">'+Wt+"</div>",Le=m.document.createElement("div");Le.id=Qe.ID,Le.className=ee.className+(ee.cssAnimation?" nx-with-animation":"")+(ee.clickToClose?" nx-loading-click-to-close":""),Le.style.zIndex=ee.zindex,Le.style.background=ee.backgroundColor,Le.style.animationDuration=ee.cssAnimationDuration+"ms",Le.style.fontFamily='"'+ee.fontFamily+'", '+ue,Le.style.display="flex",Le.style.flexWrap="wrap",Le.style.flexDirection="column",Le.style.alignItems="center",Le.style.justifyContent="center",ee.rtl&&(Le.setAttribute("dir","rtl"),Le.classList.add("nx-rtl-on")),Le.innerHTML=ze+bn,!m.document.getElementById(Le.id)&&(m.document.body.appendChild(Le),ee.clickToClose)&&m.document.getElementById(Le.id).addEventListener("click",function(){Le.classList.add("nx-remove");var xt=setTimeout(function(){null!==Le.parentNode&&(Le.parentNode.removeChild(Le),clearTimeout(xt))},ee.cssAnimationDuration)})}else if(m.document.getElementById(Qe.ID))var Ot=m.document.getElementById(Qe.ID),gn=setTimeout(function(){Ot.classList.add("nx-remove");var xt=setTimeout(function(){null!==Ot.parentNode&&(Ot.parentNode.removeChild(Ot),clearTimeout(xt))},ee.cssAnimationDuration);clearTimeout(gn)},qt);ee=ot(!0,ee,Ut)},On=function(){return'[id^=NotiflixBlockWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1000;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background:rgba(255,255,255,.9);text-align:center;animation-duration:.4s;width:100%;height:100%;left:0;top:0;border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixBlockWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixBlockWrap]>span[class*="-icon"]{display:block;width:45px;height:45px;position:relative;margin:0 auto}[id^=NotiflixBlockWrap]>span[class*="-icon"] svg{width:inherit;height:inherit}[id^=NotiflixBlockWrap]>span[class*="-message"]{position:relative;display:block;width:100%;margin:10px auto 0;padding:0 10px;font-family:inherit!important;font-weight:normal;font-size:14px;line-height:1.4}[id^=NotiflixBlockWrap].nx-with-animation{-webkit-animation:block-animation-fade .3s ease-in-out 0s normal;animation:block-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixBlockWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:block-animation-fade-remove .3s ease-in-out 0s normal;animation:block-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}'},fr=0,or=function(ve,Oe,qe,st,qt,Ut){var Bt;if(Array.isArray(qe)){if(1>qe.length)return mt("Array of HTMLElements should contains at least one HTMLElement."),!1;Bt=qe}else if(Object.prototype.isPrototypeOf.call(NodeList.prototype,qe)){if(1>qe.length)return mt("NodeListOf<HTMLElement> should contains at least one HTMLElement."),!1;Bt=Array.prototype.slice.call(qe)}else{if("string"!=typeof qe||1>(qe||"").length||1===(qe||"").length&&("#"===(qe||"")[0]||"."===(qe||"")[0]))return mt("The selector parameter must be a string and matches a specified CSS selector(s)."),!1;var bn=m.document.querySelectorAll(qe);if(1>bn.length)return mt('You called the "Notiflix.Block..." function with "'+qe+'" selector, but there is no such element(s) in the document.'),!1;Bt=bn}J||Zt.Block.init({});var Wt=ot(!0,J,{});if("object"==typeof st&&!Array.isArray(st)||"object"==typeof qt&&!Array.isArray(qt)){var Pe={};"object"==typeof st?Pe=st:"object"==typeof qt&&(Pe=qt),J=ot(!0,J,Pe)}var me="";"string"==typeof st&&0<st.length&&(me=st),J.cssAnimation||(J.cssAnimationDuration=0);var oe=Et.className;"string"==typeof J.className&&(oe=J.className.trim());var ze="number"==typeof J.querySelectorLimit?J.querySelectorLimit:200,Le=(Bt||[]).length>=ze?ze:Bt.length,Vt="nx-block-temporary-position";if(ve){for(var Ot,gn=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","html","head","title","script","style","iframe"],xt=0;xt<Le;xt++)if(Ot=Bt[xt]){if(-1<gn.indexOf(Ot.tagName.toLocaleLowerCase("en")))break;var yn=Ot.querySelectorAll("[id^="+Et.ID+"]");if(1>yn.length){var en="";Oe&&(en=Oe===Me_Hourglass?Ve(J.svgSize,J.svgColor):Oe===Me_Circle?_t(J.svgSize,J.svgColor):Oe===Me_Arrows?It(J.svgSize,J.svgColor):Oe===Me_Dots?Yt(J.svgSize,J.svgColor):Oe===Me_Pulse?hn(J.svgSize,J.svgColor):Re(J.svgSize,J.svgColor));var Sn='<span class="'+oe+'-icon" style="width:'+J.svgSize+";height:"+J.svgSize+';">'+en+"</span>",ln="";0<me.length&&(me=me.length>J.messageMaxLength?xe(me).substring(0,J.messageMaxLength)+"...":xe(me),ln='<span style="font-size:'+J.messageFontSize+";color:"+J.messageColor+';" class="'+oe+'-message">'+me+"</span>"),fr++;var Ft=m.document.createElement("div");Ft.id=Et.ID+"-"+fr,Ft.className=oe+(J.cssAnimation?" nx-with-animation":""),Ft.style.position=J.position,Ft.style.zIndex=J.zindex,Ft.style.background=J.backgroundColor,Ft.style.animationDuration=J.cssAnimationDuration+"ms",Ft.style.fontFamily='"'+J.fontFamily+'", '+ue,Ft.style.display="flex",Ft.style.flexWrap="wrap",Ft.style.flexDirection="column",Ft.style.alignItems="center",Ft.style.justifyContent="center",J.rtl&&(Ft.setAttribute("dir","rtl"),Ft.classList.add("nx-rtl-on")),Ft.innerHTML=Sn+ln;var Mt=m.getComputedStyle(Ot).getPropertyValue("position"),Pt="string"==typeof Mt?Mt.toLocaleLowerCase("en"):"relative",gt=Math.round(1.25*parseInt(J.svgSize))+40,an="";gt>(Ot.offsetHeight||0)&&(an="min-height:"+gt+"px;");var un;un=Ot.getAttribute("id")?"#"+Ot.getAttribute("id"):Ot.classList[0]?"."+Ot.classList[0]:(Ot.tagName||"").toLocaleLowerCase("en");var _n="",be=-1>=["absolute","relative","fixed","sticky"].indexOf(Pt);if(be||0<an.length){if(!nt("head"))return!1;be&&(_n="position:relative!important;");var ye='<style id="Style-'+Et.ID+"-"+fr+'">'+un+"."+Vt+"{"+_n+an+"}</style>",De=m.document.createRange();De.selectNode(m.document.head);var pe=De.createContextualFragment(ye);m.document.head.appendChild(pe),Ot.classList.add(Vt)}Ot.appendChild(Ft)}}}else var H=function(Lt){var jt=setTimeout(function(){null!==Lt.parentNode&&Lt.parentNode.removeChild(Lt);var he=Lt.getAttribute("id"),te=m.document.getElementById("Style-"+he);te&&null!==te.parentNode&&te.parentNode.removeChild(te),clearTimeout(jt)},J.cssAnimationDuration)},ie=function(Lt){if(Lt&&0<Lt.length)for(var jt,he=0;he<Lt.length;he++)(jt=Lt[he])&&(jt.classList.add("nx-remove"),H(jt));else!function(ve){console.log("%c Notiflix Info ","padding:2px;border-radius:20px;color:#fff;background:#26c0d3","\n"+ve+re)}("string"==typeof qe?'"Notiflix.Block.remove();" function called with "'+qe+'" selector, but this selector does not have a "Block" element to remove.':'"Notiflix.Block.remove();" function called with "'+qe+'", but this "Array<HTMLElement>" or "NodeListOf<HTMLElement>" does not have a "Block" element to remove.')},Be=function(Lt){var jt=setTimeout(function(){Lt.classList.remove(Vt),clearTimeout(jt)},J.cssAnimationDuration+300)},vt=setTimeout(function(){for(var Lt,jt=0;jt<Le;jt++)(Lt=Bt[jt])&&(Be(Lt),yn=Lt.querySelectorAll("[id^="+Et.ID+"]"),ie(yn));clearTimeout(vt)},Ut);J=ot(!0,J,Wt)},Zt={Notify:{init:function(ve){A=ot(!0,ne,ve),We(Rt,"NotiflixNotifyInternalCSS")},merge:function(ve){return A?void(A=ot(!0,A,ve)):(mt("You have to initialize the Notify module before call Merge function."),!1)},success:function(ve,Oe,qe){kn(Q_Success,ve,Oe,qe)},failure:function(ve,Oe,qe){kn(Q_Failure,ve,Oe,qe)},warning:function(ve,Oe,qe){kn(Q_Warning,ve,Oe,qe)},info:function(ve,Oe,qe){kn(Q_Info,ve,Oe,qe)}},Report:{init:function(ve){Y=ot(!0,Ke,ve),We(Rn,"NotiflixReportInternalCSS")},merge:function(ve){return Y?void(Y=ot(!0,Y,ve)):(mt("You have to initialize the Report module before call Merge function."),!1)},success:function(ve,Oe,qe,st,qt){Tn(de_Success,ve,Oe,qe,st,qt)},failure:function(ve,Oe,qe,st,qt){Tn(de_Failure,ve,Oe,qe,st,qt)},warning:function(ve,Oe,qe,st,qt){Tn(de_Warning,ve,Oe,qe,st,qt)},info:function(ve,Oe,qe,st,qt){Tn(de_Info,ve,Oe,qe,st,qt)}},Confirm:{init:function(ve){K=ot(!0,Ge,ve),We(Mn,"NotiflixConfirmInternalCSS")},merge:function(ve){return K?void(K=ot(!0,K,ve)):(mt("You have to initialize the Confirm module before call Merge function."),!1)},show:function(ve,Oe,qe,st,qt,Ut,Bt){ke(Ue_Show,ve,Oe,null,qe,st,qt,Ut,Bt)},ask:function(ve,Oe,qe,st,qt,Ut,Bt,St){ke(Ue_Ask,ve,Oe,qe,st,qt,Ut,Bt,St)},prompt:function(ve,Oe,qe,st,qt,Ut,Bt,St){ke(Ue_Prompt,ve,Oe,qe,st,qt,Ut,Bt,St)}},Loading:{init:function(ve){ee=ot(!0,Qe,ve),We(tr,"NotiflixLoadingInternalCSS")},merge:function(ve){return ee?void(ee=ot(!0,ee,ve)):(mt("You have to initialize the Loading module before call Merge function."),!1)},standard:function(ve,Oe){qn(yt_Standard,ve,Oe,!0,0)},hourglass:function(ve,Oe){qn(yt_Hourglass,ve,Oe,!0,0)},circle:function(ve,Oe){qn(yt_Circle,ve,Oe,!0,0)},arrows:function(ve,Oe){qn(yt_Arrows,ve,Oe,!0,0)},dots:function(ve,Oe){qn(yt_Dots,ve,Oe,!0,0)},pulse:function(ve,Oe){qn(yt_Pulse,ve,Oe,!0,0)},custom:function(ve,Oe){qn(yt_Custom,ve,Oe,!0,0)},notiflix:function(ve,Oe){qn(yt_Notiflix,ve,Oe,!0,0)},remove:function(ve){"number"!=typeof ve&&(ve=0),qn(null,null,null,!1,ve)},change:function(ve){!function(ve){"string"!=typeof ve&&(ve="");var Oe=m.document.getElementById(Qe.ID);if(Oe)if(0<ve.length){ve=ve.length>ee.messageMaxLength?xe(ve).substring(0,ee.messageMaxLength)+"...":xe(ve);var qe=Oe.getElementsByTagName("p")[0];if(qe)qe.innerHTML=ve;else{var st=m.document.createElement("p");st.id=ee.messageID,st.className="nx-loading-message nx-loading-message-new",st.style.color=ee.messageColor,st.style.fontSize=ee.messageFontSize,st.innerHTML=ve,Oe.appendChild(st)}}else mt("Where is the new message?")}(ve)}},Block:{init:function(ve){J=ot(!0,Et,ve),We(On,"NotiflixBlockInternalCSS")},merge:function(ve){return J?void(J=ot(!0,J,ve)):(mt('You have to initialize the "Notiflix.Block" module before call Merge function.'),!1)},standard:function(ve,Oe,qe){or(!0,Me_Standard,ve,Oe,qe)},hourglass:function(ve,Oe,qe){or(!0,Me_Hourglass,ve,Oe,qe)},circle:function(ve,Oe,qe){or(!0,Me_Circle,ve,Oe,qe)},arrows:function(ve,Oe,qe){or(!0,Me_Arrows,ve,Oe,qe)},dots:function(ve,Oe,qe){or(!0,Me_Dots,ve,Oe,qe)},pulse:function(ve,Oe,qe){or(!0,Me_Pulse,ve,Oe,qe)},remove:function(ve,Oe){"number"!=typeof Oe&&(Oe=0),or(!1,null,ve,null,null,Oe)}}};return"object"==typeof m.Notiflix?ot(!0,m.Notiflix,{Notify:Zt.Notify,Report:Zt.Report,Confirm:Zt.Confirm,Loading:Zt.Loading,Block:Zt.Block}):{Notify:Zt.Notify,Report:Zt.Report,Confirm:Zt.Confirm,Loading:Zt.Loading,Block:Zt.Block}}(m)}.apply(ae,[]),void 0!==f&&(Ie.exports=f)},1135:(Ie,ae,C)=>{"use strict";C.d(ae,{X:()=>m});var f=C(7579);class m extends f.x{constructor(Y){super(),this._value=Y}get value(){return this.getValue()}_subscribe(Y){const K=super._subscribe(Y);return!K.closed&&Y.next(this._value),K}getValue(){const{hasError:Y,thrownError:K,_value:ee}=this;if(Y)throw K;return this._throwIfClosed(),ee}next(Y){super.next(this._value=Y)}}},9751:(Ie,ae,C)=>{"use strict";C.d(ae,{y:()=>re});var f=C(930),m=C(727),A=C(8822),Y=C(9635),K=C(2416),ee=C(576),J=C(2806);let re=(()=>{class de{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Ge=new de;return Ge.source=this,Ge.operator=Ue,Ge}subscribe(Ue,Ge,yt){const Qe=function ne(de){return de&&de instanceof f.Lv||function Q(de){return de&&(0,ee.m)(de.next)&&(0,ee.m)(de.error)&&(0,ee.m)(de.complete)}(de)&&(0,m.Nn)(de)}(Ue)?Ue:new f.Hp(Ue,Ge,yt);return(0,J.x)(()=>{const{operator:Me,source:Et}=this;Qe.add(Me?Me.call(Qe,Et):Et?this._subscribe(Qe):this._trySubscribe(Qe))}),Qe}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Ge){Ue.error(Ge)}}forEach(Ue,Ge){return new(Ge=ue(Ge))((yt,Qe)=>{const Me=new f.Hp({next:Et=>{try{Ue(Et)}catch(mt){Qe(mt),Me.unsubscribe()}},error:Qe,complete:yt});this.subscribe(Me)})}_subscribe(Ue){var Ge;return null===(Ge=this.source)||void 0===Ge?void 0:Ge.subscribe(Ue)}[A.L](){return this}pipe(...Ue){return(0,Y.U)(Ue)(this)}toPromise(Ue){return new(Ue=ue(Ue))((Ge,yt)=>{let Qe;this.subscribe(Me=>Qe=Me,Me=>yt(Me),()=>Ge(Qe))})}}return de.create=Ke=>new de(Ke),de})();function ue(de){var Ke;return null!==(Ke=de??K.v.Promise)&&void 0!==Ke?Ke:Promise}},4707:(Ie,ae,C)=>{"use strict";C.d(ae,{t:()=>A});var f=C(7579),m=C(6063);class A extends f.x{constructor(K=1/0,ee=1/0,J=m.l){super(),this._bufferSize=K,this._windowTime=ee,this._timestampProvider=J,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ee===1/0,this._bufferSize=Math.max(1,K),this._windowTime=Math.max(1,ee)}next(K){const{isStopped:ee,_buffer:J,_infiniteTimeWindow:re,_timestampProvider:ue,_windowTime:Q}=this;ee||(J.push(K),!re&&J.push(ue.now()+Q)),this._trimBuffer(),super.next(K)}_subscribe(K){this._throwIfClosed(),this._trimBuffer();const ee=this._innerSubscribe(K),{_infiniteTimeWindow:J,_buffer:re}=this,ue=re.slice();for(let Q=0;Q<ue.length&&!K.closed;Q+=J?1:2)K.next(ue[Q]);return this._checkFinalizedStatuses(K),ee}_trimBuffer(){const{_bufferSize:K,_timestampProvider:ee,_buffer:J,_infiniteTimeWindow:re}=this,ue=(re?1:2)*K;if(K<1/0&&ue<J.length&&J.splice(0,J.length-ue),!re){const Q=ee.now();let ne=0;for(let de=1;de<J.length&&J[de]<=Q;de+=2)ne=de;ne&&J.splice(0,ne+1)}}}},7579:(Ie,ae,C)=>{"use strict";C.d(ae,{x:()=>J});var f=C(9751),m=C(727);const Y=(0,C(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=C(8737),ee=C(2806);let J=(()=>{class ue extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const de=new re(this,this);return de.operator=ne,de}_throwIfClosed(){if(this.closed)throw new Y}next(ne){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(ne)}})}error(ne){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:de}=this;for(;de.length;)de.shift().error(ne)}})}complete(){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:de,isStopped:Ke,observers:Ue}=this;return de||Ke?m.Lc:(this.currentObservers=null,Ue.push(ne),new m.w0(()=>{this.currentObservers=null,(0,K.P)(Ue,ne)}))}_checkFinalizedStatuses(ne){const{hasError:de,thrownError:Ke,isStopped:Ue}=this;de?ne.error(Ke):Ue&&ne.complete()}asObservable(){const ne=new f.y;return ne.source=this,ne}}return ue.create=(Q,ne)=>new re(Q,ne),ue})();class re extends J{constructor(Q,ne){super(),this.destination=Q,this.source=ne}next(Q){var ne,de;null===(de=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===de||de.call(ne,Q)}error(Q){var ne,de;null===(de=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===de||de.call(ne,Q)}complete(){var Q,ne;null===(ne=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===ne||ne.call(Q)}_subscribe(Q){var ne,de;return null!==(de=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(Q))&&void 0!==de?de:m.Lc}}},930:(Ie,ae,C)=>{"use strict";C.d(ae,{Hp:()=>yt,Lv:()=>de});var f=C(576),m=C(727),A=C(2416),Y=C(7849),K=C(5032);const ee=ue("C",void 0,void 0);function ue(ut,nt,We){return{kind:ut,value:nt,error:We}}var Q=C(3410),ne=C(2806);class de extends m.w0{constructor(nt){super(),this.isStopped=!1,nt?(this.destination=nt,(0,m.Nn)(nt)&&nt.add(this)):this.destination=mt}static create(nt,We,ot){return new yt(nt,We,ot)}next(nt){this.isStopped?Et(function re(ut){return ue("N",ut,void 0)}(nt),this):this._next(nt)}error(nt){this.isStopped?Et(function J(ut){return ue("E",void 0,ut)}(nt),this):(this.isStopped=!0,this._error(nt))}complete(){this.isStopped?Et(ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(nt){this.destination.next(nt)}_error(nt){try{this.destination.error(nt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Ue(ut,nt){return Ke.call(ut,nt)}class Ge{constructor(nt){this.partialObserver=nt}next(nt){const{partialObserver:We}=this;if(We.next)try{We.next(nt)}catch(ot){Qe(ot)}}error(nt){const{partialObserver:We}=this;if(We.error)try{We.error(nt)}catch(ot){Qe(ot)}else Qe(nt)}complete(){const{partialObserver:nt}=this;if(nt.complete)try{nt.complete()}catch(We){Qe(We)}}}class yt extends de{constructor(nt,We,ot){let xe;if(super(),(0,f.m)(nt)||!nt)xe={next:nt??void 0,error:We??void 0,complete:ot??void 0};else{let $e;this&&A.v.useDeprecatedNextContext?($e=Object.create(nt),$e.unsubscribe=()=>this.unsubscribe(),xe={next:nt.next&&Ue(nt.next,$e),error:nt.error&&Ue(nt.error,$e),complete:nt.complete&&Ue(nt.complete,$e)}):xe=nt}this.destination=new Ge(xe)}}function Qe(ut){A.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(ut):(0,Y.h)(ut)}function Et(ut,nt){const{onStoppedNotification:We}=A.v;We&&Q.z.setTimeout(()=>We(ut,nt))}const mt={closed:!0,next:K.Z,error:function Me(ut){throw ut},complete:K.Z}},727:(Ie,ae,C)=>{"use strict";C.d(ae,{Lc:()=>ee,w0:()=>K,Nn:()=>J});var f=C(576);const A=(0,C(3888).d)(ue=>function(ne){ue(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((de,Ke)=>`${Ke+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var Y=C(8737);class K{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Ue of ne)Ue.remove(this);else ne.remove(this);const{initialTeardown:de}=this;if((0,f.m)(de))try{de()}catch(Ue){Q=Ue instanceof A?Ue.errors:[Ue]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const Ue of Ke)try{re(Ue)}catch(Ge){Q=Q??[],Ge instanceof A?Q=[...Q,...Ge.errors]:Q.push(Ge)}}if(Q)throw new A(Q)}}add(Q){var ne;if(Q&&Q!==this)if(this.closed)re(Q);else{if(Q instanceof K){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(Q)}}_hasParent(Q){const{_parentage:ne}=this;return ne===Q||Array.isArray(ne)&&ne.includes(Q)}_addParent(Q){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(Q),ne):ne?[ne,Q]:Q}_removeParent(Q){const{_parentage:ne}=this;ne===Q?this._parentage=null:Array.isArray(ne)&&(0,Y.P)(ne,Q)}remove(Q){const{_finalizers:ne}=this;ne&&(0,Y.P)(ne,Q),Q instanceof K&&Q._removeParent(this)}}K.EMPTY=(()=>{const ue=new K;return ue.closed=!0,ue})();const ee=K.EMPTY;function J(ue){return ue instanceof K||ue&&"closed"in ue&&(0,f.m)(ue.remove)&&(0,f.m)(ue.add)&&(0,f.m)(ue.unsubscribe)}function re(ue){(0,f.m)(ue)?ue():ue.unsubscribe()}},2416:(Ie,ae,C)=>{"use strict";C.d(ae,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3905:(Ie,ae,C)=>{"use strict";C.d(ae,{z:()=>A});var f=C(6805),m=C(930);function A(Y,K){const ee="object"==typeof K;return new Promise((J,re)=>{const ue=new m.Hp({next:Q=>{J(Q),ue.unsubscribe()},error:re,complete:()=>{ee?J(K.defaultValue):re(new f.K)}});Y.subscribe(ue)})}},7272:(Ie,ae,C)=>{"use strict";C.d(ae,{z:()=>K});var f=C(8189),A=C(3269),Y=C(8996);function K(...ee){return function m(){return(0,f.J)(1)}()((0,Y.D)(ee,(0,A.yG)(ee)))}},515:(Ie,ae,C)=>{"use strict";C.d(ae,{E:()=>m});const m=new(C(9751).y)(K=>K.complete())},8996:(Ie,ae,C)=>{"use strict";C.d(ae,{D:()=>nt});var f=C(8421),m=C(5363),A=C(9468),ee=C(9751),re=C(2202),ue=C(576),Q=C(9672);function de(We,ot){if(!We)throw new Error("Iterable cannot be null");return new ee.y(xe=>{(0,Q.f)(xe,ot,()=>{const $e=We[Symbol.asyncIterator]();(0,Q.f)(xe,ot,()=>{$e.next().then(Ye=>{Ye.done?xe.complete():xe.next(Ye.value)})},0,!0)})})}var Ke=C(3670),Ue=C(8239),Ge=C(1144),yt=C(6495),Qe=C(2206),Me=C(4532),Et=C(3260);function nt(We,ot){return ot?function ut(We,ot){if(null!=We){if((0,Ke.c)(We))return function Y(We,ot){return(0,f.Xf)(We).pipe((0,A.R)(ot),(0,m.Q)(ot))}(We,ot);if((0,Ge.z)(We))return function J(We,ot){return new ee.y(xe=>{let $e=0;return ot.schedule(function(){$e===We.length?xe.complete():(xe.next(We[$e++]),xe.closed||this.schedule())})})}(We,ot);if((0,Ue.t)(We))return function K(We,ot){return(0,f.Xf)(We).pipe((0,A.R)(ot),(0,m.Q)(ot))}(We,ot);if((0,Qe.D)(We))return de(We,ot);if((0,yt.T)(We))return function ne(We,ot){return new ee.y(xe=>{let $e;return(0,Q.f)(xe,ot,()=>{$e=We[re.h](),(0,Q.f)(xe,ot,()=>{let Ye,Te;try{({value:Ye,done:Te}=$e.next())}catch(Ae){return void xe.error(Ae)}Te?xe.complete():xe.next(Ye)},0,!0)}),()=>(0,ue.m)($e?.return)&&$e.return()})}(We,ot);if((0,Et.L)(We))return function mt(We,ot){return de((0,Et.Q)(We),ot)}(We,ot)}throw(0,Me.z)(We)}(We,ot):(0,f.Xf)(We)}},8421:(Ie,ae,C)=>{"use strict";C.d(ae,{Xf:()=>Ke});var f=C(655),m=C(1144),A=C(8239),Y=C(9751),K=C(3670),ee=C(2206),J=C(4532),re=C(6495),ue=C(3260),Q=C(576),ne=C(7849),de=C(8822);function Ke(ut){if(ut instanceof Y.y)return ut;if(null!=ut){if((0,K.c)(ut))return function Ue(ut){return new Y.y(nt=>{const We=ut[de.L]();if((0,Q.m)(We.subscribe))return We.subscribe(nt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ut);if((0,m.z)(ut))return function Ge(ut){return new Y.y(nt=>{for(let We=0;We<ut.length&&!nt.closed;We++)nt.next(ut[We]);nt.complete()})}(ut);if((0,A.t)(ut))return function yt(ut){return new Y.y(nt=>{ut.then(We=>{nt.closed||(nt.next(We),nt.complete())},We=>nt.error(We)).then(null,ne.h)})}(ut);if((0,ee.D)(ut))return Me(ut);if((0,re.T)(ut))return function Qe(ut){return new Y.y(nt=>{for(const We of ut)if(nt.next(We),nt.closed)return;nt.complete()})}(ut);if((0,ue.L)(ut))return function Et(ut){return Me((0,ue.Q)(ut))}(ut)}throw(0,J.z)(ut)}function Me(ut){return new Y.y(nt=>{(function mt(ut,nt){var We,ot,xe,$e;return(0,f.mG)(this,void 0,void 0,function*(){try{for(We=(0,f.KL)(ut);!(ot=yield We.next()).done;)if(nt.next(ot.value),nt.closed)return}catch(Ye){xe={error:Ye}}finally{try{ot&&!ot.done&&($e=We.return)&&(yield $e.call(We))}finally{if(xe)throw xe.error}}nt.complete()})})(ut,nt).catch(We=>nt.error(We))})}},6451:(Ie,ae,C)=>{"use strict";C.d(ae,{T:()=>ee});var f=C(8189),m=C(8421),A=C(515),Y=C(3269),K=C(8996);function ee(...J){const re=(0,Y.yG)(J),ue=(0,Y._6)(J,1/0),Q=J;return Q.length?1===Q.length?(0,m.Xf)(Q[0]):(0,f.J)(ue)((0,K.D)(Q,re)):A.E}},9646:(Ie,ae,C)=>{"use strict";C.d(ae,{of:()=>A});var f=C(3269),m=C(8996);function A(...Y){const K=(0,f.yG)(Y);return(0,m.D)(Y,K)}},5403:(Ie,ae,C)=>{"use strict";C.d(ae,{x:()=>m});var f=C(930);function m(Y,K,ee,J,re){return new A(Y,K,ee,J,re)}class A extends f.Lv{constructor(K,ee,J,re,ue,Q){super(K),this.onFinalize=ue,this.shouldUnsubscribe=Q,this._next=ee?function(ne){try{ee(ne)}catch(de){K.error(de)}}:super._next,this._error=re?function(ne){try{re(ne)}catch(de){K.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=J?function(){try{J()}catch(ne){K.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var K;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ee}=this;super.unsubscribe(),!ee&&(null===(K=this.onFinalize)||void 0===K||K.call(this))}}}},262:(Ie,ae,C)=>{"use strict";C.d(ae,{K:()=>Y});var f=C(8421),m=C(5403),A=C(4482);function Y(K){return(0,A.e)((ee,J)=>{let Q,re=null,ue=!1;re=ee.subscribe((0,m.x)(J,void 0,void 0,ne=>{Q=(0,f.Xf)(K(ne,Y(K)(ee))),re?(re.unsubscribe(),re=null,Q.subscribe(J)):ue=!0})),ue&&(re.unsubscribe(),re=null,Q.subscribe(J))})}},4351:(Ie,ae,C)=>{"use strict";C.d(ae,{b:()=>A});var f=C(5577),m=C(576);function A(Y,K){return(0,m.m)(K)?(0,f.z)(Y,K,1):(0,f.z)(Y,1)}},8372:(Ie,ae,C)=>{"use strict";C.d(ae,{b:()=>Y});var f=C(4986),m=C(4482),A=C(5403);function Y(K,ee=f.z){return(0,m.e)((J,re)=>{let ue=null,Q=null,ne=null;const de=()=>{if(ue){ue.unsubscribe(),ue=null;const Ue=Q;Q=null,re.next(Ue)}};function Ke(){const Ue=ne+K,Ge=ee.now();if(Ge<Ue)return ue=this.schedule(void 0,Ue-Ge),void re.add(ue);de()}J.subscribe((0,A.x)(re,Ue=>{Q=Ue,ne=ee.now(),ue||(ue=ee.schedule(Ke,K),re.add(ue))},()=>{de(),re.complete()},void 0,()=>{Q=ue=null}))})}},6590:(Ie,ae,C)=>{"use strict";C.d(ae,{d:()=>A});var f=C(4482),m=C(5403);function A(Y){return(0,f.e)((K,ee)=>{let J=!1;K.subscribe((0,m.x)(ee,re=>{J=!0,ee.next(re)},()=>{J||ee.next(Y),ee.complete()}))})}},1884:(Ie,ae,C)=>{"use strict";C.d(ae,{x:()=>Y});var f=C(4671),m=C(4482),A=C(5403);function Y(ee,J=f.y){return ee=ee??K,(0,m.e)((re,ue)=>{let Q,ne=!0;re.subscribe((0,A.x)(ue,de=>{const Ke=J(de);(ne||!ee(Q,Ke))&&(ne=!1,Q=Ke,ue.next(de))}))})}function K(ee,J){return ee===J}},9300:(Ie,ae,C)=>{"use strict";C.d(ae,{h:()=>A});var f=C(4482),m=C(5403);function A(Y,K){return(0,f.e)((ee,J)=>{let re=0;ee.subscribe((0,m.x)(J,ue=>Y.call(K,ue,re++)&&J.next(ue)))})}},590:(Ie,ae,C)=>{"use strict";C.d(ae,{P:()=>J});var f=C(6805),m=C(9300),A=C(5698),Y=C(6590),K=C(8068),ee=C(4671);function J(re,ue){const Q=arguments.length>=2;return ne=>ne.pipe(re?(0,m.h)((de,Ke)=>re(de,Ke,ne)):ee.y,(0,A.q)(1),Q?(0,Y.d)(ue):(0,K.T)(()=>new f.K))}},4004:(Ie,ae,C)=>{"use strict";C.d(ae,{U:()=>A});var f=C(4482),m=C(5403);function A(Y,K){return(0,f.e)((ee,J)=>{let re=0;ee.subscribe((0,m.x)(J,ue=>{J.next(Y.call(K,ue,re++))}))})}},8189:(Ie,ae,C)=>{"use strict";C.d(ae,{J:()=>A});var f=C(5577),m=C(4671);function A(Y=1/0){return(0,f.z)(m.y,Y)}},5577:(Ie,ae,C)=>{"use strict";C.d(ae,{z:()=>re});var f=C(4004),m=C(8421),A=C(4482),Y=C(9672),K=C(5403),J=C(576);function re(ue,Q,ne=1/0){return(0,J.m)(Q)?re((de,Ke)=>(0,f.U)((Ue,Ge)=>Q(de,Ue,Ke,Ge))((0,m.Xf)(ue(de,Ke))),ne):("number"==typeof Q&&(ne=Q),(0,A.e)((de,Ke)=>function ee(ue,Q,ne,de,Ke,Ue,Ge,yt){const Qe=[];let Me=0,Et=0,mt=!1;const ut=()=>{mt&&!Qe.length&&!Me&&Q.complete()},nt=ot=>Me<de?We(ot):Qe.push(ot),We=ot=>{Ue&&Q.next(ot),Me++;let xe=!1;(0,m.Xf)(ne(ot,Et++)).subscribe((0,K.x)(Q,$e=>{Ke?.($e),Ue?nt($e):Q.next($e)},()=>{xe=!0},void 0,()=>{if(xe)try{for(Me--;Qe.length&&Me<de;){const $e=Qe.shift();Ge?(0,Y.f)(Q,Ge,()=>We($e)):We($e)}ut()}catch($e){Q.error($e)}}))};return ue.subscribe((0,K.x)(Q,nt,()=>{mt=!0,ut()})),()=>{yt?.()}}(de,Ke,ue,ne)))}},5363:(Ie,ae,C)=>{"use strict";C.d(ae,{Q:()=>Y});var f=C(9672),m=C(4482),A=C(5403);function Y(K,ee=0){return(0,m.e)((J,re)=>{J.subscribe((0,A.x)(re,ue=>(0,f.f)(re,K,()=>re.next(ue),ee),()=>(0,f.f)(re,K,()=>re.complete(),ee),ue=>(0,f.f)(re,K,()=>re.error(ue),ee)))})}},5026:(Ie,ae,C)=>{"use strict";C.d(ae,{R:()=>Y});var f=C(4482),m=C(5403);function A(K,ee,J,re,ue){return(Q,ne)=>{let de=J,Ke=ee,Ue=0;Q.subscribe((0,m.x)(ne,Ge=>{const yt=Ue++;Ke=de?K(Ke,Ge,yt):(de=!0,Ge),re&&ne.next(Ke)},ue&&(()=>{de&&ne.next(Ke),ne.complete()})))}}function Y(K,ee){return(0,f.e)(A(K,ee,arguments.length>=2,!0))}},3099:(Ie,ae,C)=>{"use strict";C.d(ae,{B:()=>K});var f=C(8421),m=C(7579),A=C(930),Y=C(4482);function K(J={}){const{connector:re=(()=>new m.x),resetOnError:ue=!0,resetOnComplete:Q=!0,resetOnRefCountZero:ne=!0}=J;return de=>{let Ke,Ue,Ge,yt=0,Qe=!1,Me=!1;const Et=()=>{Ue?.unsubscribe(),Ue=void 0},mt=()=>{Et(),Ke=Ge=void 0,Qe=Me=!1},ut=()=>{const nt=Ke;mt(),nt?.unsubscribe()};return(0,Y.e)((nt,We)=>{yt++,!Me&&!Qe&&Et();const ot=Ge=Ge??re();We.add(()=>{yt--,0===yt&&!Me&&!Qe&&(Ue=ee(ut,ne))}),ot.subscribe(We),!Ke&&yt>0&&(Ke=new A.Hp({next:xe=>ot.next(xe),error:xe=>{Me=!0,Et(),Ue=ee(mt,ue,xe),ot.error(xe)},complete:()=>{Qe=!0,Et(),Ue=ee(mt,Q),ot.complete()}}),(0,f.Xf)(nt).subscribe(Ke))})(de)}}function ee(J,re,...ue){if(!0===re)return void J();if(!1===re)return;const Q=new A.Hp({next:()=>{Q.unsubscribe(),J()}});return re(...ue).subscribe(Q)}},5684:(Ie,ae,C)=>{"use strict";C.d(ae,{T:()=>m});var f=C(9300);function m(A){return(0,f.h)((Y,K)=>A<=K)}},8675:(Ie,ae,C)=>{"use strict";C.d(ae,{O:()=>Y});var f=C(7272),m=C(3269),A=C(4482);function Y(...K){const ee=(0,m.yG)(K);return(0,A.e)((J,re)=>{(ee?(0,f.z)(K,J,ee):(0,f.z)(K,J)).subscribe(re)})}},9468:(Ie,ae,C)=>{"use strict";C.d(ae,{R:()=>m});var f=C(4482);function m(A,Y=0){return(0,f.e)((K,ee)=>{ee.add(A.schedule(()=>K.subscribe(ee),Y))})}},3900:(Ie,ae,C)=>{"use strict";C.d(ae,{w:()=>Y});var f=C(8421),m=C(4482),A=C(5403);function Y(K,ee){return(0,m.e)((J,re)=>{let ue=null,Q=0,ne=!1;const de=()=>ne&&!ue&&re.complete();J.subscribe((0,A.x)(re,Ke=>{ue?.unsubscribe();let Ue=0;const Ge=Q++;(0,f.Xf)(K(Ke,Ge)).subscribe(ue=(0,A.x)(re,yt=>re.next(ee?ee(Ke,yt,Ge,Ue++):yt),()=>{ue=null,de()}))},()=>{ne=!0,de()}))})}},5698:(Ie,ae,C)=>{"use strict";C.d(ae,{q:()=>Y});var f=C(515),m=C(4482),A=C(5403);function Y(K){return K<=0?()=>f.E:(0,m.e)((ee,J)=>{let re=0;ee.subscribe((0,A.x)(J,ue=>{++re<=K&&(J.next(ue),K<=re&&J.complete())}))})}},2722:(Ie,ae,C)=>{"use strict";C.d(ae,{R:()=>K});var f=C(4482),m=C(5403),A=C(8421),Y=C(5032);function K(ee){return(0,f.e)((J,re)=>{(0,A.Xf)(ee).subscribe((0,m.x)(re,()=>re.complete(),Y.Z)),!re.closed&&J.subscribe(re)})}},8505:(Ie,ae,C)=>{"use strict";C.d(ae,{b:()=>K});var f=C(576),m=C(4482),A=C(5403),Y=C(4671);function K(ee,J,re){const ue=(0,f.m)(ee)||J||re?{next:ee,error:J,complete:re}:ee;return ue?(0,m.e)((Q,ne)=>{var de;null===(de=ue.subscribe)||void 0===de||de.call(ue);let Ke=!0;Q.subscribe((0,A.x)(ne,Ue=>{var Ge;null===(Ge=ue.next)||void 0===Ge||Ge.call(ue,Ue),ne.next(Ue)},()=>{var Ue;Ke=!1,null===(Ue=ue.complete)||void 0===Ue||Ue.call(ue),ne.complete()},Ue=>{var Ge;Ke=!1,null===(Ge=ue.error)||void 0===Ge||Ge.call(ue,Ue),ne.error(Ue)},()=>{var Ue,Ge;Ke&&(null===(Ue=ue.unsubscribe)||void 0===Ue||Ue.call(ue)),null===(Ge=ue.finalize)||void 0===Ge||Ge.call(ue)}))}):Y.y}},8068:(Ie,ae,C)=>{"use strict";C.d(ae,{T:()=>Y});var f=C(6805),m=C(4482),A=C(5403);function Y(ee=K){return(0,m.e)((J,re)=>{let ue=!1;J.subscribe((0,A.x)(re,Q=>{ue=!0,re.next(Q)},()=>ue?re.complete():re.error(ee())))})}function K(){return new f.K}},7414:(Ie,ae,C)=>{"use strict";C.d(ae,{V:()=>ue});var f=C(4986),m=C(1165),A=C(4482),Y=C(8421),K=C(3888),ee=C(5403),J=C(9672);const re=(0,K.d)(ne=>function(Ke=null){ne(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Ke});function ue(ne,de){const{first:Ke,each:Ue,with:Ge=Q,scheduler:yt=de??f.z,meta:Qe=null}=(0,m.q)(ne)?{first:ne}:"number"==typeof ne?{each:ne}:ne;if(null==Ke&&null==Ue)throw new TypeError("No timeout provided.");return(0,A.e)((Me,Et)=>{let mt,ut,nt=null,We=0;const ot=xe=>{ut=(0,J.f)(Et,yt,()=>{try{mt.unsubscribe(),(0,Y.Xf)(Ge({meta:Qe,lastValue:nt,seen:We})).subscribe(Et)}catch($e){Et.error($e)}},xe)};mt=Me.subscribe((0,ee.x)(Et,xe=>{ut?.unsubscribe(),We++,Et.next(nt=xe),Ue>0&&ot(Ue)},void 0,void 0,()=>{ut?.closed||ut?.unsubscribe(),nt=null})),!We&&ot(null!=Ke?"number"==typeof Ke?Ke:+Ke-yt.now():Ue)})}function Q(ne){throw new re(ne)}},1365:(Ie,ae,C)=>{"use strict";C.d(ae,{M:()=>J});var f=C(4482),m=C(5403),A=C(8421),Y=C(4671),K=C(5032),ee=C(3269);function J(...re){const ue=(0,ee.jO)(re);return(0,f.e)((Q,ne)=>{const de=re.length,Ke=new Array(de);let Ue=re.map(()=>!1),Ge=!1;for(let yt=0;yt<de;yt++)(0,A.Xf)(re[yt]).subscribe((0,m.x)(ne,Qe=>{Ke[yt]=Qe,!Ge&&!Ue[yt]&&(Ue[yt]=!0,(Ge=Ue.every(Y.y))&&(Ue=null))},K.Z));Q.subscribe((0,m.x)(ne,yt=>{if(Ge){const Qe=[yt,...Ke];ne.next(ue?ue(...Qe):Qe)}}))})}},4408:(Ie,ae,C)=>{"use strict";C.d(ae,{o:()=>K});var f=C(727);class m extends f.w0{constructor(J,re){super()}schedule(J,re=0){return this}}const A={setInterval(ee,J,...re){const{delegate:ue}=A;return ue?.setInterval?ue.setInterval(ee,J,...re):setInterval(ee,J,...re)},clearInterval(ee){const{delegate:J}=A;return(J?.clearInterval||clearInterval)(ee)},delegate:void 0};var Y=C(8737);class K extends m{constructor(J,re){super(J,re),this.scheduler=J,this.work=re,this.pending=!1}schedule(J,re=0){var ue;if(this.closed)return this;this.state=J;const Q=this.id,ne=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(ne,Q,re)),this.pending=!0,this.delay=re,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId(ne,this.id,re),this}requestAsyncId(J,re,ue=0){return A.setInterval(J.flush.bind(J,this),ue)}recycleAsyncId(J,re,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return re;null!=re&&A.clearInterval(re)}execute(J,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(J,re);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(J,re){let Q,ue=!1;try{this.work(J)}catch(ne){ue=!0,Q=ne||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:J,scheduler:re}=this,{actions:ue}=re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Y.P)(ue,this),null!=J&&(this.id=this.recycleAsyncId(re,J,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ie,ae,C)=>{"use strict";C.d(ae,{v:()=>A});var f=C(6063);class m{constructor(K,ee=m.now){this.schedulerActionCtor=K,this.now=ee}schedule(K,ee=0,J){return new this.schedulerActionCtor(this,K).schedule(J,ee)}}m.now=f.l.now;class A extends m{constructor(K,ee=m.now){super(K,ee),this.actions=[],this._active=!1}flush(K){const{actions:ee}=this;if(this._active)return void ee.push(K);let J;this._active=!0;do{if(J=K.execute(K.state,K.delay))break}while(K=ee.shift());if(this._active=!1,J){for(;K=ee.shift();)K.unsubscribe();throw J}}}},4986:(Ie,ae,C)=>{"use strict";C.d(ae,{P:()=>Y,z:()=>A});var f=C(4408);const A=new(C(7565).v)(f.o),Y=A},6063:(Ie,ae,C)=>{"use strict";C.d(ae,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},233:(Ie,ae,C)=>{"use strict";C.d(ae,{N:()=>K});var f=C(4408),A=C(7565);const K=new class Y extends A.v{}(class m extends f.o{constructor(re,ue){super(re,ue),this.scheduler=re,this.work=ue}schedule(re,ue=0){return ue>0?super.schedule(re,ue):(this.delay=ue,this.state=re,this.scheduler.flush(this),this)}execute(re,ue){return ue>0||this.closed?super.execute(re,ue):this._execute(re,ue)}requestAsyncId(re,ue,Q=0){return null!=Q&&Q>0||null==Q&&this.delay>0?super.requestAsyncId(re,ue,Q):(re.flush(this),0)}})},3410:(Ie,ae,C)=>{"use strict";C.d(ae,{z:()=>f});const f={setTimeout(m,A,...Y){const{delegate:K}=f;return K?.setTimeout?K.setTimeout(m,A,...Y):setTimeout(m,A,...Y)},clearTimeout(m){const{delegate:A}=f;return(A?.clearTimeout||clearTimeout)(m)},delegate:void 0}},2202:(Ie,ae,C)=>{"use strict";C.d(ae,{h:()=>m});const m=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ie,ae,C)=>{"use strict";C.d(ae,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ie,ae,C)=>{"use strict";C.d(ae,{K:()=>m});const m=(0,C(3888).d)(A=>function(){A(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Ie,ae,C)=>{"use strict";C.d(ae,{_6:()=>ee,jO:()=>Y,yG:()=>K});var f=C(576),m=C(3532);function A(J){return J[J.length-1]}function Y(J){return(0,f.m)(A(J))?J.pop():void 0}function K(J){return(0,m.K)(A(J))?J.pop():void 0}function ee(J,re){return"number"==typeof A(J)?J.pop():re}},4742:(Ie,ae,C)=>{"use strict";C.d(ae,{D:()=>K});const{isArray:f}=Array,{getPrototypeOf:m,prototype:A,keys:Y}=Object;function K(J){if(1===J.length){const re=J[0];if(f(re))return{args:re,keys:null};if(function ee(J){return J&&"object"==typeof J&&m(J)===A}(re)){const ue=Y(re);return{args:ue.map(Q=>re[Q]),keys:ue}}}return{args:J,keys:null}}},8737:(Ie,ae,C)=>{"use strict";function f(m,A){if(m){const Y=m.indexOf(A);0<=Y&&m.splice(Y,1)}}C.d(ae,{P:()=>f})},3888:(Ie,ae,C)=>{"use strict";function f(m){const Y=m(K=>{Error.call(K),K.stack=(new Error).stack});return Y.prototype=Object.create(Error.prototype),Y.prototype.constructor=Y,Y}C.d(ae,{d:()=>f})},1810:(Ie,ae,C)=>{"use strict";function f(m,A){return m.reduce((Y,K,ee)=>(Y[K]=A[ee],Y),{})}C.d(ae,{n:()=>f})},2806:(Ie,ae,C)=>{"use strict";C.d(ae,{O:()=>Y,x:()=>A});var f=C(2416);let m=null;function A(K){if(f.v.useDeprecatedSynchronousErrorHandling){const ee=!m;if(ee&&(m={errorThrown:!1,error:null}),K(),ee){const{errorThrown:J,error:re}=m;if(m=null,J)throw re}}else K()}function Y(K){f.v.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=K)}},9672:(Ie,ae,C)=>{"use strict";function f(m,A,Y,K=0,ee=!1){const J=A.schedule(function(){Y(),ee?m.add(this.schedule(null,K)):this.unsubscribe()},K);if(m.add(J),!ee)return J}C.d(ae,{f:()=>f})},4671:(Ie,ae,C)=>{"use strict";function f(m){return m}C.d(ae,{y:()=>f})},1144:(Ie,ae,C)=>{"use strict";C.d(ae,{z:()=>f});const f=m=>m&&"number"==typeof m.length&&"function"!=typeof m},2206:(Ie,ae,C)=>{"use strict";C.d(ae,{D:()=>m});var f=C(576);function m(A){return Symbol.asyncIterator&&(0,f.m)(A?.[Symbol.asyncIterator])}},1165:(Ie,ae,C)=>{"use strict";function f(m){return m instanceof Date&&!isNaN(m)}C.d(ae,{q:()=>f})},576:(Ie,ae,C)=>{"use strict";function f(m){return"function"==typeof m}C.d(ae,{m:()=>f})},3670:(Ie,ae,C)=>{"use strict";C.d(ae,{c:()=>A});var f=C(8822),m=C(576);function A(Y){return(0,m.m)(Y[f.L])}},6495:(Ie,ae,C)=>{"use strict";C.d(ae,{T:()=>A});var f=C(2202),m=C(576);function A(Y){return(0,m.m)(Y?.[f.h])}},8239:(Ie,ae,C)=>{"use strict";C.d(ae,{t:()=>m});var f=C(576);function m(A){return(0,f.m)(A?.then)}},3260:(Ie,ae,C)=>{"use strict";C.d(ae,{L:()=>Y,Q:()=>A});var f=C(655),m=C(576);function A(K){return(0,f.FC)(this,arguments,function*(){const J=K.getReader();try{for(;;){const{value:re,done:ue}=yield(0,f.qq)(J.read());if(ue)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(re)}}finally{J.releaseLock()}})}function Y(K){return(0,m.m)(K?.getReader)}},3532:(Ie,ae,C)=>{"use strict";C.d(ae,{K:()=>m});var f=C(576);function m(A){return A&&(0,f.m)(A.schedule)}},4482:(Ie,ae,C)=>{"use strict";C.d(ae,{A:()=>m,e:()=>A});var f=C(576);function m(Y){return(0,f.m)(Y?.lift)}function A(Y){return K=>{if(m(K))return K.lift(function(ee){try{return Y(ee,this)}catch(J){this.error(J)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ie,ae,C)=>{"use strict";C.d(ae,{Z:()=>Y});var f=C(4004);const{isArray:m}=Array;function Y(K){return(0,f.U)(ee=>function A(K,ee){return m(ee)?K(...ee):K(ee)}(K,ee))}},5032:(Ie,ae,C)=>{"use strict";function f(){}C.d(ae,{Z:()=>f})},9635:(Ie,ae,C)=>{"use strict";C.d(ae,{U:()=>A,z:()=>m});var f=C(4671);function m(...Y){return A(Y)}function A(Y){return 0===Y.length?f.y:1===Y.length?Y[0]:function(ee){return Y.reduce((J,re)=>re(J),ee)}}},7849:(Ie,ae,C)=>{"use strict";C.d(ae,{h:()=>A});var f=C(2416),m=C(3410);function A(Y){m.z.setTimeout(()=>{const{onUnhandledError:K}=f.v;if(!K)throw Y;K(Y)})}},4532:(Ie,ae,C)=>{"use strict";function f(m){return new TypeError(`You provided ${null!==m&&"object"==typeof m?"an invalid object":`'${m}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}C.d(ae,{z:()=>f})},655:(Ie,ae,C)=>{"use strict";function Y(Te,Ae){var Re={};for(var Ve in Te)Object.prototype.hasOwnProperty.call(Te,Ve)&&Ae.indexOf(Ve)<0&&(Re[Ve]=Te[Ve]);if(null!=Te&&"function"==typeof Object.getOwnPropertySymbols){var _t=0;for(Ve=Object.getOwnPropertySymbols(Te);_t<Ve.length;_t++)Ae.indexOf(Ve[_t])<0&&Object.prototype.propertyIsEnumerable.call(Te,Ve[_t])&&(Re[Ve[_t]]=Te[Ve[_t]])}return Re}function re(Te,Ae,Re,Ve){return new(Re||(Re=Promise))(function(It,Yt){function hn(pn){try{Rt(Ve.next(pn))}catch(kn){Yt(kn)}}function fn(pn){try{Rt(Ve.throw(pn))}catch(kn){Yt(kn)}}function Rt(pn){pn.done?It(pn.value):function _t(It){return It instanceof Re?It:new Re(function(Yt){Yt(It)})}(pn.value).then(hn,fn)}Rt((Ve=Ve.apply(Te,Ae||[])).next())})}function Qe(Te){return this instanceof Qe?(this.v=Te,this):new Qe(Te)}function Me(Te,Ae,Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _t,Ve=Re.apply(Te,Ae||[]),It=[];return _t={},Yt("next"),Yt("throw"),Yt("return"),_t[Symbol.asyncIterator]=function(){return this},_t;function Yt(Rn){Ve[Rn]&&(_t[Rn]=function(Tn){return new Promise(function(Mn,ke){It.push([Rn,Tn,Mn,ke])>1||hn(Rn,Tn)})})}function hn(Rn,Tn){try{!function fn(Rn){Rn.value instanceof Qe?Promise.resolve(Rn.value.v).then(Rt,pn):kn(It[0][2],Rn)}(Ve[Rn](Tn))}catch(Mn){kn(It[0][3],Mn)}}function Rt(Rn){hn("next",Rn)}function pn(Rn){hn("throw",Rn)}function kn(Rn,Tn){Rn(Tn),It.shift(),It.length&&hn(It[0][0],It[0][1])}}function mt(Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,Ae=Te[Symbol.asyncIterator];return Ae?Ae.call(Te):(Te=function de(Te){var Ae="function"==typeof Symbol&&Symbol.iterator,Re=Ae&&Te[Ae],Ve=0;if(Re)return Re.call(Te);if(Te&&"number"==typeof Te.length)return{next:function(){return Te&&Ve>=Te.length&&(Te=void 0),{value:Te&&Te[Ve++],done:!Te}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(Te),Re={},Ve("next"),Ve("throw"),Ve("return"),Re[Symbol.asyncIterator]=function(){return this},Re);function Ve(It){Re[It]=Te[It]&&function(Yt){return new Promise(function(hn,fn){!function _t(It,Yt,hn,fn){Promise.resolve(fn).then(function(Rt){It({value:Rt,done:hn})},Yt)}(hn,fn,(Yt=Te[It](Yt)).done,Yt.value)})}}}C.d(ae,{FC:()=>Me,KL:()=>mt,_T:()=>Y,mG:()=>re,qq:()=>Qe})},6895:(Ie,ae,C)=>{"use strict";C.d(ae,{Do:()=>mt,ED:()=>ss,EM:()=>ro,HT:()=>K,JF:()=>_s,K0:()=>J,Mx:()=>Zi,NF:()=>_i,O5:()=>wr,Ov:()=>ur,PM:()=>as,RF:()=>ji,S$:()=>Qe,V_:()=>Q,Ye:()=>ut,b0:()=>Et,bD:()=>ni,ez:()=>Wo,mk:()=>Wn,n9:()=>is,q:()=>A,rS:()=>no,sg:()=>ti,tP:()=>lt,uU:()=>Ho,w_:()=>ee});var f=C(4650);let m=null;function A(){return m}function K(x){m||(m=x)}class ee{}const J=new f.OlP("DocumentToken");let re=(()=>{class x{historyGo(R){throw new Error("Not implemented")}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275prov=f.Yz7({token:x,factory:function(){return function ue(){return(0,f.LFG)(ne)}()},providedIn:"platform"}),x})();const Q=new f.OlP("Location Initialized");let ne=(()=>{class x extends re{constructor(R){super(),this._doc=R,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return A().getBaseHref(this._doc)}onPopState(R){const W=A().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",R,!1),()=>W.removeEventListener("popstate",R)}onHashChange(R){const W=A().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",R,!1),()=>W.removeEventListener("hashchange",R)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(R){this.location.pathname=R}pushState(R,W,we){de()?this._history.pushState(R,W,we):this.location.hash=we}replaceState(R,W,we){de()?this._history.replaceState(R,W,we):this.location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}}return x.\u0275fac=function(R){return new(R||x)(f.LFG(J))},x.\u0275prov=f.Yz7({token:x,factory:function(){return function Ke(){return new ne((0,f.LFG)(J))}()},providedIn:"platform"}),x})();function de(){return!!window.history.pushState}function Ue(x,B){if(0==x.length)return B;if(0==B.length)return x;let R=0;return x.endsWith("/")&&R++,B.startsWith("/")&&R++,2==R?x+B.substring(1):1==R?x+B:x+"/"+B}function Ge(x){const B=x.match(/#|\?|$/),R=B&&B.index||x.length;return x.slice(0,R-("/"===x[R-1]?1:0))+x.slice(R)}function yt(x){return x&&"?"!==x[0]?"?"+x:x}let Qe=(()=>{class x{historyGo(R){throw new Error("Not implemented")}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275prov=f.Yz7({token:x,factory:function(){return(0,f.f3M)(Et)},providedIn:"root"}),x})();const Me=new f.OlP("appBaseHref");let Et=(()=>{class x extends Qe{constructor(R,W){super(),this._platformLocation=R,this._removeListenerFns=[],this._baseHref=W??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return Ue(this._baseHref,R)}path(R=!1){const W=this._platformLocation.pathname+yt(this._platformLocation.search),we=this._platformLocation.hash;return we&&R?`${W}${we}`:W}pushState(R,W,we,tt){const ft=this.prepareExternalUrl(we+yt(tt));this._platformLocation.pushState(R,W,ft)}replaceState(R,W,we,tt){const ft=this.prepareExternalUrl(we+yt(tt));this._platformLocation.replaceState(R,W,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return x.\u0275fac=function(R){return new(R||x)(f.LFG(re),f.LFG(Me,8))},x.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),mt=(()=>{class x extends Qe{constructor(R,W){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(R){const W=Ue(this._baseHref,R);return W.length>0?"#"+W:W}pushState(R,W,we,tt){let ft=this.prepareExternalUrl(we+yt(tt));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.pushState(R,W,ft)}replaceState(R,W,we,tt){let ft=this.prepareExternalUrl(we+yt(tt));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.replaceState(R,W,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return x.\u0275fac=function(R){return new(R||x)(f.LFG(re),f.LFG(Me,8))},x.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac}),x})(),ut=(()=>{class x{constructor(R){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=R;const W=this._locationStrategy.getBaseHref();this._baseHref=Ge(ot(W)),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(R=!1){return this.normalize(this._locationStrategy.path(R))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(R,W=""){return this.path()==this.normalize(R+yt(W))}normalize(R){return x.stripTrailingSlash(function We(x,B){return x&&B.startsWith(x)?B.substring(x.length):B}(this._baseHref,ot(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._locationStrategy.prepareExternalUrl(R)}go(R,W="",we=null){this._locationStrategy.pushState(we,"",R,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+yt(W)),we)}replaceState(R,W="",we=null){this._locationStrategy.replaceState(we,"",R,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+yt(W)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(R=0){this._locationStrategy.historyGo?.(R)}onUrlChange(R){return this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)})),()=>{const W=this._urlChangeListeners.indexOf(R);this._urlChangeListeners.splice(W,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(R="",W){this._urlChangeListeners.forEach(we=>we(R,W))}subscribe(R,W,we){return this._subject.subscribe({next:R,error:W,complete:we})}}return x.normalizeQueryParams=yt,x.joinWithSlash=Ue,x.stripTrailingSlash=Ge,x.\u0275fac=function(R){return new(R||x)(f.LFG(Qe))},x.\u0275prov=f.Yz7({token:x,factory:function(){return function nt(){return new ut((0,f.LFG)(Qe))}()},providedIn:"root"}),x})();function ot(x){return x.replace(/\/index.html$/,"")}var Te=(()=>((Te=Te||{})[Te.Format=0]="Format",Te[Te.Standalone=1]="Standalone",Te))(),Ae=(()=>((Ae=Ae||{})[Ae.Narrow=0]="Narrow",Ae[Ae.Abbreviated=1]="Abbreviated",Ae[Ae.Wide=2]="Wide",Ae[Ae.Short=3]="Short",Ae))(),Re=(()=>((Re=Re||{})[Re.Short=0]="Short",Re[Re.Medium=1]="Medium",Re[Re.Long=2]="Long",Re[Re.Full=3]="Full",Re))(),Ve=(()=>((Ve=Ve||{})[Ve.Decimal=0]="Decimal",Ve[Ve.Group=1]="Group",Ve[Ve.List=2]="List",Ve[Ve.PercentSign=3]="PercentSign",Ve[Ve.PlusSign=4]="PlusSign",Ve[Ve.MinusSign=5]="MinusSign",Ve[Ve.Exponential=6]="Exponential",Ve[Ve.SuperscriptingExponent=7]="SuperscriptingExponent",Ve[Ve.PerMille=8]="PerMille",Ve[Ve.Infinity=9]="Infinity",Ve[Ve.NaN=10]="NaN",Ve[Ve.TimeSeparator=11]="TimeSeparator",Ve[Ve.CurrencyDecimal=12]="CurrencyDecimal",Ve[Ve.CurrencyGroup=13]="CurrencyGroup",Ve))();function Rn(x,B){return st((0,f.cg1)(x)[f.wAp.DateFormat],B)}function Tn(x,B){return st((0,f.cg1)(x)[f.wAp.TimeFormat],B)}function Mn(x,B){return st((0,f.cg1)(x)[f.wAp.DateTimeFormat],B)}function ke(x,B){const R=(0,f.cg1)(x),W=R[f.wAp.NumberSymbols][B];if(typeof W>"u"){if(B===Ve.CurrencyDecimal)return R[f.wAp.NumberSymbols][Ve.Decimal];if(B===Ve.CurrencyGroup)return R[f.wAp.NumberSymbols][Ve.Group]}return W}function Zt(x){if(!x[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${x[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function st(x,B){for(let R=B;R>-1;R--)if(typeof x[R]<"u")return x[R];throw new Error("Locale data API: locale data undefined")}function qt(x){const[B,R]=x.split(":");return{hours:+B,minutes:+R}}const bn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Wt={},Pe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var me=(()=>((me=me||{})[me.Short=0]="Short",me[me.ShortGMT=1]="ShortGMT",me[me.Long=2]="Long",me[me.Extended=3]="Extended",me))(),oe=(()=>((oe=oe||{})[oe.FullYear=0]="FullYear",oe[oe.Month=1]="Month",oe[oe.Date=2]="Date",oe[oe.Hours=3]="Hours",oe[oe.Minutes=4]="Minutes",oe[oe.Seconds=5]="Seconds",oe[oe.FractionalSeconds=6]="FractionalSeconds",oe[oe.Day=7]="Day",oe))(),ze=(()=>((ze=ze||{})[ze.DayPeriods=0]="DayPeriods",ze[ze.Days=1]="Days",ze[ze.Months=2]="Months",ze[ze.Eras=3]="Eras",ze))();function Le(x,B,R,W){let we=function ie(x){if(vt(x))return x;if("number"==typeof x&&!isNaN(x))return new Date(x);if("string"==typeof x){if(x=x.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(x)){const[we,tt=1,ft=1]=x.split("-").map(sn=>+sn);return Vt(we,tt-1,ft)}const R=parseFloat(x);if(!isNaN(x-R))return new Date(R);let W;if(W=x.match(bn))return function Be(x){const B=new Date(0);let R=0,W=0;const we=x[8]?B.setUTCFullYear:B.setFullYear,tt=x[8]?B.setUTCHours:B.setHours;x[9]&&(R=Number(x[9]+x[10]),W=Number(x[9]+x[11])),we.call(B,Number(x[1]),Number(x[2])-1,Number(x[3]));const ft=Number(x[4]||0)-R,sn=Number(x[5]||0)-W,Kn=Number(x[6]||0),rr=Math.floor(1e3*parseFloat("0."+(x[7]||0)));return tt.call(B,ft,sn,Kn,rr),B}(W)}const B=new Date(x);if(!vt(B))throw new Error(`Unable to convert "${x}" into a date`);return B}(x);B=Ot(R,B)||B;let sn,ft=[];for(;B;){if(sn=Pe.exec(B),!sn){ft.push(B);break}{ft=ft.concat(sn.slice(1));const er=ft.pop();if(!er)break;B=er}}let Kn=we.getTimezoneOffset();W&&(Kn=De(W,Kn),we=function H(x,B,R){const W=R?-1:1,we=x.getTimezoneOffset();return function pe(x,B){return(x=new Date(x.getTime())).setMinutes(x.getMinutes()+B),x}(x,W*(De(B,we)-we))}(we,W,!0));let rr="";return ft.forEach(er=>{const Bn=function ye(x){if(be[x])return be[x];let B;switch(x){case"G":case"GG":case"GGG":B=ln(ze.Eras,Ae.Abbreviated);break;case"GGGG":B=ln(ze.Eras,Ae.Wide);break;case"GGGGG":B=ln(ze.Eras,Ae.Narrow);break;case"y":B=en(oe.FullYear,1,0,!1,!0);break;case"yy":B=en(oe.FullYear,2,0,!0,!0);break;case"yyy":B=en(oe.FullYear,3,0,!1,!0);break;case"yyyy":B=en(oe.FullYear,4,0,!1,!0);break;case"Y":B=_n(1);break;case"YY":B=_n(2,!0);break;case"YYY":B=_n(3);break;case"YYYY":B=_n(4);break;case"M":case"L":B=en(oe.Month,1,1);break;case"MM":case"LL":B=en(oe.Month,2,1);break;case"MMM":B=ln(ze.Months,Ae.Abbreviated);break;case"MMMM":B=ln(ze.Months,Ae.Wide);break;case"MMMMM":B=ln(ze.Months,Ae.Narrow);break;case"LLL":B=ln(ze.Months,Ae.Abbreviated,Te.Standalone);break;case"LLLL":B=ln(ze.Months,Ae.Wide,Te.Standalone);break;case"LLLLL":B=ln(ze.Months,Ae.Narrow,Te.Standalone);break;case"w":B=un(1);break;case"ww":B=un(2);break;case"W":B=un(1,!0);break;case"d":B=en(oe.Date,1);break;case"dd":B=en(oe.Date,2);break;case"c":case"cc":B=en(oe.Day,1);break;case"ccc":B=ln(ze.Days,Ae.Abbreviated,Te.Standalone);break;case"cccc":B=ln(ze.Days,Ae.Wide,Te.Standalone);break;case"ccccc":B=ln(ze.Days,Ae.Narrow,Te.Standalone);break;case"cccccc":B=ln(ze.Days,Ae.Short,Te.Standalone);break;case"E":case"EE":case"EEE":B=ln(ze.Days,Ae.Abbreviated);break;case"EEEE":B=ln(ze.Days,Ae.Wide);break;case"EEEEE":B=ln(ze.Days,Ae.Narrow);break;case"EEEEEE":B=ln(ze.Days,Ae.Short);break;case"a":case"aa":case"aaa":B=ln(ze.DayPeriods,Ae.Abbreviated);break;case"aaaa":B=ln(ze.DayPeriods,Ae.Wide);break;case"aaaaa":B=ln(ze.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":B=ln(ze.DayPeriods,Ae.Abbreviated,Te.Standalone,!0);break;case"bbbb":B=ln(ze.DayPeriods,Ae.Wide,Te.Standalone,!0);break;case"bbbbb":B=ln(ze.DayPeriods,Ae.Narrow,Te.Standalone,!0);break;case"B":case"BB":case"BBB":B=ln(ze.DayPeriods,Ae.Abbreviated,Te.Format,!0);break;case"BBBB":B=ln(ze.DayPeriods,Ae.Wide,Te.Format,!0);break;case"BBBBB":B=ln(ze.DayPeriods,Ae.Narrow,Te.Format,!0);break;case"h":B=en(oe.Hours,1,-12);break;case"hh":B=en(oe.Hours,2,-12);break;case"H":B=en(oe.Hours,1);break;case"HH":B=en(oe.Hours,2);break;case"m":B=en(oe.Minutes,1);break;case"mm":B=en(oe.Minutes,2);break;case"s":B=en(oe.Seconds,1);break;case"ss":B=en(oe.Seconds,2);break;case"S":B=en(oe.FractionalSeconds,1);break;case"SS":B=en(oe.FractionalSeconds,2);break;case"SSS":B=en(oe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":B=Mt(me.Short);break;case"ZZZZZ":B=Mt(me.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":B=Mt(me.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":B=Mt(me.Long);break;default:return null}return be[x]=B,B}(er);rr+=Bn?Bn(we,R,Kn):"''"===er?"'":er.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),rr}function Vt(x,B,R){const W=new Date(0);return W.setFullYear(x,B,R),W.setHours(0,0,0),W}function Ot(x,B){const R=function It(x){return(0,f.cg1)(x)[f.wAp.LocaleId]}(x);if(Wt[R]=Wt[R]||{},Wt[R][B])return Wt[R][B];let W="";switch(B){case"shortDate":W=Rn(x,Re.Short);break;case"mediumDate":W=Rn(x,Re.Medium);break;case"longDate":W=Rn(x,Re.Long);break;case"fullDate":W=Rn(x,Re.Full);break;case"shortTime":W=Tn(x,Re.Short);break;case"mediumTime":W=Tn(x,Re.Medium);break;case"longTime":W=Tn(x,Re.Long);break;case"fullTime":W=Tn(x,Re.Full);break;case"short":const we=Ot(x,"shortTime"),tt=Ot(x,"shortDate");W=gn(Mn(x,Re.Short),[we,tt]);break;case"medium":const ft=Ot(x,"mediumTime"),sn=Ot(x,"mediumDate");W=gn(Mn(x,Re.Medium),[ft,sn]);break;case"long":const Kn=Ot(x,"longTime"),rr=Ot(x,"longDate");W=gn(Mn(x,Re.Long),[Kn,rr]);break;case"full":const er=Ot(x,"fullTime"),Bn=Ot(x,"fullDate");W=gn(Mn(x,Re.Full),[er,Bn])}return W&&(Wt[R][B]=W),W}function gn(x,B){return B&&(x=x.replace(/\{([^}]+)}/g,function(R,W){return null!=B&&W in B?B[W]:R})),x}function xt(x,B,R="-",W,we){let tt="";(x<0||we&&x<=0)&&(we?x=1-x:(x=-x,tt=R));let ft=String(x);for(;ft.length<B;)ft="0"+ft;return W&&(ft=ft.slice(ft.length-B)),tt+ft}function en(x,B,R=0,W=!1,we=!1){return function(tt,ft){let sn=function Sn(x,B){switch(x){case oe.FullYear:return B.getFullYear();case oe.Month:return B.getMonth();case oe.Date:return B.getDate();case oe.Hours:return B.getHours();case oe.Minutes:return B.getMinutes();case oe.Seconds:return B.getSeconds();case oe.FractionalSeconds:return B.getMilliseconds();case oe.Day:return B.getDay();default:throw new Error(`Unknown DateType value "${x}".`)}}(x,tt);if((R>0||sn>-R)&&(sn+=R),x===oe.Hours)0===sn&&-12===R&&(sn=12);else if(x===oe.FractionalSeconds)return function yn(x,B){return xt(x,3).substring(0,B)}(sn,B);const Kn=ke(ft,Ve.MinusSign);return xt(sn,B,Kn,W,we)}}function ln(x,B,R=Te.Format,W=!1){return function(we,tt){return function Ft(x,B,R,W,we,tt){switch(R){case ze.Months:return function fn(x,B,R){const W=(0,f.cg1)(x),tt=st([W[f.wAp.MonthsFormat],W[f.wAp.MonthsStandalone]],B);return st(tt,R)}(B,we,W)[x.getMonth()];case ze.Days:return function hn(x,B,R){const W=(0,f.cg1)(x),tt=st([W[f.wAp.DaysFormat],W[f.wAp.DaysStandalone]],B);return st(tt,R)}(B,we,W)[x.getDay()];case ze.DayPeriods:const ft=x.getHours(),sn=x.getMinutes();if(tt){const rr=function ve(x){const B=(0,f.cg1)(x);return Zt(B),(B[f.wAp.ExtraData][2]||[]).map(W=>"string"==typeof W?qt(W):[qt(W[0]),qt(W[1])])}(B),er=function Oe(x,B,R){const W=(0,f.cg1)(x);Zt(W);const tt=st([W[f.wAp.ExtraData][0],W[f.wAp.ExtraData][1]],B)||[];return st(tt,R)||[]}(B,we,W),Bn=rr.findIndex(Rr=>{if(Array.isArray(Rr)){const[lr,br]=Rr,ls=ft>=lr.hours&&sn>=lr.minutes,cs=ft<br.hours||ft===br.hours&&sn<br.minutes;if(lr.hours<br.hours){if(ls&&cs)return!0}else if(ls||cs)return!0}else if(Rr.hours===ft&&Rr.minutes===sn)return!0;return!1});if(-1!==Bn)return er[Bn]}return function Yt(x,B,R){const W=(0,f.cg1)(x),tt=st([W[f.wAp.DayPeriodsFormat],W[f.wAp.DayPeriodsStandalone]],B);return st(tt,R)}(B,we,W)[ft<12?0:1];case ze.Eras:return function Rt(x,B){return st((0,f.cg1)(x)[f.wAp.Eras],B)}(B,W)[x.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${R}`)}}(we,tt,x,B,R,W)}}function Mt(x){return function(B,R,W){const we=-1*W,tt=ke(R,Ve.MinusSign),ft=we>0?Math.floor(we/60):Math.ceil(we/60);switch(x){case me.Short:return(we>=0?"+":"")+xt(ft,2,tt)+xt(Math.abs(we%60),2,tt);case me.ShortGMT:return"GMT"+(we>=0?"+":"")+xt(ft,1,tt);case me.Long:return"GMT"+(we>=0?"+":"")+xt(ft,2,tt)+":"+xt(Math.abs(we%60),2,tt);case me.Extended:return 0===W?"Z":(we>=0?"+":"")+xt(ft,2,tt)+":"+xt(Math.abs(we%60),2,tt);default:throw new Error(`Unknown zone width "${x}"`)}}}function an(x){return Vt(x.getFullYear(),x.getMonth(),x.getDate()+(4-x.getDay()))}function un(x,B=!1){return function(R,W){let we;if(B){const tt=new Date(R.getFullYear(),R.getMonth(),1).getDay()-1,ft=R.getDate();we=1+Math.floor((ft+tt)/7)}else{const tt=an(R),ft=function At(x){const B=Vt(x,0,1).getDay();return Vt(x,0,1+(B<=4?4:11)-B)}(tt.getFullYear()),sn=tt.getTime()-ft.getTime();we=1+Math.round(sn/6048e5)}return xt(we,x,ke(W,Ve.MinusSign))}}function _n(x,B=!1){return function(R,W){return xt(an(R).getFullYear(),x,ke(W,Ve.MinusSign),B)}}const be={};function De(x,B){x=x.replace(/:/g,"");const R=Date.parse("Jan 01, 1970 00:00:00 "+x)/6e4;return isNaN(R)?B:R}function vt(x){return x instanceof Date&&!isNaN(x.valueOf())}function Zi(x,B){B=encodeURIComponent(B);for(const R of x.split(";")){const W=R.indexOf("="),[we,tt]=-1==W?[R,""]:[R.slice(0,W),R.slice(W+1)];if(we.trim()===B)return decodeURIComponent(tt)}return null}let Wn=(()=>{class x{constructor(R,W,we,tt){this._iterableDiffers=R,this._keyValueDiffers=W,this._ngEl=we,this._renderer=tt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(R){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof R?R.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(R){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof R?R.split(/\s+/):R,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const R=this._iterableDiffer.diff(this._rawClass);R&&this._applyIterableChanges(R)}else if(this._keyValueDiffer){const R=this._keyValueDiffer.diff(this._rawClass);R&&this._applyKeyValueChanges(R)}}_applyKeyValueChanges(R){R.forEachAddedItem(W=>this._toggleClass(W.key,W.currentValue)),R.forEachChangedItem(W=>this._toggleClass(W.key,W.currentValue)),R.forEachRemovedItem(W=>{W.previousValue&&this._toggleClass(W.key,!1)})}_applyIterableChanges(R){R.forEachAddedItem(W=>{if("string"!=typeof W.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(W.item)}`);this._toggleClass(W.item,!0)}),R.forEachRemovedItem(W=>this._toggleClass(W.item,!1))}_applyClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(W=>this._toggleClass(W,!0)):Object.keys(R).forEach(W=>this._toggleClass(W,!!R[W])))}_removeClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(W=>this._toggleClass(W,!1)):Object.keys(R).forEach(W=>this._toggleClass(W,!1)))}_toggleClass(R,W){(R=R.trim())&&R.split(/\s+/g).forEach(we=>{W?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}}return x.\u0275fac=function(R){return new(R||x)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},x.\u0275dir=f.lG2({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),x})();class Vi{constructor(B,R,W,we){this.$implicit=B,this.ngForOf=R,this.index=W,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ti=(()=>{class x{constructor(R,W,we){this._viewContainer=R,this._template=W,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const W=this._viewContainer;R.forEachOperation((we,tt,ft)=>{if(null==we.previousIndex)W.createEmbeddedView(this._template,new Vi(we.item,this._ngForOf,-1,-1),null===ft?void 0:ft);else if(null==ft)W.remove(null===tt?void 0:tt);else if(null!==tt){const sn=W.get(tt);W.move(sn,ft),Ui(sn,we)}});for(let we=0,tt=W.length;we<tt;we++){const sn=W.get(we).context;sn.index=we,sn.count=tt,sn.ngForOf=this._ngForOf}R.forEachIdentityChange(we=>{Ui(W.get(we.currentIndex),we)})}static ngTemplateContextGuard(R,W){return!0}}return x.\u0275fac=function(R){return new(R||x)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},x.\u0275dir=f.lG2({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),x})();function Ui(x,B){x.context.$implicit=B.item}let wr=(()=>{class x{constructor(R,W){this._viewContainer=R,this._context=new Bi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){Er("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){Er("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,W){return!0}}return x.\u0275fac=function(R){return new(R||x)(f.Y36(f.s_b),f.Y36(f.Rgc))},x.\u0275dir=f.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),x})();class Bi{constructor(){this.$implicit=null,this.ngIf=null}}function Er(x,B){if(B&&!B.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,f.AaK)(B)}'.`)}class jr{constructor(B,R){this._viewContainerRef=B,this._templateRef=R,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(B){B&&!this._created?this.create():!B&&this._created&&this.destroy()}}let ji=(()=>{class x{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(R){this._ngSwitch=R,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(R){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(R)}_matchCase(R){const W=R==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||W,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),W}_updateDefaultCases(R){if(this._defaultViews&&R!==this._defaultUsed){this._defaultUsed=R;for(let W=0;W<this._defaultViews.length;W++)this._defaultViews[W].enforceState(R)}}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275dir=f.lG2({type:x,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),x})(),is=(()=>{class x{constructor(R,W,we){this.ngSwitch=we,we._addCase(),this._view=new jr(R,W)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return x.\u0275fac=function(R){return new(R||x)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(ji,9))},x.\u0275dir=f.lG2({type:x,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),x})(),ss=(()=>{class x{constructor(R,W,we){we._addDefault(new jr(R,W))}}return x.\u0275fac=function(R){return new(R||x)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(ji,9))},x.\u0275dir=f.lG2({type:x,selectors:[["","ngSwitchDefault",""]],standalone:!0}),x})(),lt=(()=>{class x{constructor(R){this._viewContainerRef=R,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(R){if(R.ngTemplateOutlet||R.ngTemplateOutletInjector){const W=this._viewContainerRef;if(this._viewRef&&W.remove(W.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:we,ngTemplateOutletContext:tt,ngTemplateOutletInjector:ft}=this;this._viewRef=W.createEmbeddedView(we,tt,ft?{injector:ft}:void 0)}else this._viewRef=null}else this._viewRef&&R.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return x.\u0275fac=function(R){return new(R||x)(f.Y36(f.s_b))},x.\u0275dir=f.lG2({type:x,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[f.TTD]}),x})();function Nt(x,B){return new f.vHH(2100,!1)}class Qn{createSubscription(B,R){return B.subscribe({next:R,error:W=>{throw W}})}dispose(B){B.unsubscribe()}}class ar{createSubscription(B,R){return B.then(R,W=>{throw W})}dispose(B){}}const Cr=new ar,Wr=new Qn;let ur=(()=>{class x{constructor(R){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=R}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(R){return this._obj?R!==this._obj?(this._dispose(),this.transform(R)):this._latestValue:(R&&this._subscribe(R),this._latestValue)}_subscribe(R){this._obj=R,this._strategy=this._selectStrategy(R),this._subscription=this._strategy.createSubscription(R,W=>this._updateLatestValue(R,W))}_selectStrategy(R){if((0,f.QGY)(R))return Cr;if((0,f.F4k)(R))return Wr;throw Nt()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(R,W){R===this._obj&&(this._latestValue=W,this._ref.markForCheck())}}return x.\u0275fac=function(R){return new(R||x)(f.Y36(f.sBO,16))},x.\u0275pipe=f.Yjl({name:"async",type:x,pure:!1,standalone:!0}),x})();const Hi=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let no=(()=>{class x{transform(R){if(null==R)return null;if("string"!=typeof R)throw Nt();return R.replace(Hi,W=>W[0].toUpperCase()+W.slice(1).toLowerCase())}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275pipe=f.Yjl({name:"titlecase",type:x,pure:!0,standalone:!0}),x})();const Aa=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ho=(()=>{class x{constructor(R,W){this.locale=R,this.defaultTimezone=W}transform(R,W="mediumDate",we,tt){if(null==R||""===R||R!=R)return null;try{return Le(R,W,tt||this.locale,we??this.defaultTimezone??void 0)}catch(ft){throw Nt()}}}return x.\u0275fac=function(R){return new(R||x)(f.Y36(f.soG,16),f.Y36(Aa,24))},x.\u0275pipe=f.Yjl({name:"date",type:x,pure:!0,standalone:!0}),x})(),Wo=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=f.oAB({type:x}),x.\u0275inj=f.cJS({}),x})();const ni="browser";function _i(x){return x===ni}function as(x){return"server"===x}let ro=(()=>{class x{}return x.\u0275prov=(0,f.Yz7)({token:x,providedIn:"root",factory:()=>new da((0,f.LFG)(J),window)}),x})();class da{constructor(B,R){this.document=B,this.window=R,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(B){this.supportsScrolling()&&this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){if(!this.supportsScrolling())return;const R=function Tr(x,B){const R=x.getElementById(B)||x.getElementsByName(B)[0];if(R)return R;if("function"==typeof x.createTreeWalker&&x.body&&(x.body.createShadowRoot||x.body.attachShadow)){const W=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let we=W.currentNode;for(;we;){const tt=we.shadowRoot;if(tt){const ft=tt.getElementById(B)||tt.querySelector(`[name="${B}"]`);if(ft)return ft}we=W.nextNode()}}return null}(this.document,B);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration(B){if(this.supportScrollRestoration()){const R=this.window.history;R&&R.scrollRestoration&&(R.scrollRestoration=B)}}scrollToElement(B){const R=B.getBoundingClientRect(),W=R.left+this.window.pageXOffset,we=R.top+this.window.pageYOffset,tt=this.offset();this.window.scrollTo(W-tt[0],we-tt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const B=Ai(this.window.history)||Ai(Object.getPrototypeOf(this.window.history));return!(!B||!B.writable&&!B.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ai(x){return Object.getOwnPropertyDescriptor(x,"scrollRestoration")}class _s{}},529:(Ie,ae,C)=>{"use strict";C.d(ae,{JF:()=>St,LE:()=>Me,eN:()=>It});var f=C(6895),m=C(4650),A=C(9646),Y=C(9751),K=C(4351),ee=C(9300),J=C(4004);class re{}class ue{}class Q{constructor(me){this.normalizedNames=new Map,this.lazyUpdate=null,me?this.lazyInit="string"==typeof me?()=>{this.headers=new Map,me.split("\n").forEach(oe=>{const ze=oe.indexOf(":");if(ze>0){const Le=oe.slice(0,ze),Vt=Le.toLowerCase(),Ot=oe.slice(ze+1).trim();this.maybeSetNormalizedName(Le,Vt),this.headers.has(Vt)?this.headers.get(Vt).push(Ot):this.headers.set(Vt,[Ot])}})}:()=>{this.headers=new Map,Object.keys(me).forEach(oe=>{let ze=me[oe];const Le=oe.toLowerCase();"string"==typeof ze&&(ze=[ze]),ze.length>0&&(this.headers.set(Le,ze),this.maybeSetNormalizedName(oe,Le))})}:this.headers=new Map}has(me){return this.init(),this.headers.has(me.toLowerCase())}get(me){this.init();const oe=this.headers.get(me.toLowerCase());return oe&&oe.length>0?oe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(me){return this.init(),this.headers.get(me.toLowerCase())||null}append(me,oe){return this.clone({name:me,value:oe,op:"a"})}set(me,oe){return this.clone({name:me,value:oe,op:"s"})}delete(me,oe){return this.clone({name:me,value:oe,op:"d"})}maybeSetNormalizedName(me,oe){this.normalizedNames.has(oe)||this.normalizedNames.set(oe,me)}init(){this.lazyInit&&(this.lazyInit instanceof Q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(me=>this.applyUpdate(me)),this.lazyUpdate=null))}copyFrom(me){me.init(),Array.from(me.headers.keys()).forEach(oe=>{this.headers.set(oe,me.headers.get(oe)),this.normalizedNames.set(oe,me.normalizedNames.get(oe))})}clone(me){const oe=new Q;return oe.lazyInit=this.lazyInit&&this.lazyInit instanceof Q?this.lazyInit:this,oe.lazyUpdate=(this.lazyUpdate||[]).concat([me]),oe}applyUpdate(me){const oe=me.name.toLowerCase();switch(me.op){case"a":case"s":let ze=me.value;if("string"==typeof ze&&(ze=[ze]),0===ze.length)return;this.maybeSetNormalizedName(me.name,oe);const Le=("a"===me.op?this.headers.get(oe):void 0)||[];Le.push(...ze),this.headers.set(oe,Le);break;case"d":const Vt=me.value;if(Vt){let Ot=this.headers.get(oe);if(!Ot)return;Ot=Ot.filter(gn=>-1===Vt.indexOf(gn)),0===Ot.length?(this.headers.delete(oe),this.normalizedNames.delete(oe)):this.headers.set(oe,Ot)}else this.headers.delete(oe),this.normalizedNames.delete(oe)}}forEach(me){this.init(),Array.from(this.normalizedNames.keys()).forEach(oe=>me(this.normalizedNames.get(oe),this.headers.get(oe)))}}class de{encodeKey(me){return yt(me)}encodeValue(me){return yt(me)}decodeKey(me){return decodeURIComponent(me)}decodeValue(me){return decodeURIComponent(me)}}const Ue=/%(\d[a-f0-9])/gi,Ge={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yt(Pe){return encodeURIComponent(Pe).replace(Ue,(me,oe)=>Ge[oe]??me)}function Qe(Pe){return`${Pe}`}class Me{constructor(me={}){if(this.updates=null,this.cloneFrom=null,this.encoder=me.encoder||new de,me.fromString){if(me.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ke(Pe,me){const oe=new Map;return Pe.length>0&&Pe.replace(/^\?/,"").split("&").forEach(Le=>{const Vt=Le.indexOf("="),[Ot,gn]=-1==Vt?[me.decodeKey(Le),""]:[me.decodeKey(Le.slice(0,Vt)),me.decodeValue(Le.slice(Vt+1))],xt=oe.get(Ot)||[];xt.push(gn),oe.set(Ot,xt)}),oe}(me.fromString,this.encoder)}else me.fromObject?(this.map=new Map,Object.keys(me.fromObject).forEach(oe=>{const ze=me.fromObject[oe],Le=Array.isArray(ze)?ze.map(Qe):[Qe(ze)];this.map.set(oe,Le)})):this.map=null}has(me){return this.init(),this.map.has(me)}get(me){this.init();const oe=this.map.get(me);return oe?oe[0]:null}getAll(me){return this.init(),this.map.get(me)||null}keys(){return this.init(),Array.from(this.map.keys())}append(me,oe){return this.clone({param:me,value:oe,op:"a"})}appendAll(me){const oe=[];return Object.keys(me).forEach(ze=>{const Le=me[ze];Array.isArray(Le)?Le.forEach(Vt=>{oe.push({param:ze,value:Vt,op:"a"})}):oe.push({param:ze,value:Le,op:"a"})}),this.clone(oe)}set(me,oe){return this.clone({param:me,value:oe,op:"s"})}delete(me,oe){return this.clone({param:me,value:oe,op:"d"})}toString(){return this.init(),this.keys().map(me=>{const oe=this.encoder.encodeKey(me);return this.map.get(me).map(ze=>oe+"="+this.encoder.encodeValue(ze)).join("&")}).filter(me=>""!==me).join("&")}clone(me){const oe=new Me({encoder:this.encoder});return oe.cloneFrom=this.cloneFrom||this,oe.updates=(this.updates||[]).concat(me),oe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(me=>this.map.set(me,this.cloneFrom.map.get(me))),this.updates.forEach(me=>{switch(me.op){case"a":case"s":const oe=("a"===me.op?this.map.get(me.param):void 0)||[];oe.push(Qe(me.value)),this.map.set(me.param,oe);break;case"d":if(void 0===me.value){this.map.delete(me.param);break}{let ze=this.map.get(me.param)||[];const Le=ze.indexOf(Qe(me.value));-1!==Le&&ze.splice(Le,1),ze.length>0?this.map.set(me.param,ze):this.map.delete(me.param)}}}),this.cloneFrom=this.updates=null)}}class mt{constructor(){this.map=new Map}set(me,oe){return this.map.set(me,oe),this}get(me){return this.map.has(me)||this.map.set(me,me.defaultValue()),this.map.get(me)}delete(me){return this.map.delete(me),this}has(me){return this.map.has(me)}keys(){return this.map.keys()}}function nt(Pe){return typeof ArrayBuffer<"u"&&Pe instanceof ArrayBuffer}function We(Pe){return typeof Blob<"u"&&Pe instanceof Blob}function ot(Pe){return typeof FormData<"u"&&Pe instanceof FormData}class $e{constructor(me,oe,ze,Le){let Vt;if(this.url=oe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=me.toUpperCase(),function ut(Pe){switch(Pe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Le?(this.body=void 0!==ze?ze:null,Vt=Le):Vt=ze,Vt&&(this.reportProgress=!!Vt.reportProgress,this.withCredentials=!!Vt.withCredentials,Vt.responseType&&(this.responseType=Vt.responseType),Vt.headers&&(this.headers=Vt.headers),Vt.context&&(this.context=Vt.context),Vt.params&&(this.params=Vt.params)),this.headers||(this.headers=new Q),this.context||(this.context=new mt),this.params){const Ot=this.params.toString();if(0===Ot.length)this.urlWithParams=oe;else{const gn=oe.indexOf("?");this.urlWithParams=oe+(-1===gn?"?":gn<oe.length-1?"&":"")+Ot}}else this.params=new Me,this.urlWithParams=oe}serializeBody(){return null===this.body?null:nt(this.body)||We(this.body)||ot(this.body)||function xe(Pe){return typeof URLSearchParams<"u"&&Pe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Me?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ot(this.body)?null:We(this.body)?this.body.type||null:nt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Me?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(me={}){const oe=me.method||this.method,ze=me.url||this.url,Le=me.responseType||this.responseType,Vt=void 0!==me.body?me.body:this.body,Ot=void 0!==me.withCredentials?me.withCredentials:this.withCredentials,gn=void 0!==me.reportProgress?me.reportProgress:this.reportProgress;let xt=me.headers||this.headers,yn=me.params||this.params;const en=me.context??this.context;return void 0!==me.setHeaders&&(xt=Object.keys(me.setHeaders).reduce((Sn,ln)=>Sn.set(ln,me.setHeaders[ln]),xt)),me.setParams&&(yn=Object.keys(me.setParams).reduce((Sn,ln)=>Sn.set(ln,me.setParams[ln]),yn)),new $e(oe,ze,Vt,{params:yn,headers:xt,context:en,reportProgress:gn,responseType:Le,withCredentials:Ot})}}var Ye=(()=>((Ye=Ye||{})[Ye.Sent=0]="Sent",Ye[Ye.UploadProgress=1]="UploadProgress",Ye[Ye.ResponseHeader=2]="ResponseHeader",Ye[Ye.DownloadProgress=3]="DownloadProgress",Ye[Ye.Response=4]="Response",Ye[Ye.User=5]="User",Ye))();class Te{constructor(me,oe=200,ze="OK"){this.headers=me.headers||new Q,this.status=void 0!==me.status?me.status:oe,this.statusText=me.statusText||ze,this.url=me.url||null,this.ok=this.status>=200&&this.status<300}}class Ae extends Te{constructor(me={}){super(me),this.type=Ye.ResponseHeader}clone(me={}){return new Ae({headers:me.headers||this.headers,status:void 0!==me.status?me.status:this.status,statusText:me.statusText||this.statusText,url:me.url||this.url||void 0})}}class Re extends Te{constructor(me={}){super(me),this.type=Ye.Response,this.body=void 0!==me.body?me.body:null}clone(me={}){return new Re({body:void 0!==me.body?me.body:this.body,headers:me.headers||this.headers,status:void 0!==me.status?me.status:this.status,statusText:me.statusText||this.statusText,url:me.url||this.url||void 0})}}class Ve extends Te{constructor(me){super(me,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${me.url||"(unknown url)"}`:`Http failure response for ${me.url||"(unknown url)"}: ${me.status} ${me.statusText}`,this.error=me.error||null}}function _t(Pe,me){return{body:me,headers:Pe.headers,context:Pe.context,observe:Pe.observe,params:Pe.params,reportProgress:Pe.reportProgress,responseType:Pe.responseType,withCredentials:Pe.withCredentials}}let It=(()=>{class Pe{constructor(oe){this.handler=oe}request(oe,ze,Le={}){let Vt;if(oe instanceof $e)Vt=oe;else{let xt,yn;xt=Le.headers instanceof Q?Le.headers:new Q(Le.headers),Le.params&&(yn=Le.params instanceof Me?Le.params:new Me({fromObject:Le.params})),Vt=new $e(oe,ze,void 0!==Le.body?Le.body:null,{headers:xt,context:Le.context,params:yn,reportProgress:Le.reportProgress,responseType:Le.responseType||"json",withCredentials:Le.withCredentials})}const Ot=(0,A.of)(Vt).pipe((0,K.b)(xt=>this.handler.handle(xt)));if(oe instanceof $e||"events"===Le.observe)return Ot;const gn=Ot.pipe((0,ee.h)(xt=>xt instanceof Re));switch(Le.observe||"body"){case"body":switch(Vt.responseType){case"arraybuffer":return gn.pipe((0,J.U)(xt=>{if(null!==xt.body&&!(xt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return xt.body}));case"blob":return gn.pipe((0,J.U)(xt=>{if(null!==xt.body&&!(xt.body instanceof Blob))throw new Error("Response is not a Blob.");return xt.body}));case"text":return gn.pipe((0,J.U)(xt=>{if(null!==xt.body&&"string"!=typeof xt.body)throw new Error("Response is not a string.");return xt.body}));default:return gn.pipe((0,J.U)(xt=>xt.body))}case"response":return gn;default:throw new Error(`Unreachable: unhandled observe type ${Le.observe}}`)}}delete(oe,ze={}){return this.request("DELETE",oe,ze)}get(oe,ze={}){return this.request("GET",oe,ze)}head(oe,ze={}){return this.request("HEAD",oe,ze)}jsonp(oe,ze){return this.request("JSONP",oe,{params:(new Me).append(ze,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(oe,ze={}){return this.request("OPTIONS",oe,ze)}patch(oe,ze,Le={}){return this.request("PATCH",oe,_t(Le,ze))}post(oe,ze,Le={}){return this.request("POST",oe,_t(Le,ze))}put(oe,ze,Le={}){return this.request("PUT",oe,_t(Le,ze))}}return Pe.\u0275fac=function(oe){return new(oe||Pe)(m.LFG(re))},Pe.\u0275prov=m.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();class Yt{constructor(me,oe){this.next=me,this.interceptor=oe}handle(me){return this.interceptor.intercept(me,this.next)}}const hn=new m.OlP("HTTP_INTERCEPTORS");let fn=(()=>{class Pe{intercept(oe,ze){return ze.handle(oe)}}return Pe.\u0275fac=function(oe){return new(oe||Pe)},Pe.\u0275prov=m.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const dn=/^\)\]\}',?\n/;let fr=(()=>{class Pe{constructor(oe){this.xhrFactory=oe}handle(oe){if("JSONP"===oe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Y.y(ze=>{const Le=this.xhrFactory.build();if(Le.open(oe.method,oe.urlWithParams),oe.withCredentials&&(Le.withCredentials=!0),oe.headers.forEach((Ft,Mt)=>Le.setRequestHeader(Ft,Mt.join(","))),oe.headers.has("Accept")||Le.setRequestHeader("Accept","application/json, text/plain, */*"),!oe.headers.has("Content-Type")){const Ft=oe.detectContentTypeHeader();null!==Ft&&Le.setRequestHeader("Content-Type",Ft)}if(oe.responseType){const Ft=oe.responseType.toLowerCase();Le.responseType="json"!==Ft?Ft:"text"}const Vt=oe.serializeBody();let Ot=null;const gn=()=>{if(null!==Ot)return Ot;const Ft=Le.statusText||"OK",Mt=new Q(Le.getAllResponseHeaders()),Pt=function On(Pe){return"responseURL"in Pe&&Pe.responseURL?Pe.responseURL:/^X-Request-URL:/m.test(Pe.getAllResponseHeaders())?Pe.getResponseHeader("X-Request-URL"):null}(Le)||oe.url;return Ot=new Ae({headers:Mt,status:Le.status,statusText:Ft,url:Pt}),Ot},xt=()=>{let{headers:Ft,status:Mt,statusText:Pt,url:gt}=gn(),At=null;204!==Mt&&(At=typeof Le.response>"u"?Le.responseText:Le.response),0===Mt&&(Mt=At?200:0);let an=Mt>=200&&Mt<300;if("json"===oe.responseType&&"string"==typeof At){const un=At;At=At.replace(dn,"");try{At=""!==At?JSON.parse(At):null}catch(_n){At=un,an&&(an=!1,At={error:_n,text:At})}}an?(ze.next(new Re({body:At,headers:Ft,status:Mt,statusText:Pt,url:gt||void 0})),ze.complete()):ze.error(new Ve({error:At,headers:Ft,status:Mt,statusText:Pt,url:gt||void 0}))},yn=Ft=>{const{url:Mt}=gn(),Pt=new Ve({error:Ft,status:Le.status||0,statusText:Le.statusText||"Unknown Error",url:Mt||void 0});ze.error(Pt)};let en=!1;const Sn=Ft=>{en||(ze.next(gn()),en=!0);let Mt={type:Ye.DownloadProgress,loaded:Ft.loaded};Ft.lengthComputable&&(Mt.total=Ft.total),"text"===oe.responseType&&!!Le.responseText&&(Mt.partialText=Le.responseText),ze.next(Mt)},ln=Ft=>{let Mt={type:Ye.UploadProgress,loaded:Ft.loaded};Ft.lengthComputable&&(Mt.total=Ft.total),ze.next(Mt)};return Le.addEventListener("load",xt),Le.addEventListener("error",yn),Le.addEventListener("timeout",yn),Le.addEventListener("abort",yn),oe.reportProgress&&(Le.addEventListener("progress",Sn),null!==Vt&&Le.upload&&Le.upload.addEventListener("progress",ln)),Le.send(Vt),ze.next({type:Ye.Sent}),()=>{Le.removeEventListener("error",yn),Le.removeEventListener("abort",yn),Le.removeEventListener("load",xt),Le.removeEventListener("timeout",yn),oe.reportProgress&&(Le.removeEventListener("progress",Sn),null!==Vt&&Le.upload&&Le.upload.removeEventListener("progress",ln)),Le.readyState!==Le.DONE&&Le.abort()}})}}return Pe.\u0275fac=function(oe){return new(oe||Pe)(m.LFG(f.JF))},Pe.\u0275prov=m.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const or=new m.OlP("XSRF_COOKIE_NAME"),Zt=new m.OlP("XSRF_HEADER_NAME");class ve{}let Oe=(()=>{class Pe{constructor(oe,ze,Le){this.doc=oe,this.platform=ze,this.cookieName=Le,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const oe=this.doc.cookie||"";return oe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(oe,this.cookieName),this.lastCookieString=oe),this.lastToken}}return Pe.\u0275fac=function(oe){return new(oe||Pe)(m.LFG(f.K0),m.LFG(m.Lbi),m.LFG(or))},Pe.\u0275prov=m.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),qe=(()=>{class Pe{constructor(oe,ze){this.tokenService=oe,this.headerName=ze}intercept(oe,ze){const Le=oe.url.toLowerCase();if("GET"===oe.method||"HEAD"===oe.method||Le.startsWith("http://")||Le.startsWith("https://"))return ze.handle(oe);const Vt=this.tokenService.getToken();return null!==Vt&&!oe.headers.has(this.headerName)&&(oe=oe.clone({headers:oe.headers.set(this.headerName,Vt)})),ze.handle(oe)}}return Pe.\u0275fac=function(oe){return new(oe||Pe)(m.LFG(ve),m.LFG(Zt))},Pe.\u0275prov=m.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),st=(()=>{class Pe{constructor(oe,ze){this.backend=oe,this.injector=ze,this.chain=null}handle(oe){if(null===this.chain){const ze=this.injector.get(hn,[]);this.chain=ze.reduceRight((Le,Vt)=>new Yt(Le,Vt),this.backend)}return this.chain.handle(oe)}}return Pe.\u0275fac=function(oe){return new(oe||Pe)(m.LFG(ue),m.LFG(m.zs3))},Pe.\u0275prov=m.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),Bt=(()=>{class Pe{static disable(){return{ngModule:Pe,providers:[{provide:qe,useClass:fn}]}}static withOptions(oe={}){return{ngModule:Pe,providers:[oe.cookieName?{provide:or,useValue:oe.cookieName}:[],oe.headerName?{provide:Zt,useValue:oe.headerName}:[]]}}}return Pe.\u0275fac=function(oe){return new(oe||Pe)},Pe.\u0275mod=m.oAB({type:Pe}),Pe.\u0275inj=m.cJS({providers:[qe,{provide:hn,useExisting:qe,multi:!0},{provide:ve,useClass:Oe},{provide:or,useValue:"XSRF-TOKEN"},{provide:Zt,useValue:"X-XSRF-TOKEN"}]}),Pe})(),St=(()=>{class Pe{}return Pe.\u0275fac=function(oe){return new(oe||Pe)},Pe.\u0275mod=m.oAB({type:Pe}),Pe.\u0275inj=m.cJS({providers:[It,{provide:re,useClass:st},fr,{provide:ue,useExisting:fr}],imports:[Bt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Pe})()},4650:(Ie,ae,C)=>{"use strict";C.d(ae,{$8M:()=>Oo,$Z:()=>Pf,AFp:()=>Rb,ALo:()=>hy,AaK:()=>re,Akn:()=>Za,AsE:()=>yd,BQk:()=>pd,CHM:()=>Rs,CRH:()=>Iy,CZH:()=>f0,CqO:()=>Gv,D6c:()=>JI,EJc:()=>fI,EpF:()=>Wv,F$t:()=>Yv,F4k:()=>lp,FYo:()=>Rc,FiY:()=>Pr,G48:()=>NI,Gf:()=>Ey,GfV:()=>Xd,Gpc:()=>ne,Gre:()=>Us,Hsn:()=>Qv,JOm:()=>ua,Jf7:()=>ih,KtG:()=>kr,LFG:()=>fe,LSH:()=>Fl,Lbi:()=>cI,Lck:()=>tE,MAs:()=>dc,MMx:()=>sy,NdJ:()=>cp,OlP:()=>vr,Oqu:()=>Dp,PXZ:()=>SI,Q6J:()=>wl,QGY:()=>Th,QP$:()=>vt,Qsj:()=>Jd,R0b:()=>mu,RDi:()=>Bd,Rgc:()=>zh,SBq:()=>Su,Sil:()=>gI,Suo:()=>by,TTD:()=>di,TgZ:()=>ap,Tol:()=>t_,Udp:()=>bm,VKq:()=>ly,W1O:()=>r0,WLB:()=>cy,X6Q:()=>OI,XFs:()=>st,Xpm:()=>gt,Xts:()=>Qp,Y36:()=>Si,YKP:()=>Wu,YNc:()=>Bu,Yjl:()=>pe,Yz7:()=>Tn,Z0I:()=>qn,ZZ4:()=>WE,_Bn:()=>F_,_UZ:()=>xh,_Vd:()=>$a,_c5:()=>YI,_uU:()=>km,aQg:()=>GE,c2e:()=>dI,cJS:()=>ke,cg1:()=>Op,dDg:()=>DI,dqk:()=>Le,eFA:()=>Wb,ekj:()=>Mh,eoX:()=>Hb,f3M:()=>rt,g9A:()=>Nb,h0i:()=>gc,hGG:()=>QI,hij:()=>kh,iGM:()=>xl,ifc:()=>ze,ip1:()=>kb,jDz:()=>iE,kL8:()=>Hm,lG2:()=>De,lcZ:()=>$h,lqb:()=>jl,lri:()=>Bb,n5z:()=>si,oAB:()=>_n,oJD:()=>Zr,oxw:()=>qv,q4F:()=>ol,qLn:()=>rh,qOj:()=>nm,qZA:()=>up,rWj:()=>jb,s9C:()=>Sh,sBO:()=>PI,sIi:()=>oc,s_b:()=>_c,soG:()=>p0,tBr:()=>xn,tb:()=>Pb,tp0:()=>Uo,uIk:()=>Ch,vHH:()=>Ge,vpe:()=>gu,wAp:()=>Nn,xi3:()=>fy,xp6:()=>lv,ynx:()=>fd,z2F:()=>g0,zSh:()=>uu,zs3:()=>ec});var f=C(7579),m=C(727),A=C(9751),Y=C(6451),K=C(3099);function ee(n){for(let i in n)if(n[i]===ee)return i;throw Error("Could not find renamed property on target object.")}function J(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function re(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(re).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ue(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Q=ee({__forward_ref__:ee});function ne(n){return n.__forward_ref__=ne,n.toString=function(){return re(this())},n}function de(n){return Ke(n)?n():n}function Ke(n){return"function"==typeof n&&n.hasOwnProperty(Q)&&n.__forward_ref__===ne}class Ge extends Error{constructor(i,o){super(function yt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function Qe(n){return"string"==typeof n?n:null==n?"":String(n)}function nt(n,i){throw new Ge(-201,!1)}function fn(n,i){null==n&&function Rt(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function Tn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ke(n){return{providers:n.providers||[],imports:n.imports||[]}}function tr(n){return dn(n,Zt)||dn(n,Oe)}function qn(n){return null!==tr(n)}function dn(n,i){return n.hasOwnProperty(i)?n[i]:null}function or(n){return n&&(n.hasOwnProperty(ve)||n.hasOwnProperty(qe))?n[ve]:null}const Zt=ee({\u0275prov:ee}),ve=ee({\u0275inj:ee}),Oe=ee({ngInjectableDef:ee}),qe=ee({ngInjectorDef:ee});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let qt;function Bt(n){const i=qt;return qt=n,i}function St(n,i,o){const u=tr(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&st.Optional?null:void 0!==i?i:void nt(re(n))}function Wt(n){return{toString:n}.toString()}var Pe=(()=>((Pe=Pe||{})[Pe.OnPush=0]="OnPush",Pe[Pe.Default=1]="Default",Pe))(),ze=(()=>{return(n=ze||(ze={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ze;var n})();const Le=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gn={},xt=[],yn=ee({\u0275cmp:ee}),en=ee({\u0275dir:ee}),Sn=ee({\u0275pipe:ee}),ln=ee({\u0275mod:ee}),Ft=ee({\u0275fac:ee}),Mt=ee({__NG_ELEMENT_ID__:ee});let Pt=0;function gt(n){return Wt(()=>{const o=!0===n.standalone,u={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Pe.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||xt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ze.Emulated,id:"c"+Pt++,styles:n.styles||xt,_:null,setInput:null,schemas:n.schemas||null,tView:null},h=n.dependencies,y=n.features;return l.inputs=ye(n.inputs,u),l.outputs=ye(n.outputs),y&&y.forEach(I=>I(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(an).filter(un):null,l.pipeDefs=h?()=>("function"==typeof h?h():h).map(Be).filter(un):null,l})}function an(n){return H(n)||ie(n)}function un(n){return null!==n}function _n(n){return Wt(()=>({type:n.type,bootstrap:n.bootstrap||xt,declarations:n.declarations||xt,imports:n.imports||xt,exports:n.exports||xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ye(n,i){if(null==n)return gn;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}const De=gt;function pe(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function H(n){return n[yn]||null}function ie(n){return n[en]||null}function Be(n){return n[Sn]||null}function vt(n){const i=H(n)||ie(n)||Be(n);return null!==i&&i.standalone}function Lt(n,i){const o=n[ln]||null;if(!o&&!0===i)throw new Error(`Type ${re(n)} does not have '\u0275mod' property.`);return o}function Er(n){return Array.isArray(n)&&"object"==typeof n[1]}function jr(n){return Array.isArray(n)&&!0===n[1]}function ji(n){return 0!=(8&n.flags)}function is(n){return 2==(2&n.flags)}function ss(n){return 1==(1&n.flags)}function Dr(n){return null!==n.template}function ge(n){return 0!=(256&n[2])}function Qr(n,i){return n.hasOwnProperty(Ft)?n[Ft]:null}class ks{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function di(){return bo}function bo(n){return n.type.prototype.ngOnChanges&&(n.setInput=vs),zo}function zo(){const n=os(this),i=n?.current;if(i){const o=n.previous;if(o===gn)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function vs(n,i,o,u){const l=os(n)||function Wo(n,i){return n[Io]=i}(n,{previous:gn,current:null}),h=l.current||(l.current={}),y=l.previous,I=this.declaredInputs[o],T=y[I];h[I]=new ks(T&&T.currentValue,i,y===gn),n[u]=i}di.ngInherit=!0;const Io="__ngSimpleChanges__";function os(n){return n[Io]||null}function Un(n){for(;Array.isArray(n);)n=n[0];return n}function Ai(n,i){return Un(i[n])}function Tr(n,i){return Un(i[n.index])}function _s(n,i){return n.data[i]}function Ei(n,i){return n[i]}function Gn(n,i){const o=i[n];return Er(o)?o:o[0]}function ws(n){return 64==(64&n[2])}function bi(n,i){return null==i?null:n[i]}function Ii(n){n[18]=0}function Gt(n,i){n[5]+=i;let o=n,u=n[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const En={lFrame:zs(null),bindingsEnabled:!0};function $i(){return En.bindingsEnabled}function Dt(){return En.lFrame.lView}function mn(){return En.lFrame.tView}function Rs(n){return En.lFrame.contextLView=n,n[8]}function kr(n){return En.lFrame.contextLView=null,n}function yr(){let n=Qi();for(;null!==n&&64===n.type;)n=n.parent;return n}function Qi(){return En.lFrame.currentTNode}function ri(n,i){const o=En.lFrame;o.currentTNode=n,o.isParent=i}function xo(){return En.lFrame.isParent}function xr(){En.lFrame.isParent=!1}function M(){const n=En.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function cn(){return En.lFrame.bindingIndex++}function nr(n){const i=En.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function pi(n,i){const o=En.lFrame;o.bindingIndex=o.bindingRootIndex=n,Ds(i)}function Ds(n){En.lFrame.currentDirectiveIndex=n}function $s(){return En.lFrame.currentQueryIndex}function Ko(n){En.lFrame.currentQueryIndex=n}function oo(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function fa(n,i,o){if(o&st.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||o&st.Host||(l=oo(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;i=l,n=h}const u=En.lFrame=yu();return u.currentTNode=i,u.lView=n,!0}function Ao(n){const i=yu(),o=n[1];En.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function yu(){const n=En.lFrame,i=null===n?null:n.child;return null===i?zs(n):i}function zs(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Ya(){const n=En.lFrame;return En.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const x=Ya;function B(){const n=Ya();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function we(){return En.lFrame.selectedIndex}function tt(n){En.lFrame.selectedIndex=n}function ft(){const n=En.lFrame;return _s(n.tView,n.selectedIndex)}function lr(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:T,ngAfterViewChecked:V,ngOnDestroy:Z}=h;y&&(n.contentHooks||(n.contentHooks=[])).push(-o,y),I&&((n.contentHooks||(n.contentHooks=[])).push(o,I),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,I)),T&&(n.viewHooks||(n.viewHooks=[])).push(-o,T),V&&((n.viewHooks||(n.viewHooks=[])).push(o,V),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,V)),null!=Z&&(n.destroyHooks||(n.destroyHooks=[])).push(o,Z)}}function br(n,i,o){ds(n,i,3,o)}function ls(n,i,o,u){(3&n[2])===o&&ds(n,i,o,u)}function cs(n,i){let o=n[2];(3&o)===i&&(o&=2047,o+=1,n[2]=o)}function ds(n,i,o,u){const h=u??-1,y=i.length-1;let I=0;for(let T=void 0!==u?65535&n[18]:0;T<y;T++)if("number"==typeof i[T+1]){if(I=i[T],null!=u&&I>=u)break}else i[T]<0&&(n[18]+=65536),(I<h||-1==h)&&(ao(n,o,i,T),n[18]=(4294901760&n[18])+T+2),T++}function ao(n,i,o,u){const l=o[u]<0,h=o[u+1],I=n[l?-o[u]:o[u]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{h.call(I)}finally{}}}else try{h.call(I)}finally{}}class ki{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Ps(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],y=o[u++],I=o[u++];n.setAttribute(i,y,I,h)}else{const h=l,y=o[++u];wu(h)?n.setProperty(i,h,y):n.setAttribute(i,h,y),u++}}return u}function Zo(n){return 3===n||4===n||6===n}function wu(n){return 64===n.charCodeAt(0)}function ka(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||Qa(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function Qa(n,i,o,u,l){let h=0,y=n.length;if(-1===i)y=-1;else for(;h<n.length;){const I=n[h++];if("number"==typeof I){if(I===i){y=-1;break}if(I>i){y=h-1;break}}}for(;h<n.length;){const I=n[h];if("number"==typeof I)break;if(I===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==y&&(n.splice(y,0,i),h=y+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function Zu(n){return-1!==n}function Xr(n){return 32767&n}function Ws(n,i){let o=function Al(n){return n>>16}(n),u=i;for(;o>0;)u=u[15],o--;return u}let Eu=!0;function qo(n){const i=Eu;return Eu=n,i}let Oa=0;const Ci={};function Mo(n,i){const o=Xa(n,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(n.injectorIndex=i.length,Yo(u.data,n),Yo(i,null),Yo(u.blueprint,null));const l=ga(n,i),h=n.injectorIndex;if(Zu(l)){const y=Xr(l),I=Ws(l,i),T=I[1].data;for(let V=0;V<8;V++)i[h+V]=I[y+V]|T[y+V]}return i[h+8]=l,h}function Yo(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Xa(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function ga(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=Xo(l),null===u)return-1;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Qo(n,i,o){!function Ja(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Mt)&&(u=o[Mt]),null==u&&(u=o[Mt]=Oa++);const l=255&u;i.data[n+(l>>5)]|=1<<l}(n,i,o)}function ma(n,i,o){if(o&st.Optional||void 0!==n)return n;nt()}function ko(n,i,o,u){if(o&st.Optional&&void 0===u&&(u=null),0==(o&(st.Self|st.Host))){const l=n[9],h=Bt(void 0);try{return l?l.get(i,u,o&st.Optional):St(i,u,o&st.Optional)}finally{Bt(h)}}return ma(u,0,o)}function Ji(n,i,o,u=st.Default,l){if(null!==n){if(1024&i[2]){const y=function Pa(n,i,o,u,l){let h=n,y=i;for(;null!==h&&null!==y&&1024&y[2]&&!(256&y[2]);){const I=Yu(h,y,o,u|st.Self,Ci);if(I!==Ci)return I;let T=h.parent;if(!T){const V=y[21];if(V){const Z=V.get(o,Ci,u);if(Z!==Ci)return Z}T=Xo(y),y=y[15]}h=T}return l}(n,i,o,u,Ci);if(y!==Ci)return y}const h=Yu(n,i,o,u,Ci);if(h!==Ci)return h}return ko(i,o,u,l)}function Yu(n,i,o,u,l){const h=function eu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Mt)?n[Mt]:void 0;return"number"==typeof i?i>=0?255&i:xi:i}(o);if("function"==typeof h){if(!fa(i,n,u))return u&st.Host?ma(l,0,u):ko(i,o,u,l);try{const y=h(u);if(null!=y||u&st.Optional)return y;nt()}finally{x()}}else if("number"==typeof h){let y=null,I=Xa(n,i),T=-1,V=u&st.Host?i[16][6]:null;for((-1===I||u&st.SkipSelf)&&(T=-1===I?ga(n,i):i[I+8],-1!==T&&uo(u,!1)?(y=i[1],I=Xr(T),i=Ws(T,i)):I=-1);-1!==I;){const Z=i[1];if(Jo(h,I,Z.data)){const le=Na(I,i,o,y,u,V);if(le!==Ci)return le}T=i[I+8],-1!==T&&uo(u,i[1].data[I+8]===V)&&Jo(h,I,i)?(y=Z,I=Xr(T),i=Ws(T,i)):I=-1}}return l}function Na(n,i,o,u,l,h){const y=i[1],I=y.data[n+8],Z=Xi(I,y,o,null==u?is(I)&&Eu:u!=y&&0!=(3&I.type),l&st.Host&&h===I);return null!==Z?Ks(i,y,Z,I):Ci}function Xi(n,i,o,u,l){const h=n.providerIndexes,y=i.data,I=1048575&h,T=n.directiveStart,Z=h>>20,Se=l?I+Z:n.directiveEnd;for(let Je=u?I:I+Z;Je<Se;Je++){const wt=y[Je];if(Je<T&&o===wt||Je>=T&&wt.type===o)return Je}if(l){const Je=y[T];if(Je&&Dr(Je)&&Je.type===o)return T}return null}function Ks(n,i,o,u){let l=n[o];const h=i.data;if(function Ns(n){return n instanceof ki}(l)){const y=l;y.resolving&&function Et(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Me(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Qe(n)}(h[o]));const I=qo(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?Bt(y.injectImpl):null;fa(n,u,st.Default);try{l=n[o]=y.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function Rr(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const y=bo(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,y),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,y)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==T&&Bt(T),qo(I),y.resolving=!1,x()}}return l}function Jo(n,i,o){return!!(o[i+(n>>5)]&1<<n)}function uo(n,i){return!(n&st.Self||n&st.Host&&i)}class Ro{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return Ji(this._tNode,this._lView,i,u,o)}}function xi(){return new Ro(yr(),Dt())}function si(n){return Wt(()=>{const i=n.prototype.constructor,o=i[Ft]||Zs(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[Ft]||Zs(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Zs(n){return Ke(n)?()=>{const i=Zs(de(n));return i&&i()}:Qr(n)}function Xo(n){const i=n[1],o=i.type;return 2===o?i.declTNode:1===o?n[6]:null}function Oo(n){return function Gs(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(Zo(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(yr(),n)}const No="__parameters__";function lo(n,i,o){return Wt(()=>{const u=function La(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const y=new l(...h);return I.annotation=y,I;function I(T,V,Z){const le=T.hasOwnProperty(No)?T[No]:Object.defineProperty(T,No,{value:[]})[No];for(;le.length<=Z;)le.push(null);return(le[Z]=le[Z]||[]).push(y),T}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class vr{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Tn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function es(n,i){void 0===i&&(i=n);for(let o=0;o<n.length;o++){let u=n[o];Array.isArray(u)?(i===n&&(i=n.slice(0,o)),es(u,i)):i!==n&&i.push(u)}return i}function Ls(n,i){n.forEach(o=>Array.isArray(o)?Ls(o,i):i(o))}function Ua(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function ra(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function fs(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}function oi(n,i,o){let u=_(n,i);return u>=0?n[1|u]=o:(u=~u,function va(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function Fo(n,i){const o=_(n,i);if(o>=0)return n[1|o]}function _(n,i){return function v(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),y=n[h<<o];if(i===y)return h<<o;y>i?l=h:u=h+1}return~(l<<o)}(n,i,1)}const zn={},zi="__NG_DI_FLAG__",ts="ngTempTokenPath",ns=/\n/gm,Vo="__source";let k;function L(n){const i=k;return k=n,i}function G(n,i=st.Default){if(void 0===k)throw new Ge(-203,!1);return null===k?St(n,void 0,i):k.get(n,i&st.Optional?null:void 0,i)}function fe(n,i=st.Default){return(function Ut(){return qt}()||G)(de(n),i)}function rt(n,i=st.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),fe(n,i)}function Tt(n){const i=[];for(let o=0;o<n.length;o++){const u=de(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Ge(900,!1);let l,h=st.Default;for(let y=0;y<u.length;y++){const I=u[y],T=Cn(I);"number"==typeof T?-1===T?l=I.token:h|=T:l=I}i.push(fe(l,h))}else i.push(fe(u))}return i}function Kt(n,i){return n[zi]=i,n.prototype[zi]=i,n}function Cn(n){return n[zi]}const xn=Kt(lo("Inject",n=>({token:n})),-1),Pr=Kt(lo("Optional"),8),Uo=Kt(lo("SkipSelf"),4);let Cc,Rl,Ol;function Bd(n){Cc=n}function Cu(n){return function Xu(){if(void 0===Rl&&(Rl=null,Le.trustedTypes))try{Rl=Le.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Rl}()?.createHTML(n)||n}function jd(n){return function xc(){if(void 0===Ol&&(Ol=null,Le.trustedTypes))try{Ol=Le.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ol}()?.createHTML(n)||n}class Hd{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function su(n){return n instanceof Hd?n.changingThisBreaksApplicationSecurity:n}function tl(n,i){const o=function $d(n){return n instanceof Hd&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}class au{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Cu(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class rf{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Cu(i),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Cu(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const o=i.attributes;for(let l=o.length-1;0<l;l--){const y=o.item(l).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&i.removeAttribute(y)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const d=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function g(n){return(n=String(n)).match(d)?n:"unsafe:"+n}function D(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function j(...n){const i={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const z=D("area,br,col,hr,img,wbr"),Ce=D("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ct=D("rp,rt"),$n=j(z,j(Ce,D("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),j(Ct,D("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),j(Ct,Ce)),ho=D("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gd=j(ho,D("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),D("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Kd=D("script,style,template");class sf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!$n.hasOwnProperty(o))return this.sanitizedSomething=!0,!Kd.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let l=0;l<u.length;l++){const h=u.item(l),y=h.name,I=y.toLowerCase();if(!Gd.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let T=h.value;ho[I]&&(T=g(T)),this.buf.push(" ",y,'="',af(T),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();$n.hasOwnProperty(o)&&!z.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(af(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Zd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qd=/([^\#-~ |!])/g;function af(n){return n.replace(/&/g,"&amp;").replace(Zd,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(qd,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ll;function Ln(n){return"content"in n&&function nl(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ai=(()=>((ai=ai||{})[ai.NONE=0]="NONE",ai[ai.HTML=1]="HTML",ai[ai.STYLE=2]="STYLE",ai[ai.SCRIPT=3]="SCRIPT",ai[ai.URL=4]="URL",ai[ai.RESOURCE_URL=5]="RESOURCE_URL",ai))();function Zr(n){const i=rl();return i?jd(i.sanitize(ai.HTML,n)||""):tl(n,"HTML")?jd(su(n)):function Sc(n,i){let o=null;try{Ll=Ll||function ou(n){const i=new rf(n);return function E(){try{return!!(new window.DOMParser).parseFromString(Cu(""),"text/html")}catch{return!1}}()?new au(i):i}(n);let u=i?String(i):"";o=Ll.getInertBodyElement(u);let l=5,h=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=h,h=o.innerHTML,o=Ll.getInertBodyElement(u)}while(u!==h);return Cu((new sf).sanitizeChildren(Ln(o)||o))}finally{if(o){const u=Ln(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}(function Ju(){return void 0!==Cc?Cc:typeof document<"u"?document:void 0}(),Qe(n))}function Fl(n){const i=rl();return i?i.sanitize(ai.URL,n)||"":tl(n,"URL")?su(n):g(Qe(n))}function rl(){const n=Dt();return n&&n[12]}const Qp=new vr("ENVIRONMENT_INITIALIZER"),Mc=new vr("INJECTOR",-1),Jp=new vr("INJECTOR_DEF_TYPES");class Xp{get(i,o=zn){if(o===zn){const u=new Error(`NullInjectorError: No provider for ${re(i)}!`);throw u.name="NullInjectorError",u}return o}}function oa(...n){return{\u0275providers:lf(0,n)}}function lf(n,...i){const o=[],u=new Set;let l;return Ls(i,h=>{const y=h;cf(y,o,[],u)&&(l||(l=[]),l.push(y))}),void 0!==l&&eg(l,o),o}function eg(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Ls(l,h=>{i.push(h)})}}function cf(n,i,o,u){if(!(n=de(n)))return!1;let l=null,h=or(n);const y=!h&&H(n);if(h||y){if(y&&!y.standalone)return!1;l=n}else{const T=n.ngModule;if(h=or(T),!h)return!1;l=T}const I=u.has(l);if(y){if(I)return!1;if(u.add(l),y.dependencies){const T="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const V of T)cf(V,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!I){let V;u.add(l);try{Ls(h.imports,Z=>{cf(Z,i,o,u)&&(V||(V=[]),V.push(Z))})}finally{}void 0!==V&&eg(V,i)}if(!I){const V=Qr(l)||(()=>new l);i.push({provide:l,useFactory:V,deps:xt},{provide:Jp,useValue:l,multi:!0},{provide:Qp,useValue:()=>fe(l),multi:!0})}const T=h.providers;null==T||I||Ls(T,Z=>{i.push(Z)})}}return l!==n&&void 0!==n.providers}const tg=ee({provide:String,useValue:ee});function it(n){return null!==n&&"object"==typeof n&&tg in n}function Ul(n){return"function"==typeof n}const uu=new vr("Set Injector scope."),df={},Bl={};let hf;function kc(){return void 0===hf&&(hf=new Xp),hf}class jl{}class My extends jl{constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,il(i,y=>this.processProvider(y)),this.records.set(Mc,qr(void 0,this)),l.has("environment")&&this.records.set(jl,qr(void 0,this));const h=this.records.get(uu);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Jp.multi,xt,st.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=L(this),u=Bt(void 0);try{return i()}finally{L(o),Bt(u)}}get(i,o=zn,u=st.Default){this.assertNotDestroyed();const l=L(this),h=Bt(void 0);try{if(!(u&st.SkipSelf)){let I=this.records.get(i);if(void 0===I){const T=function Hr(n){return"function"==typeof n||"object"==typeof n&&n instanceof vr}(i)&&tr(i);I=T&&this.injectableDefInScope(T)?qr(Xs(i),df):null,this.records.set(i,I)}if(null!=I)return this.hydrate(i,I)}return(u&st.Self?kc():this.parent).get(i,o=u&st.Optional&&o===zn?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[ts]=y[ts]||[]).unshift(re(i)),l)throw y;return function Vn(n,i,o,u){const l=n[ts];throw i[Vo]&&l.unshift(i[Vo]),n.message=function Hn(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=re(i);if(Array.isArray(i))l=i.map(re).join(" -> ");else if("object"==typeof i){let h=[];for(let y in i)if(i.hasOwnProperty(y)){let I=i[y];h.push(y+":"+("string"==typeof I?JSON.stringify(I):re(I)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(ns,"\n  ")}`}("\n"+n.message,l,o,u),n.ngTokenPath=l,n[ts]=null,n}(y,i,"R3InjectorError",this.source)}throw y}finally{Bt(h),L(l)}}resolveInjectorInitializers(){const i=L(this),o=Bt(void 0);try{const u=this.get(Qp.multi,xt,st.Self);for(const l of u)l()}finally{L(i),Bt(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(re(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processProvider(i){let o=Ul(i=de(i))?i:de(i&&i.provide);const u=function Hl(n){return it(n)?qr(void 0,n.useValue):qr(ng(n),df)}(i);if(Ul(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=qr(void 0,df,!0),l.factory=()=>Tt(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===df&&(o.value=Bl,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Fs(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=de(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Xs(n){const i=tr(n),o=null!==i?i.factory:Qr(n);if(null!==o)return o;if(n instanceof vr)throw new Ge(204,!1);if(n instanceof Function)return function ky(n){const i=n.length;if(i>0)throw fs(i,"?"),new Ge(204,!1);const o=function On(n){const i=n&&(n[Zt]||n[Oe]);if(i){const o=function fr(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Ge(204,!1)}function ng(n,i,o){let u;if(Ul(n)){const l=de(n);return Qr(l)||Xs(l)}if(it(n))u=()=>de(n.useValue);else if(function Ea(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Tt(n.deps||[]));else if(function Yd(n){return!(!n||!n.useExisting)}(n))u=()=>fe(de(n.useExisting));else{const l=de(n&&(n.useClass||n.provide));if(!function ff(n){return!!n.deps}(n))return Qr(l)||Xs(l);u=()=>new l(...Tt(n.deps))}return u}function qr(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Ry(n){return!!n.\u0275providers}function il(n,i){for(const o of n)Array.isArray(o)?il(o,i):Ry(o)?il(o.\u0275providers,i):i(o)}class Oy{}class Ni{resolveComponentFactory(i){throw function gs(n){const i=Error(`No component factory found for ${re(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let $a=(()=>{class n{}return n.NULL=new Ni,n})();function rg(){return zl(yr(),Dt())}function zl(n,i){return new Su(Tr(n,i))}let Su=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=rg,n})();function w0(n){return n instanceof Su?n.nativeElement:n}class Rc{}let Jd=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Py(){const n=Dt(),o=Gn(yr().index,n);return(Er(o)?o:n)[11]}(),n})(),sl=(()=>{class n{}return n.\u0275prov=Tn({token:n,providedIn:"root",factory:()=>null}),n})();class Xd{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const ol=new Xd("14.2.9"),ba={};function $r(n){return n.ngOriginalError}class rh{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&$r(i);for(;o&&$r(o);)o=$r(o);return o||null}}const ys=new Map;let D0=0;const ul="__ngContext__";function eo(n,i){Er(i)?(n[ul]=i[20],function x0(n){ys.set(n[20],n)}(i)):n[ul]=i}function ih(n){return n.ownerDocument.defaultView}function za(n){return n instanceof Function?n():n}var ua=(()=>((ua=ua||{})[ua.Important=1]="Important",ua[ua.DashCase=2]="DashCase",ua))();function gg(n,i){return undefined(n,i)}function Lc(n){const i=n[3];return jr(i)?i[3]:i}function cl(n){return mg(n[13])}function wf(n){return mg(n[4])}function mg(n){for(;null!==n&&!jr(n);)n=n[4];return n}function Fc(n,i,o,u,l){if(null!=u){let h,y=!1;jr(u)?h=u:Er(u)&&(y=!0,u=u[0]);const I=Un(u);0===n&&null!==o?null==l?wg(i,o,I):ir(i,o,I,l||null,!0):1===n&&null!==o?ir(i,o,I,l||null,!0):2===n?function ah(n,i,o){const u=Vs(n,i);u&&function dl(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,I,y):3===n&&i.destroyNode(I),null!=h&&function ev(n,i,o,u,l){const h=o[7];h!==Un(o)&&Fc(i,n,u,h,l);for(let I=10;I<o.length;I++){const T=o[I];Ru(T[1],T,n,i,u,h)}}(i,n,h,o,l)}}function Vc(n,i,o){return n.createElement(i,o)}function lu(n,i){const o=n[9],u=o.indexOf(i),l=i[3];512&i[2]&&(i[2]&=-513,Gt(l,-1)),o.splice(u,1)}function If(n,i){if(n.length<=10)return;const o=10+i,u=n[o];if(u){const l=u[17];null!==l&&l!==n&&lu(l,u),i>0&&(n[o-1][4]=u[4]);const h=ra(n,10+i);!function Yy(n,i){Ru(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const y=h[19];null!==y&&y.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function vg(n,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&Ru(n,i,o,3,null,null),function R0(n){let i=n[13];if(!i)return Df(n[1],n);for(;i;){let o=null;if(Er(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==n;)Er(i)&&Df(i[1],i),i=i[3];null===i&&(i=n),Er(i)&&Df(i[1],i),o=i&&i[4]}i=o}}(i)}}function Df(n,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function _g(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof ki)){const h=o[u+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const I=l[h[y]],T=h[y+1];try{T.call(I)}finally{}}else try{h.call(l)}finally{}}}}(n,i),function Bc(n,i){const o=n.cleanup,u=i[7];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const y=o[h+1],I="function"==typeof y?y(i):Un(i[y]),T=u[l=o[h+2]],V=o[h+3];"boolean"==typeof V?I.removeEventListener(o[h],T,V):V>=0?u[l=V]():u[l=-V].unsubscribe(),h+=2}else{const y=u[l=o[h+1]];o[h].call(y)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();i[7]=null}}(n,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&jr(i[3])){o!==i[3]&&lu(o,i);const u=i[19];null!==u&&u.detachView(n)}!function T0(n){ys.delete(n[20])}(i)}}function Jy(n,i,o){return function Wi(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const l=n.data[u.directiveStart].encapsulation;if(l===ze.None||l===ze.Emulated)return null}return Tr(u,o)}(n,i.parent,o)}function ir(n,i,o,u,l){n.insertBefore(i,o,u,l)}function wg(n,i,o){n.appendChild(i,o)}function Eg(n,i,o,u,l){null!==u?ir(n,i,o,u,l):wg(n,i,o)}function Vs(n,i){return n.parentNode(i)}function jc(n,i,o){return Wa(n,i,o)}let Wa=function bg(n,i,o){return 40&n.type?Tr(n,o):null};function xf(n,i,o,u){const l=Jy(n,u,i),h=i[11],I=jc(u.parent||i[6],u,i);if(null!=l)if(Array.isArray(o))for(let T=0;T<o.length;T++)Eg(h,l,o[T],I,!1);else Eg(h,l,o,I,!1)}function Tf(n,i){if(null!==i){const o=i.type;if(3&o)return Tr(i,n);if(4&o)return Ig(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return Tf(n,u);{const l=n[i.index];return jr(l)?Ig(-1,l):Un(l)}}if(32&o)return gg(i,n)()||Un(n[i.index]);{const u=Yn(n,i);return null!==u?Array.isArray(u)?u[0]:Tf(Lc(n[16]),u):Tf(n,i.next)}}return null}function Yn(n,i){return null!==i?n[16][6].projection[i.projection]:null}function Ig(n,i){const o=10+n+1;if(o<i.length){const u=i[o],l=u[1].firstChild;if(null!==l)return Tf(u,l)}return i[7]}function Ql(n,i,o,u,l,h,y){for(;null!=o;){const I=u[o.index],T=o.type;if(y&&0===i&&(I&&eo(Un(I),u),o.flags|=4),64!=(64&o.flags))if(8&T)Ql(n,i,o.child,u,l,h,!1),Fc(i,n,l,I,h);else if(32&T){const V=gg(o,u);let Z;for(;Z=V();)Fc(i,n,l,Z,h);Fc(i,n,l,I,h)}else 16&T?Dg(n,i,u,o,l,h):Fc(i,n,l,I,h);o=y?o.projectionNext:o.next}}function Ru(n,i,o,u,l,h){Ql(o,u,n.firstChild,i,l,h,!1)}function Dg(n,i,o,u,l,h){const y=o[16],T=y[6].projection[u.projection];if(Array.isArray(T))for(let V=0;V<T.length;V++)Fc(i,n,l,T[V],h);else Ql(n,i,T,y[3],l,h,!0)}function nv(n,i,o){n.setAttribute(i,"style",o)}function Af(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Cg(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const rv="ng-template";function O0(n,i,o){let u=0;for(;u<n.length;){let l=n[u++];if(o&&"class"===l){if(l=n[u],-1!==Cg(l.toLowerCase(),i,0))return!0}else if(1===l){for(;u<n.length&&"string"==typeof(l=n[u++]);)if(l.toLowerCase()===i)return!0;return!1}}return!1}function $c(n){return 4===n.type&&n.value!==rv}function iv(n,i,o){return i===(4!==n.type||o?n.value:rv)}function N0(n,i,o){let u=4;const l=n.attrs||[],h=function cu(n){for(let i=0;i<n.length;i++)if(Zo(n[i]))return i;return n.length}(l);let y=!1;for(let I=0;I<i.length;I++){const T=i[I];if("number"!=typeof T){if(!y)if(4&u){if(u=2|1&u,""!==T&&!iv(n,T,o)||""===T&&1===i.length){if(zr(u))return!1;y=!0}}else{const V=8&u?T:i[++I];if(8&u&&null!==n.attrs){if(!O0(n.attrs,V,o)){if(zr(u))return!1;y=!0}continue}const le=xg(8&u?"class":T,l,$c(n),o);if(-1===le){if(zr(u))return!1;y=!0;continue}if(""!==V){let Se;Se=le>h?"":l[le+1].toLowerCase();const Je=8&u?Se:null;if(Je&&-1!==Cg(Je,V,0)||2&u&&V!==Se){if(zr(u))return!1;y=!0}}}}else{if(!y&&!zr(u)&&!zr(T))return!1;if(y&&zr(T))continue;y=!1,u=T|1&u}}return zr(u)||y}function zr(n){return 0==(1&n)}function xg(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const y=i[l];if(y===n)return l;if(3===y||6===y)h=!0;else{if(1===y||2===y){let I=i[++l];for(;"string"==typeof I;)I=i[++l];continue}if(4===y)break;if(0===y){l+=4;continue}}l+=h?1:2}return-1}return function Sg(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Tg(n,i,o=!1){for(let u=0;u<i.length;u++)if(N0(n,i[u],o))return!0;return!1}function sv(n,i){e:for(let o=0;o<i.length;o++){const u=i[o];if(n.length===u.length){for(let l=0;l<n.length;l++)if(n[l]!==u[l])continue e;return!0}}return!1}function zc(n,i){return n?":not("+i.trim()+")":i}function ov(n){let i=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let y=n[o];if("string"==typeof y)if(2&u){const I=n[++o];l+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&u?l+="."+y:4&u&&(l+=" "+y);else""!==l&&!zr(y)&&(i+=zc(h,l),l=""),u=y,h=h||!zr(u);o++}return""!==l&&(i+=zc(h,l)),i}const Zn={};function lv(n){Wc(mn(),Dt(),we()+n,!1)}function Wc(n,i,o,u){if(!u)if(3==(3&i[2])){const h=n.preOrderCheckHooks;null!==h&&br(i,h,o)}else{const h=n.preOrderHooks;null!==h&&ls(i,h,0,o)}tt(o)}function Jl(n,i=null,o=null,u){const l=Xl(n,i,o,u);return l.resolveInjectorInitializers(),l}function Xl(n,i=null,o=null,u,l=new Set){const h=[o||xt,oa(n)];return u=u||("object"==typeof n?void 0:re(n)),new My(h,i||kc(),u||null,l)}let ec=(()=>{class n{static create(o,u){if(Array.isArray(o))return Jl({name:""},u,o,"");{const l=o.name??"";return Jl({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=zn,n.NULL=new Xp,n.\u0275prov=Tn({token:n,providedIn:"any",factory:()=>fe(Mc)}),n.__NG_ELEMENT_ID__=-1,n})();function Si(n,i=st.Default){const o=Dt();return null===o?fe(n,i):Ji(yr(),o,de(n),i)}function Pf(){throw new Error("invalid")}function Kc(n,i){return n<<17|i<<2}function xs(n){return n>>17&32767}function Ff(n){return 2|n}function Ia(n){return(131068&n)>>2}function Nu(n,i){return-131069&n|i<<2}function Pu(n){return 1|n}function Ug(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],h=o[u+1];if(-1!==h){const y=n.data[h];Ko(l),y.contentQueries(2,i[h],h)}}}function Wf(n,i,o,u,l,h,y,I,T,V,Z){const le=i.blueprint.slice();return le[0]=l,le[2]=76|u,(null!==Z||n&&1024&n[2])&&(le[2]|=1024),Ii(le),le[3]=le[15]=n,le[8]=o,le[10]=y||n&&n[10],le[11]=I||n&&n[11],le[12]=T||n&&n[12]||null,le[9]=V||n&&n[9]||null,le[6]=h,le[20]=function C0(){return D0++}(),le[21]=Z,le[16]=2==i.type?n[16]:le,le}function Xc(n,i,o,u,l){let h=n.data[i];if(null===h)h=function Bg(n,i,o,u,l){const h=Qi(),y=xo(),T=n.data[i]=function ow(n,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=T),null!==h&&(y?null==h.child&&null!==T.parent&&(h.child=T):null===h.next&&(h.next=T)),T}(n,i,o,u,l),function Vr(){return En.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const y=function Is(){const n=En.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return ri(h,!0),h}function ed(n,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function td(n,i,o){Ao(i);try{const u=n.viewQuery;null!==u&&Yg(1,u,o);const l=n.template;null!==l&&Dv(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ug(n,i),n.staticViewQueries&&Yg(2,n.viewQuery,o);const h=n.components;null!==h&&function Iv(n,i){for(let o=0;o<i.length;o++)qf(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[2]&=-5,B()}}function fh(n,i,o,u){const l=i[2];if(128!=(128&l)){Ao(i);try{Ii(i),function at(n){return En.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Dv(n,i,o,2,u);const y=3==(3&l);if(y){const V=n.preOrderCheckHooks;null!==V&&br(i,V,null)}else{const V=n.preOrderHooks;null!==V&&ls(i,V,0,null),cs(i,0)}if(function nd(n){for(let i=cl(n);null!==i;i=wf(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const l=o[u],h=l[3];0==(512&l[2])&&Gt(h,1),l[2]|=512}}}(i),function cw(n){for(let i=cl(n);null!==i;i=wf(i))for(let o=10;o<i.length;o++){const u=i[o],l=u[1];ws(u)&&fh(l,u,l.template,u[8])}}(i),null!==n.contentQueries&&Ug(n,i),y){const V=n.contentCheckHooks;null!==V&&br(i,V)}else{const V=n.contentHooks;null!==V&&ls(i,V,1),cs(i,1)}!function Jc(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)tt(~l);else{const h=l,y=o[++u],I=o[++u];pi(y,h),I(2,i[h])}}}finally{tt(-1)}}(n,i);const I=n.components;null!==I&&function gl(n,i){for(let o=0;o<i.length;o++)rd(n,i[o])}(i,I);const T=n.viewQuery;if(null!==T&&Yg(2,T,u),y){const V=n.viewCheckHooks;null!==V&&br(i,V)}else{const V=n.viewHooks;null!==V&&ls(i,V,2),cs(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,Gt(i[3],-1))}finally{B()}}}function Dv(n,i,o,u,l){const h=we(),y=2&u;try{tt(-1),y&&i.length>22&&Wc(n,i,22,!1),o(u,l)}finally{tt(h)}}function jg(n,i,o){if(ji(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const y=n.data[h];y.contentQueries&&y.contentQueries(1,o[h],h)}}}function Hg(n,i,o){!$i()||(function Av(n,i,o,u){const l=o.directiveStart,h=o.directiveEnd;n.firstCreatePass||Mo(o,i),eo(u,i);const y=o.initialInputs;for(let I=l;I<h;I++){const T=n.data[I],V=Dr(T);V&&kv(i,o,T);const Z=Ks(i,n,I,o);eo(Z,i),null!==y&&lw(0,I-l,Z,T,0,y),V&&(Gn(o.index,i)[8]=Z)}}(n,i,o,Tr(o,i)),128==(128&o.flags)&&function Wg(n,i,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,y=function so(){return En.lFrame.currentDirectiveIndex}();try{tt(h);for(let I=u;I<l;I++){const T=n.data[I],V=i[I];Ds(I),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Zf(T,V)}}finally{tt(-1),Ds(y)}}(n,i,o))}function Gf(n,i,o=Tr){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const y=u[h+1],I=-1===y?o(i,n):n[y];n[l++]=I}}}function ml(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=rc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function rc(n,i,o,u,l,h,y,I,T,V){const Z=22+u,le=Z+l,Se=function Cv(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Zn);return o}(Z,le),Je="function"==typeof V?V():V;return Se[1]={type:n,blueprint:Se,template:o,queries:null,viewQuery:I,declTNode:i,data:Se.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:Je,incompleteFirstPass:!1}}function $g(n,i,o,u){const l=Qg(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Jg(n).push(u,l.length-1))}function xv(n,i,o){for(let u in n)if(n.hasOwnProperty(u)){const l=n[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,l):o[u]=[i,l]}return o}function Kf(n,i){const u=i.directiveEnd,l=n.data,h=i.attrs,y=[];let I=null,T=null;for(let V=i.directiveStart;V<u;V++){const Z=l[V],le=Z.inputs,Se=null===h||$c(i)?null:Rv(le,h);y.push(Se),I=xv(le,V,I),T=xv(Z.outputs,V,T)}null!==I&&(I.hasOwnProperty("class")&&(i.flags|=16),I.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=y,i.inputs=I,i.outputs=T}function la(n,i,o,u,l,h,y,I){const T=Tr(i,o);let Z,V=i.inputs;!I&&null!=V&&(Z=V[u])?(ic(n,o,Z,u,l),is(i)&&Tv(o,i.index)):3&i.type&&(u=function Ts(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=y?y(l,i.value||"",u):l,h.setProperty(T,u,l))}function Tv(n,i){const o=Gn(i,n);16&o[2]||(o[2]|=32)}function zg(n,i,o,u){let l=!1;if($i()){const h=function gh(n,i,o){const u=n.directiveRegistry;let l=null;if(u)for(let h=0;h<u.length;h++){const y=u[h];Tg(o,y.selectors,!1)&&(l||(l=[]),Qo(Mo(o,i),n,y.type),Dr(y)?(mh(n,o),l.unshift(y)):l.push(y))}return l}(n,i,o),y=null===u?null:{"":-1};if(null!==h){l=!0,Zg(o,n.data.length,h.length);for(let Z=0;Z<h.length;Z++){const le=h[Z];le.providersResolver&&le.providersResolver(le)}let I=!1,T=!1,V=ed(n,i,h.length,null);for(let Z=0;Z<h.length;Z++){const le=h[Z];o.mergedAttrs=ka(o.mergedAttrs,le.hostAttrs),Mv(n,o,i,V,le),Kg(V,le,y),null!==le.contentQueries&&(o.flags|=8),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(o.flags|=128);const Se=le.type.prototype;!I&&(Se.ngOnChanges||Se.ngOnInit||Se.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),I=!0),!T&&(Se.ngOnChanges||Se.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),T=!0),V++}Kf(n,o)}y&&function Gg(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new Ge(-301,!1);u.push(i[l],h)}}}(o,u,y)}return o.mergedAttrs=ka(o.mergedAttrs,o.attrs),l}function ph(n,i,o,u,l,h){const y=h.hostBindings;if(y){let I=n.hostBindingOpCodes;null===I&&(I=n.hostBindingOpCodes=[]);const T=~i.index;(function uw(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(I)!=T&&I.push(T),I.push(u,l,y)}}function Zf(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function mh(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function Kg(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;Dr(i)&&(o[""]=n)}}function Zg(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}function Mv(n,i,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=Qr(l.type)),y=new ki(h,Dr(l),Si);n.blueprint[u]=y,o[u]=y,ph(n,i,0,u,ed(n,o,l.hostVars,Zn),l)}function kv(n,i,o){const u=Tr(i,n),l=ml(o),h=n[10],y=_h(n,Wf(n,l,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=y}function Ga(n,i,o,u,l,h){const y=Tr(n,i);!function yh(n,i,o,u,l,h,y){if(null==h)n.removeAttribute(i,l,o);else{const I=null==y?Qe(h):y(h,u||"",l);n.setAttribute(i,l,I,o)}}(i[11],y,h,n.value,o,u,l)}function lw(n,i,o,u,l,h){const y=h[i];if(null!==y){const I=u.setInput;for(let T=0;T<y.length;){const V=y[T++],Z=y[T++],le=y[T++];null!==I?u.setInput(o,le,V,Z):o[Z]=le}}}function Rv(n,i){let o=null,u=0;for(;u<i.length;){const l=i[u];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,n[l],i[u+1])),u+=2}else u+=2;else u+=4}return o}function qg(n,i,o,u){return new Array(n,!0,!1,i,null,0,u,o,null,null)}function rd(n,i){const o=Gn(i,n);if(ws(o)){const u=o[1];48&o[2]?fh(u,o,u.template,o[8]):o[5]>0&&vh(o)}}function vh(n){for(let u=cl(n);null!==u;u=wf(u))for(let l=10;l<u.length;l++){const h=u[l];if(ws(h))if(512&h[2]){const y=h[1];fh(y,h,y.template,h[8])}else h[5]>0&&vh(h)}const o=n[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=Gn(o[u],n);ws(l)&&l[5]>0&&vh(l)}}function qf(n,i){const o=Gn(i,n),u=o[1];(function Ov(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),td(u,o,o[8])}function _h(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Yf(n){for(;n;){n[2]|=32;const i=Lc(n);if(ge(n)&&!i)return n;n=i}return null}function Qf(n,i,o,u=!0){const l=i[10];l.begin&&l.begin();try{fh(n,i,n.template,o)}catch(y){throw u&&wh(i,y),y}finally{l.end&&l.end()}}function Yg(n,i,o){Ko(0),i(n,o)}function Qg(n){return n[7]||(n[7]=[])}function Jg(n){return n.cleanup||(n.cleanup=[])}function wh(n,i){const o=n[9],u=o?o.get(rh,null):null;u&&u.handleError(i)}function ic(n,i,o,u,l){for(let h=0;h<o.length;){const y=o[h++],I=o[h++],T=i[y],V=n.data[y];null!==V.setInput?V.setInput(T,l,u,I):T[I]=l}}function Da(n,i,o){const u=Ai(i,n);!function ui(n,i,o){n.setValue(i,o)}(n[11],u,o)}function id(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==i)for(let y=0;y<i.length;y++){const I=i[y];"number"==typeof I?h=I:1==h?l=ue(l,I):2==h&&(u=ue(u,I+": "+i[++y]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function sd(n,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(Un(h)),jr(h))for(let I=10;I<h.length;I++){const T=h[I],V=T[1].firstChild;null!==V&&sd(T[1],T,V,u)}const y=o.type;if(8&y)sd(n,i,o.child,u);else if(32&y){const I=gg(o,i);let T;for(;T=I();)u.push(T)}else if(16&y){const I=Yn(i,o);if(Array.isArray(I))u.push(...I);else{const T=Lc(i[16]);sd(T[1],T,I,u,!0)}}o=l?o.projectionNext:o.next}return u}class sc{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return sd(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(jr(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(If(i,u),ra(o,u))}this._attachedToViewContainer=!1}vg(this._lView[1],this._lView)}onDestroy(i){$g(this._lView[1],this._lView,null,i)}markForCheck(){Yf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Qf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oh(n,i){Ru(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ge(902,!1);this._appRef=i}}class Lv extends sc{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Qf(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class Xg extends $a{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=H(i);return new Eh(o,this.ngModule)}}function em(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class hw{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){const l=this.injector.get(i,ba,u);return l!==ba||o===ba?l:this.parentInjector.get(i,o,u)}}class Eh extends Oy{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function av(n){return n.map(ov).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return em(this.componentDef.inputs)}get outputs(){return em(this.componentDef.outputs)}create(i,o,u,l){let h=(l=l||this.ngModule)instanceof jl?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new hw(i,h):i,I=y.get(Rc,null);if(null===I)throw new Ge(407,!1);const T=y.get(sl,null),V=I.createRenderer(null,this.componentDef),Z=this.componentDef.selectors[0][0]||"div",le=u?function sw(n,i,o){return n.selectRootElement(i,o===ze.ShadowDom)}(V,u,this.componentDef.encapsulation):Vc(I.createRenderer(null,this.componentDef),Z,function dw(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Z)),Se=this.componentDef.onPush?288:272,Je=rc(0,null,null,1,0,null,null,null,null,null),wt=Wf(null,Je,null,Se,null,null,I,V,T,y,null);let zt,nn;Ao(wt);try{const vn=function Uv(n,i,o,u,l,h){const y=o[1];o[22]=n;const T=Xc(y,22,2,"#host",null),V=T.mergedAttrs=i.hostAttrs;null!==V&&(id(T,V,!0),null!==n&&(Ps(l,n,V),null!==T.classes&&Af(l,n,T.classes),null!==T.styles&&nv(l,n,T.styles)));const Z=u.createRenderer(n,i),le=Wf(o,ml(i),null,i.onPush?32:16,o[22],T,u,Z,h||null,null,null);return y.firstCreatePass&&(Qo(Mo(T,o),y,i.type),mh(y,T),Zg(T,o.length,1)),_h(o,le),o[22]=le}(le,this.componentDef,wt,I,V);if(le)if(u)Ps(V,le,["ng-version",ol.full]);else{const{attrs:Pn,classes:kt}=function uv(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++u]):8===l&&o.push(h);else{if(!zr(l))break;l=h}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Pn&&Ps(V,le,Pn),kt&&kt.length>0&&Af(V,le,kt.join(" "))}if(nn=_s(Je,22),void 0!==o){const Pn=nn.projection=[];for(let kt=0;kt<this.ngContentSelectors.length;kt++){const jn=o[kt];Pn.push(null!=jn?Array.from(jn):null)}}zt=function fw(n,i,o,u){const l=o[1],h=function Sv(n,i,o){const u=yr();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Mv(n,u,i,ed(n,i,1,null),o),Kf(n,u));const l=Ks(i,n,u.directiveStart,u);eo(l,i);const h=Tr(u,i);return h&&eo(h,i),l}(l,o,i);if(n[8]=o[8]=h,null!==u)for(const I of u)I(h,i);if(i.contentQueries){const I=yr();i.contentQueries(1,h,I.directiveStart)}const y=yr();return!l.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(tt(y.index),ph(o[1],y,0,y.directiveStart,y.directiveEnd,i),Zf(i,h)),h}(vn,this.componentDef,wt,[pw]),td(Je,wt,null)}finally{B()}return new bh(this.componentType,zt,zl(nn,wt),wt,nn)}}class bh extends class aa{}{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Lv(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const h=this._rootLView;ic(h[1],h,l,i,o),Tv(h,this._tNode.index)}}get injector(){return new Ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function pw(){const n=yr();lr(Dt()[1],n)}function nm(n){let i=function Bv(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(Dr(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ge(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const y=n;y.inputs=im(n.inputs),y.declaredInputs=im(n.declaredInputs),y.outputs=im(n.outputs);const I=l.hostBindings;I&&sm(n,I);const T=l.viewQuery,V=l.contentQueries;if(T&&gw(n,T),V&&Ih(n,V),J(n.inputs,l.inputs),J(n.declaredInputs,l.declaredInputs),J(n.outputs,l.outputs),Dr(l)&&l.data.animation){const Z=n.data;Z.animation=(Z.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let y=0;y<h.length;y++){const I=h[y];I&&I.ngInherit&&I(n),I===nm&&(o=!1)}}i=Object.getPrototypeOf(i)}!function rm(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=ka(l.hostAttrs,o=ka(o,l.hostAttrs))}}(u)}function im(n){return n===gn?{}:n===xt?[]:n}function gw(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function Ih(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function sm(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}let yl=null;function Vu(){if(!yl){const n=Le.Symbol;if(n&&n.iterator)yl=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(yl=u)}}}return yl}function oc(n){return!!ep(n)&&(Array.isArray(n)||!(n instanceof Map)&&Vu()in n)}function ep(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ca(n,i,o){return n[i]=o}function Ss(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function ac(n,i,o,u){const l=Ss(n,i,o);return Ss(n,i+1,u)||l}function Ch(n,i,o,u){const l=Dt();return Ss(l,cn(),i)&&(mn(),Ga(ft(),l,n,i,o,u)),Ch}function Ka(n,i,o,u){return Ss(n,cn(),o)?i+Qe(o)+u:Zn}function vl(n,i,o,u,l,h){const I=ac(n,function q(){return En.lFrame.bindingIndex}(),o,l);return nr(2),I?i+Qe(o)+u+Qe(l)+h:Zn}function Bu(n,i,o,u,l,h,y,I){const T=Dt(),V=mn(),Z=n+22,le=V.firstCreatePass?function dd(n,i,o,u,l,h,y,I,T){const V=i.consts,Z=Xc(i,n,4,y||null,bi(V,I));zg(i,o,Z,bi(V,T)),lr(i,Z);const le=Z.tViews=rc(2,Z,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,V);return null!==i.queries&&(i.queries.template(i,Z),le.queries=i.queries.embeddedTView(Z)),Z}(Z,V,T,i,o,u,l,h,y):V.data[Z];ri(le,!1);const Se=T[11].createComment("");xf(V,T,Se,le),eo(Se,T),_h(T,T[Z]=qg(Se,T,Se,le)),ss(le)&&Hg(V,T,le),null!=y&&Gf(T,le,I)}function dc(n){return Ei(function Os(){return En.lFrame.contextLView}(),22+n)}function wl(n,i,o){const u=Dt();return Ss(u,cn(),i)&&la(mn(),ft(),u,n,i,u[11],o,!1),wl}function op(n,i,o,u,l){const y=l?"class":"style";ic(n,o,i.inputs[y],y,u)}function ap(n,i,o,u){const l=Dt(),h=mn(),y=22+n,I=l[11],T=l[y]=Vc(I,i,function Bn(){return En.lFrame.currentNamespace}()),V=h.firstCreatePass?function hd(n,i,o,u,l,h,y){const I=i.consts,V=Xc(i,n,2,l,bi(I,h));return zg(i,o,V,bi(I,y)),null!==V.attrs&&id(V,V.attrs,!1),null!==V.mergedAttrs&&id(V,V.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,V),V}(y,h,l,0,i,o,u):h.data[y];ri(V,!0);const Z=V.mergedAttrs;null!==Z&&Ps(I,T,Z);const le=V.classes;null!==le&&Af(I,T,le);const Se=V.styles;return null!==Se&&nv(I,T,Se),64!=(64&V.flags)&&xf(h,l,T,V),0===function Es(){return En.lFrame.elementDepthCount}()&&eo(T,l),function us(){En.lFrame.elementDepthCount++}(),ss(V)&&(Hg(h,l,V),jg(h,V,l)),null!==u&&Gf(l,V),ap}function up(){let n=yr();xo()?xr():(n=n.parent,ri(n,!1));const i=n;!function Jr(){En.lFrame.elementDepthCount--}();const o=mn();return o.firstCreatePass&&(lr(o,n),ji(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function _u(n){return 0!=(16&n.flags)}(i)&&op(o,i,Dt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Ma(n){return 0!=(32&n.flags)}(i)&&op(o,i,Dt(),i.stylesWithoutHost,!1),up}function xh(n,i,o,u){return ap(n,i,o,u),up(),xh}function fd(n,i,o){const u=Dt(),l=mn(),h=n+22,y=l.firstCreatePass?function dm(n,i,o,u,l){const h=i.consts,y=bi(h,u),I=Xc(i,n,8,"ng-container",y);return null!==y&&id(I,y,!0),zg(i,o,I,bi(h,l)),null!==i.queries&&i.queries.elementStart(i,I),I}(h,l,u,i,o):l.data[h];ri(y,!0);const I=u[h]=u[11].createComment("");return xf(l,u,I,y),eo(I,u),ss(y)&&(Hg(l,u,y),jg(l,y,u)),null!=o&&Gf(u,y),fd}function pd(){let n=yr();const i=mn();return xo()?xr():(n=n.parent,ri(n,!1)),i.firstCreatePass&&(lr(i,n),ji(n)&&i.queries.elementEnd(n)),pd}function Wv(){return Dt()}function Th(n){return!!n&&"function"==typeof n.then}function lp(n){return!!n&&"function"==typeof n.subscribe}const Gv=lp;function cp(n,i,o,u){const l=Dt(),h=mn(),y=yr();return function hm(n,i,o,u,l,h,y,I){const T=ss(u),Z=n.firstCreatePass&&Jg(n),le=i[8],Se=Qg(i);let Je=!0;if(3&u.type||I){const nn=Tr(u,i),vn=I?I(nn):nn,Pn=Se.length,kt=I?Ur=>I(Un(Ur[u.index])):u.index;let jn=null;if(!I&&T&&(jn=function Zv(n,i,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const y=l[h];if(y===o&&l[h+1]===u){const I=i[7],T=l[h+2];return I.length>T?I[T]:null}"string"==typeof y&&(h+=2)}return null}(n,i,l,u.index)),null!==jn)(jn.__ngLastListenerFn__||jn).__ngNextListenerFn__=h,jn.__ngLastListenerFn__=h,Je=!1;else{h=pm(u,i,le,h,!1);const Ur=o.listen(vn,l,h);Se.push(h,Ur),Z&&Z.push(l,kt,Pn,Pn+1)}}else h=pm(u,i,le,h,!1);const wt=u.outputs;let zt;if(Je&&null!==wt&&(zt=wt[l])){const nn=zt.length;if(nn)for(let vn=0;vn<nn;vn+=2){const Pi=i[zt[vn]][zt[vn+1]].subscribe(h),Yh=Se.length;Se.push(h,Pi),Z&&Z.push(l,u.index,Yh,-(Yh+1))}}}(h,l,l[11],y,n,i,0,u),cp}function fm(n,i,o,u){try{return!1!==o(u)}catch(l){return wh(n,l),!1}}function pm(n,i,o,u,l){return function h(y){if(y===Function)return u;Yf(2&n.flags?Gn(n.index,i):i);let T=fm(i,0,u,y),V=h.__ngNextListenerFn__;for(;V;)T=fm(i,0,V,y)&&T,V=V.__ngNextListenerFn__;return l&&!1===T&&(y.preventDefault(),y.returnValue=!1),T}}function qv(n=1){return function R(n){return(En.lFrame.contextLView=function W(n,i){for(;n>0;)i=i[15],n--;return i}(n,En.lFrame.contextLView))[8]}(n)}function vw(n,i){let o=null;const u=function uh(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(n);for(let l=0;l<i.length;l++){const h=i[l];if("*"!==h){if(null===u?Tg(n,h,!0):sv(u,h))return l}else o=l}return o}function Yv(n){const i=Dt()[16][6];if(!i.projection){const u=i.projection=fs(n?n.length:1,null),l=u.slice();let h=i.child;for(;null!==h;){const y=n?vw(h,n):0;null!==y&&(l[y]?l[y].projectionNext=h:u[y]=h,l[y]=h),h=h.next}}}function Qv(n,i=0,o){const u=Dt(),l=mn(),h=Xc(l,22+n,16,null,o||null);null===h.projection&&(h.projection=i),xr(),64!=(64&h.flags)&&function Sf(n,i,o){Dg(i[11],0,i,o,Jy(n,o,i),jc(o.parent||i[6],o,i))}(l,u,h)}function Sh(n,i,o){return Ah(n,"",i,"",o),Sh}function Ah(n,i,o,u,l){const h=Dt(),y=Ka(h,i,o,u);return y!==Zn&&la(mn(),ft(),h,n,y,h[11],l,!1),Ah}function gp(n,i,o,u,l){const h=n[o+1],y=null===i;let I=u?xs(h):Ia(h),T=!1;for(;0!==I&&(!1===T||y);){const Z=n[I+1];ww(n[I],i)&&(T=!0,n[I+1]=u?Pu(Z):Ff(Z)),I=u?xs(Z):Ia(Z)}T&&(n[o+1]=u?Ff(h):Pu(h))}function ww(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&_(n,i)>=0}const Gi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function e_(n){return n.substring(Gi.key,Gi.keyEnd)}function vm(n){return n.substring(Gi.value,Gi.valueEnd)}function mp(n,i){const o=Gi.textEnd;return o===i?-1:(i=Gi.keyEnd=function Em(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,Gi.key=i,o),md(n,i,o))}function wm(n,i){const o=Gi.textEnd;let u=Gi.key=md(n,i,o);return o===u?-1:(u=Gi.keyEnd=function ju(n,i,o){let u;for(;i<o&&(45===(u=n.charCodeAt(i))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)i++;return i}(n,u,o),u=vp(n,u,o),u=Gi.value=md(n,u,o),u=Gi.valueEnd=function Ew(n,i,o){let u=-1,l=-1,h=-1,y=i,I=y;for(;y<o;){const T=n.charCodeAt(y++);if(59===T)return I;34===T||39===T?I=y=_p(n,T,y,o):i===y-4&&85===h&&82===l&&76===u&&40===T?I=y=_p(n,41,y,o):T>32&&(I=y),h=l,l=u,u=-33&T}return I}(n,u,o),vp(n,u,o))}function yp(n){Gi.key=0,Gi.keyEnd=0,Gi.value=0,Gi.valueEnd=0,Gi.textEnd=n.length}function md(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function vp(n,i,o,u){return(i=md(n,i,o))<o&&i++,i}function _p(n,i,o,u){let l=-1,h=o;for(;h<u;){const y=n.charCodeAt(h++);if(y==i&&92!==l)return h;l=92==y&&92===l?0:y}throw new Error}function bm(n,i,o){return qa(n,i,o,!1),bm}function Mh(n,i){return qa(n,i,null,!0),Mh}function Za(n){ca(Ep,Im,n,!1)}function Im(n,i){for(let o=function gd(n){return yp(n),wm(n,md(n,0,Gi.textEnd))}(i);o>=0;o=wm(i,o))Ep(n,e_(i),vm(i))}function t_(n){ca(oi,xa,n,!0)}function xa(n,i){for(let o=function _m(n){return yp(n),mp(n,md(n,0,Gi.textEnd))}(i);o>=0;o=mp(i,o))oi(n,e_(i),!0)}function qa(n,i,o,u){const l=Dt(),h=mn(),y=nr(2);h.firstUpdatePass&&wp(h,n,y,u),i!==Zn&&Ss(l,y,i)&&Sm(h,h.data[we()],l,l[11],n,l[y+1]=function Mm(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=re(su(n)))),n}(i,o),u,y)}function ca(n,i,o,u){const l=mn(),h=nr(2);l.firstUpdatePass&&wp(l,null,h,u);const y=Dt();if(o!==Zn&&Ss(y,h,o)){const I=l.data[we()];if(Ip(I,u)&&!Dm(l,h)){let T=u?I.classesWithoutHost:I.stylesWithoutHost;null!==T&&(o=ue(T,o||"")),op(l,I,y,o,u)}else!function Dw(n,i,o,u,l,h,y,I){l===Zn&&(l=xt);let T=0,V=0,Z=0<l.length?l[0]:null,le=0<h.length?h[0]:null;for(;null!==Z||null!==le;){const Se=T<l.length?l[T+1]:void 0,Je=V<h.length?h[V+1]:void 0;let zt,wt=null;Z===le?(T+=2,V+=2,Se!==Je&&(wt=le,zt=Je)):null===le||null!==Z&&Z<le?(T+=2,wt=Z):(V+=2,wt=le,zt=Je),null!==wt&&Sm(n,i,o,u,wt,zt,y,I),Z=T<l.length?l[T]:null,le=V<h.length?h[V]:null}}(l,I,y,y[11],y[h+1],y[h+1]=function Tm(n,i,o){if(null==o||""===o)return xt;const u=[],l=su(o);if(Array.isArray(l))for(let h=0;h<l.length;h++)n(u,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&n(u,h,l[h]);else"string"==typeof l&&i(u,l);return u}(n,i,o),u,h)}}function Dm(n,i){return i>=n.expandoStartIndex}function wp(n,i,o,u){const l=n.data;if(null===l[o+1]){const h=l[we()],y=Dm(n,o);Ip(h,u)&&null===i&&!y&&(i=!1),i=function n_(n,i,o,u){const l=function So(n){const i=En.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=hc(o=xm(null,n,i,o,u),i.attrs,u),h=null);else{const y=i.directiveStylingLast;if(-1===y||n[y]!==l)if(o=xm(l,n,i,o,u),null===h){let T=function bw(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Ia(u))return n[xs(u)]}(n,i,u);void 0!==T&&Array.isArray(T)&&(T=xm(null,n,i,T[1],u),T=hc(T,i.attrs,u),function Iw(n,i,o,u){n[xs(o?i.classBindings:i.styleBindings)]=u}(n,i,u,T))}else h=function Cm(n,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=hc(u,n[h].hostAttrs,o);return hc(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function ym(n,i,o,u,l,h){let y=h?i.classBindings:i.styleBindings,I=xs(y),T=Ia(y);n[u]=o;let Z,V=!1;if(Array.isArray(o)){const le=o;Z=le[1],(null===Z||_(le,Z)>0)&&(V=!0)}else Z=o;if(l)if(0!==T){const Se=xs(n[I+1]);n[u+1]=Kc(Se,I),0!==Se&&(n[Se+1]=Nu(n[Se+1],u)),n[I+1]=function Q0(n,i){return 131071&n|i<<17}(n[I+1],u)}else n[u+1]=Kc(I,0),0!==I&&(n[I+1]=Nu(n[I+1],u)),I=u;else n[u+1]=Kc(T,0),0===I?I=u:n[T+1]=Nu(n[T+1],u),T=u;V&&(n[u+1]=Ff(n[u+1])),gp(n,Z,u,!0),gp(n,Z,u,!1),function _w(n,i,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&_(h,i)>=0&&(o[u+1]=Pu(o[u+1]))}(i,Z,n,u,h),y=Kc(I,T),h?i.classBindings=y:i.styleBindings=y}(l,h,i,o,y,u)}}function xm(n,i,o,u,l){let h=null;const y=o.directiveEnd;let I=o.directiveStylingLast;for(-1===I?I=o.directiveStart:I++;I<y&&(h=i[I],u=hc(u,h.hostAttrs,l),h!==n);)I++;return null!==n&&(o.directiveStylingLast=I),u}function hc(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const y=i[h];"number"==typeof y?l=y:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),oi(n,y,!!o||i[++h]))}return void 0===n?null:n}function Ep(n,i,o){oi(n,i,su(o))}function Sm(n,i,o,u,l,h,y,I){if(!(3&i.type))return;const T=n.data,V=T[I+1];bp(function hl(n){return 1==(1&n)}(V)?Am(T,i,o,l,Ia(V),y):void 0)||(bp(h)||function Rg(n){return 2==(2&n)}(V)&&(h=Am(T,null,o,l,I,y)),function tv(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:ua.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=ua.Important),n.setStyle(o,u,l,h))}}(u,y,Ai(we(),o),l,h))}function Am(n,i,o,u,l,h){const y=null===i;let I;for(;l>0;){const T=n[l],V=Array.isArray(T),Z=V?T[1]:T,le=null===Z;let Se=o[l+1];Se===Zn&&(Se=le?xt:void 0);let Je=le?Fo(Se,u):Z===u?Se:void 0;if(V&&!bp(Je)&&(Je=Fo(T,u)),bp(Je)&&(I=Je,y))return I;const wt=n[l+1];l=y?xs(wt):Ia(wt)}if(null!==i){let T=h?i.residualClasses:i.residualStyles;null!=T&&(I=Fo(T,u))}return I}function bp(n){return void 0!==n}function Ip(n,i){return 0!=(n.flags&(i?16:32))}function km(n,i=""){const o=Dt(),u=mn(),l=n+22,h=u.firstCreatePass?Xc(u,l,1,i,null):u.data[l],y=o[l]=function yg(n,i){return n.createText(i)}(o[11],i);xf(u,o,y,h),ri(h,!1)}function Dp(n){return kh("",n,""),Dp}function kh(n,i,o){const u=Dt(),l=Ka(u,n,i,o);return l!==Zn&&Da(u,we(),l),kh}function yd(n,i,o,u,l){const h=Dt(),y=vl(h,n,i,o,u,l);return y!==Zn&&Da(h,we(),y),yd}function Us(n,i,o){ca(oi,xa,Ka(Dt(),n,i,o),!0)}const Ta=void 0;var Rw=["en",[["a","p"],["AM","PM"],Ta],[["AM","PM"],Ta,Ta],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ta,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ta,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ta,"{1} 'at' {0}",Ta],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jm(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let _d={};function Op(n){const i=function Ow(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=a_(i);if(o)return o;const u=i.split("-")[0];if(o=a_(u),o)return o;if("en"===u)return Rw;throw new Ge(701,!1)}function Hm(n){return Op(n)[Nn.PluralCase]}function a_(n){return n in _d||(_d[n]=Le.ng&&Le.ng.common&&Le.ng.common.locales&&Le.ng.common.locales[n]),_d[n]}var Nn=(()=>((Nn=Nn||{})[Nn.LocaleId=0]="LocaleId",Nn[Nn.DayPeriodsFormat=1]="DayPeriodsFormat",Nn[Nn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nn[Nn.DaysFormat=3]="DaysFormat",Nn[Nn.DaysStandalone=4]="DaysStandalone",Nn[Nn.MonthsFormat=5]="MonthsFormat",Nn[Nn.MonthsStandalone=6]="MonthsStandalone",Nn[Nn.Eras=7]="Eras",Nn[Nn.FirstDayOfWeek=8]="FirstDayOfWeek",Nn[Nn.WeekendRange=9]="WeekendRange",Nn[Nn.DateFormat=10]="DateFormat",Nn[Nn.TimeFormat=11]="TimeFormat",Nn[Nn.DateTimeFormat=12]="DateTimeFormat",Nn[Nn.NumberSymbols=13]="NumberSymbols",Nn[Nn.NumberFormats=14]="NumberFormats",Nn[Nn.CurrencyCode=15]="CurrencyCode",Nn[Nn.CurrencySymbol=16]="CurrencySymbol",Nn[Nn.CurrencyName=17]="CurrencyName",Nn[Nn.Currencies=18]="Currencies",Nn[Nn.Directionality=19]="Directionality",Nn[Nn.PluralCase=20]="PluralCase",Nn[Nn.ExtraData=21]="ExtraData",Nn))();const wd="en-US";let u_=wd;function Xm(n,i,o,u,l){if(n=de(n),Array.isArray(n))for(let h=0;h<n.length;h++)Xm(n[h],i,o,u,l);else{const h=mn(),y=Dt();let I=Ul(n)?n:de(n.provide),T=ng(n);const V=yr(),Z=1048575&V.providerIndexes,le=V.directiveStart,Se=V.providerIndexes>>20;if(Ul(n)||!n.multi){const Je=new ki(T,l,Si),wt=ny(I,i,l?Z:Z+Se,le);-1===wt?(Qo(Mo(V,y),h,I),ey(h,n,i.length),i.push(I),V.directiveStart++,V.directiveEnd++,l&&(V.providerIndexes+=1048576),o.push(Je),y.push(Je)):(o[wt]=Je,y[wt]=Je)}else{const Je=ny(I,i,Z+Se,le),wt=ny(I,i,Z,Z+Se),zt=Je>=0&&o[Je],nn=wt>=0&&o[wt];if(l&&!nn||!l&&!zt){Qo(Mo(V,y),h,I);const vn=function Ib(n,i,o,u,l){const h=new ki(n,o,Si);return h.multi=[],h.index=i,h.componentProviders=0,ty(h,l,u&&!o),h}(l?ry:Td,o.length,l,u,T);!l&&nn&&(o[wt].providerFactory=vn),ey(h,n,i.length,0),i.push(I),V.directiveStart++,V.directiveEnd++,l&&(V.providerIndexes+=1048576),o.push(vn),y.push(vn)}else ey(h,n,Je>-1?Je:wt,ty(o[l?wt:Je],T,!l&&u));!l&&u&&nn&&o[wt].componentProviders++}}}function ey(n,i,o,u){const l=Ul(i),h=function Qd(n){return!!n.useClass}(i);if(l||h){const T=(h?de(i.useClass):i).prototype.ngOnDestroy;if(T){const V=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const Z=V.indexOf(o);-1===Z?V.push(o,[u,T]):V[Z+1].push(u,T)}else V.push(o,T)}}}function ty(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function ny(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function Td(n,i,o,u){return L_(this.multi,[])}function ry(n,i,o,u){const l=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=Ks(o,o[1],this.providerFactory.index,u);h=I.slice(0,y),L_(l,h);for(let T=y;T<I.length;T++)h.push(I[T])}else h=[],L_(l,h);return h}function L_(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function F_(n,i=[]){return o=>{o.providersResolver=(u,l)=>function P_(n,i,o){const u=mn();if(u.firstCreatePass){const l=Dr(n);Xm(o,u.data,u.blueprint,l,!0),Xm(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class gc{}class Wu{}function tE(n,i){return new V_(n,i??null)}class V_ extends gc{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xg(this);const u=Lt(i);this._bootstrapComponents=za(u.bootstrap),this._r3Injector=Xl(i,o,[{provide:gc,useValue:this},{provide:$a,useValue:this.componentFactoryResolver}],re(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class iy extends Wu{constructor(i){super(),this.moduleType=i}create(i){return new V_(this.moduleType,i)}}class nE extends gc{constructor(i,o,u){super(),this.componentFactoryResolver=new Xg(this),this.instance=null;const l=new My([...i,{provide:gc,useValue:this},{provide:$a,useValue:this.componentFactoryResolver}],o||kc(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function sy(n,i,o=null){return new nE(n,i,o).injector}let rE=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=lf(0,o.type),l=u.length>0?sy([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Tn({token:n,providedIn:"environment",factory:()=>new n(fe(jl))}),n})();function iE(n){n.getStandaloneInjector=i=>i.get(rE).getOrCreateStandaloneInjector(n)}function ly(n,i,o,u){return Cl(Dt(),M(),n,i,o,u)}function cy(n,i,o,u,l){return W_(Dt(),M(),n,i,o,u,l)}function vc(n,i){const o=n[i];return o===Zn?void 0:o}function Cl(n,i,o,u,l,h){const y=i+o;return Ss(n,y,l)?Ca(n,y+1,h?u.call(h,l):u(l)):vc(n,y+1)}function W_(n,i,o,u,l,h,y){const I=i+o;return ac(n,I,l,h)?Ca(n,I+2,y?u.call(y,l,h):u(l,h)):vc(n,I+2)}function hy(n,i){const o=mn();let u;const l=n+22;o.firstCreatePass?(u=function lE(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const h=u.factory||(u.factory=Qr(u.type)),y=Bt(Si);try{const I=qo(!1),T=h();return qo(I),function cm(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,Dt(),l,T),T}finally{Bt(y)}}function $h(n,i,o){const u=n+22,l=Dt(),h=Ei(l,u);return Ad(l,u)?Cl(l,M(),i,h.transform,o,h):h.transform(o)}function fy(n,i,o,u){const l=n+22,h=Dt(),y=Ei(h,l);return Ad(h,l)?W_(h,M(),i,y.transform,o,u,y):y.transform(o,u)}function Ad(n,i){return n[1].data[i].pure}function Bp(n){return i=>{setTimeout(n,void 0,i)}}const gu=class Y_ extends f.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,h=o||(()=>null),y=u;if(i&&"object"==typeof i){const T=i;l=T.next?.bind(T),h=T.error?.bind(T),y=T.complete?.bind(T)}this.__isAsync&&(h=Bp(h),l&&(l=Bp(l)),y&&(y=Bp(y)));const I=super.subscribe({next:l,error:h,complete:y});return i instanceof m.w0&&i.add(I),I}};function hE(){return this._results[Vu()]()}class gy{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Vu(),u=gy.prototype;u[o]||(u[o]=hE)}get changes(){return this._changes||(this._changes=new gu)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=es(i);(this._changesDetected=!function Va(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let zh=(()=>{class n{}return n.__NG_ELEMENT_ID__=J_,n})();const fE=zh,Q_=class extends fE{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tViews,l=Wf(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(l[19]=y.createEmbeddedView(u)),td(u,l,i),new sc(l)}};function J_(){return my(yr(),Dt())}function my(n,i){return 4&n.type?new Q_(i,n,zl(n,i)):null}let _c=(()=>{class n{}return n.__NG_ELEMENT_ID__=X_,n})();function X_(){return Gu(yr(),Dt())}const pE=_c,Wh=class extends pE{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return zl(this._hostTNode,this._hostLView)}get injector(){return new Ro(this._hostTNode,this._hostLView)}get parentInjector(){const i=ga(this._hostTNode,this._hostLView);if(Zu(i)){const o=Ws(i,this._hostLView),u=Xr(i);return new Ro(o[1].data[u+8],o)}return new Ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=yy(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const y=i.createEmbeddedView(o||{},h);return this.insert(y,l),y}createComponent(i,o,u,l,h){const y=i&&!function Ys(n){return"function"==typeof n}(i);let I;if(y)I=o;else{const le=o||{};I=le.index,u=le.injector,l=le.projectableNodes,h=le.environmentInjector||le.ngModuleRef}const T=y?i:new Eh(H(i)),V=u||this.parentInjector;if(!h&&null==T.ngModule){const Se=(y?V:this.parentInjector).get(jl,null);Se&&(h=Se)}const Z=T.create(V,l,void 0,h);return this.insert(Z.hostView,I),Z}insert(i,o){const u=i._lView,l=u[1];if(function ha(n){return jr(n[3])}(u)){const Z=this.indexOf(i);if(-1!==Z)this.detach(Z);else{const le=u[3],Se=new Wh(le,le[6],le[3]);Se.detach(Se.indexOf(i))}}const h=this._adjustIndex(o),y=this._lContainer;!function Qy(n,i,o,u){const l=10+u,h=o.length;u>0&&(o[l-1][4]=i),u<h-10?(i[4]=o[l],Ua(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const y=i[17];null!==y&&o!==y&&function Uc(n,i){const o=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===o?n[9]=[i]:o.push(i)}(y,i);const I=i[19];null!==I&&I.insertView(n),i[2]|=64}(l,u,y,h);const I=Ig(h,y),T=u[11],V=Vs(T,y[7]);return null!==V&&function k0(n,i,o,u,l,h){u[0]=l,u[6]=i,Ru(n,u,o,1,l,h)}(l,y[6],T,u,V,I),i.attachToViewContainerRef(),Ua(Gh(y),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=yy(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=If(this._lContainer,o);u&&(ra(Gh(this._lContainer),o),vg(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=If(this._lContainer,o);return u&&null!=ra(Gh(this._lContainer),o)?new sc(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function yy(n){return n[8]}function Gh(n){return n[8]||(n[8]=[])}function Gu(n,i){let o;const u=i[n.index];if(jr(u))o=u;else{let l;if(8&n.type)l=Un(u);else{const h=i[11];l=h.createComment("");const y=Tr(n,i);ir(h,Vs(h,y),l,function Xy(n,i){return n.nextSibling(i)}(h,y),!1)}i[n.index]=o=qg(u,i,l,n),_h(i,o)}return new Wh(o,n,i)}class Kh{constructor(i){this.queryList=i,this.matches=null}clone(){return new Kh(this.queryList)}setDirty(){this.queryList.setDirty()}}class vy{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const y=o.getByIndex(h);l.push(this.queries[y.indexInDeclarationView].clone())}return new vy(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==n0(i,o).matches&&this.queries[o].setDirty()}}class e0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class _y{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new _y(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class jp{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new jp(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,mE(o,h)),this.matchTNodeWithReadOption(i,o,Xi(o,i,h,!1,!1))}else u===zh?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Xi(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===Su||l===_c||l===zh&&4&o.type)this.addMatch(o.index,-2);else{const h=Xi(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function mE(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function vE(n,i,o,u){return-1===o?function yE(n,i){return 11&n.type?zl(n,i):4&n.type?my(n,i):null}(i,n):-2===o?function _E(n,i,o){return o===Su?zl(i,n):o===zh?my(i,n):o===_c?Gu(i,n):void 0}(n,i,u):Ks(n,n[1],o,i)}function wy(n,i,o,u){const l=i[19].queries[u];if(null===l.matches){const h=n.data,y=o.matches,I=[];for(let T=0;T<y.length;T+=2){const V=y[T];I.push(V<0?null:vE(i,h[V],y[T+1],o.metadata.read))}l.matches=I}return l.matches}function Hp(n,i,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const y=wy(n,i,l,o);for(let I=0;I<h.length;I+=2){const T=h[I];if(T>0)u.push(y[I/2]);else{const V=h[I+1],Z=i[-T];for(let le=10;le<Z.length;le++){const Se=Z[le];Se[17]===Se[3]&&Hp(Se[1],Se,V,u)}if(null!==Z[9]){const le=Z[9];for(let Se=0;Se<le.length;Se++){const Je=le[Se];Hp(Je[1],Je,V,u)}}}}}return u}function xl(n){const i=Dt(),o=mn(),u=$s();Ko(u+1);const l=n0(o,u);if(n.dirty&&function Hs(n){return 4==(4&n[2])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?Hp(o,i,u,[]):wy(o,i,l,u);n.reset(h,w0),n.notifyOnChanges()}return!0}return!1}function Ey(n,i,o){const u=mn();u.firstCreatePass&&(Dy(u,new e0(n,i,o),-1),2==(2&i)&&(u.staticViewQueries=!0)),t0(u,Dt(),i)}function by(n,i,o,u){const l=mn();if(l.firstCreatePass){const h=yr();Dy(l,new e0(i,o,u),h.index),function wE(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}t0(l,Dt(),o)}function Iy(){return function Rd(n,i){return n[19].queries[i].queryList}(Dt(),$s())}function t0(n,i,o){const u=new gy(4==(4&o));$g(n,i,u,u.destroy),null===i[19]&&(i[19]=new vy),i[19].queries.push(new Kh(u))}function Dy(n,i,o){null===n.queries&&(n.queries=new _y),n.queries.track(new jp(i,o))}function n0(n,i){return n.queries.getByIndex(i)}function r0(n,i){return my(n,i)}function Sl(...n){}const kb=new vr("Application Initializer");let f0=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Sl,this.reject=Sl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Th(h))o.push(h);else if(Gv(h)){const y=new Promise((I,T)=>{h.subscribe({complete:I,error:T})});o.push(y)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(fe(kb,8))},n.\u0275prov=Tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rb=new vr("AppId",{providedIn:"root",factory:function Ob(){return`${NE()}${NE()}${NE()}`}});function NE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Nb=new vr("Platform Initializer"),cI=new vr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Pb=new vr("appBootstrapListener");let dI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Tn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const p0=new vr("LocaleId",{providedIn:"root",factory:()=>rt(p0,st.Optional|st.SkipSelf)||function hI(){return typeof $localize<"u"&&$localize.locale||wd}()}),fI=new vr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class pI{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let gI=(()=>{class n{compileModuleSync(o){return new iy(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=za(Lt(o).declarations).reduce((y,I)=>{const T=H(I);return T&&y.push(new Eh(T)),y},[]);return new pI(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vI=(()=>Promise.resolve(0))();function PE(n){typeof Zone>"u"?vI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class mu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gu(!1),this.onMicrotaskEmpty=new gu(!1),this.onStable=new gu(!1),this.onError=new gu(!1),typeof Zone>"u")throw new Ge(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function _I(){let n=Le.requestAnimationFrame,i=Le.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function bI(n){const i=()=>{!function EI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Le,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,FE(n),n.isCheckStableRunning=!0,LE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),FE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,y,I)=>{try{return Vb(n),o.invokeTask(l,h,y,I)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),Ub(n)}},onInvoke:(o,u,l,h,y,I,T)=>{try{return Vb(n),o.invoke(l,h,y,I,T)}finally{n.shouldCoalesceRunChangeDetection&&i(),Ub(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,FE(n),LE(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mu.isInAngularZone())throw new Ge(909,!1)}static assertNotInAngularZone(){if(mu.isInAngularZone())throw new Ge(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+l,i,wI,Sl,Sl);try{return h.runTask(y,o,u)}finally{h.cancelTask(y)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const wI={};function LE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function FE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Vb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Ub(n){n._nesting--,LE(n)}class II{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gu,this.onMicrotaskEmpty=new gu,this.onStable=new gu,this.onError=new gu}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const Bb=new vr(""),jb=new vr("");let VE,DI=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,VE||(function CI(n){VE=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mu.assertNotInAngularZone(),PE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())PE(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(fe(mu),fe(Hb),fe(jb))},n.\u0275prov=Tn({token:n,factory:n.\u0275fac}),n})(),Hb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return VE?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Tn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Nd=null;const $b=new vr("AllowMultipleToken"),UE=new vr("PlatformDestroyListeners");class SI{constructor(i,o){this.name=i,this.token=o}}function Wb(n,i,o=[]){const u=`Platform: ${i}`,l=new vr(u);return(h=[])=>{let y=BE();if(!y||y.injector.get($b,!1)){const I=[...o,...h,{provide:l,useValue:!0}];n?n(I):function AI(n){if(Nd&&!Nd.get($b,!1))throw new Ge(400,!1);Nd=n;const i=n.get(Kb);(function zb(n){const i=n.get(Nb,null);i&&i.forEach(o=>o())})(n)}(function Gb(n=[],i){return ec.create({name:i,providers:[{provide:uu,useValue:"platform"},{provide:UE,useValue:new Set([()=>Nd=null])},...n]})}(I,u))}return function kI(n){const i=BE();if(!i)throw new Ge(401,!1);return i}()}}function BE(){return Nd?.get(Kb)??null}let Kb=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function qb(n,i){let o;return o="noop"===n?new II:("zone.js"===n?void 0:n)||new mu(i),o}(u?.ngZone,function Zb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:mu,useValue:l}];return l.run(()=>{const y=ec.create({providers:h,parent:this.injector,name:o.moduleType.name}),I=o.create(y),T=I.injector.get(rh,null);if(!T)throw new Ge(402,!1);return l.runOutsideAngular(()=>{const V=l.onError.subscribe({next:Z=>{T.handleError(Z)}});I.onDestroy(()=>{m0(this._modules,I),V.unsubscribe()})}),function Yb(n,i,o){try{const u=o();return Th(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(T,l,()=>{const V=I.injector.get(f0);return V.runInitializers(),V.donePromise.then(()=>(function l_(n){fn(n,"Expected localeId to be defined"),"string"==typeof n&&(u_=n.toLowerCase().replace(/_/g,"-"))}(I.injector.get(p0,wd)||wd),this._moduleDoBootstrap(I),I))})})}bootstrapModule(o,u=[]){const l=Qb({},u);return function xI(n,i,o){const u=new iy(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(g0);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Ge(403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(UE,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(fe(ec))},n.\u0275prov=Tn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Qb(n,i){return Array.isArray(i)?i.reduce(Qb,n):{...n,...i}}let g0=(()=>{class n{constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new A.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),y=new A.y(I=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{mu.assertNotInAngularZone(),PE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{mu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{T.unsubscribe(),V.unsubscribe()}});this.isStable=(0,Y.T)(h,y.pipe((0,K.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const l=o instanceof Oy;if(!this._injector.get(f0).done)throw!l&&vt(o),new Ge(405,false);let y;y=l?o:this._injector.get($a).resolveComponentFactory(o),this.componentTypes.push(y.componentType);const I=function TI(n){return n.isBoundToModule}(y)?void 0:this._injector.get(gc),V=y.create(ec.NULL,[],u||y.selector,I),Z=V.location.nativeElement,le=V.injector.get(Bb,null);return le?.registerApplication(Z),V.onDestroy(()=>{this.detachView(V.hostView),m0(this.components,V),le?.unregisterApplication(Z)}),this._loadComponent(V),V}tick(){if(this._runningTick)throw new Ge(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;m0(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Pb,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>m0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ge(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(fe(mu),fe(jl),fe(rh))},n.\u0275prov=Tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function m0(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let Xb=!0,eI=!1;function OI(){return eI=!0,Xb}function NI(){if(eI)throw new Error("Cannot enable prod mode after platform setup.");Xb=!1}let PI=(()=>{class n{}return n.__NG_ELEMENT_ID__=LI,n})();function LI(n){return function FI(n,i,o){if(is(n)&&!o){const u=Gn(n.index,i);return new sc(u,u)}return 47&n.type?new sc(i[16],i):null}(yr(),Dt(),16==(16&n))}class iI{constructor(){}supports(i){return oc(i)}create(i){return new $I(i)}}const HI=(n,i)=>i;class $I{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||HI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const y=!u||o&&o.currentIndex<oI(u,l,h)?o:u,I=oI(y,l,h),T=y.currentIndex;if(y===u)l--,u=u._nextRemoved;else if(o=o._next,null==y.previousIndex)l++;else{h||(h=[]);const V=I-l,Z=T-l;if(V!=Z){for(let Se=0;Se<V;Se++){const Je=Se<h.length?h[Se]:h[Se]=0,wt=Je+Se;Z<=wt&&wt<V&&(h[Se]=Je+1)}h[y.previousIndex]=Z-V}}I!==T&&i(y,I,T)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!oc(i))throw new Ge(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,y,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let I=0;I<this.length;I++)h=i[I],y=this._trackByFn(I,h),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,h,y,I)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,y,I),u=!0),o=o._next}else l=0,function Uu(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Vu()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,I=>{y=this._trackByFn(l,I),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,I,y,l)),Object.is(o.item,I)||this._addIdentityChange(o,I)):(o=this._mismatch(o,I,y,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new zI(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new sI),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sI),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class zI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class sI{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new WI,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oI(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class aI{constructor(){}supports(i){return i instanceof Map||ep(i)}create(){return new GI}}class GI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||ep(i)))throw new Ge(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,y=l._next;return h&&(h._next=y),y&&(y._prev=h),l._next=null,l._prev=null,l}const u=new KI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class KI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uI(){return new WE([new iI])}let WE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||uI()),deps:[[n,new Uo,new Pr]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Ge(901,!1)}}return n.\u0275prov=Tn({token:n,providedIn:"root",factory:uI}),n})();function lI(){return new GE([new aI])}let GE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||lI()),deps:[[n,new Uo,new Pr]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Ge(901,!1)}}return n.\u0275prov=Tn({token:n,providedIn:"root",factory:lI}),n})();const YI=Wb(null,"core",[]);let QI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(fe(g0))},n.\u0275mod=_n({type:n}),n.\u0275inj=ke({}),n})();function JI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(Ie,ae,C)=>{"use strict";C.d(ae,{Fj:()=>ut,u5:()=>Rs,JJ:()=>Pe,JL:()=>me,F:()=>Er,On:()=>Wr,eT:()=>Bs,_Y:()=>ur});var f=C(4650),m=C(6895),A=C(8996),Y=C(9751),K=C(4742),ee=C(8421),J=C(3269),re=C(5403),ue=C(3268),Q=C(1810),de=C(4004);let Ke=(()=>{class F{constructor(M,q){this._renderer=M,this._elementRef=q,this.onChange=at=>{},this.onTouched=()=>{}}setProperty(M,q){this._renderer.setProperty(this._elementRef.nativeElement,M,q)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return F.\u0275fac=function(M){return new(M||F)(f.Y36(f.Qsj),f.Y36(f.SBq))},F.\u0275dir=f.lG2({type:F}),F})(),Ue=(()=>{class F extends Ke{}return F.\u0275fac=function(){let O;return function(q){return(O||(O=f.n5z(F)))(q||F)}}(),F.\u0275dir=f.lG2({type:F,features:[f.qOj]}),F})();const Ge=new f.OlP("NgValueAccessor"),Me={provide:Ge,useExisting:(0,f.Gpc)(()=>ut),multi:!0},mt=new f.OlP("CompositionEventMode");let ut=(()=>{class F extends Ke{constructor(M,q,at){super(M,q),this._compositionMode=at,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Et(){const F=(0,m.q)()?(0,m.q)().getUserAgent():"";return/android (\d+)/.test(F.toLowerCase())}())}writeValue(M){this.setProperty("value",M??"")}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return F.\u0275fac=function(M){return new(M||F)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(mt,8))},F.\u0275dir=f.lG2({type:F,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,q){1&M&&f.NdJ("input",function(cn){return q._handleInput(cn.target.value)})("blur",function(){return q.onTouched()})("compositionstart",function(){return q._compositionStart()})("compositionend",function(cn){return q._compositionEnd(cn.target.value)})},features:[f._Bn([Me]),f.qOj]}),F})();const xe=new f.OlP("NgValidators"),$e=new f.OlP("NgAsyncValidators");function pn(F){return null!=F}function kn(F){return(0,f.QGY)(F)?(0,A.D)(F):F}function Rn(F){let O={};return F.forEach(M=>{O=null!=M?{...O,...M}:O}),0===Object.keys(O).length?null:O}function Tn(F,O){return O.map(M=>M(F))}function ke(F){return F.map(O=>function Mn(F){return!F.validate}(O)?O:M=>O.validate(M))}function qn(F){return null!=F?function tr(F){if(!F)return null;const O=F.filter(pn);return 0==O.length?null:function(M){return Rn(Tn(M,O))}}(ke(F)):null}function On(F){return null!=F?function dn(F){if(!F)return null;const O=F.filter(pn);return 0==O.length?null:function(M){return function ne(...F){const O=(0,J.jO)(F),{args:M,keys:q}=(0,K.D)(F),at=new Y.y(cn=>{const{length:nr}=M;if(!nr)return void cn.complete();const Vr=new Array(nr);let Di=nr,pi=nr;for(let so=0;so<nr;so++){let Ds=!1;(0,ee.Xf)(M[so]).subscribe((0,re.x)(cn,So=>{Ds||(Ds=!0,pi--),Vr[so]=So},()=>Di--,void 0,()=>{(!Di||!Ds)&&(pi||cn.next(q?(0,Q.n)(q,Vr):Vr),cn.complete())}))}});return O?at.pipe((0,ue.Z)(O)):at}(Tn(M,O).map(kn)).pipe((0,de.U)(Rn))}}(ke(F)):null}function fr(F,O){return null===F?[O]:Array.isArray(F)?[...F,O]:[F,O]}function ve(F){return F?Array.isArray(F)?F:[F]:[]}function Oe(F,O){return Array.isArray(F)?F.includes(O):F===O}function qe(F,O){const M=ve(O);return ve(F).forEach(at=>{Oe(M,at)||M.push(at)}),M}function st(F,O){return ve(O).filter(M=>!Oe(F,M))}class qt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=qn(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=On(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,M){return!!this.control&&this.control.hasError(O,M)}getError(O,M){return this.control?this.control.getError(O,M):null}}class Ut extends qt{get formDirective(){return null}get path(){return null}}class Bt extends qt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class St{constructor(O){this._cd=O}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pe=(()=>{class F extends St{constructor(M){super(M)}}return F.\u0275fac=function(M){return new(M||F)(f.Y36(Bt,2))},F.\u0275dir=f.lG2({type:F,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,q){2&M&&f.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)},features:[f.qOj]}),F})(),me=(()=>{class F extends St{constructor(M){super(M)}}return F.\u0275fac=function(M){return new(M||F)(f.Y36(Ut,10))},F.\u0275dir=f.lG2({type:F,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,q){2&M&&f.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)("ng-submitted",q.isSubmitted)},features:[f.qOj]}),F})();const _n="VALID",be="INVALID",ye="PENDING",De="DISABLED";function pe(F){return(vt(F)?F.validators:F)||null}function H(F){return Array.isArray(F)?qn(F):F||null}function ie(F,O){return(vt(O)?O.asyncValidators:F)||null}function Be(F){return Array.isArray(F)?On(F):F||null}function vt(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}class he{constructor(O,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=O,this._rawAsyncValidators=M,this._composedValidatorFn=H(this._rawValidators),this._composedAsyncValidatorFn=Be(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===_n}get invalid(){return this.status===be}get pending(){return this.status==ye}get disabled(){return this.status===De}get enabled(){return this.status!==De}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._rawValidators=O,this._composedValidatorFn=H(O)}setAsyncValidators(O){this._rawAsyncValidators=O,this._composedAsyncValidatorFn=Be(O)}addValidators(O){this.setValidators(qe(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(qe(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(st(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(st(O,this._rawAsyncValidators))}hasValidator(O){return Oe(this._rawValidators,O)}hasAsyncValidator(O){return Oe(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=ye,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const M=this._parentMarkedDirty(O.onlySelf);this.status=De,this.errors=null,this._forEachChild(q=>{q.disable({...O,onlySelf:!0})}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...O,skipPristineCheck:M}),this._onDisabledChange.forEach(q=>q(!0))}enable(O={}){const M=this._parentMarkedDirty(O.onlySelf);this.status=_n,this._forEachChild(q=>{q.enable({...O,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors({...O,skipPristineCheck:M}),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}getRawValue(){return this.value}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_n||this.status===ye)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?De:_n}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=ye,this._hasOwnPendingAsyncValidator=!0;const M=kn(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,M={}){this.errors=O,this._updateControlsErrors(!1!==M.emitEvent)}get(O){let M=O;return null==M||(Array.isArray(M)||(M=M.split(".")),0===M.length)?null:M.reduce((q,at)=>q&&q._find(at),this)}getError(O,M){const q=M?this.get(M):this;return q&&q.errors?q.errors[O]:null}hasError(O,M){return!!this.getError(O,M)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?De:this.errors?be:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ye)?ye:this._anyControlsHaveStatus(be)?be:_n}_anyControlsHaveStatus(O){return this._anyControls(M=>M.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){vt(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(O){return null}}class te extends he{constructor(O,M,q){super(pe(M),ie(q,M)),this.controls=O,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,M){return this.controls[O]?this.controls[O]:(this.controls[O]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(O,M,q={}){this.registerControl(O,M),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(O,M={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(O,M,q={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],M&&this.registerControl(O,M),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,M={}){(function jt(F,O,M){F._forEachChild((q,at)=>{if(void 0===M[at])throw new f.vHH(1002,"")})})(this,0,O),Object.keys(O).forEach(q=>{(function Lt(F,O,M){const q=F.controls;if(!(O?Object.keys(q):q).length)throw new f.vHH(1e3,"");if(!q[M])throw new f.vHH(1001,"")})(this,!0,q),this.controls[q].setValue(O[q],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(O,M={}){null!=O&&(Object.keys(O).forEach(q=>{const at=this.controls[q];at&&at.patchValue(O[q],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(O={},M={}){this._forEachChild((q,at)=>{q.reset(O[at],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(O,M,q)=>(O[q]=M.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(M,q)=>!!q._syncPendingControls()||M);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){Object.keys(this.controls).forEach(M=>{const q=this.controls[M];q&&O(q,M)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const[M,q]of Object.entries(this.controls))if(this.contains(M)&&O(q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(M,q,at)=>((q.enabled||this.disabled)&&(M[at]=q.value),M))}_reduceChildren(O,M){let q=O;return this._forEachChild((at,cn)=>{q=M(q,at,cn)}),q}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(O){return this.controls.hasOwnProperty(O)?this.controls[O]:null}}function An(F,O){yi(F,O),O.valueAccessor.writeValue(F.value),F.disabled&&O.valueAccessor.setDisabledState?.(!0),function rs(F,O){O.valueAccessor.registerOnChange(M=>{F._pendingValue=M,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&hr(F,O)})}(F,O),function Ki(F,O){const M=(q,at)=>{O.valueAccessor.writeValue(q),at&&O.viewToModelUpdate(q)};F.registerOnChange(M),O._registerOnDestroy(()=>{F._unregisterOnChange(M)})}(F,O),function Li(F,O){O.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&hr(F,O),"submit"!==F.updateOn&&F.markAsTouched()})}(F,O),function rn(F,O){if(O.valueAccessor.setDisabledState){const M=q=>{O.valueAccessor.setDisabledState(q)};F.registerOnDisabledChange(M),O._registerOnDestroy(()=>{F._unregisterOnDisabledChange(M)})}}(F,O)}function Br(F,O){F.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(O)})}function yi(F,O){const M=function or(F){return F._rawValidators}(F);null!==O.validator?F.setValidators(fr(M,O.validator)):"function"==typeof M&&F.setValidators([M]);const q=function Zt(F){return F._rawAsyncValidators}(F);null!==O.asyncValidator?F.setAsyncValidators(fr(q,O.asyncValidator)):"function"==typeof q&&F.setAsyncValidators([q]);const at=()=>F.updateValueAndValidity();Br(O._rawValidators,at),Br(O._rawAsyncValidators,at)}function hr(F,O){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}const wr={provide:Ut,useExisting:(0,f.Gpc)(()=>Er)},Bi=(()=>Promise.resolve())();let Er=(()=>{class F extends Ut{constructor(M,q){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new te({},qn(M),On(q))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(M){Bi.then(()=>{const q=this._findContainer(M.path);M.control=q.registerControl(M.name,M.control),An(M.control,M),M.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(M)})}getControl(M){return this.form.get(M.path)}removeControl(M){Bi.then(()=>{const q=this._findContainer(M.path);q&&q.removeControl(M.name),this._directives.delete(M)})}addFormGroup(M){Bi.then(()=>{const q=this._findContainer(M.path),at=new te({});(function Yr(F,O){yi(F,O)})(at,M),q.registerControl(M.name,at),at.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(M){Bi.then(()=>{const q=this._findContainer(M.path);q&&q.removeControl(M.name)})}getFormGroup(M){return this.form.get(M.path)}updateModel(M,q){Bi.then(()=>{this.form.get(M.path).setValue(q)})}setValue(M){this.control.setValue(M)}onSubmit(M){return this.submitted=!0,function Vi(F,O){F._syncPendingControls(),O.forEach(M=>{const q=M.control;"submit"===q.updateOn&&q._pendingChange&&(M.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(M){return M.pop(),M.length?this.form.get(M):this.form}}return F.\u0275fac=function(M){return new(M||F)(f.Y36(xe,10),f.Y36($e,10))},F.\u0275dir=f.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(M,q){1&M&&f.NdJ("submit",function(cn){return q.onSubmit(cn)})("reset",function(){return q.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([wr]),f.qOj]}),F})();function jr(F,O){const M=F.indexOf(O);M>-1&&F.splice(M,1)}function ji(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}const is=class extends he{constructor(O=null,M,q){super(pe(M),ie(q,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vt(M)&&(M.nonNullable||M.initialValueIsDefault)&&(this.defaultValue=ji(O)?O.value:O)}setValue(O,M={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(O,M={}){this.setValue(O,M)}reset(O=this.defaultValue,M={}){this._applyFormState(O),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){jr(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){jr(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){ji(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}},ar={provide:Bt,useExisting:(0,f.Gpc)(()=>Wr)},Cr=(()=>Promise.resolve())();let Wr=(()=>{class F extends Bt{constructor(M,q,at,cn,nr){super(),this._changeDetectorRef=nr,this.control=new is,this._registered=!1,this.update=new f.vpe,this._parent=M,this._setValidators(q),this._setAsyncValidators(at),this.valueAccessor=function ti(F,O){if(!O)return null;let M,q,at;return Array.isArray(O),O.forEach(cn=>{cn.constructor===ut?M=cn:function Fi(F){return Object.getPrototypeOf(F.constructor)===Ue}(cn)?q=cn:at=cn}),at||q||M||null}(0,cn)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const q=M.name.previousValue;this.formDirective.removeControl({name:q,path:this._getPath(q)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),function qi(F,O){if(!F.hasOwnProperty("model"))return!1;const M=F.model;return!!M.isFirstChange()||!Object.is(O,M.currentValue)}(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){An(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){Cr.then(()=>{this.control.setValue(M,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(M){const q=M.isDisabled.currentValue,at=0!==q&&(0,f.D6c)(q);Cr.then(()=>{at&&!this.control.disabled?this.control.disable():!at&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(M){return this._parent?function wn(F,O){return[...O.path,F]}(M,this._parent):[M]}}return F.\u0275fac=function(M){return new(M||F)(f.Y36(Ut,9),f.Y36(xe,10),f.Y36($e,10),f.Y36(Ge,10),f.Y36(f.sBO,8))},F.\u0275dir=f.lG2({type:F,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([ar]),f.qOj,f.TTD]}),F})(),ur=(()=>{class F{}return F.\u0275fac=function(M){return new(M||F)},F.\u0275dir=f.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),F})(),Aa=(()=>{class F{}return F.\u0275fac=function(M){return new(M||F)},F.\u0275mod=f.oAB({type:F}),F.\u0275inj=f.cJS({}),F})();const Eo={provide:Ge,useExisting:(0,f.Gpc)(()=>Bs),multi:!0};let Bs=(()=>{class F extends Ue{writeValue(M){this.setProperty("value",parseFloat(M))}registerOnChange(M){this.onChange=q=>{M(""==q?null:parseFloat(q))}}}return F.\u0275fac=function(){let O;return function(q){return(O||(O=f.n5z(F)))(q||F)}}(),F.\u0275dir=f.lG2({type:F,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(M,q){1&M&&f.NdJ("change",function(cn){return q.onChange(cn.target.value)})("input",function(cn){return q.onChange(cn.target.value)})("blur",function(){return q.onTouched()})},features:[f._Bn([Eo]),f.qOj]}),F})(),mn=(()=>{class F{}return F.\u0275fac=function(M){return new(M||F)},F.\u0275mod=f.oAB({type:F}),F.\u0275inj=f.cJS({imports:[Aa]}),F})(),Rs=(()=>{class F{}return F.\u0275fac=function(M){return new(M||F)},F.\u0275mod=f.oAB({type:F}),F.\u0275inj=f.cJS({imports:[mn]}),F})()},1481:(Ie,ae,C)=>{"use strict";C.d(ae,{Dx:()=>Pe,b2:()=>Ut,q6:()=>Oe});var f=C(6895),m=C(4650);class A extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Y extends A{static makeCurrent(){(0,f.HT)(new Y)}onAndCancel(te,se,je){return te.addEventListener(se,je,!1),()=>{te.removeEventListener(se,je,!1)}}dispatchEvent(te,se){te.dispatchEvent(se)}remove(te){te.parentNode&&te.parentNode.removeChild(te)}createElement(te,se){return(se=se||this.getDefaultDocument()).createElement(te)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(te){return te.nodeType===Node.ELEMENT_NODE}isShadowRoot(te){return te instanceof DocumentFragment}getGlobalEventTarget(te,se){return"window"===se?window:"document"===se?te:"body"===se?te.body:null}getBaseHref(te){const se=function ee(){return K=K||document.querySelector("base"),K?K.getAttribute("href"):null}();return null==se?null:function re(he){J=J||document.createElement("a"),J.setAttribute("href",he);const te=J.pathname;return"/"===te.charAt(0)?te:`/${te}`}(se)}resetBaseElement(){K=null}getUserAgent(){return window.navigator.userAgent}getCookie(te){return(0,f.Mx)(document.cookie,te)}}let J,K=null;const ue=new m.OlP("TRANSITION_ID"),ne=[{provide:m.ip1,useFactory:function Q(he,te,se){return()=>{se.get(m.CZH).donePromise.then(()=>{const je=(0,f.q)(),Xe=te.querySelectorAll(`style[ng-transition="${he}"]`);for(let Qt=0;Qt<Xe.length;Qt++)je.remove(Xe[Qt])})}},deps:[ue,f.K0,m.zs3],multi:!0}];let Ke=(()=>{class he{build(){return new XMLHttpRequest}}return he.\u0275fac=function(se){return new(se||he)},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac}),he})();const Ue=new m.OlP("EventManagerPlugins");let Ge=(()=>{class he{constructor(se,je){this._zone=je,this._eventNameToPlugin=new Map,se.forEach(Xe=>Xe.manager=this),this._plugins=se.slice().reverse()}addEventListener(se,je,Xe){return this._findPluginFor(je).addEventListener(se,je,Xe)}addGlobalEventListener(se,je,Xe){return this._findPluginFor(je).addGlobalEventListener(se,je,Xe)}getZone(){return this._zone}_findPluginFor(se){const je=this._eventNameToPlugin.get(se);if(je)return je;const Xe=this._plugins;for(let Qt=0;Qt<Xe.length;Qt++){const wn=Xe[Qt];if(wn.supports(se))return this._eventNameToPlugin.set(se,wn),wn}throw new Error(`No event manager plugin found for event ${se}`)}}return he.\u0275fac=function(se){return new(se||he)(m.LFG(Ue),m.LFG(m.R0b))},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac}),he})();class yt{constructor(te){this._doc=te}addGlobalEventListener(te,se,je){const Xe=(0,f.q)().getGlobalEventTarget(this._doc,te);if(!Xe)throw new Error(`Unsupported event target ${Xe} for event ${se}`);return this.addEventListener(Xe,se,je)}}let Qe=(()=>{class he{constructor(){this._stylesSet=new Set}addStyles(se){const je=new Set;se.forEach(Xe=>{this._stylesSet.has(Xe)||(this._stylesSet.add(Xe),je.add(Xe))}),this.onStylesAdded(je)}onStylesAdded(se){}getAllStyles(){return Array.from(this._stylesSet)}}return he.\u0275fac=function(se){return new(se||he)},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac}),he})(),Me=(()=>{class he extends Qe{constructor(se){super(),this._doc=se,this._hostNodes=new Map,this._hostNodes.set(se.head,[])}_addStylesToHost(se,je,Xe){se.forEach(Qt=>{const wn=this._doc.createElement("style");wn.textContent=Qt,Xe.push(je.appendChild(wn))})}addHost(se){const je=[];this._addStylesToHost(this._stylesSet,se,je),this._hostNodes.set(se,je)}removeHost(se){const je=this._hostNodes.get(se);je&&je.forEach(Et),this._hostNodes.delete(se)}onStylesAdded(se){this._hostNodes.forEach((je,Xe)=>{this._addStylesToHost(se,Xe,je)})}ngOnDestroy(){this._hostNodes.forEach(se=>se.forEach(Et))}}return he.\u0275fac=function(se){return new(se||he)(m.LFG(f.K0))},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac}),he})();function Et(he){(0,f.q)().remove(he)}const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ut=/%COMP%/g;function Te(he,te,se){for(let je=0;je<te.length;je++){let Xe=te[je];Array.isArray(Xe)?Te(he,Xe,se):(Xe=Xe.replace(ut,he),se.push(Xe))}return se}function Ae(he){return te=>{if("__ngUnwrap__"===te)return he;!1===he(te)&&(te.preventDefault(),te.returnValue=!1)}}let Ve=(()=>{class he{constructor(se,je,Xe){this.eventManager=se,this.sharedStylesHost=je,this.appId=Xe,this.rendererByCompId=new Map,this.defaultRenderer=new _t(se)}createRenderer(se,je){if(!se||!je)return this.defaultRenderer;switch(je.encapsulation){case m.ifc.Emulated:{let Xe=this.rendererByCompId.get(je.id);return Xe||(Xe=new fn(this.eventManager,this.sharedStylesHost,je,this.appId),this.rendererByCompId.set(je.id,Xe)),Xe.applyToHost(se),Xe}case 1:case m.ifc.ShadowDom:return new Rt(this.eventManager,this.sharedStylesHost,se,je);default:if(!this.rendererByCompId.has(je.id)){const Xe=Te(je.id,je.styles,[]);this.sharedStylesHost.addStyles(Xe),this.rendererByCompId.set(je.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return he.\u0275fac=function(se){return new(se||he)(m.LFG(Ge),m.LFG(Me),m.LFG(m.AFp))},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac}),he})();class _t{constructor(te){this.eventManager=te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(te,se){return se?document.createElementNS(mt[se]||se,te):document.createElement(te)}createComment(te){return document.createComment(te)}createText(te){return document.createTextNode(te)}appendChild(te,se){(hn(te)?te.content:te).appendChild(se)}insertBefore(te,se,je){te&&(hn(te)?te.content:te).insertBefore(se,je)}removeChild(te,se){te&&te.removeChild(se)}selectRootElement(te,se){let je="string"==typeof te?document.querySelector(te):te;if(!je)throw new Error(`The selector "${te}" did not match any elements`);return se||(je.textContent=""),je}parentNode(te){return te.parentNode}nextSibling(te){return te.nextSibling}setAttribute(te,se,je,Xe){if(Xe){se=Xe+":"+se;const Qt=mt[Xe];Qt?te.setAttributeNS(Qt,se,je):te.setAttribute(se,je)}else te.setAttribute(se,je)}removeAttribute(te,se,je){if(je){const Xe=mt[je];Xe?te.removeAttributeNS(Xe,se):te.removeAttribute(`${je}:${se}`)}else te.removeAttribute(se)}addClass(te,se){te.classList.add(se)}removeClass(te,se){te.classList.remove(se)}setStyle(te,se,je,Xe){Xe&(m.JOm.DashCase|m.JOm.Important)?te.style.setProperty(se,je,Xe&m.JOm.Important?"important":""):te.style[se]=je}removeStyle(te,se,je){je&m.JOm.DashCase?te.style.removeProperty(se):te.style[se]=""}setProperty(te,se,je){te[se]=je}setValue(te,se){te.nodeValue=se}listen(te,se,je){return"string"==typeof te?this.eventManager.addGlobalEventListener(te,se,Ae(je)):this.eventManager.addEventListener(te,se,Ae(je))}}function hn(he){return"TEMPLATE"===he.tagName&&void 0!==he.content}class fn extends _t{constructor(te,se,je,Xe){super(te),this.component=je;const Qt=Te(Xe+"-"+je.id,je.styles,[]);se.addStyles(Qt),this.contentAttr=function $e(he){return"_ngcontent-%COMP%".replace(ut,he)}(Xe+"-"+je.id),this.hostAttr=function Ye(he){return"_nghost-%COMP%".replace(ut,he)}(Xe+"-"+je.id)}applyToHost(te){super.setAttribute(te,this.hostAttr,"")}createElement(te,se){const je=super.createElement(te,se);return super.setAttribute(je,this.contentAttr,""),je}}class Rt extends _t{constructor(te,se,je,Xe){super(te),this.sharedStylesHost=se,this.hostEl=je,this.shadowRoot=je.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Qt=Te(Xe.id,Xe.styles,[]);for(let wn=0;wn<Qt.length;wn++){const An=document.createElement("style");An.textContent=Qt[wn],this.shadowRoot.appendChild(An)}}nodeOrShadowRoot(te){return te===this.hostEl?this.shadowRoot:te}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(te,se){return super.appendChild(this.nodeOrShadowRoot(te),se)}insertBefore(te,se,je){return super.insertBefore(this.nodeOrShadowRoot(te),se,je)}removeChild(te,se){return super.removeChild(this.nodeOrShadowRoot(te),se)}parentNode(te){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(te)))}}let pn=(()=>{class he extends yt{constructor(se){super(se)}supports(se){return!0}addEventListener(se,je,Xe){return se.addEventListener(je,Xe,!1),()=>this.removeEventListener(se,je,Xe)}removeEventListener(se,je,Xe){return se.removeEventListener(je,Xe)}}return he.\u0275fac=function(se){return new(se||he)(m.LFG(f.K0))},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac}),he})();const kn=["alt","control","meta","shift"],Rn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tn={alt:he=>he.altKey,control:he=>he.ctrlKey,meta:he=>he.metaKey,shift:he=>he.shiftKey};let Mn=(()=>{class he extends yt{constructor(se){super(se)}supports(se){return null!=he.parseEventName(se)}addEventListener(se,je,Xe){const Qt=he.parseEventName(je),wn=he.eventCallback(Qt.fullKey,Xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(se,Qt.domEventName,wn))}static parseEventName(se){const je=se.toLowerCase().split("."),Xe=je.shift();if(0===je.length||"keydown"!==Xe&&"keyup"!==Xe)return null;const Qt=he._normalizeKey(je.pop());let wn="",An=je.indexOf("code");if(An>-1&&(je.splice(An,1),wn="code."),kn.forEach(Br=>{const rn=je.indexOf(Br);rn>-1&&(je.splice(rn,1),wn+=Br+".")}),wn+=Qt,0!=je.length||0===Qt.length)return null;const dr={};return dr.domEventName=Xe,dr.fullKey=wn,dr}static matchEventFullKeyCode(se,je){let Xe=Rn[se.key]||se.key,Qt="";return je.indexOf("code.")>-1&&(Xe=se.code,Qt="code."),!(null==Xe||!Xe)&&(Xe=Xe.toLowerCase()," "===Xe?Xe="space":"."===Xe&&(Xe="dot"),kn.forEach(wn=>{wn!==Xe&&(0,Tn[wn])(se)&&(Qt+=wn+".")}),Qt+=Xe,Qt===je)}static eventCallback(se,je,Xe){return Qt=>{he.matchEventFullKeyCode(Qt,se)&&Xe.runGuarded(()=>je(Qt))}}static _normalizeKey(se){return"esc"===se?"escape":se}}return he.\u0275fac=function(se){return new(se||he)(m.LFG(f.K0))},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac}),he})();const Oe=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:f.bD},{provide:m.g9A,useValue:function fr(){Y.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function Zt(){return(0,m.RDi)(document),document},deps:[]}]),qe=new m.OlP(""),st=[{provide:m.rWj,useClass:class de{addToWindow(te){m.dqk.getAngularTestability=(je,Xe=!0)=>{const Qt=te.findTestabilityInTree(je,Xe);if(null==Qt)throw new Error("Could not find testability for element.");return Qt},m.dqk.getAllAngularTestabilities=()=>te.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>te.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(je=>{const Xe=m.dqk.getAllAngularTestabilities();let Qt=Xe.length,wn=!1;const An=function(dr){wn=wn||dr,Qt--,0==Qt&&je(wn)};Xe.forEach(function(dr){dr.whenStable(An)})})}findTestabilityInTree(te,se,je){return null==se?null:te.getTestability(se)??(je?(0,f.q)().isShadowRoot(se)?this.findTestabilityInTree(te,se.host,!0):this.findTestabilityInTree(te,se.parentElement,!0):null)}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],qt=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function or(){return new m.qLn},deps:[]},{provide:Ue,useClass:pn,multi:!0,deps:[f.K0,m.R0b,m.Lbi]},{provide:Ue,useClass:Mn,multi:!0,deps:[f.K0]},{provide:Ve,useClass:Ve,deps:[Ge,Me,m.AFp]},{provide:m.FYo,useExisting:Ve},{provide:Qe,useExisting:Me},{provide:Me,useClass:Me,deps:[f.K0]},{provide:Ge,useClass:Ge,deps:[Ue,m.R0b]},{provide:f.JF,useClass:Ke,deps:[]},[]];let Ut=(()=>{class he{constructor(se){}static withServerTransition(se){return{ngModule:he,providers:[{provide:m.AFp,useValue:se.appId},{provide:ue,useExisting:m.AFp},ne]}}}return he.\u0275fac=function(se){return new(se||he)(m.LFG(qe,12))},he.\u0275mod=m.oAB({type:he}),he.\u0275inj=m.cJS({providers:[...qt,...st],imports:[f.ez,m.hGG]}),he})(),Pe=(()=>{class he{constructor(se){this._doc=se}getTitle(){return this._doc.title}setTitle(se){this._doc.title=se||""}}return he.\u0275fac=function(se){return new(se||he)(m.LFG(f.K0))},he.\u0275prov=m.Yz7({token:he,factory:function(se){let je=null;return je=se?new se:function Wt(){return new Pe((0,m.LFG)(f.K0))}(),je},providedIn:"root"}),he})();typeof window<"u"&&window},2607:(Ie,ae,C)=>{"use strict";C.d(ae,{gz:()=>di,gk:()=>He,m2:()=>et,Q3:()=>lt,OD:()=>ge,F0:()=>si,yS:()=>Oo,Bz:()=>fs,lC:()=>_s});var f=C(4650),m=C(8996),A=C(9646),Y=C(1135),K=C(6805),ee=C(9751),J=C(4742),re=C(4671),ue=C(3268),Q=C(3269),ne=C(1810),de=C(5403),Ke=C(9672);function Ue(..._){const w=(0,Q.yG)(_),v=(0,Q.jO)(_),{args:S,keys:P}=(0,J.D)(_);if(0===S.length)return(0,m.D)([],w);const $=new ee.y(function Ge(_,w,v=re.y){return S=>{yt(w,()=>{const{length:P}=_,$=new Array(P);let ce=P,_e=P;for(let ct=0;ct<P;ct++)yt(w,()=>{const $t=(0,m.D)(_[ct],w);let Dn=!1;$t.subscribe((0,de.x)(S,Xt=>{$[ct]=Xt,Dn||(Dn=!0,_e--),_e||S.next(v($.slice()))},()=>{--ce||S.complete()}))},S)},S)}}(S,w,P?ce=>(0,ne.n)(P,ce):re.y));return v?$.pipe((0,ue.Z)(v)):$}function yt(_,w,v){_?(0,Ke.f)(v,_,w):w()}var Qe=C(7272),Me=C(8421);function Et(_){return new ee.y(w=>{(0,Me.Xf)(_()).subscribe(w)})}var mt=C(9635),ut=C(576);function nt(_,w){const v=(0,ut.m)(_)?_:()=>_,S=P=>P.error(v());return new ee.y(w?P=>w.schedule(S,0,P):S)}var We=C(515),ot=C(727),xe=C(4482);function $e(){return(0,xe.e)((_,w)=>{let v=null;_._refCount++;const S=(0,de.x)(w,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(v=null);const P=_._connection,$=v;v=null,P&&(!$||P===$)&&P.unsubscribe(),w.unsubscribe()});_.subscribe(S),S.closed||(v=_.connect())})}class Ye extends ee.y{constructor(w,v){super(),this.source=w,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,xe.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,w?.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new ot.w0;const v=this.getSubject();w.add(this.source.subscribe((0,de.x)(v,void 0,()=>{this._teardown(),v.complete()},S=>{this._teardown(),v.error(S)},()=>this._teardown()))),w.closed&&(this._connection=null,w=ot.w0.EMPTY)}return w}refCount(){return $e()(this)}}var Te=C(7579),Ae=C(6895),Re=C(4004),Ve=C(3900),_t=C(5698),It=C(8675),Yt=C(9300),hn=C(5577),fn=C(590),Rt=C(4351),pn=C(8505),kn=C(262),Rn=C(5026);function Tn(_){return _<=0?()=>We.E:(0,xe.e)((w,v)=>{let S=[];w.subscribe((0,de.x)(v,P=>{S.push(P),_<S.length&&S.shift()},()=>{for(const P of S)v.next(P);v.complete()},void 0,()=>{S=null}))})}var Mn=C(8068),ke=C(6590);function tr(_,w){const v=arguments.length>=2;return S=>S.pipe(_?(0,Yt.h)((P,$)=>_(P,$,S)):re.y,Tn(1),v?(0,ke.d)(w):(0,Mn.T)(()=>new K.K))}function On(_){return(0,xe.e)((w,v)=>{try{w.subscribe(v)}finally{v.add(_)}})}var fr=C(8189),or=C(1481);const Zt="primary",ve=Symbol("RouteTitle");class Oe{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const v=this.params[w];return Array.isArray(v)?v[0]:v}return null}getAll(w){if(this.has(w)){const v=this.params[w];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function qe(_){return new Oe(_)}function st(_,w,v){const S=v.path.split("/");if(S.length>_.length||"full"===v.pathMatch&&(w.hasChildren()||S.length<_.length))return null;const P={};for(let $=0;$<S.length;$++){const ce=S[$],_e=_[$];if(ce.startsWith(":"))P[ce.substring(1)]=_e;else if(ce!==_e.path)return null}return{consumed:_.slice(0,S.length),posParams:P}}function Ut(_,w){const v=_?Object.keys(_):void 0,S=w?Object.keys(w):void 0;if(!v||!S||v.length!=S.length)return!1;let P;for(let $=0;$<v.length;$++)if(P=v[$],!Bt(_[P],w[P]))return!1;return!0}function Bt(_,w){if(Array.isArray(_)&&Array.isArray(w)){if(_.length!==w.length)return!1;const v=[..._].sort(),S=[...w].sort();return v.every((P,$)=>S[$]===P)}return _===w}function St(_){return Array.prototype.concat.apply([],_)}function bn(_){return _.length>0?_[_.length-1]:null}function Pe(_,w){for(const v in _)_.hasOwnProperty(v)&&w(_[v],v)}function me(_){return(0,f.CqO)(_)?_:(0,f.QGY)(_)?(0,m.D)(Promise.resolve(_)):(0,A.of)(_)}const Le={exact:function xt(_,w,v){if(!At(_.segments,w.segments)||!ln(_.segments,w.segments,v)||_.numberOfChildren!==w.numberOfChildren)return!1;for(const S in w.children)if(!_.children[S]||!xt(_.children[S],w.children[S],v))return!1;return!0},subset:en},Vt={exact:function gn(_,w){return Ut(_,w)},subset:function yn(_,w){return Object.keys(w).length<=Object.keys(_).length&&Object.keys(w).every(v=>Bt(_[v],w[v]))},ignored:()=>!0};function Ot(_,w,v){return Le[v.paths](_.root,w.root,v.matrixParams)&&Vt[v.queryParams](_.queryParams,w.queryParams)&&!("exact"===v.fragment&&_.fragment!==w.fragment)}function en(_,w,v){return Sn(_,w,w.segments,v)}function Sn(_,w,v,S){if(_.segments.length>v.length){const P=_.segments.slice(0,v.length);return!(!At(P,v)||w.hasChildren()||!ln(P,v,S))}if(_.segments.length===v.length){if(!At(_.segments,v)||!ln(_.segments,v,S))return!1;for(const P in w.children)if(!_.children[P]||!en(_.children[P],w.children[P],S))return!1;return!0}{const P=v.slice(0,_.segments.length),$=v.slice(_.segments.length);return!!(At(_.segments,P)&&ln(_.segments,P,S)&&_.children[Zt])&&Sn(_.children[Zt],w,$,S)}}function ln(_,w,v){return w.every((S,P)=>Vt[v](_[P].parameters,S.parameters))}class Ft{constructor(w,v,S){this.root=w,this.queryParams=v,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qe(this.queryParams)),this._queryParamMap}toString(){return be.serialize(this)}}class Mt{constructor(w,v){this.segments=w,this.children=v,this.parent=null,Pe(v,(S,P)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ye(this)}}class Pt{constructor(w,v){this.path=w,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=qe(this.parameters)),this._parameterMap}toString(){return jt(this)}}function At(_,w){return _.length===w.length&&_.every((v,S)=>v.path===w[S].path)}let un=(()=>{class _{}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=f.Yz7({token:_,factory:function(){return new _n},providedIn:"root"}),_})();class _n{parse(w){const v=new dr(w);return new Ft(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(w){const v=`/${De(w.root,!0)}`,S=function te(_){const w=Object.keys(_).map(v=>{const S=_[v];return Array.isArray(S)?S.map(P=>`${H(v)}=${H(P)}`).join("&"):`${H(v)}=${H(S)}`}).filter(v=>!!v);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${v}${S}${"string"==typeof w.fragment?`#${function ie(_){return encodeURI(_)}(w.fragment)}`:""}`}}const be=new _n;function ye(_){return _.segments.map(w=>jt(w)).join("/")}function De(_,w){if(!_.hasChildren())return ye(_);if(w){const v=_.children[Zt]?De(_.children[Zt],!1):"",S=[];return Pe(_.children,(P,$)=>{$!==Zt&&S.push(`${$}:${De(P,!1)}`)}),S.length>0?`${v}(${S.join("//")})`:v}{const v=function an(_,w){let v=[];return Pe(_.children,(S,P)=>{P===Zt&&(v=v.concat(w(S,P)))}),Pe(_.children,(S,P)=>{P!==Zt&&(v=v.concat(w(S,P)))}),v}(_,(S,P)=>P===Zt?[De(_.children[Zt],!1)]:[`${P}:${De(S,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Zt]?`${ye(_)}/${v[0]}`:`${ye(_)}/(${v.join("//")})`}}function pe(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function H(_){return pe(_).replace(/%3B/gi,";")}function Be(_){return pe(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vt(_){return decodeURIComponent(_)}function Lt(_){return vt(_.replace(/\+/g,"%20"))}function jt(_){return`${Be(_.path)}${function he(_){return Object.keys(_).map(w=>`;${Be(w)}=${Be(_[w])}`).join("")}(_.parameters)}`}const se=/^[^\/()?;=#]+/;function je(_){const w=_.match(se);return w?w[0]:""}const Xe=/^[^=?&#]+/,wn=/^[^&#]+/;class dr{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(w.length>0||Object.keys(v).length>0)&&(S[Zt]=new Mt(w,v)),S}parseSegment(){const w=je(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(w),new Pt(vt(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const v=je(this.remaining);if(!v)return;this.capture(v);let S="";if(this.consumeOptional("=")){const P=je(this.remaining);P&&(S=P,this.capture(S))}w[vt(v)]=vt(S)}parseQueryParam(w){const v=function Qt(_){const w=_.match(Xe);return w?w[0]:""}(this.remaining);if(!v)return;this.capture(v);let S="";if(this.consumeOptional("=")){const ce=function An(_){const w=_.match(wn);return w?w[0]:""}(this.remaining);ce&&(S=ce,this.capture(S))}const P=Lt(v),$=Lt(S);if(w.hasOwnProperty(P)){let ce=w[P];Array.isArray(ce)||(ce=[ce],w[P]=ce),ce.push($)}else w[P]=$}parseParens(w){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=je(this.remaining),P=this.remaining[S.length];if("/"!==P&&")"!==P&&";"!==P)throw new f.vHH(4010,!1);let $;S.indexOf(":")>-1?($=S.slice(0,S.indexOf(":")),this.capture($),this.capture(":")):w&&($=Zt);const ce=this.parseChildren();v[$]=1===Object.keys(ce).length?ce[Zt]:new Mt([],ce),this.consumeOptional("//")}return v}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new f.vHH(4011,!1)}}function Br(_){return _.segments.length>0?new Mt([],{[Zt]:_}):_}function rn(_){const w={};for(const S of Object.keys(_.children)){const $=rn(_.children[S]);($.segments.length>0||$.hasChildren())&&(w[S]=$)}return function yi(_){if(1===_.numberOfChildren&&_.children[Zt]){const w=_.children[Zt];return new Mt(_.segments.concat(w.segments),w.children)}return _}(new Mt(_.segments,w))}function Mr(_){return _ instanceof Ft}function Yr(_,w,v,S,P){if(0===v.length)return Zi(w.root,w.root,w.root,S,P);const $=function qi(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new jo(!0,0,_);let w=0,v=!1;const S=_.reduce((P,$,ce)=>{if("object"==typeof $&&null!=$){if($.outlets){const _e={};return Pe($.outlets,(ct,$t)=>{_e[$t]="string"==typeof ct?ct.split("/"):ct}),[...P,{outlets:_e}]}if($.segmentPath)return[...P,$.segmentPath]}return"string"!=typeof $?[...P,$]:0===ce?($.split("/").forEach((_e,ct)=>{0==ct&&"."===_e||(0==ct&&""===_e?v=!0:".."===_e?w++:""!=_e&&P.push(_e))}),P):[...P,$]},[]);return new jo(v,w,S)}(v);return $.toRoot()?Zi(w.root,w.root,new Mt([],{}),S,P):function ce(ct){const $t=function ti(_,w,v,S){if(_.isAbsolute)return new Fi(w.root,!0,0);if(-1===S)return new Fi(v,v===w.root,0);return function Ui(_,w,v){let S=_,P=w,$=v;for(;$>P;){if($-=P,S=S.parent,!S)throw new f.vHH(4005,!1);P=S.segments.length}return new Fi(S,!1,P-$)}(v,S+(Nr(_.commands[0])?0:1),_.numberOfDoubleDots)}($,w,_.snapshot?._urlSegment,ct),Dn=$t.processChildren?Bi($t.segmentGroup,$t.index,$.commands):wr($t.segmentGroup,$t.index,$.commands);return Zi(w.root,$t.segmentGroup,Dn,S,P)}(_.snapshot?._lastPathIndex)}function Nr(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function _r(_){return"object"==typeof _&&null!=_&&_.outlets}function Zi(_,w,v,S,P){let ce,$={};S&&Pe(S,(ct,$t)=>{$[$t]=Array.isArray(ct)?ct.map(Dn=>`${Dn}`):`${ct}`}),ce=_===w?v:Wn(_,w,v);const _e=Br(rn(ce));return new Ft(_e,$,P)}function Wn(_,w,v){const S={};return Pe(_.children,(P,$)=>{S[$]=P===w?v:Wn(P,w,v)}),new Mt(_.segments,S)}class jo{constructor(w,v,S){if(this.isAbsolute=w,this.numberOfDoubleDots=v,this.commands=S,w&&S.length>0&&Nr(S[0]))throw new f.vHH(4003,!1);const P=S.find(_r);if(P&&P!==bn(S))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fi{constructor(w,v,S){this.segmentGroup=w,this.processChildren=v,this.index=S}}function wr(_,w,v){if(_||(_=new Mt([],{})),0===_.segments.length&&_.hasChildren())return Bi(_,w,v);const S=function Er(_,w,v){let S=0,P=w;const $={match:!1,pathIndex:0,commandIndex:0};for(;P<_.segments.length;){if(S>=v.length)return $;const ce=_.segments[P],_e=v[S];if(_r(_e))break;const ct=`${_e}`,$t=S<v.length-1?v[S+1]:null;if(P>0&&void 0===ct)break;if(ct&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!ss(ct,$t,ce))return $;S+=2}else{if(!ss(ct,{},ce))return $;S++}P++}return{match:!0,pathIndex:P,commandIndex:S}}(_,w,v),P=v.slice(S.commandIndex);if(S.match&&S.pathIndex<_.segments.length){const $=new Mt(_.segments.slice(0,S.pathIndex),{});return $.children[Zt]=new Mt(_.segments.slice(S.pathIndex),_.children),Bi($,0,P)}return S.match&&0===P.length?new Mt(_.segments,{}):S.match&&!_.hasChildren()?jr(_,w,v):S.match?Bi(_,0,P):jr(_,w,v)}function Bi(_,w,v){if(0===v.length)return new Mt(_.segments,{});{const S=function Yi(_){return _r(_[0])?_[0].outlets:{[Zt]:_}}(v),P={};return Pe(S,($,ce)=>{"string"==typeof $&&($=[$]),null!==$&&(P[ce]=wr(_.children[ce],w,$))}),Pe(_.children,($,ce)=>{void 0===S[ce]&&(P[ce]=$)}),new Mt(_.segments,P)}}function jr(_,w,v){const S=_.segments.slice(0,w);let P=0;for(;P<v.length;){const $=v[P];if(_r($)){const ct=ji($.outlets);return new Mt(S,ct)}if(0===P&&Nr(v[0])){S.push(new Pt(_.segments[w].path,is(v[0]))),P++;continue}const ce=_r($)?$.outlets[Zt]:`${$}`,_e=P<v.length-1?v[P+1]:null;ce&&_e&&Nr(_e)?(S.push(new Pt(ce,is(_e))),P+=2):(S.push(new Pt(ce,{})),P++)}return new Mt(S,{})}function ji(_){const w={};return Pe(_,(v,S)=>{"string"==typeof v&&(v=[v]),null!==v&&(w[S]=jr(new Mt([],{}),0,v))}),w}function is(_){const w={};return Pe(_,(v,S)=>w[S]=`${v}`),w}function ss(_,w,v){return _==v.path&&Ut(w,v.parameters)}class Dr{constructor(w,v){this.id=w,this.url=v}}class ge extends Dr{constructor(w,v,S="imperative",P=null){super(w,v),this.type=0,this.navigationTrigger=S,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class et extends Dr{constructor(w,v,S){super(w,v),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class He extends Dr{constructor(w,v,S,P){super(w,v),this.reason=S,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lt extends Dr{constructor(w,v,S,P){super(w,v),this.error=S,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ht extends Dr{constructor(w,v,S,P){super(w,v),this.urlAfterRedirects=S,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nt extends Dr{constructor(w,v,S,P){super(w,v),this.urlAfterRedirects=S,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qn extends Dr{constructor(w,v,S,P,$){super(w,v),this.urlAfterRedirects=S,this.state=P,this.shouldActivate=$,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ar extends Dr{constructor(w,v,S,P){super(w,v),this.urlAfterRedirects=S,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cr extends Dr{constructor(w,v,S,P){super(w,v),this.urlAfterRedirects=S,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wr{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ur{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fr{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hi{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class no{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wo{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Aa{constructor(w,v,S){this.routerEvent=w,this.position=v,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ms{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const v=this.pathFromRoot(w);return v.length>1?v[v.length-2]:null}children(w){const v=Eo(w,this._root);return v?v.children.map(S=>S.value):[]}firstChild(w){const v=Eo(w,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(w){const v=Bs(w,this._root);return v.length<2?[]:v[v.length-2].children.map(P=>P.value).filter(P=>P!==w)}pathFromRoot(w){return Bs(w,this._root).map(v=>v.value)}}function Eo(_,w){if(_===w.value)return w;for(const v of w.children){const S=Eo(_,v);if(S)return S}return null}function Bs(_,w){if(_===w.value)return[w];for(const v of w.children){const S=Bs(_,v);if(S.length)return S.unshift(w),S}return[]}class ci{constructor(w,v){this.value=w,this.children=v}toString(){return`TreeNode(${this.value})`}}function $o(_){const w={};return _&&_.children.forEach(v=>w[v.value.outlet]=v),w}class js extends Ms{constructor(w,v){super(w),this.snapshot=v,os(this,w)}toString(){return this.snapshot.toString()}}function Qr(_,w){const v=function ks(_,w){const ce=new vs([],{},{},"",{},Zt,w,null,_.root,-1,{});return new Io("",new ci(ce,[]))}(_,w),S=new Y.X([new Pt("",{})]),P=new Y.X({}),$=new Y.X({}),ce=new Y.X({}),_e=new Y.X(""),ct=new di(S,P,ce,_e,$,Zt,w,v.root);return ct.snapshot=v.root,new js(new ci(ct,[]),v)}class di{constructor(w,v,S,P,$,ce,_e,ct){this.url=w,this.params=v,this.queryParams=S,this.fragment=P,this.data=$,this.outlet=ce,this.component=_e,this.title=this.data?.pipe((0,Re.U)($t=>$t[ve]))??(0,A.of)(void 0),this._futureSnapshot=ct}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Re.U)(w=>qe(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Re.U)(w=>qe(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bo(_,w="emptyOnly"){const v=_.pathFromRoot;let S=0;if("always"!==w)for(S=v.length-1;S>=1;){const P=v[S],$=v[S-1];if(P.routeConfig&&""===P.routeConfig.path)S--;else{if($.component)break;S--}}return function zo(_){return _.reduce((w,v)=>({params:{...w.params,...v.params},data:{...w.data,...v.data},resolve:{...v.data,...w.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(S))}class vs{constructor(w,v,S,P,$,ce,_e,ct,$t,Dn,Xt,zn){this.url=w,this.params=v,this.queryParams=S,this.fragment=P,this.data=$,this.outlet=ce,this.component=_e,this.title=this.data?.[ve],this.routeConfig=ct,this._urlSegment=$t,this._lastPathIndex=Dn,this._correctedLastPathIndex=zn??Dn,this._resolve=Xt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Io extends Ms{constructor(w,v){super(v),this.url=w,os(this,v)}toString(){return Wo(this._root)}}function os(_,w){w.value._routerState=_,w.children.forEach(v=>os(_,v))}function Wo(_){const w=_.children.length>0?` { ${_.children.map(Wo).join(", ")} } `:"";return`${_.value}${w}`}function ni(_){if(_.snapshot){const w=_.snapshot,v=_._futureSnapshot;_.snapshot=v,Ut(w.queryParams,v.queryParams)||_.queryParams.next(v.queryParams),w.fragment!==v.fragment&&_.fragment.next(v.fragment),Ut(w.params,v.params)||_.params.next(v.params),function qt(_,w){if(_.length!==w.length)return!1;for(let v=0;v<_.length;++v)if(!Ut(_[v],w[v]))return!1;return!0}(w.url,v.url)||_.url.next(v.url),Ut(w.data,v.data)||_.data.next(v.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function vi(_,w){const v=Ut(_.params,w.params)&&function gt(_,w){return At(_,w)&&_.every((v,S)=>Ut(v.parameters,w[S].parameters))}(_.url,w.url);return v&&!(!_.parent!=!w.parent)&&(!_.parent||vi(_.parent,w.parent))}function fi(_,w,v){if(v&&_.shouldReuseRoute(w.value,v.value.snapshot)){const S=v.value;S._futureSnapshot=w.value;const P=function _i(_,w,v){return w.children.map(S=>{for(const P of v.children)if(_.shouldReuseRoute(S.value,P.value.snapshot))return fi(_,S,P);return fi(_,S)})}(_,w,v);return new ci(S,P)}{if(_.shouldAttach(w.value)){const $=_.retrieve(w.value);if(null!==$){const ce=$.route;return ce.value._futureSnapshot=w.value,ce.children=w.children.map(_e=>fi(_,_e)),ce}}const S=function as(_){return new di(new Y.X(_.url),new Y.X(_.params),new Y.X(_.queryParams),new Y.X(_.fragment),new Y.X(_.data),_.outlet,_.component,_)}(w.value),P=w.children.map($=>fi(_,$));return new ci(S,P)}}const Go="ngNavigationCancelingError";function Do(_,w){const{redirectTo:v,navigationBehaviorOptions:S}=Mr(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,P=Un(!1,0,w);return P.url=v,P.navigationBehaviorOptions=S,P}function Un(_,w,v){const S=new Error("NavigationCancelingError: "+(_||""));return S[Go]=!0,S.cancellationCode=w,v&&(S.url=v),S}function ro(_){return da(_)&&Mr(_.url)}function da(_){return _&&_[Go]}class Ai{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Tr,this.attachRef=null}}let Tr=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(v,S){const P=this.getOrCreateContext(v);P.outlet=S,this.contexts.set(v,P)}onChildOutletDestroyed(v){const S=this.getContext(v);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let S=this.getContext(v);return S||(S=new Ai,this.contexts.set(v,S)),S}getContext(v){return this.contexts.get(v)||null}}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const wi=!1;let _s=(()=>{class _{constructor(v,S,P,$,ce){this.parentContexts=v,this.location=S,this.changeDetector=$,this.environmentInjector=ce,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=P||Zt,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,wi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,wi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,wi);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,S){this.activated=v,this._activatedRoute=S,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,S){if(this.isActivated)throw new f.vHH(4013,wi);this._activatedRoute=v;const P=this.location,ce=v._futureSnapshot.component,_e=this.parentContexts.getOrCreateContext(this.name).children,ct=new Ei(v,_e,P.injector);if(S&&function Gn(_){return!!_.resolveComponentFactory}(S)){const $t=S.resolveComponentFactory(ce);this.activated=P.createComponent($t,P.length,ct)}else this.activated=P.createComponent(ce,{index:P.length,injector:ct,environmentInjector:S??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(v){return new(v||_)(f.Y36(Tr),f.Y36(f.s_b),f.$8M("name"),f.Y36(f.sBO),f.Y36(f.lqb))},_.\u0275dir=f.lG2({type:_,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),_})();class Ei{constructor(w,v,S){this.route=w,this.childContexts=v,this.parent=S}get(w,v){return w===di?this.route:w===Tr?this.childContexts:this.parent.get(w,v)}}let Hs=(()=>{class _{}return _.\u0275fac=function(v){return new(v||_)},_.\u0275cmp=f.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(v,S){1&v&&f._UZ(0,"router-outlet")},dependencies:[_s],encapsulation:2}),_})();function ws(_,w){return _.providers&&!_._injector&&(_._injector=(0,f.MMx)(_.providers,w,`Route: ${_.path}`)),_._injector??w}function us(_){const w=_.children&&_.children.map(us),v=w?{..._,children:w}:{..._};return!v.component&&!v.loadComponent&&(w||v.loadChildren)&&v.outlet&&v.outlet!==Zt&&(v.component=Hs),v}function Jr(_){return _.outlet||Zt}function $i(_,w){const v=_.filter(S=>Jr(S)===w);return v.push(..._.filter(S=>Jr(S)!==w)),v}function bs(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let w=_.parent;w;w=w.parent){const v=w.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class Dt{constructor(w,v,S,P){this.routeReuseStrategy=w,this.futureState=v,this.currState=S,this.forwardEvent=P}activate(w){const v=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,S,w),ni(this.futureState.root),this.activateChildRoutes(v,S,w)}deactivateChildRoutes(w,v,S){const P=$o(v);w.children.forEach($=>{const ce=$.value.outlet;this.deactivateRoutes($,P[ce],S),delete P[ce]}),Pe(P,($,ce)=>{this.deactivateRouteAndItsChildren($,S)})}deactivateRoutes(w,v,S){const P=w.value,$=v?v.value:null;if(P===$)if(P.component){const ce=S.getContext(P.outlet);ce&&this.deactivateChildRoutes(w,v,ce.children)}else this.deactivateChildRoutes(w,v,S);else $&&this.deactivateRouteAndItsChildren(v,S)}deactivateRouteAndItsChildren(w,v){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,v):this.deactivateRouteAndOutlet(w,v)}detachAndStoreRouteSubtree(w,v){const S=v.getContext(w.value.outlet),P=S&&w.value.component?S.children:v,$=$o(w);for(const ce of Object.keys($))this.deactivateRouteAndItsChildren($[ce],P);if(S&&S.outlet){const ce=S.outlet.detach(),_e=S.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:ce,route:w,contexts:_e})}}deactivateRouteAndOutlet(w,v){const S=v.getContext(w.value.outlet),P=S&&w.value.component?S.children:v,$=$o(w);for(const ce of Object.keys($))this.deactivateRouteAndItsChildren($[ce],P);S&&S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated(),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(w,v,S){const P=$o(v);w.children.forEach($=>{this.activateRoutes($,P[$.value.outlet],S),this.forwardEvent(new wo($.value.snapshot))}),w.children.length&&this.forwardEvent(new Hi(w.value.snapshot))}activateRoutes(w,v,S){const P=w.value,$=v?v.value:null;if(ni(P),P===$)if(P.component){const ce=S.getOrCreateContext(P.outlet);this.activateChildRoutes(w,v,ce.children)}else this.activateChildRoutes(w,v,S);else if(P.component){const ce=S.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const _e=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),ce.children.onOutletReAttached(_e.contexts),ce.attachRef=_e.componentRef,ce.route=_e.route.value,ce.outlet&&ce.outlet.attach(_e.componentRef,_e.route.value),ni(_e.route.value),this.activateChildRoutes(w,null,ce.children)}else{const _e=bs(P.snapshot),ct=_e?.get(f._Vd)??null;ce.attachRef=null,ce.route=P,ce.resolver=ct,ce.injector=_e,ce.outlet&&ce.outlet.activateWith(P,ce.injector),this.activateChildRoutes(w,null,ce.children)}}else this.activateChildRoutes(w,null,S)}}class mn{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class Rs{constructor(w,v){this.component=w,this.route=v}}function kr(_,w,v){const S=_._root;return Is(S,w?w._root:null,v,[S.value])}function Qi(_,w){const v=Symbol(),S=w.get(_,v);return S===v?"function"!=typeof _||(0,f.Z0I)(_)?w.get(_):_:S}function Is(_,w,v,S,P={canDeactivateChecks:[],canActivateChecks:[]}){const $=$o(w);return _.children.forEach(ce=>{(function ri(_,w,v,S,P={canDeactivateChecks:[],canActivateChecks:[]}){const $=_.value,ce=w?w.value:null,_e=v?v.getContext(_.value.outlet):null;if(ce&&$.routeConfig===ce.routeConfig){const ct=function xo(_,w,v){if("function"==typeof v)return v(_,w);switch(v){case"pathParamsChange":return!At(_.url,w.url);case"pathParamsOrQueryParamsChange":return!At(_.url,w.url)||!Ut(_.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vi(_,w)||!Ut(_.queryParams,w.queryParams);default:return!vi(_,w)}}(ce,$,$.routeConfig.runGuardsAndResolvers);ct?P.canActivateChecks.push(new mn(S)):($.data=ce.data,$._resolvedData=ce._resolvedData),Is(_,w,$.component?_e?_e.children:null:v,S,P),ct&&_e&&_e.outlet&&_e.outlet.isActivated&&P.canDeactivateChecks.push(new Rs(_e.outlet.component,ce))}else ce&&xr(w,_e,P),P.canActivateChecks.push(new mn(S)),Is(_,null,$.component?_e?_e.children:null:v,S,P)})(ce,$[ce.value.outlet],v,S.concat([ce.value]),P),delete $[ce.value.outlet]}),Pe($,(ce,_e)=>xr(ce,v.getContext(_e),P)),P}function xr(_,w,v){const S=$o(_),P=_.value;Pe(S,($,ce)=>{xr($,P.component?w?w.children.getContext(ce):null:w,v)}),v.canDeactivateChecks.push(new Rs(P.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,P))}function To(_){return"function"==typeof _}function Vr(_){return _ instanceof K.K||"EmptyError"===_?.name}const Di=Symbol("INITIAL_VALUE");function pi(){return(0,Ve.w)(_=>Ue(_.map(w=>w.pipe((0,_t.q)(1),(0,It.O)(Di)))).pipe((0,Re.U)(w=>{for(const v of w)if(!0!==v){if(v===Di)return Di;if(!1===v||v instanceof Ft)return v}return!0}),(0,Yt.h)(w=>w!==Di),(0,_t.q)(1)))}function zs(_){return(0,mt.z)((0,pn.b)(w=>{if(Mr(w))throw Do(0,w)}),(0,Re.U)(w=>!0===w))}const x={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function B(_,w,v,S,P){const $=R(_,w,v);return $.matched?function Ya(_,w,v,S){const P=w.canMatch;if(!P||0===P.length)return(0,A.of)(!0);const $=P.map(ce=>{const _e=Qi(ce,_);return me(function at(_){return _&&To(_.canMatch)}(_e)?_e.canMatch(w,v):_.runInContext(()=>_e(w,v)))});return(0,A.of)($).pipe(pi(),zs())}(S=ws(w,S),w,v).pipe((0,Re.U)(ce=>!0===ce?$:{...x})):(0,A.of)($)}function R(_,w,v){if(""===w.path)return"full"===w.pathMatch&&(_.hasChildren()||v.length>0)?{...x}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const P=(w.matcher||st)(v,_,w);if(!P)return{...x};const $={};Pe(P.posParams,(_e,ct)=>{$[ct]=_e.path});const ce=P.consumed.length>0?{...$,...P.consumed[P.consumed.length-1].parameters}:$;return{matched:!0,consumedSegments:P.consumed,remainingSegments:v.slice(P.consumed.length),parameters:ce,positionalParamSegments:P.posParams??{}}}function W(_,w,v,S,P="corrected"){if(v.length>0&&function ft(_,w,v){return v.some(S=>Kn(_,w,S)&&Jr(S)!==Zt)}(_,v,S)){const ce=new Mt(w,function tt(_,w,v,S){const P={};P[Zt]=S,S._sourceSegment=_,S._segmentIndexShift=w.length;for(const $ of v)if(""===$.path&&Jr($)!==Zt){const ce=new Mt([],{});ce._sourceSegment=_,ce._segmentIndexShift=w.length,P[Jr($)]=ce}return P}(_,w,S,new Mt(v,_.children)));return ce._sourceSegment=_,ce._segmentIndexShift=w.length,{segmentGroup:ce,slicedSegments:[]}}if(0===v.length&&function sn(_,w,v){return v.some(S=>Kn(_,w,S))}(_,v,S)){const ce=new Mt(_.segments,function we(_,w,v,S,P,$){const ce={};for(const _e of S)if(Kn(_,v,_e)&&!P[Jr(_e)]){const ct=new Mt([],{});ct._sourceSegment=_,ct._segmentIndexShift="legacy"===$?_.segments.length:w.length,ce[Jr(_e)]=ct}return{...P,...ce}}(_,w,v,S,_.children,P));return ce._sourceSegment=_,ce._segmentIndexShift=w.length,{segmentGroup:ce,slicedSegments:v}}const $=new Mt(_.segments,_.children);return $._sourceSegment=_,$._segmentIndexShift=w.length,{segmentGroup:$,slicedSegments:v}}function Kn(_,w,v){return(!(_.hasChildren()||w.length>0)||"full"!==v.pathMatch)&&""===v.path}function rr(_,w,v,S){return!!(Jr(_)===S||S!==Zt&&Kn(w,v,_))&&("**"===_.path||R(w,_,v).matched)}function er(_,w,v){return 0===w.length&&!_.children[v]}const Bn=!1;class Rr{constructor(w){this.segmentGroup=w||null}}class lr{constructor(w){this.urlTree=w}}function br(_){return nt(new Rr(_))}function ls(_){return nt(new lr(_))}class Mi{constructor(w,v,S,P,$){this.injector=w,this.configLoader=v,this.urlSerializer=S,this.urlTree=P,this.config=$,this.allowRedirects=!0}apply(){const w=W(this.urlTree.root,[],[],this.config).segmentGroup,v=new Mt(w.segments,w.children);return this.expandSegmentGroup(this.injector,this.config,v,Zt).pipe((0,Re.U)($=>this.createUrlTree(rn($),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,kn.K)($=>{if($ instanceof lr)return this.allowRedirects=!1,this.match($.urlTree);throw $ instanceof Rr?this.noMatchError($):$}))}match(w){return this.expandSegmentGroup(this.injector,this.config,w.root,Zt).pipe((0,Re.U)(P=>this.createUrlTree(rn(P),w.queryParams,w.fragment))).pipe((0,kn.K)(P=>{throw P instanceof Rr?this.noMatchError(P):P}))}noMatchError(w){return new f.vHH(4002,Bn)}createUrlTree(w,v,S){const P=Br(w);return new Ft(P,v,S)}expandSegmentGroup(w,v,S,P){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(w,v,S).pipe((0,Re.U)($=>new Mt([],$))):this.expandSegment(w,S,v,S.segments,P,!0)}expandChildren(w,v,S){const P=[];for(const $ of Object.keys(S.children))"primary"===$?P.unshift($):P.push($);return(0,m.D)(P).pipe((0,Rt.b)($=>{const ce=S.children[$],_e=$i(v,$);return this.expandSegmentGroup(w,_e,ce,$).pipe((0,Re.U)(ct=>({segment:ct,outlet:$})))}),(0,Rn.R)(($,ce)=>($[ce.outlet]=ce.segment,$),{}),tr())}expandSegment(w,v,S,P,$,ce){return(0,m.D)(S).pipe((0,Rt.b)(_e=>this.expandSegmentAgainstRoute(w,v,S,_e,P,$,ce).pipe((0,kn.K)($t=>{if($t instanceof Rr)return(0,A.of)(null);throw $t}))),(0,fn.P)(_e=>!!_e),(0,kn.K)((_e,ct)=>{if(Vr(_e))return er(v,P,$)?(0,A.of)(new Mt([],{})):br(v);throw _e}))}expandSegmentAgainstRoute(w,v,S,P,$,ce,_e){return rr(P,v,$,ce)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(w,v,P,$,ce):_e&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,v,S,P,$,ce):br(v):br(v)}expandSegmentAgainstRouteUsingRedirect(w,v,S,P,$,ce){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,S,P,ce):this.expandRegularSegmentAgainstRouteUsingRedirect(w,v,S,P,$,ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,v,S,P){const $=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?ls($):this.lineralizeSegments(S,$).pipe((0,hn.z)(ce=>{const _e=new Mt(ce,{});return this.expandSegment(w,_e,v,ce,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,v,S,P,$,ce){const{matched:_e,consumedSegments:ct,remainingSegments:$t,positionalParamSegments:Dn}=R(v,P,$);if(!_e)return br(v);const Xt=this.applyRedirectCommands(ct,P.redirectTo,Dn);return P.redirectTo.startsWith("/")?ls(Xt):this.lineralizeSegments(P,Xt).pipe((0,hn.z)(zn=>this.expandSegment(w,v,S,zn.concat($t),ce,!1)))}matchSegmentAgainstRoute(w,v,S,P,$){return"**"===S.path?(w=ws(S,w),S.loadChildren?(S._loadedRoutes?(0,A.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):this.configLoader.loadChildren(w,S)).pipe((0,Re.U)(_e=>(S._loadedRoutes=_e.routes,S._loadedInjector=_e.injector,new Mt(P,{})))):(0,A.of)(new Mt(P,{}))):B(v,S,P,w).pipe((0,Ve.w)(({matched:ce,consumedSegments:_e,remainingSegments:ct})=>ce?this.getChildConfig(w=S._injector??w,S,P).pipe((0,hn.z)(Dn=>{const Xt=Dn.injector??w,zn=Dn.routes,{segmentGroup:zi,slicedSegments:ts}=W(v,_e,ct,zn),Js=new Mt(zi.segments,zi.children);if(0===ts.length&&Js.hasChildren())return this.expandChildren(Xt,zn,Js).pipe((0,Re.U)(k=>new Mt(_e,k)));if(0===zn.length&&0===ts.length)return(0,A.of)(new Mt(_e,{}));const ns=Jr(S)===$;return this.expandSegment(Xt,Js,zn,ts,ns?Zt:$,!0).pipe((0,Re.U)(Vo=>new Mt(_e.concat(Vo.segments),Vo.children)))})):br(v)))}getChildConfig(w,v,S){return v.children?(0,A.of)({routes:v.children,injector:w}):v.loadChildren?void 0!==v._loadedRoutes?(0,A.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function yu(_,w,v,S){const P=w.canLoad;if(void 0===P||0===P.length)return(0,A.of)(!0);const $=P.map(ce=>{const _e=Qi(ce,_);return me(function F(_){return _&&To(_.canLoad)}(_e)?_e.canLoad(w,v):_.runInContext(()=>_e(w,v)))});return(0,A.of)($).pipe(pi(),zs())}(w,v,S).pipe((0,hn.z)(P=>P?this.configLoader.loadChildren(w,v).pipe((0,pn.b)($=>{v._loadedRoutes=$.routes,v._loadedInjector=$.injector})):function ds(_){return nt(Un(Bn,3))}())):(0,A.of)({routes:[],injector:w})}lineralizeSegments(w,v){let S=[],P=v.root;for(;;){if(S=S.concat(P.segments),0===P.numberOfChildren)return(0,A.of)(S);if(P.numberOfChildren>1||!P.children[Zt])return nt(new f.vHH(4e3,Bn));P=P.children[Zt]}}applyRedirectCommands(w,v,S){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),w,S)}applyRedirectCreateUrlTree(w,v,S,P){const $=this.createSegmentGroup(w,v.root,S,P);return new Ft($,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(w,v){const S={};return Pe(w,(P,$)=>{if("string"==typeof P&&P.startsWith(":")){const _e=P.substring(1);S[$]=v[_e]}else S[$]=P}),S}createSegmentGroup(w,v,S,P){const $=this.createSegments(w,v.segments,S,P);let ce={};return Pe(v.children,(_e,ct)=>{ce[ct]=this.createSegmentGroup(w,_e,S,P)}),new Mt($,ce)}createSegments(w,v,S,P){return v.map($=>$.path.startsWith(":")?this.findPosParam(w,$,P):this.findOrReturn($,S))}findPosParam(w,v,S){const P=S[v.path.substring(1)];if(!P)throw new f.vHH(4001,Bn);return P}findOrReturn(w,v){let S=0;for(const P of v){if(P.path===w.path)return v.splice(S),P;S++}return w}}class vu{}class _u{constructor(w,v,S,P,$,ce,_e,ct){this.injector=w,this.rootComponentType=v,this.config=S,this.urlTree=P,this.url=$,this.paramsInheritanceStrategy=ce,this.relativeLinkResolution=_e,this.urlSerializer=ct}recognize(){const w=W(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,w,Zt).pipe((0,Re.U)(v=>{if(null===v)return null;const S=new vs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new ci(S,v),$=new Io(this.url,P);return this.inheritParamsAndData($._root),$}))}inheritParamsAndData(w){const v=w.value,S=bo(v,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data),w.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(w,v,S,P){return 0===S.segments.length&&S.hasChildren()?this.processChildren(w,v,S):this.processSegment(w,v,S,S.segments,P)}processChildren(w,v,S){return(0,m.D)(Object.keys(S.children)).pipe((0,Rt.b)(P=>{const $=S.children[P],ce=$i(v,P);return this.processSegmentGroup(w,ce,$,P)}),(0,Rn.R)((P,$)=>P&&$?(P.push(...$),P):null),function qn(_,w=!1){return(0,xe.e)((v,S)=>{let P=0;v.subscribe((0,de.x)(S,$=>{const ce=_($,P++);(ce||w)&&S.next($),!ce&&S.complete()}))})}(P=>null!==P),(0,ke.d)(null),tr(),(0,Re.U)(P=>{if(null===P)return null;const $=Ps(P);return function Ma(_){_.sort((w,v)=>w.value.outlet===Zt?-1:v.value.outlet===Zt?1:w.value.outlet.localeCompare(v.value.outlet))}($),$}))}processSegment(w,v,S,P,$){return(0,m.D)(v).pipe((0,Rt.b)(ce=>this.processSegmentAgainstRoute(ce._injector??w,ce,S,P,$)),(0,fn.P)(ce=>!!ce),(0,kn.K)(ce=>{if(Vr(ce))return er(S,P,$)?(0,A.of)([]):(0,A.of)(null);throw ce}))}processSegmentAgainstRoute(w,v,S,P,$){if(v.redirectTo||!rr(v,S,P,$))return(0,A.of)(null);let ce;if("**"===v.path){const _e=P.length>0?bn(P).parameters:{},ct=ka(S)+P.length,$t=new vs(P,_e,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Zu(v),Jr(v),v.component??v._loadedComponent??null,v,wu(S),ct,Xr(v),ct);ce=(0,A.of)({snapshot:$t,consumedSegments:[],remainingSegments:[]})}else ce=B(S,v,P,w).pipe((0,Re.U)(({matched:_e,consumedSegments:ct,remainingSegments:$t,parameters:Dn})=>{if(!_e)return null;const Xt=ka(S)+ct.length;return{snapshot:new vs(ct,Dn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Zu(v),Jr(v),v.component??v._loadedComponent??null,v,wu(S),Xt,Xr(v),Xt),consumedSegments:ct,remainingSegments:$t}}));return ce.pipe((0,Ve.w)(_e=>{if(null===_e)return(0,A.of)(null);const{snapshot:ct,consumedSegments:$t,remainingSegments:Dn}=_e;w=v._injector??w;const Xt=v._loadedInjector??w,zn=function ii(_){return _.children?_.children:_.loadChildren?_._loadedRoutes:[]}(v),{segmentGroup:zi,slicedSegments:ts}=W(S,$t,Dn,zn.filter(ns=>void 0===ns.redirectTo),this.relativeLinkResolution);if(0===ts.length&&zi.hasChildren())return this.processChildren(Xt,zn,zi).pipe((0,Re.U)(ns=>null===ns?null:[new ci(ct,ns)]));if(0===zn.length&&0===ts.length)return(0,A.of)([new ci(ct,[])]);const Js=Jr(v)===$;return this.processSegment(Xt,zn,zi,ts,Js?Zt:$).pipe((0,Re.U)(ns=>null===ns?null:[new ci(ct,ns)]))}))}}function gi(_){const w=_.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function Ps(_){const w=[],v=new Set;for(const S of _){if(!gi(S)){w.push(S);continue}const P=w.find($=>S.value.routeConfig===$.value.routeConfig);void 0!==P?(P.children.push(...S.children),v.add(P)):w.push(S)}for(const S of v){const P=Ps(S.children);w.push(new ci(S.value,P))}return w.filter(S=>!v.has(S))}function wu(_){let w=_;for(;w._sourceSegment;)w=w._sourceSegment;return w}function ka(_){let w=_,v=w._segmentIndexShift??0;for(;w._sourceSegment;)w=w._sourceSegment,v+=w._segmentIndexShift??0;return v-1}function Zu(_){return _.data||{}}function Xr(_){return _.resolve||{}}function Ar(_){return"string"==typeof _.title||null===_.title}function Oa(_){return(0,Ve.w)(w=>{const v=_(w);return v?(0,m.D)(v).pipe((0,Re.U)(()=>w)):(0,A.of)(w)})}let Ci=(()=>{class _{buildTitle(v){let S,P=v.root;for(;void 0!==P;)S=this.getResolvedTitleForRoute(P)??S,P=P.children.find($=>$.outlet===Zt);return S}getResolvedTitleForRoute(v){return v.data[ve]}}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=f.Yz7({token:_,factory:function(){return(0,f.f3M)(Ja)},providedIn:"root"}),_})(),Ja=(()=>{class _ extends Ci{constructor(v){super(),this.title=v}updateTitle(v){const S=this.buildTitle(v);void 0!==S&&this.title.setTitle(S)}}return _.\u0275fac=function(v){return new(v||_)(f.LFG(or.Dx))},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class Yo{}class ga extends class Xa{shouldDetach(w){return!1}store(w,v){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,v){return w.routeConfig===v.routeConfig}}{}const Gs=new f.OlP("",{providedIn:"root",factory:()=>({})}),ko=new f.OlP("ROUTES");let Ji=(()=>{class _{constructor(v,S){this.injector=v,this.compiler=S,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,A.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const S=me(v.loadComponent()).pipe((0,pn.b)($=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=$}),On(()=>{this.componentLoaders.delete(v)})),P=new Ye(S,()=>new Te.x).pipe($e());return this.componentLoaders.set(v,P),P}loadChildren(v,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,A.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const $=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,Re.U)(_e=>{this.onLoadEndListener&&this.onLoadEndListener(S);let ct,$t,Dn=!1;Array.isArray(_e)?$t=_e:(ct=_e.create(v).injector,$t=St(ct.get(ko,[],f.XFs.Self|f.XFs.Optional)));return{routes:$t.map(us),injector:ct}}),On(()=>{this.childrenLoaders.delete(S)})),ce=new Ye($,()=>new Te.x).pipe($e());return this.childrenLoaders.set(S,ce),ce}loadModuleFactoryOrRoutes(v){return me(v()).pipe((0,hn.z)(S=>S instanceof f.YKP||Array.isArray(S)?(0,A.of)(S):(0,m.D)(this.compiler.compileModuleAsync(S))))}}return _.\u0275fac=function(v){return new(v||_)(f.LFG(f.zs3),f.LFG(f.Sil))},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class Yu{}class Na{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,v){return w}}function Ks(_){throw _}function eu(_,w,v){return w.parse("/")}const Jo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function xi(){const _=(0,f.f3M)(un),w=(0,f.f3M)(Tr),v=(0,f.f3M)(Ae.Ye),S=(0,f.f3M)(f.zs3),P=(0,f.f3M)(f.Sil),$=(0,f.f3M)(ko,{optional:!0})??[],ce=(0,f.f3M)(Gs,{optional:!0})??{},_e=(0,f.f3M)(Ja),ct=(0,f.f3M)(Ci,{optional:!0}),$t=(0,f.f3M)(Yu,{optional:!0}),Dn=(0,f.f3M)(Yo,{optional:!0}),Xt=new si(null,_,w,v,S,P,St($));return $t&&(Xt.urlHandlingStrategy=$t),Dn&&(Xt.routeReuseStrategy=Dn),Xt.titleStrategy=ct??_e,function Ro(_,w){_.errorHandler&&(w.errorHandler=_.errorHandler),_.malformedUriErrorHandler&&(w.malformedUriErrorHandler=_.malformedUriErrorHandler),_.onSameUrlNavigation&&(w.onSameUrlNavigation=_.onSameUrlNavigation),_.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=_.paramsInheritanceStrategy),_.relativeLinkResolution&&(w.relativeLinkResolution=_.relativeLinkResolution),_.urlUpdateStrategy&&(w.urlUpdateStrategy=_.urlUpdateStrategy),_.canceledNavigationResolution&&(w.canceledNavigationResolution=_.canceledNavigationResolution)}(ce,Xt),Xt}let si=(()=>{class _{constructor(v,S,P,$,ce,_e,ct){this.rootComponentType=v,this.urlSerializer=S,this.rootContexts=P,this.location=$,this.config=ct,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Te.x,this.errorHandler=Ks,this.malformedUriErrorHandler=eu,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,A.of)(void 0),this.urlHandlingStrategy=new Na,this.routeReuseStrategy=new ga,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ce.get(Ji),this.configLoader.onLoadEndListener=zn=>this.triggerEvent(new ur(zn)),this.configLoader.onLoadStartListener=zn=>this.triggerEvent(new Wr(zn)),this.ngModule=ce.get(f.h0i),this.console=ce.get(f.c2e);const Xt=ce.get(f.R0b);this.isNgZoneEnabled=Xt instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(ct),this.currentUrlTree=function ze(){return new Ft(new Mt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qr(this.currentUrlTree,this.rootComponentType),this.transitions=new Y.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(v){const S=this.events;return v.pipe((0,Yt.h)(P=>0!==P.id),(0,Re.U)(P=>({...P,extractedUrl:this.urlHandlingStrategy.extract(P.rawUrl)})),(0,Ve.w)(P=>{let $=!1,ce=!1;return(0,A.of)(P).pipe((0,pn.b)(_e=>{this.currentNavigation={id:_e.id,initialUrl:_e.rawUrl,extractedUrl:_e.extractedUrl,trigger:_e.source,extras:_e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ve.w)(_e=>{const ct=this.browserUrlTree.toString(),$t=!this.navigated||_e.extractedUrl.toString()!==ct||ct!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||$t)&&this.urlHandlingStrategy.shouldProcessUrl(_e.rawUrl))return Pa(_e.source)&&(this.browserUrlTree=_e.extractedUrl),(0,A.of)(_e).pipe((0,Ve.w)(Xt=>{const zn=this.transitions.getValue();return S.next(new ge(Xt.id,this.serializeUrl(Xt.extractedUrl),Xt.source,Xt.restoredState)),zn!==this.transitions.getValue()?We.E:Promise.resolve(Xt)}),function ki(_,w,v,S){return(0,Ve.w)(P=>function ao(_,w,v,S,P){return new Mi(_,w,v,S,P).apply()}(_,w,v,P.extractedUrl,S).pipe((0,Re.U)($=>({...P,urlAfterRedirects:$}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pn.b)(Xt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Xt.urlAfterRedirects},P.urlAfterRedirects=Xt.urlAfterRedirects}),function Al(_,w,v,S,P,$){return(0,hn.z)(ce=>function pa(_,w,v,S,P,$,ce="emptyOnly",_e="legacy"){return new _u(_,w,v,S,P,ce,_e,$).recognize().pipe((0,Ve.w)(ct=>null===ct?function Gr(_){return new ee.y(w=>w.error(_))}(new vu):(0,A.of)(ct)))}(_,w,v,ce.urlAfterRedirects,S.serialize(ce.urlAfterRedirects),S,P,$).pipe((0,Re.U)(_e=>({...ce,targetSnapshot:_e}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pn.b)(Xt=>{if(P.targetSnapshot=Xt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Xt.extras.skipLocationChange){const zi=this.urlHandlingStrategy.merge(Xt.urlAfterRedirects,Xt.rawUrl);this.setBrowserUrl(zi,Xt)}this.browserUrlTree=Xt.urlAfterRedirects}const zn=new Ht(Xt.id,this.serializeUrl(Xt.extractedUrl),this.serializeUrl(Xt.urlAfterRedirects),Xt.targetSnapshot);S.next(zn)}));if($t&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:zn,extractedUrl:zi,source:ts,restoredState:Js,extras:ns}=_e,Iu=new ge(zn,this.serializeUrl(zi),ts,Js);S.next(Iu);const Vo=Qr(zi,this.rootComponentType).snapshot;return P={..._e,targetSnapshot:Vo,urlAfterRedirects:zi,extras:{...ns,skipLocationChange:!1,replaceUrl:!1}},(0,A.of)(P)}return this.rawUrlTree=_e.rawUrl,_e.resolve(null),We.E}),(0,pn.b)(_e=>{const ct=new Nt(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot);this.triggerEvent(ct)}),(0,Re.U)(_e=>P={..._e,guards:kr(_e.targetSnapshot,_e.currentSnapshot,this.rootContexts)}),function so(_,w){return(0,hn.z)(v=>{const{targetSnapshot:S,currentSnapshot:P,guards:{canActivateChecks:$,canDeactivateChecks:ce}}=v;return 0===ce.length&&0===$.length?(0,A.of)({...v,guardsResult:!0}):function Ds(_,w,v,S){return(0,m.D)(_).pipe((0,hn.z)(P=>function Ao(_,w,v,S,P){const $=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!$||0===$.length)return(0,A.of)(!0);const ce=$.map(_e=>{const ct=bs(w)??P,$t=Qi(_e,ct);return me(function q(_){return _&&To(_.canDeactivate)}($t)?$t.canDeactivate(_,w,v,S):ct.runInContext(()=>$t(_,w,v,S))).pipe((0,fn.P)())});return(0,A.of)(ce).pipe(pi())}(P.component,P.route,v,w,S)),(0,fn.P)(P=>!0!==P,!0))}(ce,S,P,_).pipe((0,hn.z)(_e=>_e&&function Os(_){return"boolean"==typeof _}(_e)?function So(_,w,v,S){return(0,m.D)(w).pipe((0,Rt.b)(P=>(0,Qe.z)(function Ko(_,w){return null!==_&&w&&w(new Fr(_)),(0,A.of)(!0)}(P.route.parent,S),function $s(_,w){return null!==_&&w&&w(new no(_)),(0,A.of)(!0)}(P.route,S),function fa(_,w,v){const S=w[w.length-1],$=w.slice(0,w.length-1).reverse().map(ce=>function yr(_){const w=_.routeConfig?_.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:_,guards:w}:null}(ce)).filter(ce=>null!==ce).map(ce=>Et(()=>{const _e=ce.guards.map(ct=>{const $t=bs(ce.node)??v,Dn=Qi(ct,$t);return me(function M(_){return _&&To(_.canActivateChild)}(Dn)?Dn.canActivateChild(S,_):$t.runInContext(()=>Dn(S,_))).pipe((0,fn.P)())});return(0,A.of)(_e).pipe(pi())}));return(0,A.of)($).pipe(pi())}(_,P.path,v),function oo(_,w,v){const S=w.routeConfig?w.routeConfig.canActivate:null;if(!S||0===S.length)return(0,A.of)(!0);const P=S.map($=>Et(()=>{const ce=bs(w)??v,_e=Qi($,ce);return me(function O(_){return _&&To(_.canActivate)}(_e)?_e.canActivate(w,_):ce.runInContext(()=>_e(w,_))).pipe((0,fn.P)())}));return(0,A.of)(P).pipe(pi())}(_,P.route,v))),(0,fn.P)(P=>!0!==P,!0))}(S,$,_,w):(0,A.of)(_e)),(0,Re.U)(_e=>({...v,guardsResult:_e})))})}(this.ngModule.injector,_e=>this.triggerEvent(_e)),(0,pn.b)(_e=>{if(P.guardsResult=_e.guardsResult,Mr(_e.guardsResult))throw Do(0,_e.guardsResult);const ct=new Qn(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot,!!_e.guardsResult);this.triggerEvent(ct)}),(0,Yt.h)(_e=>!!_e.guardsResult||(this.restoreHistory(_e),this.cancelNavigationTransition(_e,"",3),!1)),Oa(_e=>{if(_e.guards.canActivateChecks.length)return(0,A.of)(_e).pipe((0,pn.b)(ct=>{const $t=new ar(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot);this.triggerEvent($t)}),(0,Ve.w)(ct=>{let $t=!1;return(0,A.of)(ct).pipe(function Ws(_,w){return(0,hn.z)(v=>{const{targetSnapshot:S,guards:{canActivateChecks:P}}=v;if(!P.length)return(0,A.of)(v);let $=0;return(0,m.D)(P).pipe((0,Rt.b)(ce=>function Eu(_,w,v,S){const P=_.routeConfig,$=_._resolve;return void 0!==P?.title&&!Ar(P)&&($[ve]=P.title),function qo(_,w,v,S){const P=function Ra(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===P.length)return(0,A.of)({});const $={};return(0,m.D)(P).pipe((0,hn.z)(ce=>function qu(_,w,v,S){const P=bs(w)??S,$=Qi(_,P);return me($.resolve?$.resolve(w,v):P.runInContext(()=>$(w,v)))}(_[ce],w,v,S).pipe((0,fn.P)(),(0,pn.b)(_e=>{$[ce]=_e}))),Tn(1),function dn(_){return(0,Re.U)(()=>_)}($),(0,kn.K)(ce=>Vr(ce)?We.E:nt(ce)))}($,_,w,S).pipe((0,Re.U)(ce=>(_._resolvedData=ce,_.data=bo(_,v).resolve,P&&Ar(P)&&(_.data[ve]=P.title),null)))}(ce.route,S,_,w)),(0,pn.b)(()=>$++),Tn(1),(0,hn.z)(ce=>$===P.length?(0,A.of)(v):We.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pn.b)({next:()=>$t=!0,complete:()=>{$t||(this.restoreHistory(ct),this.cancelNavigationTransition(ct,"",2))}}))}),(0,pn.b)(ct=>{const $t=new Cr(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot);this.triggerEvent($t)}))}),Oa(_e=>{const ct=$t=>{const Dn=[];$t.routeConfig?.loadComponent&&!$t.routeConfig._loadedComponent&&Dn.push(this.configLoader.loadComponent($t.routeConfig).pipe((0,pn.b)(Xt=>{$t.component=Xt}),(0,Re.U)(()=>{})));for(const Xt of $t.children)Dn.push(...ct(Xt));return Dn};return Ue(ct(_e.targetSnapshot.root)).pipe((0,ke.d)(),(0,_t.q)(1))}),Oa(()=>this.afterPreactivation()),(0,Re.U)(_e=>{const ct=function hi(_,w,v){const S=fi(_,w._root,v?v._root:void 0);return new js(S,w)}(this.routeReuseStrategy,_e.targetSnapshot,_e.currentRouterState);return P={..._e,targetRouterState:ct}}),(0,pn.b)(_e=>{this.currentUrlTree=_e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_e.urlAfterRedirects,_e.rawUrl),this.routerState=_e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_e),this.browserUrlTree=_e.urlAfterRedirects)}),((_,w,v)=>(0,Re.U)(S=>(new Dt(w,S.targetRouterState,S.currentRouterState,v).activate(_),S)))(this.rootContexts,this.routeReuseStrategy,_e=>this.triggerEvent(_e)),(0,pn.b)({next(){$=!0},complete(){$=!0}}),On(()=>{$||ce||this.cancelNavigationTransition(P,"",1),this.currentNavigation?.id===P.id&&(this.currentNavigation=null)}),(0,kn.K)(_e=>{if(ce=!0,da(_e)){ro(_e)||(this.navigated=!0,this.restoreHistory(P,!0));const ct=new He(P.id,this.serializeUrl(P.extractedUrl),_e.message,_e.cancellationCode);if(S.next(ct),ro(_e)){const $t=this.urlHandlingStrategy.merge(_e.url,this.rawUrlTree),Dn={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Pa(P.source)};this.scheduleNavigation($t,"imperative",null,Dn,{resolve:P.resolve,reject:P.reject,promise:P.promise})}else P.resolve(!1)}else{this.restoreHistory(P,!0);const ct=new lt(P.id,this.serializeUrl(P.extractedUrl),_e,P.targetSnapshot??void 0);S.next(ct);try{P.resolve(this.errorHandler(_e))}catch($t){P.reject($t)}}return We.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next({...this.transitions.value,...v})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const S="popstate"===v.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{const P={replaceUrl:!0},$=v.state?.navigationId?v.state:null;if($){const _e={...$};delete _e.navigationId,delete _e.\u0275routerPageId,0!==Object.keys(_e).length&&(P.state=_e)}const ce=this.parseUrl(v.url);this.scheduleNavigation(ce,S,$,P)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){this.config=v.map(us),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,S={}){const{relativeTo:P,queryParams:$,fragment:ce,queryParamsHandling:_e,preserveFragment:ct}=S,$t=P||this.routerState.root,Dn=ct?this.currentUrlTree.fragment:ce;let Xt=null;switch(_e){case"merge":Xt={...this.currentUrlTree.queryParams,...$};break;case"preserve":Xt=this.currentUrlTree.queryParams;break;default:Xt=$||null}return null!==Xt&&(Xt=this.removeEmptyProps(Xt)),Yr($t,this.currentUrlTree,v,Xt,Dn??null)}navigateByUrl(v,S={skipLocationChange:!1}){const P=Mr(v)?v:this.parseUrl(v),$=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation($,"imperative",null,S)}navigate(v,S={skipLocationChange:!1}){return function Zs(_){for(let w=0;w<_.length;w++){if(null==_[w])throw new f.vHH(4008,false)}}(v),this.navigateByUrl(this.createUrlTree(v,S),S)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let S;try{S=this.urlSerializer.parse(v)}catch(P){S=this.malformedUriErrorHandler(P,this.urlSerializer,v)}return S}isActive(v,S){let P;if(P=!0===S?{...Jo}:!1===S?{...uo}:S,Mr(v))return Ot(this.currentUrlTree,v,P);const $=this.parseUrl(v);return Ot(this.currentUrlTree,$,P)}removeEmptyProps(v){return Object.keys(v).reduce((S,P)=>{const $=v[P];return null!=$&&(S[P]=$),S},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new et(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,S,P,$,ce){if(this.disposed)return Promise.resolve(!1);let _e,ct,$t;ce?(_e=ce.resolve,ct=ce.reject,$t=ce.promise):$t=new Promise((zn,zi)=>{_e=zn,ct=zi});const Dn=++this.navigationId;let Xt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(P=this.location.getState()),Xt=P&&P.\u0275routerPageId?P.\u0275routerPageId:$.replaceUrl||$.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Xt=0,this.setTransition({id:Dn,targetPageId:Xt,source:S,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:$,resolve:_e,reject:ct,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(zn=>Promise.reject(zn))}setBrowserUrl(v,S){const P=this.urlSerializer.serialize(v),$={...S.extras.state,...this.generateNgRouterState(S.id,S.targetPageId)};this.location.isCurrentPathEqualTo(P)||S.extras.replaceUrl?this.location.replaceState(P,"",$):this.location.go(P,"",$)}restoreHistory(v,S=!1){if("computed"===this.canceledNavigationResolution){const P=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===P?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===P&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(P)}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,S,P){const $=new He(v.id,this.serializeUrl(v.extractedUrl),S,P);this.triggerEvent($),v.resolve(!1)}generateNgRouterState(v,S){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:S}:{navigationId:v}}}return _.\u0275fac=function(v){f.$Z()},_.\u0275prov=f.Yz7({token:_,factory:function(){return xi()},providedIn:"root"}),_})();function Pa(_){return"imperative"!==_}let Oo=(()=>{class _{constructor(v,S,P){this.router=v,this.route=S,this.locationStrategy=P,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Te.x,this.subscription=v.events.subscribe($=>{$ instanceof et&&this.updateTargetUrlAndHref()})}set preserveFragment(v){this._preserveFragment=(0,f.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,f.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,f.D6c)(v)}get replaceUrl(){return this._replaceUrl}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:null}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,S,P,$,ce){return!!(0!==v||S||P||$||ce||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _.\u0275fac=function(v){return new(v||_)(f.Y36(si),f.Y36(di),f.Y36(Ae.S$))},_.\u0275dir=f.lG2({type:_,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,S){1&v&&f.NdJ("click",function($){return S.onClick($.button,$.ctrlKey,$.shiftKey,$.altKey,$.metaKey)}),2&v&&f.uIk("target",S.target)("href",S.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),_})();class hs{}let lo=(()=>{class _{constructor(v,S,P,$,ce){this.router=v,this.injector=P,this.preloadingStrategy=$,this.loader=ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,Yt.h)(v=>v instanceof et),(0,Rt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,S){const P=[];for(const $ of S){$.providers&&!$._injector&&($._injector=(0,f.MMx)($.providers,v,`Route: ${$.path}`));const ce=$._injector??v,_e=$._loadedInjector??ce;$.loadChildren&&!$._loadedRoutes&&void 0===$.canLoad||$.loadComponent&&!$._loadedComponent?P.push(this.preloadConfig(ce,$)):($.children||$._loadedRoutes)&&P.push(this.processRoutes(_e,$.children??$._loadedRoutes))}return(0,m.D)(P).pipe((0,fr.J)())}preloadConfig(v,S){return this.preloadingStrategy.preload(S,()=>{let P;P=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(v,S):(0,A.of)(null);const $=P.pipe((0,hn.z)(ce=>null===ce?(0,A.of)(void 0):(S._loadedRoutes=ce.routes,S._loadedInjector=ce.injector,this.processRoutes(ce.injector??v,ce.routes))));if(S.loadComponent&&!S._loadedComponent){const ce=this.loader.loadComponent(S);return(0,m.D)([$,ce]).pipe((0,fr.J)())}return $})}}return _.\u0275fac=function(v){return new(v||_)(f.LFG(si),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(hs),f.LFG(Ji))},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Ri=new f.OlP("");let Po=(()=>{class _{constructor(v,S,P={}){this.router=v,this.viewportScroller=S,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof ge?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof et&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof Aa&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,S){this.router.triggerEvent(new Aa(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return _.\u0275fac=function(v){f.$Z()},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac}),_})();function ta(_,w){return{\u0275kind:_,\u0275providers:w}}function tu(_){return[{provide:ko,multi:!0,useValue:_}]}function nu(){const _=(0,f.f3M)(f.zs3);return w=>{const v=_.get(f.z2F);if(w!==v.components[0])return;const S=_.get(si),P=_.get(Ml);1===_.get(na)&&S.initialNavigation(),_.get(qs,null,f.XFs.Optional)?.setUpPreloading(),_.get(Ri,null,f.XFs.Optional)?.init(),S.resetRootComponentType(v.componentTypes[0]),P.next(),P.complete()}}const Ml=new f.OlP("",{factory:()=>new Te.x}),na=new f.OlP("",{providedIn:"root",factory:()=>1});const qs=new f.OlP("");function Ys(_){return ta(0,[{provide:qs,useExisting:lo},{provide:hs,useExisting:_}])}const Ls=new f.OlP("ROUTER_FORROOT_GUARD"),Ua=[Ae.Ye,{provide:un,useClass:_n},{provide:si,useFactory:xi},Tr,{provide:di,useFactory:function Fa(_){return _.routerState.root},deps:[si]},Ji];function ra(){return new f.PXZ("Router",si)}let fs=(()=>{class _{constructor(v){}static forRoot(v,S){return{ngModule:_,providers:[Ua,[],tu(v),{provide:Ls,useFactory:co,deps:[[si,new f.FiY,new f.tp0]]},{provide:Gs,useValue:S||{}},S?.useHash?{provide:Ae.S$,useClass:Ae.Do}:{provide:Ae.S$,useClass:Ae.b0},{provide:Ri,useFactory:()=>{const _=(0,f.f3M)(si),w=(0,f.f3M)(Ae.EM),v=(0,f.f3M)(Gs);return v.scrollOffset&&w.setOffset(v.scrollOffset),new Po(_,w,v)}},S?.preloadingStrategy?Ys(S.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:ra},S?.initialNavigation?Sr(S):[],[{provide:Lo,useFactory:nu},{provide:f.tb,multi:!0,useExisting:Lo}]]}}static forChild(v){return{ngModule:_,providers:[tu(v)]}}}return _.\u0275fac=function(v){return new(v||_)(f.LFG(Ls,8))},_.\u0275mod=f.oAB({type:_}),_.\u0275inj=f.cJS({imports:[Hs]}),_})();function co(_){return"guarded"}function Sr(_){return["disabled"===_.initialNavigation?ta(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const w=(0,f.f3M)(si);return()=>{w.setUpLocationChangeListener()}}},{provide:na,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?ta(2,[{provide:na,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:w=>{const v=w.get(Ae.V_,Promise.resolve());let S=!1;return()=>v.then(()=>new Promise($=>{const ce=w.get(si),_e=w.get(Ml);(function P($){w.get(si).events.pipe((0,Yt.h)(_e=>_e instanceof et||_e instanceof He||_e instanceof lt),(0,Re.U)(_e=>_e instanceof et||_e instanceof He&&(0===_e.code||1===_e.code)&&null),(0,Yt.h)(_e=>null!==_e),(0,_t.q)(1)).subscribe(()=>{$()})})(()=>{$(!0),S=!0}),ce.afterPreactivation=()=>($(!0),S||_e.closed?(0,A.of)(void 0):_e),ce.initialNavigation()}))}}]).\u0275providers:[]]}const Lo=new f.OlP("")},3942:(Ie,ae,C)=>{"use strict";C.d(ae,{Z:()=>Ge});var f=C(2090),m=C(4859),A=C(9681),Y=C(1877);class K{constructor(Qe,Me){this._delegate=Qe,this.firebase=Me,(0,A._addComponent)(Qe,new m.wA("app-compat",()=>this,"PUBLIC")),this.container=Qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this._delegate.automaticDataCollectionEnabled=Qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Qe=>{this._delegate.checkDestroyed(),Qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,A.deleteApp)(this._delegate)))}_getService(Qe,Me=A._DEFAULT_ENTRY_NAME){var Et;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(Qe);return!mt.isInitialized()&&"EXPLICIT"===(null===(Et=mt.getComponent())||void 0===Et?void 0:Et.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:Me})}_removeServiceInstance(Qe,Me=A._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Qe).clearInstance(Me)}_addComponent(Qe){(0,A._addComponent)(this._delegate,Qe)}_addOrOverwriteComponent(Qe){(0,A._addOrOverwriteComponent)(this._delegate,Qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const J=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function ue(){const yt=function re(yt){const Qe={},Me={__esModule:!0,initializeApp:function ut(xe,$e={}){const Ye=A.initializeApp(xe,$e);if((0,f.r3)(Qe,Ye.name))return Qe[Ye.name];const Te=new yt(Ye,Me);return Qe[Ye.name]=Te,Te},app:mt,registerVersion:A.registerVersion,setLogLevel:A.setLogLevel,onLog:A.onLog,apps:null,SDK_VERSION:A.SDK_VERSION,INTERNAL:{registerComponent:function We(xe){const $e=xe.name,Ye=$e.replace("-compat","");if(A._registerComponent(xe)&&"PUBLIC"===xe.type){const Te=(Ae=mt())=>{if("function"!=typeof Ae[Ye])throw J.create("invalid-app-argument",{appName:$e});return Ae[Ye]()};void 0!==xe.serviceProps&&(0,f.ZB)(Te,xe.serviceProps),Me[Ye]=Te,yt.prototype[Ye]=function(...Ae){return this._getService.bind(this,$e).apply(this,xe.multipleInstances?Ae:[])}}return"PUBLIC"===xe.type?Me[Ye]:null},removeApp:function Et(xe){delete Qe[xe]},useAsService:function ot(xe,$e){return"serverAuth"===$e?null:$e},modularAPIs:A}};function mt(xe){if(!(0,f.r3)(Qe,xe=xe||A._DEFAULT_ENTRY_NAME))throw J.create("no-app",{appName:xe});return Qe[xe]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function nt(){return Object.keys(Qe).map(xe=>Qe[xe])}}),mt.App=yt,Me}(K);return yt.INTERNAL=Object.assign(Object.assign({},yt.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function Qe(Me){(0,f.ZB)(yt,Me)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),yt}(),ne=new Y.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const yt=self.firebase.SDK_VERSION;yt&&yt.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=Q;!function Ue(yt){(0,A.registerVersion)("@firebase/app-compat","0.1.39",yt)}()},9681:(Ie,ae,C)=>{"use strict";C.r(ae),C.d(ae,{FirebaseError:()=>Y.ZR,SDK_VERSION:()=>or,_DEFAULT_ENTRY_NAME:()=>fn,_addComponent:()=>Rn,_addOrOverwriteComponent:()=>Tn,_apps:()=>pn,_clearComponents:()=>qn,_components:()=>kn,_getProvider:()=>ke,_registerComponent:()=>Mn,_removeServiceInstance:()=>tr,deleteApp:()=>qe,getApp:()=>ve,getApps:()=>Oe,initializeApp:()=>Zt,onLog:()=>Ut,registerVersion:()=>qt,setLogLevel:()=>Bt});var f=C(5861),m=C(4859),A=C(1877),Y=C(2090),K=C(8766);class ee{constructor(gt){this.container=gt}getPlatformInfoString(){return this.container.getProviders().map(At=>{if(function J(Pt){return"VERSION"===Pt.getComponent()?.type}(At)){const an=At.getImmediate();return`${an.library}/${an.version}`}return null}).filter(At=>At).join(" ")}}const re="@firebase/app",Q=new A.Yd("@firebase/app"),fn="[DEFAULT]",Rt={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pn=new Map,kn=new Map;function Rn(Pt,gt){try{Pt.container.addComponent(gt)}catch(At){Q.debug(`Component ${gt.name} failed to register with FirebaseApp ${Pt.name}`,At)}}function Tn(Pt,gt){Pt.container.addOrOverwriteComponent(gt)}function Mn(Pt){const gt=Pt.name;if(kn.has(gt))return Q.debug(`There were multiple attempts to register component ${gt}.`),!1;kn.set(gt,Pt);for(const At of pn.values())Rn(At,Pt);return!0}function ke(Pt,gt){const At=Pt.container.getProvider("heartbeat").getImmediate({optional:!0});return At&&At.triggerHeartbeat(),Pt.container.getProvider(gt)}function tr(Pt,gt,At=fn){ke(Pt,gt).clearInstance(At)}function qn(){kn.clear()}const On=new Y.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fr{constructor(gt,At,an){this._isDeleted=!1,this._options=Object.assign({},gt),this._config=Object.assign({},At),this._name=At.name,this._automaticDataCollectionEnabled=At.automaticDataCollectionEnabled,this._container=an,this.container.addComponent(new m.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(gt){this.checkDestroyed(),this._automaticDataCollectionEnabled=gt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(gt){this._isDeleted=gt}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}const or="9.14.0";function Zt(Pt,gt={}){let At=Pt;"object"!=typeof gt&&(gt={name:gt});const an=Object.assign({name:fn,automaticDataCollectionEnabled:!1},gt),un=an.name;if("string"!=typeof un||!un)throw On.create("bad-app-name",{appName:String(un)});if(At||(At=(0,Y.aH)()),!At)throw On.create("no-options");const _n=pn.get(un);if(_n){if((0,Y.vZ)(At,_n.options)&&(0,Y.vZ)(an,_n.config))return _n;throw On.create("duplicate-app",{appName:un})}const be=new m.H0(un);for(const De of kn.values())be.addComponent(De);const ye=new fr(At,an,be);return pn.set(un,ye),ye}function ve(Pt=fn){const gt=pn.get(Pt);if(!gt&&Pt===fn)return Zt();if(!gt)throw On.create("no-app",{appName:Pt});return gt}function Oe(){return Array.from(pn.values())}function qe(Pt){return st.apply(this,arguments)}function st(){return(st=(0,f.Z)(function*(Pt){const gt=Pt.name;pn.has(gt)&&(pn.delete(gt),yield Promise.all(Pt.container.getProviders().map(At=>At.delete())),Pt.isDeleted=!0)})).apply(this,arguments)}function qt(Pt,gt,At){var an;let un=null!==(an=Rt[Pt])&&void 0!==an?an:Pt;At&&(un+=`-${At}`);const _n=un.match(/\s|\//),be=gt.match(/\s|\//);if(_n||be){const ye=[`Unable to register library "${un}" with version "${gt}":`];return _n&&ye.push(`library name "${un}" contains illegal characters (whitespace or "/")`),_n&&be&&ye.push("and"),be&&ye.push(`version name "${gt}" contains illegal characters (whitespace or "/")`),void Q.warn(ye.join(" "))}Mn(new m.wA(`${un}-version`,()=>({library:un,version:gt}),"VERSION"))}function Ut(Pt,gt){if(null!==Pt&&"function"!=typeof Pt)throw On.create("invalid-log-argument");(0,A.Am)(Pt,gt)}function Bt(Pt){(0,A.Ub)(Pt)}const Wt="firebase-heartbeat-store";let Pe=null;function me(){return Pe||(Pe=(0,K.X3)("firebase-heartbeat-database",1,{upgrade:(Pt,gt)=>{0===gt&&Pt.createObjectStore(Wt)}}).catch(Pt=>{throw On.create("idb-open",{originalErrorMessage:Pt.message})})),Pe}function ze(){return(ze=(0,f.Z)(function*(Pt){var gt;try{return(yield me()).transaction(Wt).objectStore(Wt).get(Ot(Pt))}catch(At){if(At instanceof Y.ZR)Q.warn(At.message);else{const an=On.create("idb-get",{originalErrorMessage:null===(gt=At)||void 0===gt?void 0:gt.message});Q.warn(an.message)}}})).apply(this,arguments)}function Le(Pt,gt){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,f.Z)(function*(Pt,gt){var At;try{const un=(yield me()).transaction(Wt,"readwrite");return yield un.objectStore(Wt).put(gt,Ot(Pt)),un.done}catch(an){if(an instanceof Y.ZR)Q.warn(an.message);else{const un=On.create("idb-set",{originalErrorMessage:null===(At=an)||void 0===At?void 0:At.message});Q.warn(un.message)}}})).apply(this,arguments)}function Ot(Pt){return`${Pt.name}!${Pt.options.appId}`}class yn{constructor(gt){this.container=gt,this._heartbeatsCache=null;const At=this.container.getProvider("app").getImmediate();this._storage=new ln(At),this._heartbeatsCachePromise=this._storage.read().then(an=>(this._heartbeatsCache=an,an))}triggerHeartbeat(){var gt=this;return(0,f.Z)(function*(){const an=gt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),un=en();if(null===gt._heartbeatsCache&&(gt._heartbeatsCache=yield gt._heartbeatsCachePromise),gt._heartbeatsCache.lastSentHeartbeatDate!==un&&!gt._heartbeatsCache.heartbeats.some(_n=>_n.date===un))return gt._heartbeatsCache.heartbeats.push({date:un,agent:an}),gt._heartbeatsCache.heartbeats=gt._heartbeatsCache.heartbeats.filter(_n=>{const be=new Date(_n.date).valueOf();return Date.now()-be<=2592e6}),gt._storage.overwrite(gt._heartbeatsCache)})()}getHeartbeatsHeader(){var gt=this;return(0,f.Z)(function*(){if(null===gt._heartbeatsCache&&(yield gt._heartbeatsCachePromise),null===gt._heartbeatsCache||0===gt._heartbeatsCache.heartbeats.length)return"";const At=en(),{heartbeatsToSend:an,unsentEntries:un}=function Sn(Pt,gt=1024){const At=[];let an=Pt.slice();for(const un of Pt){const _n=At.find(be=>be.agent===un.agent);if(_n){if(_n.dates.push(un.date),Ft(At)>gt){_n.dates.pop();break}}else if(At.push({agent:un.agent,dates:[un.date]}),Ft(At)>gt){At.pop();break}an=an.slice(1)}return{heartbeatsToSend:At,unsentEntries:an}}(gt._heartbeatsCache.heartbeats),_n=(0,Y.L)(JSON.stringify({version:2,heartbeats:an}));return gt._heartbeatsCache.lastSentHeartbeatDate=At,un.length>0?(gt._heartbeatsCache.heartbeats=un,yield gt._storage.overwrite(gt._heartbeatsCache)):(gt._heartbeatsCache.heartbeats=[],gt._storage.overwrite(gt._heartbeatsCache)),_n})()}}function en(){return(new Date).toISOString().substring(0,10)}class ln{constructor(gt){this.app=gt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,Y.hl)()&&(0,Y.eu)().then(()=>!0).catch(()=>!1)})()}read(){var gt=this;return(0,f.Z)(function*(){return(yield gt._canUseIndexedDBPromise)&&(yield function oe(Pt){return ze.apply(this,arguments)}(gt.app))||{heartbeats:[]}})()}overwrite(gt){var At=this;return(0,f.Z)(function*(){var an;if(yield At._canUseIndexedDBPromise){const _n=yield At.read();return Le(At.app,{lastSentHeartbeatDate:null!==(an=gt.lastSentHeartbeatDate)&&void 0!==an?an:_n.lastSentHeartbeatDate,heartbeats:gt.heartbeats})}})()}add(gt){var At=this;return(0,f.Z)(function*(){var an;if(yield At._canUseIndexedDBPromise){const _n=yield At.read();return Le(At.app,{lastSentHeartbeatDate:null!==(an=gt.lastSentHeartbeatDate)&&void 0!==an?an:_n.lastSentHeartbeatDate,heartbeats:[..._n.heartbeats,...gt.heartbeats]})}})()}}function Ft(Pt){return(0,Y.L)(JSON.stringify({version:2,heartbeats:Pt})).length}!function Mt(Pt){Mn(new m.wA("platform-logger",gt=>new ee(gt),"PRIVATE")),Mn(new m.wA("heartbeat",gt=>new yn(gt),"PRIVATE")),qt(re,"0.8.4",Pt),qt(re,"0.8.4","esm2017"),qt("fire-js","")}("")},4859:(Ie,ae,C)=>{"use strict";C.d(ae,{H0:()=>re,wA:()=>A});var f=C(5861),m=C(2090);class A{constructor(Q,ne,de){this.name=Q,this.instanceFactory=ne,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const Y="[DEFAULT]";class K{constructor(Q,ne){this.name=Q,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const ne=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(ne)){const de=new m.BH;if(this.instancesDeferred.set(ne,de),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:ne});Ke&&de.resolve(Ke)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(Q){var ne;const de=this.normalizeInstanceIdentifier(Q?.identifier),Ke=null!==(ne=Q?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(Ue){if(Ke)return null;throw Ue}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function J(ue){return"EAGER"===ue.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:Y})}catch{}for(const[ne,de]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(ne);try{const Ue=this.getOrInitializeService({instanceIdentifier:Ke});de.resolve(Ue)}catch{}}}}clearInstance(Q=Y){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,f.Z)(function*(){const ne=Array.from(Q.instances.values());yield Promise.all([...ne.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...ne.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=Y){return this.instances.has(Q)}getOptions(Q=Y){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:ne={}}=Q,de=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:de,options:ne});for(const[Ue,Ge]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier(Ue)&&Ge.resolve(Ke);return Ke}onInit(Q,ne){var de;const Ke=this.normalizeInstanceIdentifier(ne),Ue=null!==(de=this.onInitCallbacks.get(Ke))&&void 0!==de?de:new Set;Ue.add(Q),this.onInitCallbacks.set(Ke,Ue);const Ge=this.instances.get(Ke);return Ge&&Q(Ge,Ke),()=>{Ue.delete(Q)}}invokeOnInitCallbacks(Q,ne){const de=this.onInitCallbacks.get(ne);if(de)for(const Ke of de)try{Ke(Q,ne)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:ne={}}){let de=this.instances.get(Q);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=Q,ue===Y?void 0:ue),options:ne}),this.instances.set(Q,de),this.instancesOptions.set(Q,ne),this.invokeOnInitCallbacks(de,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,de)}catch{}var ue;return de||null}normalizeInstanceIdentifier(Q=Y){return this.component?this.component.multipleInstances?Q:Y:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const ne=this.getProvider(Q.name);if(ne.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);ne.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const ne=new K(Q,this);return this.providers.set(Q,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(Ie,ae,C)=>{"use strict";C.d(ae,{Am:()=>ue,Ub:()=>re,Yd:()=>J,in:()=>m});const f=[];var m=(()=>{return(Q=m||(m={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",m;var Q})();const A={debug:m.DEBUG,verbose:m.VERBOSE,info:m.INFO,warn:m.WARN,error:m.ERROR,silent:m.SILENT},Y=m.INFO,K={[m.DEBUG]:"log",[m.VERBOSE]:"log",[m.INFO]:"info",[m.WARN]:"warn",[m.ERROR]:"error"},ee=(Q,ne,...de)=>{if(ne<Q.logLevel)return;const Ke=(new Date).toISOString(),Ue=K[ne];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Ue](`[${Ke}]  ${Q.name}:`,...de)};class J{constructor(ne){this.name=ne,this._logLevel=Y,this._logHandler=ee,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in m))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?A[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,m.DEBUG,...ne),this._logHandler(this,m.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,m.VERBOSE,...ne),this._logHandler(this,m.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,m.INFO,...ne),this._logHandler(this,m.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,m.WARN,...ne),this._logHandler(this,m.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,m.ERROR,...ne),this._logHandler(this,m.ERROR,...ne)}}function re(Q){f.forEach(ne=>{ne.setLogLevel(Q)})}function ue(Q,ne){for(const de of f){let Ke=null;ne&&ne.level&&(Ke=A[ne.level]),de.userLogHandler=null===Q?null:(Ue,Ge,...yt)=>{const Qe=yt.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");Ge>=(Ke??Ue.logLevel)&&Q({level:m[Ge].toLowerCase(),message:Qe,args:yt,type:Ue.name})}}}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(ae,C){if(this.action=ae,this.timestamp=C,this.type=PERFORM_ACTION,typeof ae.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(ae){this.timestamp=ae,this.type=RESET}}class Rollback{constructor(ae){this.timestamp=ae,this.type=ROLLBACK}}class Commit{constructor(ae){this.timestamp=ae,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(ae){this.id=ae,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(ae,C,f=!0){this.start=ae,this.end=C,this.active=f,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(ae){this.index=ae,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(ae){this.actionId=ae,this.type=JUMP_TO_ACTION}}class ImportState{constructor(ae){this.nextLiftedState=ae,this.type=IMPORT_STATE}}class LockChanges{constructor(ae){this.status=ae,this.type=LOCK_CHANGES}}class PauseRecording{constructor(ae){this.status=ae,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Ie){const ae={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},C="function"==typeof Ie?Ie():Ie,A=Object.assign({},ae,{features:C.features||!!C.logOnly&&{pause:!0,export:!0,test:!0}||ae.features},C);if(A.maxAge&&A.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${A.maxAge}`);return A}function difference(Ie,ae){return Ie.filter(C=>ae.indexOf(C)<0)}function unliftState(Ie){const{computedStates:ae,currentStateIndex:C}=Ie;if(C>=ae.length){const{state:m}=ae[ae.length-1];return m}const{state:f}=ae[C];return f}function unliftAction(Ie){return Ie.actionsById[Ie.nextActionId-1]}function liftAction(Ie){return new PerformAction(Ie,+Date.now())}function sanitizeActions(Ie,ae){return Object.keys(ae).reduce((C,f)=>{const m=Number(f);return C[m]=sanitizeAction(Ie,ae[m],m),C},{})}function sanitizeAction(Ie,ae,C){return{...ae,action:Ie(ae.action,C)}}function sanitizeStates(Ie,ae){return ae.map((C,f)=>({state:sanitizeState(Ie,C.state,f),error:C.error}))}function sanitizeState(Ie,ae,C){return Ie(ae,C)}function shouldFilterActions(Ie){return Ie.predicate||Ie.actionsSafelist||Ie.actionsBlocklist}function filterLiftedState(Ie,ae,C,f){const m=[],A={},Y=[];return Ie.stagedActionIds.forEach((K,ee)=>{const J=Ie.actionsById[K];!J||ee&&isActionFiltered(Ie.computedStates[ee],J,ae,C,f)||(A[K]=J,m.push(K),Y.push(Ie.computedStates[ee]))}),{...Ie,stagedActionIds:m,actionsById:A,computedStates:Y}}function isActionFiltered(Ie,ae,C,f,m){const A=C&&!C(Ie,ae.action),Y=f&&!ae.action.type.match(f.map(ee=>escapeRegExp(ee)).join("|")),K=m&&ae.action.type.match(m.map(ee=>escapeRegExp(ee)).join("|"));return A||Y||K}function escapeRegExp(Ie){return Ie.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class Ie extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return Ie.\u0275fac=function(){let ae;return function(f){return(ae||(ae=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Ie)))(f||Ie)}}(),Ie.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Ie,ae,C){this.config=ae,this.dispatcher=C,this.devtoolsExtension=Ie,this.createActionStreams()}notify(Ie,ae){if(this.devtoolsExtension)if(Ie.type===PERFORM_ACTION){if(ae.isLocked||ae.isPaused)return;const C=unliftState(ae);if(shouldFilterActions(this.config)&&isActionFiltered(C,Ie,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const f=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,C,ae.currentStateIndex):C,m=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Ie,ae.nextActionId):Ie;this.sendToReduxDevtools(()=>this.extensionConnection.send(m,f))}else{const C={...ae,stagedActionIds:ae.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,ae.actionsById):ae.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,ae.computedStates):ae.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,C,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Ie=>{const ae=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=ae,ae.init(),ae.subscribe(C=>Ie.next(C)),ae.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Ie=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),ae=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(K=>K.type===ExtensionActionTypes.START)),C=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(K=>K.type===ExtensionActionTypes.STOP)),f=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(K=>K.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(K=>this.unwrapAction(K.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(K=>K.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>K),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(K)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(K))),A=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(K=>K.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(K=>this.unwrapAction(K.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(C)),Y=f.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(C));this.start$=ae.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(C)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>A)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>Y))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Ie){const ae={name:Ie.name,features:Ie.features,serialize:Ie.serialize,autoPause:Ie.autoPause??!1};return!1!==Ie.maxAge&&(ae.maxAge=Ie.maxAge),ae}sendToReduxDevtools(Ie){try{Ie()}catch(ae){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",ae)}}}return DevtoolsExtension.\u0275fac=function Ie(ae){return new(ae||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Ie,ae,C,f,m){if(f)return{state:C,error:"Interrupted by an error up the chain"};let Y,A=C;try{A=Ie(C,ae)}catch(K){Y=K.toString(),m.handleError(K)}return{state:A,error:Y}}function recomputeStates(Ie,ae,C,f,m,A,Y,K,ee){if(ae>=Ie.length&&Ie.length===A.length)return Ie;const J=Ie.slice(0,ae),re=A.length-(ee?1:0);for(let ue=ae;ue<re;ue++){const Q=A[ue],ne=m[Q].action,de=J[ue-1],Ke=de?de.state:f,Ue=de?de.error:void 0,yt=Y.indexOf(Q)>-1?de:computeNextEntry(C,ne,Ke,Ue,K);J.push(yt)}return ee&&J.push(Ie[Ie.length-1]),J}function liftInitialState(Ie,ae){return{monitorState:ae(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Ie,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Ie,ae,C,f,m={}){return A=>(Y,K)=>{let{monitorState:ee,actionsById:J,nextActionId:re,stagedActionIds:ue,skippedActionIds:Q,committedState:ne,currentStateIndex:de,computedStates:Ke,isLocked:Ue,isPaused:Ge}=Y||ae;function yt(Et){let mt=Et,ut=ue.slice(1,mt+1);for(let nt=0;nt<ut.length;nt++){if(Ke[nt+1].error){mt=nt,ut=ue.slice(1,mt+1);break}delete J[ut[nt]]}Q=Q.filter(nt=>-1===ut.indexOf(nt)),ue=[0,...ue.slice(mt+1)],ne=Ke[mt].state,Ke=Ke.slice(mt),de=de>mt?de-mt:0}function Qe(){J={0:liftAction(INIT_ACTION)},re=1,ue=[0],Q=[],ne=Ke[de].state,de=0,Ke=[]}Y||(J=Object.create(J));let Me=0;switch(K.type){case LOCK_CHANGES:Ue=K.status,Me=1/0;break;case PAUSE_RECORDING:Ge=K.status,Ge?(ue=[...ue,re],J[re]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),re++,Me=ue.length-1,Ke=Ke.concat(Ke[Ke.length-1]),de===ue.length-2&&de++,Me=1/0):Qe();break;case RESET:J={0:liftAction(INIT_ACTION)},re=1,ue=[0],Q=[],ne=Ie,de=0,Ke=[];break;case COMMIT:Qe();break;case ROLLBACK:J={0:liftAction(INIT_ACTION)},re=1,ue=[0],Q=[],de=0,Ke=[];break;case TOGGLE_ACTION:{const{id:Et}=K;Q=-1===Q.indexOf(Et)?[Et,...Q]:Q.filter(ut=>ut!==Et),Me=ue.indexOf(Et);break}case SET_ACTIONS_ACTIVE:{const{start:Et,end:mt,active:ut}=K,nt=[];for(let We=Et;We<mt;We++)nt.push(We);Q=ut?difference(Q,nt):[...Q,...nt],Me=ue.indexOf(Et);break}case JUMP_TO_STATE:de=K.index,Me=1/0;break;case JUMP_TO_ACTION:{const Et=ue.indexOf(K.actionId);-1!==Et&&(de=Et),Me=1/0;break}case SWEEP:ue=difference(ue,Q),Q=[],de=Math.min(de,ue.length-1);break;case PERFORM_ACTION:{if(Ue)return Y||ae;if(Ge||Y&&isActionFiltered(Y.computedStates[de],K,m.predicate,m.actionsSafelist,m.actionsBlocklist)){const mt=Ke[Ke.length-1];Ke=[...Ke.slice(0,-1),computeNextEntry(A,K.action,mt.state,mt.error,C)],Me=1/0;break}m.maxAge&&ue.length===m.maxAge&&yt(1),de===ue.length-1&&de++;const Et=re++;J[Et]=K,ue=[...ue,Et],Me=ue.length-1;break}case IMPORT_STATE:({monitorState:ee,actionsById:J,nextActionId:re,stagedActionIds:ue,skippedActionIds:Q,committedState:ne,currentStateIndex:de,computedStates:Ke,isLocked:Ue,isPaused:Ge}=K.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:Me=0,m.maxAge&&ue.length>m.maxAge&&(Ke=recomputeStates(Ke,Me,A,ne,J,ue,Q,C,Ge),yt(ue.length-m.maxAge),Me=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Ke.filter(mt=>mt.error).length>0)Me=0,m.maxAge&&ue.length>m.maxAge&&(Ke=recomputeStates(Ke,Me,A,ne,J,ue,Q,C,Ge),yt(ue.length-m.maxAge),Me=1/0);else{if(!Ge&&!Ue){de===ue.length-1&&de++;const mt=re++;J[mt]=new PerformAction(K,+Date.now()),ue=[...ue,mt],Me=ue.length-1,Ke=recomputeStates(Ke,Me,A,ne,J,ue,Q,C,Ge)}Ke=Ke.map(mt=>({...mt,state:A(mt.state,RECOMPUTE_ACTION)})),de=ue.length-1,m.maxAge&&ue.length>m.maxAge&&yt(ue.length-m.maxAge),Me=1/0}break;default:Me=1/0}return Ke=recomputeStates(Ke,Me,A,ne,J,ue,Q,C,Ge),ee=f(ee,K),{monitorState:ee,actionsById:J,nextActionId:re,stagedActionIds:ue,skippedActionIds:Q,committedState:ne,currentStateIndex:de,computedStates:Ke,isLocked:Ue,isPaused:Ge}}}let StoreDevtools=(()=>{class Ie{constructor(C,f,m,A,Y,K,ee,J){const re=liftInitialState(ee,J.monitor),ue=liftReducerWith(ee,re,K,J.monitor,J),Q=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(f.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),A.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),C,A.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),ne=m.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ue)),de=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Ke=Q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(ne),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Qe},[Me,Et])=>{let mt=Et(Qe,Me);return Me.type!==PERFORM_ACTION&&shouldFilterActions(J)&&(mt=filterLiftedState(mt,J.predicate,J.actionsSafelist,J.actionsBlocklist)),A.notify(Me,mt),{state:mt,action:Me}},{state:re,action:null})).subscribe(({state:Qe,action:Me})=>{de.next(Qe),Me.type===PERFORM_ACTION&&Y.next(Me.action)}),Ue=A.start$.subscribe(()=>{this.refresh()}),Ge=de.asObservable(),yt=Ge.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=Ue,this.stateSubscription=Ke,this.dispatcher=C,this.liftedState=Ge,this.state=yt}dispatch(C){this.dispatcher.next(C)}next(C){this.dispatcher.next(C)}error(C){}complete(){}performAction(C){this.dispatch(new PerformAction(C,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(C){this.dispatch(new ToggleAction(C))}jumpToAction(C){this.dispatch(new JumpToAction(C))}jumpToState(C){this.dispatch(new JumpToState(C))}importState(C){this.dispatch(new ImportState(C))}lockChanges(C){this.dispatch(new LockChanges(C))}pauseRecording(C){this.dispatch(new PauseRecording(C))}}return Ie.\u0275fac=function(C){return new(C||Ie)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},Ie.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Ie,ae){return Boolean(Ie)||ae.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Ie="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[Ie]<"u"?window[Ie]:null}function provideStoreDevtools(Ie={}){return{\u0275providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:Ie},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}function createStateObservable(Ie){return Ie.state}let StoreDevtoolsModule=(()=>{class Ie{static instrument(C={}){return{ngModule:Ie,providers:[...provideStoreDevtools(C).\u0275providers]}}}return Ie.\u0275fac=function(C){return new(C||Ie)},Ie.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Ie}),Ie.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),Ie})()},9653:(Ie,ae,C)=>{"use strict";C.d(ae,{UO:()=>ot,qg:()=>We,Y6:()=>Te,mK:()=>qt,n$:()=>st,Y$:()=>bn,FR:()=>Pe,yh:()=>Le,Aw:()=>is,wb:()=>Ut,PH:()=>Ue,Lq:()=>Dr,on:()=>ss,Ky:()=>Ge});var f=C(4650),m=C(1135),A=C(9751),Y=C(7579),K=C(233),ee=C(5363),J=C(1365),re=C(5026),ue=C(4004),ne=C(1884);const de={};function Ue(ge,et){if(de[ge]=(de[ge]||0)+1,"function"==typeof et)return Qe(ge,(...lt)=>({...et(...lt),type:ge}));switch(et?et._as:"empty"){case"empty":return Qe(ge,()=>({type:ge}));case"props":return Qe(ge,lt=>({...lt,type:ge}));default:throw new Error("Unexpected config.")}}function Ge(){return{_as:"props",_p:void 0}}function Qe(ge,et){return Object.defineProperty(et,"type",{value:ge,writable:!1})}const We="@ngrx/store/init";let ot=(()=>{class ge extends m.X{constructor(){super({type:We})}next(He){if("function"==typeof He)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof He>"u")throw new TypeError("Actions must be objects");if(typeof He.type>"u")throw new TypeError("Actions must have a type property");super.next(He)}complete(){}ngOnDestroy(){super.complete()}}return ge.\u0275fac=function(He){return new(He||ge)},ge.\u0275prov=f.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const xe=[ot],$e=new f.OlP("@ngrx/store Internal Root Guard"),Ye=new f.OlP("@ngrx/store Internal Initial State"),Te=new f.OlP("@ngrx/store Initial State"),Ae=new f.OlP("@ngrx/store Reducer Factory"),Re=new f.OlP("@ngrx/store Internal Reducer Factory Provider"),Ve=new f.OlP("@ngrx/store Initial Reducers"),_t=new f.OlP("@ngrx/store Internal Initial Reducers"),It=new f.OlP("@ngrx/store Store Features"),Yt=new f.OlP("@ngrx/store Internal Store Reducers"),hn=new f.OlP("@ngrx/store Internal Feature Reducers"),fn=new f.OlP("@ngrx/store Internal Feature Configs"),Rt=new f.OlP("@ngrx/store Internal Store Features"),pn=new f.OlP("@ngrx/store Internal Feature Reducers Token"),kn=new f.OlP("@ngrx/store Feature Reducers"),Rn=new f.OlP("@ngrx/store User Provided Meta Reducers"),Tn=new f.OlP("@ngrx/store Meta Reducers"),Mn=new f.OlP("@ngrx/store Internal Resolved Meta Reducers"),ke=new f.OlP("@ngrx/store User Runtime Checks Config"),tr=new f.OlP("@ngrx/store Internal User Runtime Checks Config"),qn=new f.OlP("@ngrx/store Internal Runtime Checks"),dn=new f.OlP("@ngrx/store Check if Action types are unique");function or(ge,et={}){const He=Object.keys(ge),lt={};for(let Nt=0;Nt<He.length;Nt++){const Qn=He[Nt];"function"==typeof ge[Qn]&&(lt[Qn]=ge[Qn])}const Ht=Object.keys(lt);return function(Qn,ar){Qn=void 0===Qn?et:Qn;let Cr=!1;const Wr={};for(let ur=0;ur<Ht.length;ur++){const Fr=Ht[ur],no=Qn[Fr],wo=(0,lt[Fr])(no,ar);Wr[Fr]=wo,Cr=Cr||wo!==no}return Cr?Wr:Qn}}function ve(...ge){return function(et){if(0===ge.length)return et;const He=ge[ge.length-1];return ge.slice(0,-1).reduceRight((Ht,Nt)=>Nt(Ht),He(et))}}function Oe(ge,et){return Array.isArray(et)&&et.length>0&&(ge=ve.apply(null,[...et,ge])),(He,lt)=>{const Ht=ge(He);return(Nt,Qn)=>Ht(Nt=void 0===Nt?lt:Nt,Qn)}}new f.OlP("@ngrx/store Root Store Provider"),new f.OlP("@ngrx/store Feature State Provider");class st extends A.y{}class qt extends ot{}const Ut="@ngrx/store/update-reducers";let Bt=(()=>{class ge extends m.X{constructor(He,lt,Ht,Nt){super(Nt(Ht,lt)),this.dispatcher=He,this.initialState=lt,this.reducers=Ht,this.reducerFactory=Nt}get currentReducers(){return this.reducers}addFeature(He){this.addFeatures([He])}addFeatures(He){const lt=He.reduce((Ht,{reducers:Nt,reducerFactory:Qn,metaReducers:ar,initialState:Cr,key:Wr})=>{const ur="function"==typeof Nt?function qe(ge){const et=Array.isArray(ge)&&ge.length>0?ve(...ge):He=>He;return(He,lt)=>(He=et(He),(Ht,Nt)=>He(Ht=void 0===Ht?lt:Ht,Nt))}(ar)(Nt,Cr):Oe(Qn,ar)(Nt,Cr);return Ht[Wr]=ur,Ht},{});this.addReducers(lt)}removeFeature(He){this.removeFeatures([He])}removeFeatures(He){this.removeReducers(He.map(lt=>lt.key))}addReducer(He,lt){this.addReducers({[He]:lt})}addReducers(He){this.reducers={...this.reducers,...He},this.updateReducers(Object.keys(He))}removeReducer(He){this.removeReducers([He])}removeReducers(He){He.forEach(lt=>{this.reducers=function Zt(ge,et){return Object.keys(ge).filter(He=>He!==et).reduce((He,lt)=>Object.assign(He,{[lt]:ge[lt]}),{})}(this.reducers,lt)}),this.updateReducers(He)}updateReducers(He){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Ut,features:He})}ngOnDestroy(){this.complete()}}return ge.\u0275fac=function(He){return new(He||ge)(f.LFG(qt),f.LFG(Te),f.LFG(Ve),f.LFG(Ae))},ge.\u0275prov=f.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const St=[Bt,{provide:st,useExisting:Bt},{provide:qt,useExisting:ot}];let bn=(()=>{class ge extends Y.x{ngOnDestroy(){this.complete()}}return ge.\u0275fac=function(){let et;return function(lt){return(et||(et=f.n5z(ge)))(lt||ge)}}(),ge.\u0275prov=f.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const Wt=[bn];class Pe extends A.y{}let me=(()=>{class ge extends m.X{constructor(He,lt,Ht,Nt){super(Nt);const Wr=He.pipe((0,ee.Q)(K.N)).pipe((0,J.M)(lt)).pipe((0,re.R)(oe,{state:Nt}));this.stateSubscription=Wr.subscribe(({state:ur,action:Fr})=>{this.next(ur),Ht.next(Fr)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return ge.INIT=We,ge.\u0275fac=function(He){return new(He||ge)(f.LFG(ot),f.LFG(st),f.LFG(bn),f.LFG(Te))},ge.\u0275prov=f.Yz7({token:ge,factory:ge.\u0275fac}),ge})();function oe(ge={state:void 0},[et,He]){const{state:lt}=ge;return{state:He(lt,et),action:et}}const ze=[me,{provide:Pe,useExisting:me}];let Le=(()=>{class ge extends A.y{constructor(He,lt,Ht){super(),this.actionsObserver=lt,this.reducerManager=Ht,this.source=He}select(He,...lt){return Ot.call(null,He,...lt)(this)}lift(He){const lt=new ge(this,this.actionsObserver,this.reducerManager);return lt.operator=He,lt}dispatch(He){this.actionsObserver.next(He)}next(He){this.actionsObserver.next(He)}error(He){this.actionsObserver.error(He)}complete(){this.actionsObserver.complete()}addReducer(He,lt){this.reducerManager.addReducer(He,lt)}removeReducer(He){this.reducerManager.removeReducer(He)}}return ge.\u0275fac=function(He){return new(He||ge)(f.LFG(Pe),f.LFG(ot),f.LFG(Bt))},ge.\u0275prov=f.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const Vt=[Le];function Ot(ge,et,...He){return function(Ht){let Nt;if("string"==typeof ge){const Qn=[et,...He].filter(Boolean);Nt=Ht.pipe(function Q(...ge){const et=ge.length;if(0===et)throw new Error("list of properties cannot be empty.");return(0,ue.U)(He=>{let lt=He;for(let Ht=0;Ht<et;Ht++){const Nt=lt?.[ge[Ht]];if(!(typeof Nt<"u"))return;lt=Nt}return lt})}(ge,...Qn))}else{if("function"!=typeof ge)throw new TypeError(`Unexpected type '${typeof ge}' in select operator, expected 'string' or 'function'`);Nt=Ht.pipe((0,ue.U)(Qn=>ge(Qn,et)))}return Nt.pipe((0,ne.x)())}}const gn="https://ngrx.io/guide/store/configuration/runtime-checks";function xt(ge){return void 0===ge}function yn(ge){return null===ge}function en(ge){return Array.isArray(ge)}function Mt(ge){return"object"==typeof ge&&null!==ge}function At(ge){return"function"==typeof ge}function je(ge,et){return et instanceof f.OlP?ge.get(et):et}function Xe(ge,et,He){return He.map((lt,Ht)=>{if(et[Ht]instanceof f.OlP){const Nt=ge.get(et[Ht]);return{key:lt.key,reducerFactory:Nt.reducerFactory?Nt.reducerFactory:or,metaReducers:Nt.metaReducers?Nt.metaReducers:[],initialState:Nt.initialState}}return lt})}function Qt(ge,et){return et.map(lt=>lt instanceof f.OlP?ge.get(lt):lt)}function wn(ge){return"function"==typeof ge?ge():ge}function An(ge,et){return ge.concat(et)}function dr(ge){if(ge)throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function rn(ge){Object.freeze(ge);const et=At(ge);return Object.getOwnPropertyNames(ge).forEach(He=>{if(!He.startsWith("\u0275")&&function un(ge,et){return Object.prototype.hasOwnProperty.call(ge,et)}(ge,He)&&(!et||"caller"!==He&&"callee"!==He&&"arguments"!==He)){const lt=ge[He];(Mt(lt)||At(lt))&&!Object.isFrozen(lt)&&rn(lt)}}),ge}function Mr(ge,et=[]){return(xt(ge)||yn(ge))&&0===et.length?{path:["root"],value:ge}:Object.keys(ge).reduce((lt,Ht)=>{if(lt)return lt;const Nt=ge[Ht];return function an(ge){return At(ge)&&ge.hasOwnProperty("\u0275cmp")}(Nt)?lt:!(xt(Nt)||yn(Nt)||function Ft(ge){return"number"==typeof ge}(Nt)||function ln(ge){return"boolean"==typeof ge}(Nt)||function Sn(ge){return"string"==typeof ge}(Nt)||en(Nt))&&(function gt(ge){if(!function Pt(ge){return Mt(ge)&&!en(ge)}(ge))return!1;const et=Object.getPrototypeOf(ge);return et===Object.prototype||null===et}(Nt)?Mr(Nt,[...et,Ht]):{path:[...et,Ht],value:Nt})},!1)}function rs(ge,et){if(!1===ge)return;const He=ge.path.join("."),lt=new Error(`Detected unserializable ${et} at "${He}". ${gn}#strict${et}serializability`);throw lt.value=ge.value,lt.unserializablePath=He,lt}function hr(ge){return(0,f.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...ge}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ki({strictActionSerializability:ge,strictStateSerializability:et}){return He=>ge||et?function yi(ge,et){return function(He,lt){et.action(lt)&&rs(Mr(lt),"action");const Ht=ge(He,lt);return et.state()&&rs(Mr(Ht),"state"),Ht}}(He,{action:lt=>ge&&!Nr(lt),state:()=>et}):He}function Yr({strictActionImmutability:ge,strictStateImmutability:et}){return He=>ge||et?function Br(ge,et){return function(He,lt){const Ht=et.action(lt)?rn(lt):lt,Nt=ge(He,Ht);return et.state()?rn(Nt):Nt}}(He,{action:lt=>ge&&!Nr(lt),state:()=>et}):He}function Nr(ge){return ge.type.startsWith("@ngrx")}function _r({strictActionWithinNgZone:ge}){return et=>ge?function Li(ge,et){return function(He,lt){if(et.action(lt)&&!f.R0b.isInAngularZone())throw new Error(`Action '${lt.type}' running outside NgZone. ${gn}#strictactionwithinngzone`);return ge(He,lt)}}(et,{action:He=>ge&&!Nr(He)}):et}function Zi(ge){return[{provide:tr,useValue:ge},{provide:ke,useFactory:jo,deps:[tr]},{provide:qn,deps:[ke],useFactory:hr},{provide:Tn,multi:!0,deps:[qn],useFactory:Yr},{provide:Tn,multi:!0,deps:[qn],useFactory:Ki},{provide:Tn,multi:!0,deps:[qn],useFactory:_r}]}function Wn(){return[{provide:dn,multi:!0,deps:[qn],useFactory:qi}]}function jo(ge){return ge}function qi(ge){if(!ge.strictActionTypeUniqueness)return;const et=Object.entries(de).filter(([,He])=>He>1).map(([He])=>He);if(et.length)throw new Error(`Action types are registered more than once, ${et.map(He=>`"${He}"`).join(", ")}. ${gn}#strictactiontypeuniqueness`)}function Vi(ge,et){return[{provide:$e,useFactory:dr,deps:[[Le,new f.FiY,new f.tp0]]},{provide:Ye,useValue:et.initialState},{provide:Te,useFactory:wn,deps:[Ye]},{provide:_t,useValue:ge},{provide:Yt,useExisting:ge instanceof f.OlP?ge:_t},{provide:Ve,deps:[f.zs3,_t,[new f.tBr(Yt)]],useFactory:je},{provide:Rn,useValue:et.metaReducers?et.metaReducers:[]},{provide:Mn,deps:[Tn,Rn],useFactory:An},{provide:Re,useValue:et.reducerFactory?et.reducerFactory:or},{provide:Ae,deps:[Re,Mn],useFactory:Oe},xe,St,Wt,ze,Vt,Zi(et.runtimeChecks),Wn()]}function Er(ge,et,He={}){return[{provide:fn,multi:!0,useValue:ge instanceof Object?{}:He},{provide:It,multi:!0,useValue:{key:ge instanceof Object?ge.name:ge,reducerFactory:He instanceof f.OlP||!He.reducerFactory?or:He.reducerFactory,metaReducers:He instanceof f.OlP||!He.metaReducers?[]:He.metaReducers,initialState:He instanceof f.OlP||!He.initialState?void 0:He.initialState}},{provide:Rt,deps:[f.zs3,fn,It],useFactory:Xe},{provide:hn,multi:!0,useValue:ge instanceof Object?ge.reducer:et},{provide:pn,multi:!0,useExisting:et instanceof f.OlP?et:hn},{provide:kn,multi:!0,deps:[f.zs3,hn,[new f.tBr(pn)]],useFactory:Qt},Wn()]}let jr=(()=>{class ge{constructor(He,lt,Ht,Nt,Qn,ar){}}return ge.\u0275fac=function(He){return new(He||ge)(f.LFG(ot),f.LFG(st),f.LFG(bn),f.LFG(Le),f.LFG($e,8),f.LFG(dn,8))},ge.\u0275mod=f.oAB({type:ge}),ge.\u0275inj=f.cJS({}),ge})(),ji=(()=>{class ge{constructor(He,lt,Ht,Nt,Qn){this.features=He,this.featureReducers=lt,this.reducerManager=Ht;const ar=He.map((Cr,Wr)=>{const Fr=lt.shift()[Wr];return{...Cr,reducers:Fr,initialState:wn(Cr.initialState)}});Ht.addFeatures(ar)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return ge.\u0275fac=function(He){return new(He||ge)(f.LFG(Rt),f.LFG(kn),f.LFG(Bt),f.LFG(jr),f.LFG(dn,8))},ge.\u0275mod=f.oAB({type:ge}),ge.\u0275inj=f.cJS({}),ge})(),is=(()=>{class ge{static forRoot(He,lt={}){return{ngModule:jr,providers:[...Vi(He,lt)]}}static forFeature(He,lt,Ht={}){return{ngModule:ji,providers:[...Er(He,lt,Ht)]}}}return ge.\u0275fac=function(He){return new(He||ge)},ge.\u0275mod=f.oAB({type:ge}),ge.\u0275inj=f.cJS({}),ge})();function ss(...ge){return{reducer:ge.pop(),types:ge.map(lt=>lt.type)}}function Dr(ge,...et){const He=new Map;for(const lt of et)for(const Ht of lt.types){const Nt=He.get(Ht);He.set(Ht,Nt?(ar,Cr)=>lt.reducer(Nt(ar,Cr),Cr):lt.reducer)}return function(lt=ge,Ht){const Nt=He.get(Ht.type);return Nt?Nt(lt,Ht):lt}}},8766:(Ie,ae,C)=>{"use strict";C.d(ae,{Lj:()=>ut,X3:()=>mt});var f=C(5861);let A,Y;const J=new WeakMap,re=new WeakMap,ue=new WeakMap,Q=new WeakMap,ne=new WeakMap;let Ue={get($e,Ye,Te){if($e instanceof IDBTransaction){if("done"===Ye)return re.get($e);if("objectStoreNames"===Ye)return $e.objectStoreNames||ue.get($e);if("store"===Ye)return Te.objectStoreNames[1]?void 0:Te.objectStore(Te.objectStoreNames[0])}return Me($e[Ye])},set:($e,Ye,Te)=>($e[Ye]=Te,!0),has:($e,Ye)=>$e instanceof IDBTransaction&&("done"===Ye||"store"===Ye)||Ye in $e};function Qe($e){return"function"==typeof $e?function yt($e){return $e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ee(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($e)?function(...Ye){return $e.apply(Et(this),Ye),Me(J.get(this))}:function(...Ye){return Me($e.apply(Et(this),Ye))}:function(Ye,...Te){const Ae=$e.call(Et(this),Ye,...Te);return ue.set(Ae,Ye.sort?Ye.sort():[Ye]),Me(Ae)}}($e):($e instanceof IDBTransaction&&function Ke($e){if(re.has($e))return;const Ye=new Promise((Te,Ae)=>{const Re=()=>{$e.removeEventListener("complete",Ve),$e.removeEventListener("error",_t),$e.removeEventListener("abort",_t)},Ve=()=>{Te(),Re()},_t=()=>{Ae($e.error||new DOMException("AbortError","AbortError")),Re()};$e.addEventListener("complete",Ve),$e.addEventListener("error",_t),$e.addEventListener("abort",_t)});re.set($e,Ye)}($e),(($e,Ye)=>Ye.some(Te=>$e instanceof Te))($e,function K(){return A||(A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($e,Ue):$e)}function Me($e){if($e instanceof IDBRequest)return function de($e){const Ye=new Promise((Te,Ae)=>{const Re=()=>{$e.removeEventListener("success",Ve),$e.removeEventListener("error",_t)},Ve=()=>{Te(Me($e.result)),Re()},_t=()=>{Ae($e.error),Re()};$e.addEventListener("success",Ve),$e.addEventListener("error",_t)});return Ye.then(Te=>{Te instanceof IDBCursor&&J.set(Te,$e)}).catch(()=>{}),ne.set(Ye,$e),Ye}($e);if(Q.has($e))return Q.get($e);const Ye=Qe($e);return Ye!==$e&&(Q.set($e,Ye),ne.set(Ye,$e)),Ye}const Et=$e=>ne.get($e);function mt($e,Ye,{blocked:Te,upgrade:Ae,blocking:Re,terminated:Ve}={}){const _t=indexedDB.open($e,Ye),It=Me(_t);return Ae&&_t.addEventListener("upgradeneeded",Yt=>{Ae(Me(_t.result),Yt.oldVersion,Yt.newVersion,Me(_t.transaction))}),Te&&_t.addEventListener("blocked",()=>Te()),It.then(Yt=>{Ve&&Yt.addEventListener("close",()=>Ve()),Re&&Yt.addEventListener("versionchange",()=>Re())}).catch(()=>{}),It}function ut($e,{blocked:Ye}={}){const Te=indexedDB.deleteDatabase($e);return Ye&&Te.addEventListener("blocked",()=>Ye()),Me(Te).then(()=>{})}const nt=["get","getKey","getAll","getAllKeys","count"],We=["put","add","delete","clear"],ot=new Map;function xe($e,Ye){if(!($e instanceof IDBDatabase)||Ye in $e||"string"!=typeof Ye)return;if(ot.get(Ye))return ot.get(Ye);const Te=Ye.replace(/FromIndex$/,""),Ae=Ye!==Te,Re=We.includes(Te);if(!(Te in(Ae?IDBIndex:IDBObjectStore).prototype)||!Re&&!nt.includes(Te))return;const Ve=function(){var _t=(0,f.Z)(function*(It,...Yt){const hn=this.transaction(It,Re?"readwrite":"readonly");let fn=hn.store;return Ae&&(fn=fn.index(Yt.shift())),(yield Promise.all([fn[Te](...Yt),Re&&hn.done]))[0]});return function(Yt){return _t.apply(this,arguments)}}();return ot.set(Ye,Ve),Ve}!function Ge($e){Ue=$e(Ue)}($e=>({...$e,get:(Ye,Te,Ae)=>xe(Ye,Te)||$e.get(Ye,Te,Ae),has:(Ye,Te)=>!!xe(Ye,Te)||$e.has(Ye,Te)}))},5861:(Ie,ae,C)=>{"use strict";function f(A,Y,K,ee,J,re,ue){try{var Q=A[re](ue),ne=Q.value}catch(de){return void K(de)}Q.done?Y(ne):Promise.resolve(ne).then(ee,J)}function m(A){return function(){var Y=this,K=arguments;return new Promise(function(ee,J){var re=A.apply(Y,K);function ue(ne){f(re,ee,J,ue,Q,"next",ne)}function Q(ne){f(re,ee,J,ue,Q,"throw",ne)}ue(void 0)})}}C.d(ae,{Z:()=>m})}},Ie=>{Ie(Ie.s=4308)}]);