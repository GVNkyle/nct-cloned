"use strict";(self.webpackChunknct_cloned=self.webpackChunknct_cloned||[]).push([[791],{3791:(U,u,l)=>{l.r(u),l.d(u,{SongModule:()=>F});var s=l(6895),r=l(2607),c=l(5861),y=l(498),g=l(3905),m=l(8505),p=l(262),d=l(9646),t=l(4650),v=l(5766),h=l(1177),f=l(725);function Z(e,i){1&e&&(t.ynx(0),t._UZ(1,"app-detail-skeleton"),t.BQk())}function S(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"a",15),t._UZ(2,"img",16),t.qZA(),t.BQk()),2&e){const n=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("routerLink",n.link),t.xp6(1),t.s9C("src",n.imageUrl||o.imgNotFound,t.LSH)}}function C(e,i){if(1&e&&(t.ynx(0),t._UZ(1,"div",17),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("innerHTML",null==n.lyric||null==n.lyric.lyric?null:n.lyric.lyric.lyric,t.oJD)}}function T(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"Kh\xf4ng t\xecm th\u1ea5y l\u1eddi b\xe0i h\xe1t"),t.qZA())}function M(e,i){if(1&e&&(t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),t._UZ(4,"img",6),t.qZA()(),t.TgZ(5,"div",7)(6,"div")(7,"div"),t._uU(8),t.qZA()(),t.TgZ(9,"div",8)(10,"div",9),t.YNc(11,S,3,2,"ng-container",10),t.qZA(),t._uU(12),t.qZA(),t.TgZ(13,"p",11),t._uU(14),t.ALo(15,"date"),t.qZA()()(),t.TgZ(16,"div",12)(17,"h1"),t._uU(18,"L\u1eddi b\xe0i h\xe1t"),t.qZA(),t.TgZ(19,"div",13),t.YNc(20,C,2,1,"ng-container",0),t.YNc(21,T,2,0,"ng-template",null,14,t.W1O),t.qZA()()()),2&e){const n=t.MAs(22),o=t.oxw();t.xp6(4),t.s9C("src",(null==o.data||null==o.data.song?null:o.data.song.thumbnail)||o.imgNotFound,t.LSH),t.xp6(4),t.hij("B\xe0i H\xe1t: ",null==o.data||null==o.data.song?null:o.data.song.title,""),t.xp6(3),t.Q6J("ngForOf",null==o.data||null==o.data.song?null:o.data.song.artists),t.xp6(1),t.hij(" ",o.artistName," "),t.xp6(2),t.hij(" ",t.xi3(15,7,null==o.data||null==o.data.playlist?null:o.data.playlist.dateCreate,"longDate")," "),t.xp6(6),t.Q6J("ngIf",o.lyric)("ngIfElse",n)}}let D=(()=>{class e{constructor(n,o,a,L){this.songService=n,this.notiflixService=o,this.route=a,this.router=L,this.key="",this.artistName="",this.imgNotFound=y.qp}ngOnInit(){var n=this;return(0,c.Z)(function*(){n.key=n.route.snapshot.paramMap.get("key"),yield n.getSong(),yield n.getLyric()})()}getSong(){var n=this;return(0,c.Z)(function*(){yield(0,g.z)(n.songService.getSong(n.key).pipe((0,m.b)(o=>{n.data=o,n.data?.song?.artists?.map(a=>{a.link=a.shortLink?`/artist/${a.shortLink}`:"#"}),n.artistName=n.data?.song?.artists?.map(a=>a.name).join(", ")}),(0,p.K)(()=>(n.notiflixService.error("Oops! Something error happened!"),n.router.navigate(["/error"]),(0,d.of)(null)))))})()}getLyric(){var n=this;return(0,c.Z)(function*(){yield(0,g.z)(n.songService.getLyric(n.key).pipe((0,m.b)(o=>{n.lyric=o}),(0,p.K)(()=>(n.notiflixService.error("Oops! Something error happened!"),n.router.navigate(["/error"]),(0,d.of)(null)))))})()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(v.o),t.Y36(h.c),t.Y36(r.gz),t.Y36(r.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detail"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["template",""],[1,"px-4"],[1,"flex","md:flex-row","flex-col"],[1,"flex","items-center","justify-center","md:w-auto","w-full"],[1,"w-[238px]","max-w-full","aspect-[1/1]","bg-gray-400","rounded-md","relative"],[1,"rounded-md",3,"src"],[1,"flex-1","md:ml-5","ml-0","md:mt-0","mt-5"],[1,"flex","items-center","mt-4"],[1,"flex","items-center","mr-3"],[4,"ngFor","ngForOf"],[1,"mt-4"],[1,"mt-4","mb-5","font-semibold","text-xl","leading-loose","text-gray-500","bg-[rgba(28,30,32,0.02)]","p-4"],[1,"font-normal","text-sm","mt-4","leading-8"],["elseDiv",""],[1,"w-5","h-5","bg-gray-500","rounded-full",3,"routerLink"],["loading","eager",1,"rounded-full",3,"src"],[3,"innerHTML"]],template:function(n,o){if(1&n&&(t.YNc(0,Z,2,0,"ng-container",0),t.YNc(1,M,23,10,"ng-template",null,1,t.W1O)),2&n){const a=t.MAs(2);t.Q6J("ngIf",!o.data||!o.lyric)("ngIfElse",a)}},dependencies:[s.sg,s.O5,r.yS,f.k,s.uU]}),e})();var x=l(3182);const E=[{path:"",component:(()=>{class e{constructor(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-main"]],decls:1,vars:0,consts:[["type","song","name","B\xe0i H\xe1t"]],template:function(n,o){1&n&&t._UZ(0,"app-explore",0)},dependencies:[x.k]}),e})()},{path:":key",component:D}];let A=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.Bz.forChild(E),r.Bz]}),e})(),F=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.ez,A,f.k,x.k]}),e})()}}]);