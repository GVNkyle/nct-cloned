"use strict";(self.webpackChunknct_cloned=self.webpackChunknct_cloned||[]).push([[456],{8456:(A,d,o)=>{o.r(d),o.d(d,{VideoModule:()=>D});var s=o(6895),r=o(2607),p=o(5861),m=o(498),v=o(3905),f=o(8505),g=o(262),h=o(9646),t=o(4650),c=o(529),x=o(2340);let y=(()=>{class e{constructor(n){this.http=n,this.apiUrl=x.N.apiUrl}getVideoDetail(n){let l=(new c.LE).append("key",n);return this.http.get(`${this.apiUrl}video`,{params:l})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(c.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Z=o(1177);function C(e,i){1&e&&(t.ynx(0),t.TgZ(1,"div",2),t._UZ(2,"div",3)(3,"h1",4),t.TgZ(4,"div",5),t._UZ(5,"div",6)(6,"div",6)(7,"p",7),t.qZA()(),t.BQk())}function U(e,i){if(1&e&&(t.ynx(0),t._UZ(1,"video",15),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("src",null==n.data||null==n.data.video||null==n.data.video.streamUrls[0]?null:n.data.video.streamUrls[0].streamUrl,t.LSH)}}function V(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"a",16)(2,"div",17),t._UZ(3,"img",18),t.qZA()(),t.BQk()),2&e){const n=i.$implicit,l=t.oxw(2);t.xp6(1),t.Q6J("routerLink",n.link),t.xp6(2),t.Q6J("src",(null==n?null:n.imageUrl)||l.imgNotFound,t.LSH)}}function M(e,i){if(1&e&&(t.TgZ(0,"div",2)(1,"div",8),t.YNc(2,U,2,1,"ng-container",9),t.qZA(),t.TgZ(3,"h1",10),t._uU(4),t.qZA(),t.TgZ(5,"div",11),t.YNc(6,V,4,2,"ng-container",12),t.TgZ(7,"p",13)(8,"span",14),t._uU(9,"Ngh\u1ec7 S\u0129: "),t.qZA(),t._uU(10),t.qZA()()()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",null==n.data||null==n.data.video?null:n.data.video.streamUrls),t.xp6(2),t.Oqu(null==n.data||null==n.data.video?null:n.data.video.title),t.xp6(2),t.Q6J("ngForOf",null==n.data||null==n.data.video?null:n.data.video.artists),t.xp6(4),t.hij(" ",n.artistName," ")}}let k=(()=>{class e{constructor(n,l,a,N){this.videoService=n,this.notiflixService=l,this.route=a,this.router=N,this.key="",this.artistName="",this.imgNotFound=m.qp}ngOnInit(){this.key=this.route.snapshot.paramMap.get("key"),this.getVideoDetail()}getVideoDetail(){var n=this;return(0,p.Z)(function*(){yield(0,v.z)(n.videoService.getVideoDetail(n.key).pipe((0,f.b)(l=>{n.data=l,console.log(l),n.data?.video?.artists?.map(a=>{a.link=a.shortLink?`/artist/${a.shortLink}`:"#"}),n.artistName=n.data?.video?.artists?.map(a=>a.name).join(", ")}),(0,g.K)(()=>(n.notiflixService.error("Oops! Something error happened!"),n.router.navigate(["/error"]),(0,h.of)(null)))))})()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(y),t.Y36(Z.c),t.Y36(r.gz),t.Y36(r.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detail"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"px-4"],[1,"w-full","skeleton","aspect-video"],[1,"text-xl","font-semibold","mt-5","h-5","skeleton","w-[200px]"],[1,"flex","items-center","mt-5"],[1,"w-10","h-10","rounded-full","skeleton"],[1,"h-4","skeleton","w-[100px]","ml-3"],[1,"w-full","aspect-video"],[4,"ngIf"],[1,"text-xl","font-semibold","mt-5"],[1,"mt-5","flex","items-center"],[4,"ngFor","ngForOf"],[1,"ml-3"],[1,"font-semibold"],["controls","",1,"w-full","h-full",3,"src"],[3,"routerLink"],[1,"rounded-full","w-10","h-10","overflow-hidden","border"],[1,"rounded-full",3,"src"]],template:function(n,l){if(1&n&&(t.YNc(0,C,8,0,"ng-container",0),t.YNc(1,M,11,4,"ng-template",null,1,t.W1O)),2&n){const a=t.MAs(2);t.Q6J("ngIf",!l.data)("ngIfElse",a)}},dependencies:[s.sg,s.O5,r.yS]}),e})();var u=o(3182);const S=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-main"]],decls:1,vars:0,consts:[["ratio","16/9","type","mv","name","MV"]],template:function(n,l){1&n&&t._UZ(0,"app-explore",0)},dependencies:[u.k]}),e})()},{path:":key",component:k}];let T=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.Bz.forChild(S),r.Bz]}),e})();var F=o(725);let D=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.ez,T,F.k,u.k]}),e})()}}]);